var zh=Object.defineProperty,Jh=Object.defineProperties;var Yh=Object.getOwnPropertyDescriptors;var di=Object.getOwnPropertySymbols,Kh=Object.getPrototypeOf,Gh=Object.prototype.hasOwnProperty,Qh=Object.prototype.propertyIsEnumerable,Xh=Reflect.get;var xn=Math.pow,Mr=(le,Ie,J)=>Ie in le?zh(le,Ie,{enumerable:!0,configurable:!0,writable:!0,value:J}):le[Ie]=J,Re=(le,Ie)=>{for(var J in Ie||(Ie={}))Gh.call(Ie,J)&&Mr(le,J,Ie[J]);if(di)for(var J of di(Ie))Qh.call(Ie,J)&&Mr(le,J,Ie[J]);return le},Rt=(le,Ie)=>Jh(le,Yh(Ie));var Ne=(le,Ie,J)=>Mr(le,typeof Ie!="symbol"?Ie+"":Ie,J);var Ut=(le,Ie,J)=>Xh(Kh(le),J,Ie);var ct=(le,Ie,J)=>new Promise((f,l)=>{var E=I=>{try{k(J.next(I))}catch(u){l(u)}},b=I=>{try{k(J.throw(I))}catch(u){l(u)}},k=I=>I.done?f(I.value):Promise.resolve(I.value).then(E,b);k((J=J.apply(le,Ie)).next())});(self.webpackChunkiobroker_admin_component_backitup=self.webpackChunkiobroker_admin_component_backitup||[]).push([["vendors-node_modules_iobroker_json-config_build_index_js"],{49689:(le,Ie,J)=>{"use strict";J.r(Ie),J.d(Ie,{ConfigGeneric:()=>v,ConfigPanel:()=>ws,JsonConfig:()=>$h,JsonConfigComponent:()=>Ks});var f=J(28437),l=J.n(f),E=J(85589),b=J.n(E),k=J(91778),I=J.n(k),u=J(67085),p=J(21839),d=J(37449);const j="material",ie=["Su","Mo","Tu","We","Th","Fr","Sa"],ge=["Jan","Feb","Mar","Apr","Mai","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Fe={0:"0x00 - good",1:"0x01 - general problem",2:"0x02 - no connection problem",16:"0x10 - substitute value from controller",32:"0x20 - substitute initial value",64:"0x40 - substitute value from device or instance",128:"0x80 - substitute value from sensor",17:"0x11 - general problem by instance",65:"0x41 - general problem by device",129:"0x81 - general problem by sensor",18:"0x12 - instance not connected",66:"0x42 - device not connected",130:"0x82 - sensor not connected",68:"0x44 - device reports error",132:"0x84 - sensor reports error"},ae={JVBERi0:"pdf",R0lGODdh:"gif",R0lGODlh:"gif",iVBORw0KGgo:"png","/9j/":"jpg",PHN2Zw:"svg",Qk1:"bmp",AAABAA:"ico"},At=class At{static CapitalWords(t){return(t||"").split(/[\s_]/).filter(e=>e).map(e=>e?e[0].toUpperCase()+e.substring(1).toLowerCase():"").join(" ")}static formatSeconds(t){const e=Math.floor(t/86400);t%=3600*24;let n=Math.floor(t/3600);n<10&&(n=`0${n}`),t%=3600;let s=Math.floor(t/60);s<10&&(s=`0${s}`),t%=60,t=Math.floor(t),t<10&&(t=`0${t}`);let o="";return e&&(o+=`${e} ${d.I18n.t("ra_daysShortText")} `),o+=`${n}:${s}:${t}`,o}static getObjectName(t,e,n,s,o){const i=t[e];let a;const c=o?"desc":"name";if(typeof n=="string"&&!s&&(s={language:n},n=null),s=s||{},s.language||(s.language=t["system.config"]&&t["system.config"].common&&t["system.config"].common.language||window.sysLang||"en"),n&&n.name)a=n.name,typeof a=="object"&&(a=a[s.language]||a.en);else if(i&&i.common&&i.common[c])a=i.common[c],c!=="desc"&&!a&&i.common.desc&&(a=i.common.desc),typeof a=="object"&&(a=a[s.language]||a.en||a.de||a.ru||""),a=(a||"").toString().replace(/[_.]/g," "),a===a.toUpperCase()&&(a=a[0]+a.substring(1).toLowerCase());else{const h=e.lastIndexOf(".");a=e.substring(h+1).replace(/[_.]/g," "),a=At.CapitalWords(a)}return a.trim()}static getObjectNameFromObj(t,e,n,s,o){const i=t;let a=t&&t._id||"";const c=s?"desc":"name";return typeof e=="string"&&!n&&(n={language:e},e=null),n=n||{},e&&e.name?(a=e.name,typeof a=="object"&&(a=a[n.language]||a.en)):i&&i.common&&i.common[c]&&(a=i.common[c],c!=="desc"&&!a&&i.common.desc&&(a=i.common.desc),typeof a=="object"&&(a=a[n.language]||a.en),a=(a||"").toString().replace(/[_.]/g," "),a===a.toUpperCase()&&(a=a[0]+a.substring(1).toLowerCase())),o?a:a.trim()}static getSettingsOrder(t,e,n){t&&Object.prototype.hasOwnProperty.call(t,"common")&&(t=t.common);let s;if(t&&t.custom){s=(t.custom||{})[j];const o=n.user||"admin";if(s&&s[o]){if(e){if(s[o].subOrder&&s[o].subOrder[e])return JSON.parse(JSON.stringify(s[o].subOrder[e]))}else if(s[o].order)return JSON.parse(JSON.stringify(s[o].order))}}return null}static getSettingsCustomURLs(t,e,n){t&&Object.prototype.hasOwnProperty.call(t,"common")&&(t=t.common);let s;if(t&&t.custom){s=(t.custom||{})[j];const o=n.user||"admin";if(s&&s[o]){if(e){if(s[o].subURLs&&s[o].subURLs[e])return JSON.parse(JSON.stringify(s[o].subURLs[e]))}else if(s[o].URLs)return JSON.parse(JSON.stringify(s[o].URLs))}}return null}static reorder(t,e,n){const s=Array.from(t),[o]=s.splice(e,1);return s.splice(n,0,o),s}static getSettings(t,e,n){let s;const o=t&&t._id||e&&e.id;if(t&&Object.prototype.hasOwnProperty.call(t,"common")&&(t=t.common),t!=null&&t.custom?(s=t.custom,s=s[j]&&s[j][e.user||"admin"]?JSON.parse(JSON.stringify(s[j][e.user||"admin"])):{enabled:!0}):s={enabled:n===void 0?!0:n,useCustom:!1},Object.prototype.hasOwnProperty.call(s,"enabled")||(s.enabled=n===void 0?!0:n),e&&(!s.name&&e.name&&(s.name=e.name),!s.icon&&e.icon&&(s.icon=e.icon),!s.color&&e.color&&(s.color=e.color)),t&&(!s.color&&t.color&&(s.color=t.color),!s.icon&&t.icon&&(s.icon=t.icon),!s.name&&t.name&&(s.name=t.name)),typeof s.name=="object"&&(s.name=s.name[e.language]||s.name.en,s.name=(s.name||"").toString().replace(/_/g," "),s.name===s.name.toUpperCase()&&(s.name=s.name[0]+s.name.substring(1).toLowerCase())),!s.name&&o){const i=o.lastIndexOf(".");s.name=o.substring(i+1).replace(/[_.]/g," "),s.name=(s.name||"").toString().replace(/_/g," "),s.name=At.CapitalWords(s.name)}return s}static setSettings(t,e,n){if(t){t.common=t.common||{},t.common.custom=t.common.custom||{},t.common.custom[j]=t.common.custom[j]||{},t.common.custom[j][n.user||"admin"]=e;const s=t.common.custom[j][n.user||"admin"];return s.useCommon&&(s.color!==void 0&&(t.common.color=s.color,delete s.color),s.icon!==void 0&&(t.common.icon=s.icon,delete s.icon),s.name!==void 0&&(typeof t.common.name!="object"&&(t.common.name={}),t.common.name[n.language]=s.name,delete s.name)),!0}return!1}static getIcon(t,e){return t&&t.icon?t.icon.length<=2?l().createElement("span",{style:e||{}},t.icon):t.icon.startsWith("data:image")?l().createElement("img",{alt:t.name,src:t.icon,style:e||{}}):l().createElement("img",{alt:t.name,src:(t.prefix||"")+t.icon,style:e||{}}):null}static getObjectIcon(t,e){if(typeof t=="object"&&(e=t,t=e._id),e&&e.common&&e.common.icon){let n=e.common.icon;if(typeof n=="string"&&n.length<=2||n.startsWith("data:image"))return n;const s=t.split(".");return s[0]==="system"?n=`adapter/${s[2]}${n.startsWith("/")?"":"/"}${n}`:n=`adapter/${s[0]}${n.startsWith("/")?"":"/"}${n}`,window.location.pathname.match(/adapter\/[^/]+\/[^/]+\.html/)?n=`../../${n}`:window.location.pathname.match(/material\/[.\d]+/)?n=`../../${n}`:window.location.pathname.match(/material\//)&&(n=`../${n}`),n}return null}static splitCamelCase(t){return At.CapitalWords(t)}static isUseBright(t,e){if(t==null||t==="")return e===void 0?!0:e;t=t.toString(),t.startsWith("#")&&(t=t.slice(1));let n,s,o;const i=t.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i);if(i&&i.length===4)n=parseInt(i[1],10),s=parseInt(i[2],10),o=parseInt(i[3],10);else{if(t.length===3&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),t.length===8)t=t.substring(0,6);else if(t.length!==6)return!1;n=parseInt(t.slice(0,2),16),s=parseInt(t.slice(2,4),16),o=parseInt(t.slice(4,6),16)}return n*.299+s*.587+o*.114<=186}static getTimeString(t){if(t=parseFloat(t),Number.isNaN(t))return"--:--";const e=Math.floor(t/3600);let n=Math.floor(t%3600/60),s=t%60;return e?(n<10&&(n=`0${n}`),s<10&&(s=`0${s}`),`${e}:${n}:${s}`):(s<10&&(s=`0${s}`),`${n}:${s}`)}static getWindDirection(t){return t>=0&&t<11.25?"N":t>=11.25&&t<33.75?"NNE":t>=33.75&&t<56.25?"NE":t>=56.25&&t<78.75?"ENE":t>=78.75&&t<101.25?"E":t>=101.25&&t<123.75?"ESE":t>=123.75&&t<146.25?"SE":t>=146.25&&t<168.75?"SSE":t>=168.75&&t<191.25?"S":t>=191.25&&t<213.75?"SSW":t>=213.75&&t<236.25?"SW":t>=236.25&&t<258.75?"WSW":t>=258.75&&t<281.25?"W":t>=281.25&&t<303.75?"WNW":t>=303.75&&t<326.25?"NW":t>=326.25&&t<348.75?"NNW":"N"}static padding(t){return typeof t=="string"?t.length<2?`0${t}`:t:t<10?`0${t}`:t}static setDataFormat(t){t&&(At.dateFormat=t.toUpperCase().split(/[.-/]/),At.dateFormat.splice(At.dateFormat.indexOf("YYYY"),1))}static date2string(t){if(typeof t=="string"){if(t=t.trim(),!t)return"";if(t.match(/^[\w\s]+$/))return t;const n=t.match(/(\d{1,4})[-./](\d{1,2})[-./](\d{1,4})/);if(n){const s=[parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3],10)],o=s.find(a=>a>31);s.splice(s.indexOf(o),1);const i=s.find(a=>a>12);i?(s.splice(s.indexOf(i),1),t=new Date(o,s[0]-1,i)):At.dateFormat[0][0]==="M"&&At.dateFormat[1][0]==="D"?(t=new Date(o,s[0]-1,s[1]),Math.abs(t.getTime-Date.now())>36e5*24*10&&(t=new Date(o,s[1]-1,s[0]))):At.dateFormat[0][0]==="D"&&At.dateFormat[1][0]==="M"?(t=new Date(o,s[1]-1,s[0]),Math.abs(t.getTime-Date.now())>36e5*24*10&&(t=new Date(o,s[0]-1,s[1]))):t=new Date(t)}else t=new Date(t)}else t=new Date(t);let e=d.I18n.t(`ra_dow_${ie[t.getDay()]}`).replace("ra_dow_","");return e+=`. ${t.getDate()} ${d.I18n.t(`ra_month_${ge[t.getMonth()]}`).replace("ra_month_","")}`,e}static renderTextWithA(t){let e=t.match(/<a [^<]+<\/a>|<br\/?>|<b>[^<]+<\/b>|<i>[^<]+<\/i>/);if(e){const n=[];let s=1;do{const o=t.substring(0,e.index);if(t=t.substring(e.index+e[0].length),o&&n.push(l().createElement("span",{key:`a${s++}`},o)),e[0].startsWith("<b>"))n.push(l().createElement("b",{key:`a${s++}`},e[0].substring(3,e[0].length-4)));else if(e[0].startsWith("<i>"))n.push(l().createElement("i",{key:`a${s++}`},e[0].substring(3,e[0].length-4)));else if(e[0].startsWith("<br"))n.push(l().createElement("br",{key:`a${s++}`}));else{const i=e[0].match(/href="([^"]+)"/)||e[0].match(/href='([^']+)'/),a=e[0].match(/target="([^"]+)"/)||e[0].match(/target='([^']+)'/),c=e[0].match(/rel="([^"]+)"/)||e[0].match(/rel='([^']+)'/),h=e[0].match(/>([^<]*)</);n.push(l().createElement("a",{key:`a${s++}`,href:i?i[1]:"",target:a?a[1]:"_blank",rel:c?c[1]:"",style:{color:"inherit"}},h?h[1]:""))}e=t&&t.match(/<a [^<]+<\/a>|<br\/?>|<b>[^<]+<\/b>|<i>[^<]+<\/i>/),e||t&&n.push(l().createElement("span",{key:`a${s++}`},t))}while(e);return n}return t}static getSmartName(t,e,n,s){var o,i;return e?s?t[e]&&((i=t[e].common)!=null&&i.custom)&&t[e].common.custom[n]&&t[e].common.custom[n].smartName||null:t[e].common.smartName:s?t&&!t.common?t.smartName:(o=t==null?void 0:t.common)!=null&&o.custom&&t.common.custom[n]?t.common.custom[n].smartName:void 0:!t.common||t&&!t.common?t.smartName:t.common.smartName}static getSmartNameFromObj(t,e,n){var s;return n?t&&!t.common?t.smartName:(s=t==null?void 0:t.common)!=null&&s.custom&&t.common.custom[e]?t.common.custom[e].smartName:void 0:!t.common||t&&!t.common?t.smartName:t.common.smartName}static enableSmartName(t,e,n){n?(t.common.custom=t.common.custom||{},t.common.custom[e]=t.common.custom[e]||{},t.common.custom[e].smartName={}):t.common.smartName={}}static removeSmartName(t,e,n){n?t.common&&t.common.custom&&t.common.custom[e]&&(t.common.custom[e]=null):t.common.smartName=null}static updateSmartName(t,e,n,s,o,i){const a=d.I18n.getLanguage();if(typeof t.common.smartName=="string"){const c=t.common.smartName;t.common.smartName={},t.common.smartName[a]=c}if(t.native&&t.native.byON){delete t.native.byON;let c=t.common.smartName;(!c||typeof c!="object")&&(c={en:c},c[a]=c.en),t.common.smartName=c}if(s!==void 0&&(i?(t.common.custom=t.common.custom||{},t.common.custom[o]=t.common.custom[o]||{},t.common.custom[o].smartName=t.common.custom[o].smartName||{},s?t.common.custom[o].smartName.smartType=s:delete t.common.custom[o].smartName.smartType):(t.common.smartName=t.common.smartName||{},s?t.common.smartName.smartType=s:delete t.common.smartName.smartType)),n!==void 0&&(i?(t.common.custom=t.common.custom||{},t.common.custom[o]=t.common.custom[o]||{},t.common.custom[o].smartName=t.common.custom[o].smartName||{},t.common.custom[o].smartName.byON=n):(t.common.smartName=t.common.smartName||{},t.common.smartName.byON=n)),e!==void 0){let c;if(i?(t.common.custom=t.common.custom||{},t.common.custom[o]=t.common.custom[o]||{},t.common.custom[o].smartName=t.common.custom[o].smartName||{},c=t.common.custom[o].smartName):(t.common.smartName=t.common.smartName||{},c=t.common.smartName),c[a]=e,c&&(!c[a]||c[a]===t.common.name&&(!t.common.role||t.common.role.includes("button")))){delete c[a];let h=!0;for(const y in c)if(Object.prototype.hasOwnProperty.call(c,y)){h=!1;break}h&&(i?t.common.custom[o].smartName.byON===void 0?delete t.common.custom[o]:(delete t.common.custom[o].en,delete t.common.custom[o].de,delete t.common.custom[o].ru,delete t.common.custom[o].nl,delete t.common.custom[o].pl,delete t.common.custom[o].it,delete t.common.custom[o].fr,delete t.common.custom[o].pt,delete t.common.custom[o].es,delete t.common.custom[o].uk,delete t.common.custom[o]["zh-cn"]):t.common.smartName.byON!==void 0?(delete t.common.smartName.en,delete t.common.smartName.de,delete t.common.smartName.ru,delete t.common.smartName.nl,delete t.common.smartName.pl,delete t.common.smartName.it,delete t.common.smartName.fr,delete t.common.smartName.pt,delete t.common.smartName.es,delete t.common.smartName.uk,delete t.common.smartName["zh-cn"]):t.common.smartName=null)}}}static disableSmartName(t,e,n){n?(t.common.custom=t.common.custom||{},t.common.custom[e]=t.common.custom[e]||{},t.common.custom[e].smartName=!1):t.common.smartName=!1}static copyToClipboard(t,e){return e&&e.stopPropagation(),e&&e.preventDefault(),d.Utils.copyToClipboard(t)}static getFileExtension(t){const e=(t||"").lastIndexOf(".");return e!==-1?t.substring(e+1).toLowerCase():null}static formatBytes(t){if(Math.abs(t)<1024)return`${t} B`;const e=["KB","MB","GB"];let n=-1;do t/=1024,++n;while(Math.abs(t)>=1024&&n<e.length-1);return`${t.toFixed(1)} ${e[n]}`}static getInvertedColor(t,e,n){if(!t)return;const s=At.invertColor(t,!0);if(s==="#FFFFFF"&&(e==="dark"||n&&e==="light"))return"#DDD";if(s==="#000000"&&(e==="light"||n&&e==="dark"))return"#222"}static invertColor(t,e){if(t==null||t===""||typeof t!="string")return"";if(t.startsWith("rgba")){const a=t.match(/rgba?\((\d+),\s*(\d+),\s*(\d+),\s*([.\d]+)\)/);a&&(t=parseInt(a[1],10).toString(16).padStart(2,"0")+parseInt(a[2],10).toString(16).padStart(2,"0")+parseInt(a[2],10).toString(16).padStart(2,"0"))}else if(t.startsWith("rgb")){const a=t.match(/rgb?\((\d+),\s*(\d+),\s*(\d+)\)/);a&&(t=parseInt(a[1],10).toString(16).padStart(2,"0")+parseInt(a[2],10).toString(16).padStart(2,"0")+parseInt(a[2],10).toString(16).padStart(2,"0"))}else t.startsWith("#")&&(t=t.slice(1));t.length===3&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]);let n=null;if(t.length===8)n=t.substring(6,8),t=t.substring(0,6);else if(t.length!==6)return console.warn(`Cannot invert color: ${t}`),t;let s=parseInt(t.slice(0,2),16),o=parseInt(t.slice(2,4),16),i=parseInt(t.slice(4,6),16);return e?s*.299+o*.587+i*.114>186?`#000000${n||""}`:`#FFFFFF${n||""}`:(s=(255-s).toString(16),o=(255-o).toString(16),i=(255-i).toString(16),`#${s.padStart(2,"0")}${o.padStart(2,"0")}${i.padStart(2,"0")}${n||""}`)}static color2rgb(t){if(t==null||t===""||typeof t!="string")return"";if(t.startsWith("rgba")){const e=t.match(/rgba?\((\d+),\s*(\d+),\s*(\d+),\s*([.\d]+)\)/);e&&(t=parseInt(e[1],10).toString(16).padStart(2,"0")+parseInt(e[2],10).toString(16).padStart(2,"0")+parseInt(e[2],10).toString(16).padStart(2,"0"))}else if(t.startsWith("rgb")){const e=t.match(/rgb?\((\d+),\s*(\d+),\s*(\d+)\)/);e&&(t=parseInt(e[1],10).toString(16).padStart(2,"0")+parseInt(e[2],10).toString(16).padStart(2,"0")+parseInt(e[2],10).toString(16).padStart(2,"0"))}else t.startsWith("#")&&(t=t.slice(1));return t.length===3&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),t.length!==6&&t.length!==8?(console.warn(`Cannot invert color: ${t}`),!1):[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}static rgb2lab(t){let e=t[0]/255,n=t[1]/255,s=t[2]/255;e=e>.04045?xn((e+.055)/1.055,2.4):e/12.92,n=n>.04045?xn((n+.055)/1.055,2.4):n/12.92,s=s>.04045?xn((s+.055)/1.055,2.4):s/12.92;let o=(e*.4124+n*.3576+s*.1805)/.95047,i=e*.2126+n*.7152+s*.0722,a=(e*.0193+n*.1192+s*.9505)/1.08883;return o=o>.008856?xn(o,.33333333):7.787*o+.137931,i=i>.008856?xn(i,.33333333):7.787*i+.137931,a=a>.008856?xn(a,.33333333):7.787*a+.137931,[116*i-16,500*(o-i),200*(i-a)]}static colorDistance(t,e){const n=At.rgb2lab(At.color2rgb(t)),s=At.rgb2lab(At.color2rgb(e)),o=n[0]-s[0],i=n[1]-s[1],a=n[2]-s[2],c=Math.sqrt(n[1]*n[1]+n[2]*n[2]),h=Math.sqrt(s[1]*s[1]+s[2]*s[2]),y=c-h;let g=i*i+a*a-y*y;g=g<0?0:Math.sqrt(g);const D=1+.045*c,T=1+.015*c,w=o,S=y/D,P=g/T,B=w*w+S*S+P*P;return B<0?0:B}static _toVal(t){let e,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t))for(let s=0;s<t.length;s++)t[s]&&(e=At._toVal(t[s]),e&&(n&&(n+=" "),n+=e));else for(const s in t)t[s]&&(n&&(n+=" "),n+=s);return n}static clsx(){let t=0,e,n,s="";for(;t<arguments.length;)e=arguments[t++],e&&(n=At._toVal(e),n&&(s&&(s+=" "),s+=n));return s}static getThemeName(t=""){return window.vendorPrefix&&window.vendorPrefix!=="@@vendorPrefix@@"?window.vendorPrefix:t||((window._localStorage||window.localStorage).getItem("App.themeName")?(window._localStorage||window.localStorage).getItem("App.themeName"):window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"colored")}static getThemeType(t=""){return window.vendorPrefix&&window.vendorPrefix!=="@@vendorPrefix@@"?"light":(t=t||(window._localStorage||window.localStorage).getItem("App.themeName"),t==="dark"||t==="blue"?"dark":"light")}static setThemeName(t){window.vendorPrefix&&window.vendorPrefix!=="@@vendorPrefix@@"||((window._localStorage||window.localStorage).setItem("App.themeName",t),(window._localStorage||window.localStorage).setItem("App.theme",t==="dark"||t==="blue"?"dark":"light"))}static toggleTheme(t){if(window.vendorPrefix&&window.vendorPrefix!=="@@vendorPrefix@@")return window.vendorPrefix;t=t||(window._localStorage||window.localStorage).getItem("App.themeName");const e=At.getThemeNames(),n=e.indexOf(t);let s;return n!==-1?s=e[(n+1)%e.length]:s=e[0],At.setThemeName(s),s}static getThemeNames(){return window.vendorPrefix&&window.vendorPrefix!=="@@vendorPrefix@@"?[window.vendorPrefix]:["light","dark","blue","colored"]}static parseQuery(t){t=(t||"").toString().replace(/^\?/,"");const e={};return t.split("&").forEach(n=>{if(n=n.trim(),n){const s=n.split("="),o=decodeURIComponent(s[0]).trim();if(s.length>1)if(e[o]=decodeURIComponent(s[1]),e[o]==="true")e[o]=!0;else if(e[o]==="false")e[o]=!1;else{const i=parseFloat(e[o]);i.toString()===e[o]&&(e[o]=i)}else e[o]=!0}}),e}static getParentId(t){const e=(t||"").toString().split(".");return e.length>1?(e.pop(),e.join(".")):null}static formatDate(t,e){if(!t)return"";let n,s=t.getMonth()+1;s<10&&(s=`0${s}`);let o=t.getDate();o<10&&(o=`0${o}`),e==="MM/DD/YYYY"?n=`${s}/${o}/${t.getFullYear()}`:n=`${t.getFullYear()}-${s}-${o}`;let i=t.getHours();return i<10?n+=` 0${i}`:n+=` ${i}`,i=t.getMinutes(),i<10?n+=`:0${i}`:n+=`:${i}`,i=t.getSeconds(),i<10?n+=`:0${i}`:n+=`:${i}`,i=t.getMilliseconds(),i<10?n+=`.00${i}`:i<100?n+=`.0${i}`:n+=`.${i}`,n}static formatTime(t){if(t){t=Math.round(t);const e=Math.floor(t/(3600*24)),n=Math.floor(t%(3600*24)/3600),s=Math.floor(t%3600/60),o=t%60;return e?`${e}.${n.toString().padStart(2,"0")}:${s.toString().padStart(2,"0")}:${o.toString().padStart(2,"0")}`:n?`${n}:${s.toString().padStart(2,"0")}:${o.toString().padStart(2,"0")}`:`0:${s.toString().padStart(2,"0")}:${o.toString().padStart(2,"0")}`}return"0:00:00"}static MDtext2link(t){const e=t.match(/\d+\.\)\s/);return e&&(t=t.replace(e[0],e[0].replace(/\s/,"&nbsp;"))),t.replace(/[^a-zA-Zа-яА-Я0-9]/g,"").trim().replace(/\s/g,"").toLowerCase()}static openLink(t,e){t=t.replace(/\/\/([0-9a-f]*:[0-9a-f]*:[0-9a-f]*:[0-9a-f]*:[0-9a-f]*:[0-9a-f]*)(:\d+)?\//i,"//[$1]$2/"),e==="this"?window.location=t:window.open(t,e||"_blank")}static MDgetTitle(t){const e=At.extractHeader(t),n=e.header;let s=e.body;if(!n.title){s=s.replace(/{[^}]*}/g,""),s=s.trim();const o=s.replace(/\r/g,"").split(`
`);for(let i=0;i<o.length;i++)if(o[i].startsWith("# "))return o[i].substring(2).trim();return""}return n.title}static MDextractHeader(t){const e={};if(t.substring(0,3)==="---"){const n=t.substring(3).indexOf(`
---`);n!==-1&&(t.substring(3,n+3).replace(/\r/g,"").split(`
`).forEach(i=>{if(!i.trim())return;const a=i.indexOf(":");if(a!==-1){const c=i.substring(0,a).trim();e[c]=i.substring(a+1).trim(),e[c]=e[c].replace(/^['"]|['"]$/g,""),e[c]==="true"?e[c]=!0:e[c]==="false"?e[c]=!1:parseFloat(e[c]).toString()===e[c]&&(e[c]=parseFloat(e[c]))}else e[i.trim()]=!0}),t=t.substring(n+7))}return{header:e,body:t}}static MDremoveDocsify(t){const e=t.match(/{docsify-[^}]*}/g);return e&&e.forEach(n=>t=t.replace(n,"")),t}static generateFile(t,e){const n=document.createElement("a");n.setAttribute("href",`data:application/json;charset=utf-8,${encodeURIComponent(JSON.stringify(e,null,2))}`),n.setAttribute("download",t),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}static quality2text(t){const e=t&4294901760,n=Fe[t];let s;return n?s=[n]:t&1?s=[Fe[1],`0x${(t&65534).toString(16)}`]:t&2?s=[Fe[2],`0x${(t&65533).toString(16)}`]:s=[`0x${t.toString(16)}`],e&&s.push(`0x${(e>>16).toString(16).toUpperCase()}`),s}static clone(t){return JSON.parse(JSON.stringify(t))}static getStates(t){var n;let e=(n=t==null?void 0:t.common)==null?void 0:n.states;if(e){if(typeof e=="string"&&e[0]==="{")try{e=JSON.parse(e)}catch(s){console.error(`Cannot parse states: ${e}`),e=null}else if(typeof e=="string"){const s=e.split(";");e={};for(let o=0;o<s.length;o++){const i=s[o].split(":");e[i[0]]=i[1]}}else if(Array.isArray(e)){const s={};return t.common.type==="number"?e.forEach((o,i)=>s[i]=o):t.common.type==="string"?e.forEach(o=>s[o]=o):t.common.type==="boolean"&&(s.false=e[0],s.true=e[1]),s}}return e}static getSvg(t){return fetch(t).then(e=>e.blob()).then(e=>new Promise(n=>{const s=new FileReader;s.onload=function(){n(this.result)},s.readAsDataURL(e)}))}static detectMimeType(t){const e=Object.keys(ae).find(n=>t.startsWith(n));return e?ae[e]:null}static isStableRepository(t){return!!(typeof t=="string"&&t.toLowerCase().startsWith("stable")||t&&typeof t!="string"&&t.find(e=>e.toLowerCase().startsWith("stable")))}static isStringInteger(t){return parseInt(t).toString()===t}static isValidDate(t){return t instanceof Date&&!isNaN(t)}static getStyle(t,...e){const n={};for(let s=0;s<e.length;s++)typeof e[s]=="function"?Object.assign(n,e[s](t)):e[s]&&typeof e[s]=="object"&&Object.keys(e[s]).forEach(o=>{if(typeof e[s][o]=="function")n[o]=e[s][o](t);else if(typeof e[s][o]=="object"){const i=e[s][o];n[o]=n[o]||{},Object.keys(i).forEach(a=>{typeof i[a]=="function"?n[o][a]=i(t):(i[a]||i[a]===0)&&(n[o][a]=i[a])})}else(e[s][o]||e[s][o]===0)&&(n[o]=e[s][o])});return n}};Ne(At,"namespace",j),Ne(At,"INSTANCES","instances"),Ne(At,"dateFormat",["DD","MM"]),Ne(At,"FORBIDDEN_CHARS",/[^._\-/ :!#$%&()+=@^{}|~\p{Ll}\p{Lu}\p{Nd}]+/gu);let me=At;const Be=me;function Qe(r){return Object.prototype.toString.call(r)==="[object Object]"}const xt=class xt extends f.Component{constructor(e){super(e);Ne(this,"defaultValue");Ne(this,"isError");Ne(this,"lang");Ne(this,"defaultSendToDone");Ne(this,"sendToTimeout");Ne(this,"noPlaceRequired");Ne(this,"onUpdate",e=>{const n=xt.getValue(e||this.props.data,this.props.attr)||"";this.state.value!==n?this.setState({value:n}):this.forceUpdate()});this.state={confirmDialog:!1,confirmNewValue:null,confirmAttr:null,confirmData:null},this.isError={},e.schema&&(e.custom?this.defaultValue=e.schema.defaultFunc?this.executeCustom(e.schema.defaultFunc,e.data,e.customObj,e.instanceObj,e.arrayIndex,e.globalData):e.schema.default:this.defaultValue=e.schema.defaultFunc?this.execute(e.schema.defaultFunc,e.schema.default,e.data,e.arrayIndex,e.globalData):e.schema.default),this.lang=d.I18n.getLanguage()}componentDidMount(){this.props.registerOnForceUpdate&&this.props.registerOnForceUpdate(this.props.attr,this.onUpdate);const e=["select","autocomplete","autocompleteSendTo"];if(this.defaultValue!==void 0){const n=xt.getValue(this.props.data,this.props.attr);(n===void 0||e.includes(this.props.schema.type)&&(n===""||n===null))&&setTimeout(()=>{this.props.custom?this.props.onChange(this.props.attr,this.defaultValue,()=>setTimeout(()=>this.props.forceUpdate([this.props.attr],this.props.data),100)):(xt.setValue(this.props.data,this.props.attr,this.defaultValue),this.props.onChange(this.props.data,void 0,()=>this.props.forceUpdate([this.props.attr],this.props.data)))},100)}else this.props.schema.defaultSendTo&&this.sendTo()}sendTo(){if(this.props.alive){this.defaultSendToDone=!0;let e=this.props.schema.data;if(e===void 0&&this.props.schema.jsonData){const n=this.getPattern(this.props.schema.jsonData);try{e=JSON.parse(n)}catch(s){console.error(`Cannot parse json data: ${n}`)}}else e={attr:this.props.attr,value:xt.getValue(this.props.data,this.props.attr)};e===void 0&&(e=null),this.props.socket.sendTo(`${this.props.adapterName}.${this.props.instance}`,this.props.schema.defaultSendTo,e).then(n=>{n!=null&&(this.props.custom?this.props.onChange(this.props.attr,n,()=>this.props.forceUpdate([this.props.attr],this.props.data)):(xt.setValue(this.props.data,this.props.attr,n),this.props.onChange(this.props.data,void 0,()=>this.props.forceUpdate([this.props.attr],this.props.data))))})}else this.defaultSendToDone=!1,this.onError(this.props.attr,d.I18n.t("ra_Instance %s is not alive",this.props.instance.toString()))}componentWillUnmount(){this.props.registerOnForceUpdate&&this.props.registerOnForceUpdate(this.props.attr),this.sendToTimeout&&(clearTimeout(this.sendToTimeout),this.sendToTimeout=null)}static getValue(e,n){if(typeof n=="string")return xt.getValue(e,n.split("."));if(n.length===1)return e[n[0]];const s=n.shift();return typeof s=="string"&&typeof e[s]=="object"?xt.getValue(e[s],n):null}static setValue(e,n,s){if(typeof n=="string"){xt.setValue(e,n.split("."),s);return}if(n.length===1)s===null?delete e[n[0]]:e[n[0]]=s;else{const o=n.shift();if(typeof o!="string")return;(!e[o]||typeof e[o]=="object")&&(e[o]=e[o]||{}),xt.setValue(e[o],n,s)}}getText(e,n){if(!e)return"";if(typeof e=="string"){const s=n?e:d.I18n.t(e);return s.includes("${")?this.getPattern(s):s}return Qe(e)?e.func?typeof e.func=="object"?this.getPattern(e.func[this.lang]||e.func.en||""):this.getPattern(e.func):e[this.lang]||e.en||"":e.toString()}renderConfirmDialog(){if(!this.state.confirmDialog)return null;const e=this.state.confirmData||this.props.schema.confirm;let n=null;return e.type==="warning"?n=l().createElement(p.Warning,null):e.type==="error"?n=l().createElement(p.Error,null):e.type==="info"&&(n=l().createElement(p.Info,null)),l().createElement(d.Confirm,{title:this.getText(e.title)||d.I18n.t("ra_Please confirm"),text:this.getText(e.text),ok:this.getText(e.ok)||d.I18n.t("ra_Ok"),cancel:this.getText(e.cancel)||d.I18n.t("ra_Cancel"),icon:n||void 0,onClose:s=>this.setState({confirmDialog:!1},()=>{if(s){const o=JSON.parse(JSON.stringify(this.props.data));this.state.confirmDepAttr&&xt.setValue(o,this.state.confirmDepAttr,this.state.confirmDepNewValue),xt.setValue(o,this.state.confirmAttr,this.state.confirmNewValue),this.setState({confirmDialog:!1,confirmDepAttr:null,confirmDepNewValue:null,confirmNewValue:null,confirmAttr:null,confirmData:null},()=>this.props.onChange(o))}else this.setState({confirmDialog:!1,confirmDepAttr:null,confirmDepNewValue:null,confirmNewValue:null,confirmAttr:null,confirmData:null})})})}getIcon(e){e=e||this.props.schema.icon;let n=null;return e==="auth"?n=l().createElement(p.Key,null):e==="send"?n=l().createElement(p.Send,null):e==="web"?n=l().createElement(p.Public,null):e==="warning"?n=l().createElement(p.Warning,null):e==="error"?n=l().createElement(p.Error,null):e==="info"?n=l().createElement(p.Info,null):e==="search"?n=l().createElement(p.Search,null):e==="book"?n=l().createElement(p.MenuBook,null):e==="help"?n=l().createElement(p.Help,null):e==="upload"?n=l().createElement(p.UploadFile,null):e&&((e.endsWith(".png")||e.endsWith(".svg")||e.endsWith(".jpg"))&&!e.startsWith("http://")&&!e.startsWith("https://")&&(e=`./adapter/${this.props.adapterName}/${e}`),n=l().createElement(d.Icon,{src:e,style:{width:22,height:22}})),n}onChangeAsync(e,n){return new Promise(s=>{this.onChange(e,n,s)})}onChange(e,n,s){const o=JSON.parse(JSON.stringify(this.props.data));if(xt.setValue(o,e,n),this.props.schema.confirm&&this.execute(this.props.schema.confirm.condition,!1,o,this.props.arrayIndex,this.props.globalData))return new Promise(a=>{this.setState({confirmDialog:!0,confirmNewValue:n,confirmAttr:e,confirmData:null},()=>{typeof s=="function"?s():a()})});if(this.props.schema.confirmDependsOn)for(let a=0;a<this.props.schema.confirmDependsOn.length;a++){const c=this.props.schema.confirmDependsOn[a];if(c.confirm){const h=xt.getValue(o,c.attr);if(this.execute(c.confirm.condition,!1,o,this.props.arrayIndex,this.props.globalData))return new Promise(y=>{this.setState({confirmDialog:!0,confirmNewValue:n,confirmAttr:e,confirmDepNewValue:h,confirmDepAttr:c.attr,confirmData:c.confirm},()=>{typeof s=="function"?s():y()})})}}const i=[];if(this.props.schema.onChangeDependsOn)for(let a=0;a<this.props.schema.onChangeDependsOn.length;a++){const c=this.props.schema.onChangeDependsOn[a];if(c.onChange){const h=xt.getValue(o,c.attr);let y;this.props.custom?y=this.executeCustom(c.onChange.calculateFunc,o,this.props.customObj,this.props.instanceObj,this.props.arrayIndex,this.props.globalData):y=this.execute(c.onChange.calculateFunc,h,o,this.props.arrayIndex,this.props.globalData),y!==h&&(xt.setValue(o,c.attr,y),i.push(c.attr))}}if(this.props.schema.hiddenDependsOn)for(let a=0;a<this.props.schema.hiddenDependsOn.length;a++){const c=this.props.schema.hiddenDependsOn[a];c.hidden&&i.push(c.attr)}if(this.props.schema.labelDependsOn)for(let a=0;a<this.props.schema.labelDependsOn.length;a++){const c=this.props.schema.labelDependsOn[a];c.hidden&&i.push(c.attr)}if(this.props.schema.helpDependsOn)for(let a=0;a<this.props.schema.helpDependsOn.length;a++){const c=this.props.schema.helpDependsOn[a];c.hidden&&i.push(c.attr)}if(this.props.schema.onChange&&!this.props.schema.onChange.ignoreOwnChanges){const a=xt.getValue(o,this.props.attr),c=this.props.custom?this.executeCustom(this.props.schema.onChange.calculateFunc,o,this.props.customObj,this.props.instanceObj,this.props.arrayIndex,this.props.globalData):this.execute(this.props.schema.onChange.calculateFunc,a,o,this.props.arrayIndex,this.props.globalData);c!==a&&xt.setValue(o,this.props.attr,c)}return this.props.custom?(this.props.onChange(e,n,()=>s&&s()),i&&i.length&&i.forEach((a,c)=>setTimeout(()=>this.props.onChange(a,xt.getValue(o,a)),c*50))):this.props.onChange(o,void 0,()=>{i.length&&this.props.forceUpdate(i,o),s&&s()}),Promise.resolve()}execute(e,n,s,o,i){let a;if(Qe(e))a=e.func;else if(typeof e=="string")a=e;else return e;if(!a)return n;try{return new Function("data","originalData","_system","_alive","_common","_socket","_instance","arrayIndex","globalData","_changed",a.includes("return")?a:`return ${a}`)(s||this.props.data,this.props.originalData,this.props.systemConfig,this.props.alive,this.props.common,this.props.socket,this.props.instance,o,i,this.props.changed)}catch(c){return console.error(`Cannot execute ${e}: ${c}`),n}}executeCustom(e,n,s,o,i,a){let c;if(Qe(e))c=e.func;else if(typeof e=="string")c=e;else return e;if(!c)return null;try{return new Function("data","originalData","_system","instanceObj","customObj","_socket","arrayIndex","globalData","_changed",c.includes("return")?c:`return ${c}`)(n||this.props.data,this.props.originalData,this.props.systemConfig,o,s,this.props.socket,i,a,this.props.changed)}catch(h){return console.error(`Cannot execute ${c}: ${h}`),null}}calculate(e){let n,s,o,i;return this.props.custom?(n=e.validator?!this.executeCustom(e.validator,this.props.data,this.props.customObj,this.props.instanceObj,this.props.arrayIndex,this.props.globalData):!1,s=e.disabled?this.executeCustom(e.disabled,this.props.data,this.props.customObj,this.props.instanceObj,this.props.arrayIndex,this.props.globalData):!1,o=e.hidden?this.executeCustom(e.hidden,this.props.data,this.props.customObj,this.props.instanceObj,this.props.arrayIndex,this.props.globalData):!1,i=e.defaultFunc?this.executeCustom(e.defaultFunc,this.props.data,this.props.customObj,this.props.instanceObj,this.props.arrayIndex,this.props.globalData):e.default):(n=e.validator?!this.execute(e.validator,!1,this.props.data,this.props.arrayIndex,this.props.globalData):!1,s=e.disabled?this.execute(e.disabled,!1,this.props.data,this.props.arrayIndex,this.props.globalData):!1,o=e.hidden?this.execute(e.hidden,!1,this.props.data,this.props.arrayIndex,this.props.globalData):!1,i=e.defaultFunc?this.execute(e.defaultFunc,e.default,this.props.data,this.props.arrayIndex,this.props.globalData):e.default),{error:n,disabled:s,hidden:o,defaultValue:i}}onError(e,n){n?this.isError[e]=n:delete this.isError[e],this.props.onError&&this.props.onError(e,n)}renderItem(e,n,s){return this.getText(this.props.schema.label)||this.getText(this.props.schema.text)}renderHelp(e,n,s){return n?l().createElement("a",{href:n,target:"_blank",rel:"noreferrer",style:{color:this.props.themeType==="dark"?"#a147ff":"#5b238f",textDecoration:"underline"}},this.getText(e,s)):(e=this.getText(e,s)||"",e&&(e.includes("<a ")||e.includes("<br")||e.includes("<b>")||e.includes("<i>"))?d.Utils.renderTextWithA(e):e)}static escapeString(e,n){return typeof e!="string"?"":(e=e.replace(/`/g,"\\`"),e=e.replace(/\${([^}]+)}/g,(s,o)=>o&&typeof o=="string"&&o.startsWith("data.")&&typeof xt.getValue(n,o.replace(/^data\./,""))=="string"?`\${${o}.replace(/"/g, '\\\\"')}`:o),e)}getPattern(e,n){if(n=n||this.props.data,!e)return"";let s;typeof e=="object"?e.func?s=e.func:(console.log(`Object must be stringified: ${JSON.stringify(e)}`),s=JSON.stringify(e)):s=e;try{return this.props.custom?new Function("data","originalData","arrayIndex","globalData","_system","instanceObj","customObj","_socket","_changed",`return \`${xt.escapeString(s,n)}\``)(n,this.props.originalData,this.props.arrayIndex,this.props.globalData,this.props.systemConfig,this.props.instanceObj,this.props.customObj,this.props.socket,this.props.changed):new Function("data","originalData","arrayIndex","globalData","_system","_alive","_common","_socket","_changed",`return \`${xt.escapeString(s,n)}\``)(n,this.props.originalData,this.props.arrayIndex,this.props.globalData,this.props.systemConfig,this.props.alive,this.props.common,this.props.socket,this.props.changed)}catch(o){return console.error(`Cannot execute ${s}: ${o}`),s}}render(){const e=this.props.schema;if(!e)return null;this.props.alive&&this.defaultSendToDone===!1&&(this.sendToTimeout=setTimeout(()=>{this.sendToTimeout=null,this.sendTo()},200));const{error:n,disabled:s,hidden:o,defaultValue:i}=this.calculate(e);if(o){if(Object.keys(this.isError).length&&(setTimeout(h=>Object.keys(h).forEach(y=>this.props.onError(y)),100,JSON.parse(JSON.stringify(this.isError))),this.isError={}),e.hideOnlyControl){const h=l().createElement(u.Grid,{item:!0,xs:e.xs||void 0,lg:e.lg||void 0,md:e.md||void 0,sm:e.sm||void 0,style:Re(Re({marginBottom:0,textAlign:"left"},e.style),this.props.themeType==="dark"?e.darkStyle:{})});return e.newLine?l().createElement(l().Fragment,null,l().createElement("div",{style:{flexBasis:"100%",height:0}}),h):h}return null}e.validatorNoSaveOnError&&(n&&!Object.keys(this.isError).length?(this.isError={[this.props.attr]:e.validatorErrorText?d.I18n.t(e.validatorErrorText):!0},setTimeout(h=>Object.keys(h).forEach(y=>this.props.onError(y,h[y])),100,JSON.parse(JSON.stringify(this.isError)))):!n&&Object.keys(this.isError).length&&(setTimeout(h=>Object.keys(h).forEach(y=>this.props.onError(y)),100,JSON.parse(JSON.stringify(this.isError))),this.isError={}));const a=this.renderItem(n,s||this.props.commandRunning||this.props.disabled,i);if(this.noPlaceRequired)return a;const c=l().createElement(u.Grid,{item:!0,title:this.getText(e.tooltip),xs:e.xs||void 0,lg:e.lg||void 0,md:e.md||void 0,sm:e.sm||void 0,style:Re(Re({marginBottom:0,textAlign:"left",width:e.type==="divider"||e.type==="header"?e.width||"100%":void 0},e.style),this.props.themeType==="dark"?e.darkStyle:{})},this.props.schema.defaultSendTo&&this.props.schema.button?l().createElement(u.Grid,{container:!0,style:{width:"100%"}},l().createElement(u.Grid,{item:!0,flex:1},a),l().createElement(u.Grid,{item:!0},l().createElement(u.Button,{variant:"outlined",onClick:()=>this.sendTo(),title:this.props.schema.buttonTooltip?this.getText(this.props.schema.buttonTooltip,this.props.schema.buttonTooltipNoTranslation):d.I18n.t("ra_Request data by instance")},this.getText(this.props.schema.button)))):a);return e.newLine?l().createElement(l().Fragment,null,l().createElement("div",{style:{flexBasis:"100%",height:0}}),this.renderConfirmDialog(),c):this.state.confirmDialog?l().createElement(l().Fragment,null,this.renderConfirmDialog(),c):c}};Ne(xt,"DIFFERENT_VALUE","__different__"),Ne(xt,"DIFFERENT_LABEL","ra___different__"),Ne(xt,"NONE_VALUE",""),Ne(xt,"NONE_LABEL","ra_none");let v=xt;const L={fullWidth:{width:"100%"},accordionSummary:r=>({backgroundColor:r.palette.mode==="dark"?"rgba(255, 255, 255, 0.08)":"rgba(0, 0, 0, 0.08)"}),accordionTitle:{},toolbar:r=>({backgroundColor:r.palette.mode==="dark"?"rgba(255, 255, 255, 0.08)":"rgba(0, 0, 0, 0.08)",borderRadius:3}),tooltip:{pointerEvents:"none"}};class M extends v{constructor(e){super(e);Ne(this,"typingTimer",null);Ne(this,"onDelete",e=>()=>{const n=JSON.parse(JSON.stringify(this.state.value));n.splice(e,1),this.setState({value:n,iteration:this.state.iteration+1e4},()=>this.onChangeWrapper(n))});Ne(this,"onClone",e=>()=>{const n=JSON.parse(JSON.stringify(this.state.value)),s=JSON.parse(JSON.stringify(n[e]));if(typeof this.props.schema.clone=="string"&&typeof s[this.props.schema.clone]=="string"){let o=1,i=s[this.props.schema.clone];const a=i.match(/(\d+)$/);for(a?(i=i.replace(a[0],""),o=parseInt(a[0],10)+1):i+="_";n.find(c=>c[this.props.schema.clone]===i+o.toString());)o++;s[this.props.schema.clone]=`${s[this.props.schema.clone]}_${o}`}n.splice(e,0,s),this.setState({value:n,activeIndex:-1,iteration:this.state.iteration+1e4},()=>this.onChangeWrapper(n))});Ne(this,"onChangeWrapper",e=>{this.typingTimer&&clearTimeout(this.typingTimer),this.typingTimer=setTimeout(n=>{this.typingTimer=null,this.onChange(this.props.attr,n)},300,e)});Ne(this,"onAdd",()=>{const{schema:e}=this.props,n=JSON.parse(JSON.stringify(this.state.value)),s=e.items&&e.items.reduce((o,i)=>{let a;return i.defaultFunc?this.props.custom?a=i.defaultFunc?this.executeCustom(i.defaultFunc,this.props.data,this.props.customObj,this.props.instanceObj,n.length,this.props.data):this.props.schema.default:a=i.defaultFunc?this.execute(i.defaultFunc,this.props.schema.default,this.props.data,n.length,this.props.data):this.props.schema.default:a=i.default===void 0?null:i.default,o[i.attr]=a,o},{});n.push(s),this.setState({value:n,activeIndex:n.length-1},()=>this.onChangeWrapper(n))});this.props.schema.items=this.props.schema.items||[]}componentDidMount(){return ct(this,null,function*(){Ut(M.prototype,this,"componentDidMount").call(this);let e=v.getValue(this.props.data,this.props.attr)||[];Array.isArray(e)||(e=[]),this.setState({value:e,activeIndex:-1,iteration:0})})}componentWillUnmount(){this.typingTimer&&clearTimeout(this.typingTimer),this.typingTimer=null,super.componentWillUnmount()}itemAccordion(e,n){const{value:s}=this.state,{schema:o}=this.props,i={type:"panel",items:o.items.reduce((a,c)=>(a[c.attr]=c,a),{}),style:{marginLeft:-8,marginTop:10,marginBottom:10}};return l().createElement(ws,{index:n+this.state.iteration,arrayIndex:n,changed:this.props.changed,globalData:this.props.data,socket:this.props.socket,adapterName:this.props.adapterName,instance:this.props.instance,common:this.props.common,alive:this.props.alive,themeType:this.props.themeType,themeName:this.props.themeName,data:e,custom:!0,schema:i,systemConfig:this.props.systemConfig,originalData:this.props.originalData,customs:this.props.customs,dateFormat:this.props.dateFormat,isFloatComma:this.props.isFloatComma,forceUpdate:this.props.forceUpdate,imagePrefix:this.props.imagePrefix,onCommandRunning:this.props.onCommandRunning,onChange:(a,c)=>{const h=JSON.parse(JSON.stringify(s));h[n][a]=c,this.setState({value:h},()=>this.onChangeWrapper(h))},onError:(a,c)=>this.onError(a,c),table:this.props.table,theme:this.props.theme})}onMoveUp(e){const n=JSON.parse(JSON.stringify(this.state.value)),s=n[e];n.splice(e,1),n.splice(e-1,0,s);const o=this.state.activeIndex-1;this.setState({value:n,activeIndex:o,iteration:this.state.iteration+1e4},()=>this.onChangeWrapper(n))}onMoveDown(e){const n=JSON.parse(JSON.stringify(this.state.value)),s=n[e];n.splice(e,1),n.splice(e+1,0,s);const o=this.state.activeIndex+1;this.setState({value:n,activeIndex:o,iteration:this.state.iteration+1e4},()=>this.onChangeWrapper(n))}renderItem(){const{schema:e}=this.props,{value:n}=this.state;return n?l().createElement(u.Paper,null,e.label||!e.noDelete?l().createElement(u.Toolbar,{variant:"dense"},e.label?l().createElement(u.Typography,{variant:"h6",id:"tableTitle",component:"div"},this.getText(e.label)):null,e.noDelete?null:l().createElement(u.IconButton,{size:"small",color:"primary",onClick:this.onAdd},l().createElement(p.Add,null))):null,n.map((s,o)=>l().createElement(u.Accordion,{key:`${s}_${o}`,expanded:this.state.activeIndex===o,onChange:(i,a)=>{this.setState({activeIndex:a?o:-1})}},l().createElement(u.AccordionSummary,{expandIcon:l().createElement(p.ExpandMore,null),sx:Be.getStyle(this.props.theme,L.fullWidth,L.accordionSummary)},l().createElement(u.Typography,{style:L.accordionTitle},s[e.titleAttr])),l().createElement(u.AccordionDetails,{style:Re(Re({},e.style),this.props.themeType?e.darkStyle:{})},this.itemAccordion(n[o],o),l().createElement(u.Toolbar,{sx:L.toolbar},o?l().createElement(u.Tooltip,{title:d.I18n.t("ra_Move up"),componentsProps:{popper:{sx:L.tooltip}}},l().createElement(u.IconButton,{size:"small",onClick:()=>this.onMoveUp(o)},l().createElement(p.ArrowUpward,null))):l().createElement("div",{style:L.buttonEmpty}),o<n.length-1?l().createElement(u.Tooltip,{title:d.I18n.t("ra_Move down"),componentsProps:{popper:{sx:L.tooltip}}},l().createElement(u.IconButton,{size:"small",onClick:()=>this.onMoveDown(o)},l().createElement(p.ArrowDownward,null))):l().createElement("div",{style:L.buttonEmpty}),e.noDelete?null:l().createElement(u.Tooltip,{title:d.I18n.t("ra_Delete current row"),componentsProps:{popper:{sx:L.tooltip}}},l().createElement(u.IconButton,{size:"small",onClick:this.onDelete(o)},l().createElement(p.Delete,null))),e.clone?l().createElement(u.Tooltip,{title:d.I18n.t("ra_Clone current row"),componentsProps:{popper:{sx:L.tooltip}}},l().createElement(u.IconButton,{size:"small",onClick:this.onClone(o)},l().createElement(p.ContentCopy,null))):null)))),!e.noDelete&&n.length>0?l().createElement(u.Toolbar,{variant:"dense",sx:L.rootTool},l().createElement(u.IconButton,{size:"small",color:"primary",onClick:this.onAdd},l().createElement(p.Add,null))):null,e.help?l().createElement(u.FormHelperText,null,this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)):null):null}}const m=M,A={root:{width:"100%"},notAlive:{color:"#a30000"}};class C extends v{componentDidMount(){super.componentDidMount();const t=this.getInstance();this.props.socket.getState(`${t}.alive`).then(e=>this.setState({alive:!!(e&&e.val),instance:t}))}getInstance(){let t=this.props.schema.instance||`${this.props.adapterName}.${this.props.instance}`;return t.includes("${")&&(t=this.getPattern(t)),t&&!t.startsWith("system.adapter.")&&(t=`system.adapter.${t}`),t}renderItem(){if(this.getInstance()!==this.state.instance&&setTimeout(()=>{const e=this.getInstance();e?this.props.socket.getState(`${e}.alive`).then(n=>this.setState({alive:!!(n&&n.val),instance:e})):this.setState({alive:null,instance:e})},200),this.state.alive!==!1&&this.state.alive!==!0)return null;const t=this.state.instance.replace(/^system.adapter./,"");return l().createElement("div",{style:Re(Re({},A.root),this.state.alive?void 0:A.notAlive)},this.state.alive?this.props.schema.textAlive!==void 0?this.props.schema.textAlive?d.I18n.t(this.props.schema.textAlive,t):"":d.I18n.t("ra_Instance %s is alive",t):this.props.schema.textNotAlive!==void 0?this.props.schema.textNotAlive?d.I18n.t(this.props.schema.textNotAlive,t):"":d.I18n.t("ra_Instance %s is not alive",t))}}const N=C;class O extends v{componentDidMount(){super.componentDidMount();const t=v.getValue(this.props.data,this.props.attr),e=this.props.schema.options.map(n=>typeof n=="string"?{label:n,value:n}:JSON.parse(JSON.stringify(n)));Array.isArray(t)?(e.unshift({label:d.I18n.t(v.DIFFERENT_LABEL),value:v.DIFFERENT_VALUE}),this.setState({value:v.DIFFERENT_VALUE,selectOptions:e})):this.setState({value:t,selectOptions:e})}renderItem(t,e){if(!this.state.selectOptions)return null;let n;const s=JSON.parse(JSON.stringify(this.state.selectOptions));return Array.isArray(this.state.value)||this.state.value===v.DIFFERENT_VALUE?([...this.state.value].filter(i=>!s.find(a=>typeof a=="object"?a.value===i:a===i)).forEach(i=>s.push({label:i.toString(),value:i})),n={label:d.I18n.t(v.DIFFERENT_LABEL),value:v.DIFFERENT_VALUE},s.unshift(n)):(n=this.state.value!==null&&this.state.value!==void 0&&s.find(i=>typeof i=="object"?i.value==this.state.value:i==this.state.value),this.state.value!==null&&this.state.value!==void 0&&!n&&this.props.schema.freeSolo&&(n={value:this.state.value,label:this.state.value},s.push(n))),l().createElement(u.Autocomplete,{fullWidth:!0,freeSolo:!!this.props.schema.freeSolo,value:n,options:s,onInputChange:i=>{if(!i||!this.props.schema.freeSolo)return;const a=i.target.value;a!==this.state.value&&this.setState({value:a},()=>this.onChange(this.props.attr,a))},onChange:(i,a)=>{const c=typeof a=="object"?a?a.value:"":a;c!==this.state.value&&this.setState({value:c},()=>this.onChange(this.props.attr,c))},getOptionLabel:i=>{var a;return typeof i=="object"&&(a=i==null?void 0:i.label)!=null?a:""},renderInput:i=>l().createElement(u.TextField,Rt(Re({variant:"standard"},i),{error:!!t,placeholder:this.getText(this.props.schema.placeholder),label:this.getText(this.props.schema.label),helperText:this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation),disabled:e}))})}}const Q=O;class te extends v{componentDidMount(){super.componentDidMount(),this.askInstance()}askInstance(){const t=v.getValue(this.props.data,this.props.attr),e=this.props.schema.options?this.props.schema.options.map(n=>typeof n=="string"?{label:n,value:n}:JSON.parse(JSON.stringify(n))):[];if(this.props.alive){let n=this.props.schema.data;if(n===void 0&&this.props.schema.jsonData){n=this.getPattern(this.props.schema.jsonData);try{typeof n=="string"&&(n=JSON.parse(n))}catch(s){console.error(`Cannot parse json data: ${n}`)}}n===void 0&&(n=null),this.props.socket.sendTo(`${this.props.adapterName}.${this.props.instance}`,this.props.schema.command||"send",n).then(s=>{s&&Array.isArray(s)&&s.forEach(o=>e.push(typeof o=="string"?{label:o,value:o}:JSON.parse(JSON.stringify(o)))),Array.isArray(t)?(e.unshift({label:d.I18n.t(v.DIFFERENT_LABEL),value:v.DIFFERENT_VALUE}),this.setState({value:v.DIFFERENT_VALUE,selectOptions:e,context:this.getContext()})):this.setState({value:t,selectOptions:e,context:this.getContext()})})}else Array.isArray(t)?(e.unshift({label:d.I18n.t(v.DIFFERENT_LABEL),value:v.DIFFERENT_VALUE}),this.setState({value:v.DIFFERENT_VALUE,selectOptions:e})):this.setState({value:t,selectOptions:e})}getContext(){const t={};return Array.isArray(this.props.schema.alsoDependsOn)&&this.props.schema.alsoDependsOn.forEach(e=>t[e]=v.getValue(this.props.data,e)),JSON.stringify(t)}renderItem(t,e){if(!this.state.selectOptions)return null;this.props.alive&&this.getContext()!==this.state.context&&setTimeout(()=>this.askInstance(),300);let n;const s=JSON.parse(JSON.stringify(this.state.selectOptions));return Array.isArray(this.state.value)||this.state.value===v.DIFFERENT_LABEL?([...this.state.value].filter(i=>!s.find(a=>a.value===i)).forEach(i=>s.push({label:i.toString(),value:i})),n={label:d.I18n.t(v.DIFFERENT_LABEL),value:v.DIFFERENT_VALUE},s.unshift(n)):(n=this.state.value!==null&&this.state.value!==void 0&&s.find(i=>i.value==this.state.value),this.state.value!==null&&this.state.value!==void 0&&!n&&this.props.schema.freeSolo&&(n={value:this.state.value,label:this.state.value},s.push(n)),n=n||null),s.length?l().createElement(u.Autocomplete,{value:n,fullWidth:!0,freeSolo:!!this.props.schema.freeSolo,options:s,getOptionLabel:i=>{var a;return(a=i==null?void 0:i.label)!=null?a:""},onInputChange:i=>{if(!i||!this.props.schema.freeSolo)return;const a=i.target.value;a!==this.state.value&&this.setState({value:a},()=>this.onChange(this.props.attr,a))},onChange:(i,a)=>{const c=typeof a=="object"?a?a.value:"":a;c!==this.state.value&&this.setState({value:c},()=>this.onChange(this.props.attr,c))},renderInput:i=>l().createElement(u.TextField,Rt(Re({variant:"standard"},i),{error:!!t,placeholder:this.getText(this.props.schema.placeholder),label:this.getText(this.props.schema.label),helperText:this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation),disabled:e}))}):l().createElement(u.TextField,{variant:"standard",fullWidth:!0,value:this.state.value===null||this.state.value===void 0?"":this.state.value,error:!!t,disabled:e,inputProps:{maxLength:this.props.schema.maxLength||this.props.schema.max||void 0},onChange:i=>{const a=i.target.value;this.setState({value:a},()=>this.onChange(this.props.attr,(a||"").trim()))},placeholder:this.getText(this.props.schema.placeholder),label:this.getText(this.props.schema.label),helperText:this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)})}}const H=te,$={fullWidth:{width:"100%"},flex:{display:"flex"},button:{height:48,marginLeft:4,minWidth:48}};class U extends v{componentDidMount(){return ct(this,null,function*(){Ut(U.prototype,this,"componentDidMount").call(this);const{data:t,attr:e}=this.props,n=v.getValue(t,e)||"";this.setState({value:n,showDialog:!1})})}renderItem(t,e){const{schema:n,attr:s}=this.props,{value:o,showDialog:i}=this.state;return l().createElement(u.FormControl,{style:$.fullWidth,variant:"standard"},n.label?l().createElement(u.InputLabel,{shrink:!0},this.getText(n.label)):null,l().createElement("div",{style:$.flex},l().createElement(u.TextField,{variant:"standard",fullWidth:!0,value:o!=null?o:"",error:!!t,disabled:e,placeholder:this.getText(n.placeholder),label:this.getText(n.label),helperText:this.renderHelp(n.help,n.helpLink,n.noTranslation),onChange:a=>{const c=a.target.value;this.setState({value:c},()=>this.onChange(s,c))}}),l().createElement(u.Button,{color:"grey",style:$.button,size:"small",variant:"outlined",onClick:()=>this.setState({showDialog:!0})},"...")),i?l().createElement(d.Cron,{title:d.I18n.t("ra_Define schedule"),simple:n.simple,complex:n.complex,cron:o,onClose:()=>this.setState({showDialog:!1}),cancel:d.I18n.t("ra_Cancel"),ok:d.I18n.t("ra_Ok"),theme:this.props.theme,onOk:a=>this.setState({showDialog:!1,value:a},()=>this.onChange(s,a))}):null)}}const ue=U;class Ke extends v{componentDidMount(){return ct(this,null,function*(){Ut(Ke.prototype,this,"componentDidMount").call(this);const t=v.getValue(this.props.data,this.props.attr),n=(yield this.props.socket.getCertificates()).filter(s=>{const o=this.props.attr.toLowerCase();return o.includes(s.type)||s.type==="public"&&o.includes("cert")||s.type==="private"&&(o.includes("priv")||o.includes("key"))?!0:!!(s.type==="chained"&&(o.includes("chain")||o.includes("ca")))}).map(s=>({label:s.name,value:s.name}));n.unshift({label:d.I18n.t(v.NONE_LABEL),value:v.NONE_VALUE}),this.setState({value:t,selectOptions:n})})}renderItem(t,e){var s,o;if(!this.state.selectOptions)return null;const n=(s=this.state.selectOptions)==null?void 0:s.find(i=>i.value===this.state.value);return l().createElement(u.FormControl,{style:{width:"100%"},variant:"standard"},this.props.schema.label?l().createElement(u.InputLabel,{shrink:!0},this.getText(this.props.schema.label)):null,l().createElement(u.Select,{variant:"standard",error:!!t,displayEmpty:!0,disabled:!!e,value:this.state.value,renderValue:()=>this.getText(n==null?void 0:n.label,this.props.schema.noTranslation!==!1),onChange:i=>this.setState({value:i.target.value},()=>this.onChange(this.props.attr,this.state.value))},(o=this.state.selectOptions)==null?void 0:o.map(i=>l().createElement(u.MenuItem,{key:i.value,value:i.value,style:i.value===v.NONE_VALUE?{opacity:.5}:{}},this.getText(i.label,this.props.schema.noTranslation!==!1)))),this.props.schema.help?l().createElement(u.FormHelperText,null,this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)):null)}}const Te=Ke,qe={fullWidth:{width:"100%"},leWidth:{width:620,marginBottom:10},certWidth:{width:200,marginRight:10}};class st extends v{componentDidMount(){return ct(this,null,function*(){var a;Ut(st.prototype,this,"componentDidMount").call(this);const t=yield this.props.socket.getCertificates(),e=[],n=[],s=[];let o=[];const i=yield this.props.socket.getObject("system.certificates");(a=i==null?void 0:i.native)!=null&&a.collections?o=Object.keys(i.native.collections):o=null,t.forEach(c=>{c.type==="public"?e.push({label:c.name,value:c.name}):c.type==="private"?n.push({label:c.name,value:c.name}):c.type==="chained"?s.push({label:c.name,value:c.name}):(e.push({label:c.name,value:c.name}),n.push({label:c.name,value:c.name}),s.push({label:c.name,value:c.name}))}),e.unshift({label:d.I18n.t(v.NONE_LABEL),value:v.NONE_VALUE}),n.unshift({label:d.I18n.t(v.NONE_LABEL),value:v.NONE_VALUE}),s.unshift({label:d.I18n.t(v.NONE_LABEL),value:v.NONE_VALUE}),this.setState({certsPublicOptions:e,certsChainOptions:s,certsPrivateOptions:n,collectionsOptions:o})})}renderItem(t,e){var y,g,D,T,w,S,P;if(!this.state.certsPublicOptions||!this.state.certsPrivateOptions||!this.state.certsChainOptions)return null;const n=(v.getValue(this.props.data,this.props.schema.leCollectionName||"leCollection")||"false").toString(),s=v.getValue(this.props.data,this.props.schema.certPublicName||"certPublic"),o=v.getValue(this.props.data,this.props.schema.certPrivateName||"certPrivate"),i=v.getValue(this.props.data,this.props.schema.certChainedName||"certChained"),a=(y=this.state.certsPublicOptions)==null?void 0:y.find(B=>B.value===s),c=(g=this.state.certsPrivateOptions)==null?void 0:g.find(B=>B.value===o),h=(D=this.state.certsChainOptions)==null?void 0:D.find(B=>B.value===i);return l().createElement("div",{style:qe.fullWidth},this.state.collectionsOptions?l().createElement(u.FormControl,{style:qe.leWidth,variant:"standard"},l().createElement(u.InputLabel,{shrink:!0},"Let's encrypt"),l().createElement(u.Select,{variant:"standard",error:!!t,displayEmpty:!0,disabled:!!e,value:n,onChange:B=>this.onChange(this.props.schema.leCollectionName||"leCollection",B.target.value==="false"?!1:B.target.value==="true"?!0:B.target.value)},l().createElement(u.MenuItem,{key:"_false",value:"false",style:{fontWeight:"bold"}},d.I18n.t("ra_Do not use let's encrypt")),l().createElement(u.MenuItem,{key:"_true",value:"true",style:{fontWeight:"bold"}},d.I18n.t("ra_Use all available let's encrypt certificates")),(T=this.state.collectionsOptions)==null?void 0:T.map(B=>l().createElement(u.MenuItem,{key:B,value:B},B)))):null,this.state.collectionsOptions?l().createElement("br",null):null,this.state.collectionsOptions&&n!=="false"?l().createElement("div",null,d.I18n.t("ra_Fallback custom certificates")):null,l().createElement(u.FormControl,{style:qe.certWidth,variant:"standard"},l().createElement(u.InputLabel,{shrink:!0},d.I18n.t("ra_Public certificate")),l().createElement(u.Select,{variant:"standard",error:!!t,displayEmpty:!0,disabled:!!e,value:s||"",renderValue:()=>this.getText(a==null?void 0:a.label),onChange:B=>this.onChange(this.props.schema.certPublicName||"certPublic",B.target.value)},(w=this.state.certsPublicOptions)==null?void 0:w.map((B,R)=>l().createElement(u.MenuItem,{key:`${B.value}_${R}`,value:B.value,style:B.value===v.NONE_VALUE?{opacity:.5}:{}},this.getText(B.label))))),l().createElement(u.FormControl,{style:qe.certWidth,variant:"standard"},l().createElement(u.InputLabel,{shrink:!0},d.I18n.t("ra_Private certificate")),l().createElement(u.Select,{variant:"standard",error:!!t,displayEmpty:!0,disabled:!!e,value:o||"",renderValue:()=>this.getText(c==null?void 0:c.label),onChange:B=>this.onChange(this.props.schema.certPrivateName||"certPrivate",B.target.value)},(S=this.state.certsPrivateOptions)==null?void 0:S.map((B,R)=>l().createElement(u.MenuItem,{key:`${B.value}_${R}`,value:B.value,style:B.value===v.NONE_VALUE?{opacity:.5}:{}},this.getText(B.label))))),l().createElement(u.FormControl,{style:qe.certWidth,variant:"standard"},l().createElement(u.InputLabel,{shrink:!0},d.I18n.t("ra_Chained certificate")),l().createElement(u.Select,{variant:"standard",error:!!t,displayEmpty:!0,disabled:!!e,value:i||"",renderValue:()=>this.getText(h==null?void 0:h.label),onChange:B=>this.onChange(this.props.schema.certChainedName||"certChained",B.target.value)},(P=this.state.certsChainOptions)==null?void 0:P.map((B,R)=>l().createElement(u.MenuItem,{key:`${B.value}_${R}`,value:B.value,style:B.value===v.NONE_VALUE?{opacity:.5}:{}},this.getText(B.label))))))}}const ce=st;class ve extends v{componentDidMount(){return ct(this,null,function*(){var n;Ut(ve.prototype,this,"componentDidMount").call(this);let t;const e=yield this.props.socket.getObject("system.certificates");(n=e==null?void 0:e.native)!=null&&n.collections?t=Object.keys(e.native.collections):t=[],this.setState({collectionsOptions:t})})}renderItem(t,e){var s;if(!this.state.collectionsOptions)return null;const n=(v.getValue(this.props.data,this.props.schema.leCollectionName||"leCollection")||"false").toString();return l().createElement(u.FormControl,{style:{width:"100%"},variant:"standard"},this.props.schema.label?l().createElement(u.InputLabel,{shrink:!0},this.getText(this.props.schema.label)):null,l().createElement(u.Select,{variant:"standard",error:!!t,displayEmpty:!0,disabled:!!e,value:n,onChange:o=>this.onChange(this.props.schema.leCollectionName||"leCollection",o.target.value==="false"?!1:o.target.value==="true"?!0:o.target.value)},l().createElement(u.MenuItem,{key:"_false",value:"false",style:{fontWeight:"bold"}},d.I18n.t("ra_Do not use let's encrypt")),l().createElement(u.MenuItem,{key:"_true",value:"true",style:{fontWeight:"bold"}},d.I18n.t("ra_Use all available let's encrypt certificates")),(s=this.state.collectionsOptions)==null?void 0:s.map(o=>l().createElement(u.MenuItem,{key:o,value:o},o))),this.props.schema.help?l().createElement(u.FormHelperText,null,this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)):null)}}const ye=ve,fe={fullWidth:{width:"100%"},icon:{width:24,height:24,marginRight:4},licLabel:{fontWeight:"bold",minWidth:100,marginRight:10,textTransform:"capitalize",display:"inline-block"},licValue:{fontWeight:"normal"},errorTitle:r=>({color:r.palette.mode==="dark"?"#e39191":"#b62020"}),okTitle:r=>({color:r.palette.mode==="dark"?"#6fd56f":"#007c00"}),errorText:r=>({color:r.palette.mode==="dark"?"#e39191":"#b62020",mb:"30px"})};class kt extends v{componentDidMount(){return ct(this,null,function*(){Ut(kt.prototype,this,"componentDidMount").call(this),this.setState({_error:"",running:!1,showLicenseData:null,foundSuitableLicense:!1,licenseOfflineCheck:!1,result:null,allLicenses:null,askForUpdate:!1,showLinkToProfile:!1})})}renderErrorDialog(){if(this.state._error&&!this.state.showLicenseData){let t=this.state._error;return this.state.allLicenses&&(t=[l().createElement("div",{key:"error"},t)],t.push(l().createElement(u.Button,{key:"button",variant:"contained",onClick:()=>window.open("https://iobroker.net/www/account/licenses","_blank")},d.I18n.t("iobroker.net"))),this.state.allLicenses.length?t.push(l().createElement(u.TableContainer,{key:"table"},l().createElement(u.Table,{size:"small"},l().createElement(u.TableHead,null,l().createElement(u.TableRow,null,l().createElement(u.TableCell,null,d.I18n.t("ra_Product")),l().createElement(u.TableCell,null,d.I18n.t("ra_Version")),l().createElement(u.TableCell,null,"UUID"),l().createElement(u.TableCell,null,d.I18n.t("ra_ValidTill")),l().createElement(u.TableCell,null,d.I18n.t("ra_Commercial")),l().createElement(u.TableCell,null,"ID"))),l().createElement(u.TableBody,null,this.state.allLicenses.map(e=>l().createElement(u.TableRow,{key:e.id},l().createElement(u.TableCell,{sx:e.validName?null:fe.errorText},e.license.product),l().createElement(u.TableCell,{sx:e.validVersion?null:fe.errorText},e.license.version),l().createElement(u.TableCell,{sx:e.validUuid?null:fe.errorText},e.license.uuid||"--"),l().createElement(u.TableCell,{sx:e.validTill?null:fe.errorText},e.license.validTill&&e.license.validTill!=="0000-00-00 00:00:00"?new Date(e.license.validTill).toLocaleDateString():"--"),l().createElement(u.TableCell,null,e.license.invoice!=="free"?e.license.invoice==="MANUALLY_CREATED"?"\u2713":e.license.invoice:"-"),l().createElement(u.TableCell,null,e.id))))))):(t.push(l().createElement("div",{key:"text1"},d.I18n.t("ra_No one license found in license manager"))),t.push(l().createElement("div",{key:"text2"},d.I18n.t("ra_Please create license"))))),l().createElement(u.Dialog,{open:!0,maxWidth:"xl",fullWidth:this.props.fullWidth!==void 0?this.props.fullWidth:!0,onClick:()=>this.setState({_error:"",allLicenses:null})},l().createElement(u.DialogTitle,null,d.I18n.t("ra_Error")),l().createElement(u.DialogContent,null,l().createElement(u.DialogContentText,null,t)),l().createElement(u.DialogActions,null,l().createElement(u.Button,{variant:"contained",onClick:()=>this.setState({_error:"",allLicenses:null}),color:"primary",autoFocus:!0,startIcon:l().createElement(p.Check,null)},d.I18n.t("ra_Ok"))))}return null}renderMessageDialog(){if(this.state.showLicenseData){const t=[],e=this.state.showLicenseData;return Object.keys(e).forEach(n=>{if(!(e[n]===null||e[n]===void 0))if(typeof e[n]=="object"){const s=e[n];Object.keys(s).forEach(o=>{s[o]!==null&&s[o]!==void 0&&(typeof s[o]=="object"?t.push(l().createElement("div",{key:o},l().createElement("div",{style:fe.licLabel},o,":"),JSON.stringify(s[o],null,2))):t.push(l().createElement("div",{key:o},l().createElement("div",{style:fe.licLabel},n," ","-",o,":"),s[o].toString())))})}else t.push(l().createElement("div",{key:n},l().createElement("div",{style:fe.licLabel},n.replace(/_/g," "),":"),e[n].toString()))}),t.push(l().createElement("div",{key:"checked"},l().createElement("div",{style:fe.licLabel},d.I18n.t("ra_Checked"),":"),this.state.licenseOfflineCheck?d.I18n.t("ra_locally"):d.I18n.t("ra_via internet"))),l().createElement(u.Dialog,{open:!0,onClose:()=>this.setState({showLicenseData:null})},l().createElement(u.DialogTitle,null,l().createElement(u.Box,{component:"span",sx:this.state.result?fe.okTitle:fe.errorTitle},d.I18n.t("ra_License %s",this.state.result?"OK":"INVALID"))),l().createElement(u.DialogContent,null,this.state.showLinkToProfile?l().createElement(u.Button,{variant:"contained",onClick:()=>window.open("https://iobroker.net/www/account/licenses","_blank")},"https://iobroker.net"):null,this.state._error?l().createElement(u.Box,{component:"div",sx:fe.errorText},this.state._error):null,t),l().createElement(u.DialogActions,null,l().createElement(u.Button,{onClick:()=>this.setState({showLicenseData:null,_error:""}),color:"primary",variant:"contained"},d.I18n.t("ra_Close"))))}return null}static parseJwt(t){const n=t.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),s=decodeURIComponent(atob(n).split("").map(o=>`%${`00${o.charCodeAt(0).toString(16)}`.slice(-2)}`).join(""));try{return JSON.parse(s)}catch(o){return null}}static isVersionValid(t,e,n,s){if(!e||!t)return!0;let o=!0;const[i]=t.split(".");return e.startsWith(">=")?o=parseInt(i,10)>=parseInt(e.substring(2,10)):e.startsWith("<=")?o=parseInt(i,10)<=parseInt(e.substring(2,10)):e.startsWith(">")?o=parseInt(i,10)>parseInt(e.substring(1,10)):e.startsWith("<")?o=parseInt(i,10)<parseInt(e.substring(1,10)):e.startsWith("=")?o=parseInt(i,10)===parseInt(e.substring(1,10)):e.startsWith("==")?o=parseInt(i,10)===parseInt(e.substring(2,10)):e.startsWith("===")&&(o=parseInt(i,10)===parseInt(e.substring(3,10))),!0}findInLicenseManager(t){return ct(this,null,function*(){var s,o,i,a;const e=yield this.props.socket.getObject("system.licenses"),n=[];if((o=(s=e==null?void 0:e.native)==null?void 0:s.licenses)!=null&&o.length){let c=null;const h=Date.now();let y;if(this.props.schema.uuid){const D=yield this.props.socket.getObject("system.meta.uuid");y=(i=D==null?void 0:D.native)==null?void 0:i.uuid}let g;if(this.props.schema.version){const D=yield this.props.socket.getObject(`system.adapter.${t}`);g=(a=D==null?void 0:D.common)==null?void 0:a.version}e.native.licenses.forEach(D=>{const T=!D.validTill||D.validTill==="0000-00-00 00:00:00"||new Date(D.validTill).getTime()>h,w=(D.product||"").split("."),S=w[1]===t||t==="vis-2"&&w[1]==="vis",P=!y||!D.uuid||D.uuid===y,B=kt.isVersionValid(g,D.version,D.invoice,t);(!c||D.invoice!=="free")&&T&&S&&P&&B&&(c=D),n.push({id:D.id,validName:S,validUuid:P,validVersion:B,validTill:T,license:D})}),c&&(n.find(D=>D.id===c.id).used=!0)}return n})}checkLicense(t,e){return ct(this,null,function*(){var a,c,h;let n;if(this.props.schema.uuid){const y=yield this.props.socket.getObject("system.meta.uuid");n=(a=y==null?void 0:y.native)==null?void 0:a.uuid}let s;if(this.props.schema.version){const y=yield this.props.socket.getObject(`system.adapter.${e}`);s=(c=y==null?void 0:y.common)==null?void 0:c.version}const o=new AbortController;let i=setTimeout(()=>{i=null,o.abort()},5e3);try{const y=yield window.fetch("https://iobroker.net/api/v1/public/cert/",{method:"POST",body:JSON.stringify({json:t,uuid:n}),headers:{"Content-Type":"text/plain"},signal:o.signal});i&&clearTimeout(i);const g=yield y.text();let D;try{D=JSON.parse(g)}catch(T){}if(D!=null&&D.error)try{const T=kt.parseJwt(t),w=d.I18n.t(`ra_${T.error||D.error||"Unknown error"}`).replace(/^ra_/,"");return this.setState({_error:w,licenseOfflineCheck:!1,showLicenseData:T,result:!1,running:!1})}catch(T){return console.log("Cannot parse license"),this.setState({_error:D.error,result:!1,running:!1})}else{let T=null;try{T=kt.parseJwt(t)}catch(w){}if(D){const w=D.validTill||D.valid_till;if(w&&w!=="0000-00-00 00:00:00"&&new Date(w).getTime()<Date.now())return this.setState({_error:d.I18n.t("ra_License expired on %s",new Date(w).toLocaleString()),licenseOfflineCheck:!1,showLicenseData:T,result:!1,running:!1});const S=(D.name||"").split(".");return S[1]===e||S[1]==="vis"&&e==="vis-2"?n&&!D.uuid&&e==="vis-2"?this.setState({_error:d.I18n.t("ra_License must be converted",D.uuid),showLinkToProfile:!0,licenseOfflineCheck:!1,showLicenseData:T,result:!1,running:!1}):n&&D.uuid&&D.uuid!==n?this.setState({_error:d.I18n.t('ra_Serial number (UUID) "%s" in license is for other device.',D.uuid),licenseOfflineCheck:!1,showLicenseData:T,result:!1,running:!1}):kt.isVersionValid(s,D.version,D.invoice,e)?this.setState({licenseOfflineCheck:!1,showLicenseData:T,result:!0,running:!1}):this.setState({_error:d.I18n.t("ra_License is for version %s, but required version is %s",D.version,this.props.schema.version),licenseOfflineCheck:!1,showLicenseData:T,result:!1,running:!1}):this.setState({_error:d.I18n.t('ra_License for other product "%s"',D.name),licenseOfflineCheck:!1,showLicenseData:T,result:!1,running:!1})}throw new Error("ra_Invalid answer from server")}}catch(y){if(((h=y==null?void 0:y.response)==null?void 0:h.status)===404)return this.setState({_error:d.I18n.t("ra_License does not exist"),result:!1,running:!1});try{const g=kt.parseJwt(t),D=(g.name||"").split(".");return g.valid_till&&g.valid_till!=="0000-00-00 00:00:00"&&new Date(g.valid_till).getTime()<Date.now()?this.setState({_error:d.I18n.t("ra_License expired on %s",new Date(g.valid_till).toLocaleString()),showLicenseData:g,licenseOfflineCheck:!0,running:!1,result:!1}):D[1]===e?n&&g.uuid&&g.uuid!==n?this.setState({_error:d.I18n.t('ra_Serial number (UUID) "%s" in license is for other device.',g.uuid),showLicenseData:g,licenseOfflineCheck:!0,result:!1,running:!1}):kt.isVersionValid(s,g.version,g.invoice,e)?this.setState({running:!1,result:!0,licenseOfflineCheck:!0,showLicenseData:g}):this.setState({_error:d.I18n.t("ra_License is for version %s, but required version is %s",g.version,this.props.schema.version),licenseOfflineCheck:!0,showLicenseData:g,result:!1,running:!1}):this.setState({_error:d.I18n.t('ra_License for other product "%s"',g.name),licenseOfflineCheck:!0,showLicenseData:g,result:!1,running:!1})}catch(g){return this.setState({_error:d.I18n.t("ra_Cannot decode license"),result:!1,licenseOfflineCheck:!0,running:!1})}}})}renderAskForUpdate(){return this.state.askForUpdate?l().createElement(d.Confirm,{text:d.I18n.t("ra_License not found in license manager. Do you want to read licenses from iobroker.net?"),ok:d.I18n.t("ra_Yes"),onClose:t=>ct(this,null,function*(){if(t){this.setState({askForUpdate:!1});try{yield this.props.socket.updateLicenses(null,null)}catch(e){window.alert(d.I18n.t("ra_Cannot read licenses: %s",e));return}yield this._onClick(!0)}else this.setState({askForUpdate:!1,running:!1})})}):null}_onClick(t){return ct(this,null,function*(){const e=this.props.adapterName==="vis-2"?"vis":this.props.adapterName;this.setState({running:!0});let n,s;if(this.props.data.useLicenseManager){if(s=yield this.findInLicenseManager(e),n=s.find(o=>o.used),n&&(n=n.license.json),!n&&!t){this.setState({askForUpdate:!0});return}}else n=this.props.data.license;n?yield this.checkLicense(n,e):this.props.data.useLicenseManager?this.setState({_error:d.I18n.t("ra_Suitable license not found in license manager"),result:!1,running:!1,allLicenses:s}):this.setState({_error:d.I18n.t("ra_Please enter the license"),result:!1,running:!1})})}renderItem(){return l().createElement("div",{style:fe.fullWidth},l().createElement(u.Button,{variant:this.props.schema.variant||"outlined",color:this.props.schema.color||"primary",style:fe.fullWidth,disabled:!this.props.data.license&&!this.props.data.useLicenseManager||this.state.running,startIcon:l().createElement(p.Send,null),onClick:()=>this._onClick()},this.state.running?l().createElement(u.CircularProgress,{size:20,style:{marginRight:8}}):null,this.getText(this.props.schema.label||"ra_Check license",this.props.schema.noTranslation)),this.renderMessageDialog(),this.renderErrorDialog(),this.renderAskForUpdate())}}const ut=kt;class It extends v{renderItem(t,e){const n=v.getValue(this.props.data,this.props.attr),s=Array.isArray(n);return l().createElement(u.FormControl,{style:{width:"100%"},variant:"standard"},l().createElement(u.FormControlLabel,{onClick:o=>{o.preventDefault(),o.stopPropagation(),e||this.onChange(this.props.attr,!n)},control:l().createElement(u.Checkbox,{indeterminate:s,checked:!!n,onChange:o=>{s?this.onChange(this.props.attr,!0):this.onChange(this.props.attr,o.target.checked)},disabled:e}),label:this.getText(this.props.schema.label)}),l().createElement(u.FormHelperText,{style:{color:"red"}},t?this.props.schema.validatorErrorText?d.I18n.t(this.props.schema.validatorErrorText):d.I18n.t("ra_Error"):null),this.props.schema.help?l().createElement(u.FormHelperText,null,this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)):null)}}const Zt=It;var wt=J(23479),An=J.n(wt),wn=J(98625),Pn=J(34603);const Et={standard:u.Input,filled:wn.A,outlined:u.OutlinedInput},us=r=>{const t=r.palette.mode==="light",e=t?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return{root:{},inputRoot:{display:"inline-flex",flexWrap:"wrap",flex:1,marginTop:0,minWidth:70,"&.mui-variant-outlined,&.mui-variant-filled":{boxSizing:"border-box"},"&.mui-variant-outlined":{paddingTop:"14px"},"&.mui-variant-filled":{paddingTop:"28px"}},input:{display:"inline-block",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",appearance:"none",WebkitTapHighlightColor:"rgba(0,0,0,0)",float:"left",flex:1},chipContainer:{display:"flex",flexFlow:"row wrap",alignItems:"center",cursor:"text",marginBottom:"-2px",minHeight:40},outlined:{"& input":{height:16,paddingTop:"4px",paddingBottom:"12px",marginTop:"4px",marginBottom:"4px"}},standard:{marginTop:"18px"},filled:{"& input":{height:22,marginBottom:"4px",marginTop:"4px",paddingTop:0},"$marginDense & input":{height:26}},labeled:{},label:{top:4,"&$outlined&:not($labelShrink)":{top:2,"$marginDense &":{top:5}},"&$filled&:not($labelShrink)":{top:15,"$marginDense &":{top:20}}},labelShrink:{top:0},helperText:{marginBottom:-20},focused:{},disabled:{},underline:{"&:after":{borderBottom:`2px solid ${r.palette.primary[t?"dark":"light"]}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:r.transitions.create("transform",{duration:r.transitions.duration.shorter,easing:r.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:r.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:`1px solid ${e}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:r.transitions.create("border-bottom-color",{duration:r.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:not($disabled):not($focused):not($error):before":{borderBottom:`2px solid ${r.palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${e}`}},"&$disabled:before":{borderBottomStyle:"dotted"}},error:{"&:after":{backgroundColor:r.palette.error.main,transform:"scaleX(1)"}},chip:{margin:"0 8px 8px 0",float:"left"},marginDense:{}}},Ot={BACKSPACE:8,DELETE:46,LEFT_ARROW:37,RIGHT_ARROW:39},rn=({value:r,isFocused:t,isDisabled:e,isReadOnly:n,handleClick:s,handleDelete:o,style:i},a)=>l().createElement(u.Chip,{key:a,style:Rt(Re({},i),{pointerEvents:e||n?"none":void 0,backgroundColor:t?Pn.A[300]:void 0}),onClick:s,onDelete:o,label:r});class Jn extends l().Component{constructor(e){super(e);Ne(this,"labelRef");Ne(this,"labelNode",null);Ne(this,"input");Ne(this,"newChipKeyCodes");Ne(this,"newChipKeys");Ne(this,"actualInput",null);Ne(this,"inputBlurTimeout",null);Ne(this,"_keyPressed");Ne(this,"_preventChipCreation");Ne(this,"styles",{});Ne(this,"styleTheme",null);Ne(this,"focus",()=>{var e;(e=this.actualInput)==null||e.focus(),this.state.focusedChip&&this.setState({focusedChip:null})});Ne(this,"handleInputBlur",e=>{this.props.onBlur&&this.props.onBlur(e),this.setState({isFocused:!1}),this.state.focusedChip&&this.setState({focusedChip:null});const n=e.target.value;let s;switch(this.props.blurBehavior||"clear"){case"add-or-clear":s={clearInputOnFail:!0};case"add":if(this.props.delayBeforeAdd){const o=(this.props.value||this.state.chips).length;this.inputBlurTimeout=setTimeout(()=>{const i=(this.props.value||this.state.chips).length;o===i?this.handleAddChip(n,s):this.clearInput()},150)}else this.handleAddChip(n,s);break;case"clear":this.clearInput();break;default:break}});Ne(this,"handleInputFocus",e=>{this.setState({isFocused:!0}),this.props.onFocus&&this.props.onFocus(e)});Ne(this,"handleKeyDown",e=>{const{focusedChip:n}=this.state;if(this._keyPressed=!1,this._preventChipCreation=!1,this.props.onKeyDown&&(this.props.onKeyDown(e),e.isDefaultPrevented()))return;const s=this.props.value||this.state.chips;if(this.newChipKeyCodes.includes(e.keyCode)||this.newChipKeys.includes(e.key)){this.handleAddChip(e.target.value)!==!1&&e.preventDefault();return}switch(e.keyCode){case Ot.BACKSPACE:e.target.value===""&&(n?(this.handleDeleteChip(s[n],n),n&&this.setState({focusedChip:n-1})):this.setState({focusedChip:s.length-1}));break;case Ot.DELETE:e.target.value===""&&n&&(this.handleDeleteChip(s[n],n),n<=s.length-1&&this.setState({focusedChip:n}));break;case Ot.LEFT_ARROW:n===null&&e.target.value===""&&s.length?this.setState({focusedChip:s.length-1}):n!==null&&n>0&&this.setState({focusedChip:n-1});break;case Ot.RIGHT_ARROW:n!==null&&n<s.length-1?this.setState({focusedChip:n+1}):this.setState({focusedChip:null});break;default:this.setState({focusedChip:null});break}});Ne(this,"handleKeyUp",e=>{!this._preventChipCreation&&(this.newChipKeyCodes.includes(e.keyCode)||this.newChipKeys.includes(e.key))&&this._keyPressed?this.clearInput():this.updateInput(e.target.value),this.props.onKeyUp&&this.props.onKeyUp(e)});Ne(this,"handleKeyPress",e=>{this._keyPressed=!0,this.props.onKeyPress&&this.props.onKeyPress(e)});Ne(this,"handleUpdateInput",e=>{(this.props.inputValue===null||this.props.inputValue===void 0)&&this.updateInput(e.target.value),this.props.onUpdateInput&&this.props.onUpdateInput(e)});Ne(this,"setActualInputRef",e=>{this.actualInput=e,this.props.inputRef&&this.props.inputRef(e)});this.state={chips:e.defaultValue||[],focusedChip:null,inputValue:"",isFocused:!1,chipsUpdated:!1,prevPropsValue:[],variant:this.props.variant||"standard"},this.newChipKeyCodes=e.newChipKeyCodes||[13],this.newChipKeys=e.newChipKeys||["Enter"],this.labelRef=l().createRef(),this.input=l().createRef()}componentDidMount(){this.state.variant==="outlined"&&(this.labelNode=An().findDOMNode(this.labelRef.current),this.forceUpdate())}componentWillUnmount(){this.inputBlurTimeout&&clearTimeout(this.inputBlurTimeout)}static getDerivedStateFromProps(e,n){let s=null;return e.value&&e.value.length!==n.prevPropsValue.length&&(s={prevPropsValue:e.value},e.clearInputValueOnChange&&(s.inputValue="")),e.clearInputValueOnChange&&e.value&&e.value.length!==n.prevPropsValue.length&&(s={prevPropsValue:e.value,inputValue:""}),e.disabled&&(s=Rt(Re({},s),{focusedChip:null})),!n.chipsUpdated&&e.defaultValue&&(s=Rt(Re({},s),{chips:e.defaultValue})),s}handleAddChip(e,n){if(this.props.onBeforeAdd&&!this.props.onBeforeAdd(e))return this._preventChipCreation=!0,n&&n.clearInputOnFail&&this.clearInput(),!1;this.clearInput();const s=this.props.value||this.state.chips;return e.trim().length?((this.props.allowDuplicates||!s.includes(e))&&(this.props.value&&this.props.onAdd?this.props.onAdd(e):this.updateChips([...this.state.chips,e])),!0):!1}handleDeleteChip(e,n){if(this.props.value)this.props.onDelete&&this.props.onDelete(e,n);else{const s=this.state.chips.slice();if(s.splice(n,1)){let i=this.state.focusedChip;this.state.focusedChip===n?i=null:this.state.focusedChip>n&&(i=this.state.focusedChip-1),this.updateChips(s,{focusedChip:i})}}}updateChips(e,n={}){this.setState(Re({chips:e,chipsUpdated:!0},n)),this.props.onChange&&this.props.onChange(e)}clearInput(){this.updateInput("")}updateInput(e){this.setState({inputValue:e})}render(){const{alwaysShowPlaceholder:e,chipRenderer:n=rn,className:s,disabled:o,disableUnderline:i,error:a,FormHelperTextProps:c,fullWidth:h,fullWidthInput:y,helperText:g,id:D,InputProps:T={},InputLabelProps:w={},inputValue:S,label:P,placeholder:B,readOnly:R,required:K,rootRef:Y,value:Z,margin:X}=this.props,z=this.state.variant;this.styleTheme!==this.props.theme.palette.mode&&(this.styleTheme=this.props.theme.palette.mode,this.styles=Be.getStyle(this.props.theme,us));let G=Z||this.state.chips||[];Array.isArray(G)||(G=(G||"").toString().split(/[,\s]+/).map(oe=>oe.trim()));const De=S!=null?S:this.state.inputValue,ee=(this.props.value||De).length||De.length,de=typeof w.shrink=="boolean"?w.shrink:P!==null&&(ee||this.state.isFocused||G.length),Se=G.map((oe,we)=>n({value:oe,isDisabled:!!o,isReadOnly:R,isFocused:this.state.focusedChip===we,handleClick:()=>this.setState({focusedChip:we}),handleDelete:()=>this.handleDeleteChip(oe,we),style:this.styles.chip},we.toString())),pe={};z==="outlined"&&(pe.notched=!!de,pe.labelWidth=de&&this.labelNode&&this.labelNode.offsetWidth||0),z!=="standard"?pe.startAdornment=Se:T.disableUnderline=!0;const Ae=Et[z];return l().createElement(u.FormControl,{ref:Y,fullWidth:h,className:s,sx:Re(Re({},this.styles.root),X==="dense"?this.styles.marginDense:{}),error:a,required:G.length>0?void 0:K,onClick:this.focus,disabled:o,variant:z,component:"div",margin:X},P&&l().createElement(u.InputLabel,Re({htmlFor:D,sx:{"&.MuiInputLabel-root":this.styles.label,"&.MuiInputLabel-shrink":this.styles.labelShrink},shrink:!!de,focused:this.state.isFocused,variant:z,ref:this.labelRef,required:K,component:"label"},w),P),l().createElement(u.Box,{component:"div",id:"input-chip-container",sx:Re(Re(Re(Re(Re(Re(Re({},this.styles[z]),this.styles.chipContainer),this.state.isFocused?this.styles.focused:void 0),!i&&z==="standard"?this.styles.underline:void 0),o?this.styles.disabled:void 0),P?this.styles.labeled:void 0),a?this.styles.error:void 0)},z==="standard"&&Se,l().createElement(Ae,Re(Re({ref:this.input,className:`mui-variant-${this.styles[z]} ${P?"mui-chip-with-label":"mui-chip-no-label"}`,sx:{"&.MuiInputBase-input":Re(Re({},this.styles.input),this.styles[z]),"&.MuiInputBase-root":Re({},this.styles.inputRoot)},id:D,value:De,onChange:this.handleUpdateInput,onKeyDown:this.handleKeyDown,onKeyPress:this.handleKeyPress,onKeyUp:this.handleKeyUp,onFocus:this.handleInputFocus,onBlur:this.handleInputBlur,inputRef:this.setActualInputRef,disabled:o,fullWidth:y,placeholder:!ee&&(de||P===null||P===void 0)||e?B:null,readOnly:R},T),pe))),g&&l().createElement(u.FormHelperText,Rt(Re({},c),{className:c==null?void 0:c.className,style:this.styles.helperText}),g))}}const pn=Jn,qt={fullWidth:{width:"100%"}};class Nt extends v{componentDidMount(){super.componentDidMount();const{data:t,attr:e}=this.props,n=v.getValue(t,e);if(this.props.schema.delimiter&&typeof n=="string"){const s=n.split(this.props.schema.delimiter).map(o=>o.trim()).filter(o=>o);this.setState({value:s})}else this.setState({value:n||[]})}renderItem(t,e){const{attr:n,schema:s}=this.props,{value:o}=this.state;return l().createElement(u.FormControl,{fullWidth:!0,variant:"standard"},l().createElement(pn,{value:o,disabled:!!e,label:this.getText(s.label),error:!!t,onAdd:i=>{const a=JSON.parse(JSON.stringify(o));a.push(i),this.setState({value:a},()=>{this.props.schema.delimiter?this.onChange(n,a.join(`${this.props.schema.delimiter} `)):this.onChange(n,a)})},theme:this.props.theme,onDelete:(i,a)=>{const c=JSON.parse(JSON.stringify(o));c.splice(a,1),this.setState({value:c},()=>{this.props.schema.delimiter?this.onChange(n,c.join(`${this.props.schema.delimiter} `)):this.onChange(n,c)})}}),this.props.schema.help?l().createElement(u.FormHelperText,null,this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)):null)}}const Yn=Nt;var Mn=J(55385);class Gs extends v{renderColorDialog(){return!!this.state.showColorDialog&&l().createElement(u.Dialog,{onClose:()=>this.setState({showColorDialog:!1}),open:this.state.showColorDialog},l().createElement(Mn.ChromePicker,{color:this.state.colorDialogValue,onChange:t=>this.setState({colorDialogValue:t.hex},()=>this.onChange(this.props.attr,this.state.colorDialogValue))}))}renderItem(t,e){const n=v.getValue(this.props.data,this.props.attr);let s=d.Utils.isUseBright(n,null);return s===null&&(s=void 0),l().createElement(l().Fragment,null,this.renderColorDialog(),l().createElement(u.TextField,{variant:"standard",disabled:!!e,style:{minWidth:100,width:"calc(100% - 8px)"},label:this.getText(this.props.schema.label),value:n||"",onClick:()=>!this.props.schema.readOnly&&this.setState({showColorDialog:!0,colorDialogValue:n||""}),onChange:o=>{const i=o.target.value;this.onChange(this.props.attr,i)},inputProps:{style:{backgroundColor:n,color:s?"#FFF":"#000"},readOnly:this.props.schema.readOnly||!1},InputProps:{endAdornment:n&&!this.props.schema.noClearButton?l().createElement(u.IconButton,{size:"small",onClick:o=>{o.stopPropagation(),this.onChange(this.props.attr,"")}},l().createElement(p.Close,null)):void 0},InputLabelProps:{shrink:!0}}))}}const ds=Gs,ot={width:{width:"calc(100% - 85px)"},width50:{width:120,marginRight:5}};class rt extends v{componentDidMount(){super.componentDidMount();const t=v.getValue(this.props.data,this.props.attr);this.setState({value:t});const e={};this.props.schema.useSystemName&&(e.useSystem=!!v.getValue(this.props.data,this.props.schema.useSystemName)),this.props.schema.longitudeName&&this.props.schema.latitudeName?(e.longitude=v.getValue(this.props.data,this.props.schema.longitudeName),e.latitude=v.getValue(this.props.data,this.props.schema.latitudeName),!e.longitude&&!e.latitude&&this.props.schema.autoInit&&setTimeout(()=>this.getCoordinates(),300)):!v.getValue(this.props.data,this.props.attr)&&this.props.schema.autoInit&&setTimeout(()=>this.getCoordinates(),300),Object.keys(e).length&&setTimeout(()=>this.setState(e),50)}getSystemCoordinates(){return ct(this,null,function*(){const t=yield this.props.socket.getCompactSystemConfig();if(t!=null&&t.common&&(t.common.longitude||t.common.latitude))if(window.alert(d.I18n.t("ra_Used system settings")),this.props.schema.longitudeName&&this.props.schema.latitudeName)this.setState({longitude:t.common.longitude,latitude:t.common.latitude},()=>ct(this,null,function*(){yield this.onChange(this.props.schema.longitudeName,(t.common.longitude||"").trim()),yield this.onChange(this.props.schema.latitudeName,(t.common.latitude||"").trim())}));else{const e=t.common.latitude+(this.props.schema.divider||",")+t.common.longitude;this.setState({value:e},()=>{this.onChange(this.props.attr,e)})}else window.alert(d.I18n.t("ra_Cannot determine position: System settings are empty and GPS detection is disabled in browser"))})}getCoordinates(){navigator.geolocation?navigator.geolocation.getCurrentPosition(t=>{if(t!=null&&t.coords)if(this.props.schema.longitudeName&&this.props.schema.latitudeName)this.setState({longitude:t.coords.longitude,latitude:t.coords.latitude},()=>ct(this,null,function*(){yield this.onChange(this.props.schema.longitudeName,t.coords.longitude||""),yield this.onChange(this.props.schema.latitudeName,t.coords.latitude||"")}));else{const e=t.coords.latitude+(this.props.schema.divider||",")+t.coords.longitude;this.setState({value:e},()=>{this.onChange(this.props.attr,e)})}else this.getSystemCoordinates()},t=>{console.error(`Cannot determine coordinates from browser: ${t}`),this.getSystemCoordinates()}):this.getSystemCoordinates()}renderItem(t,e){var n,s;return l().createElement(l().Fragment,null,this.props.schema.useSystemName?l().createElement(u.FormControlLabel,{control:l().createElement(u.Checkbox,{checked:!!this.state.useSystem,onChange:o=>{const i=o.target.checked;i&&this.getSystemCoordinates(),this.setState({useSystem:i},()=>this.onChange(this.props.schema.useSystemName,i))}}),label:d.I18n.t("ra_Use system settings for position")}):null,this.props.schema.longitudeName&&this.props.schema.latitudeName?l().createElement(u.TextField,{variant:"standard",style:ot.width50,value:(n=this.state.longitude)!=null?n:"",error:!!t,disabled:this.state.useSystem||!!e,onChange:o=>{const i=o.target.value;this.setState({longitude:i},()=>{this.onChange(this.props.schema.longitudeName,(i||"").trim())})},label:d.I18n.t("ra_Longitude")}):null,this.props.schema.longitudeName&&this.props.schema.latitudeName?l().createElement(u.TextField,{variant:"standard",style:ot.width50,value:(s=this.state.latitude)!=null?s:"",error:!!t,disabled:this.state.useSystem||!!e,onChange:o=>{const i=o.target.value;this.setState({latitude:i},()=>this.onChange(this.props.schema.latitudeName,(i||"").trim()))},label:d.I18n.t("ra_Latitude")}):null,!this.props.schema.longitudeName||!this.props.schema.latitudeName?l().createElement(u.TextField,{variant:"standard",style:ot.width,value:this.state.value===null||this.state.value===void 0?"":this.state.value,error:!!t,disabled:!!e,inputProps:{maxLength:this.props.schema.maxLength||this.props.schema.max||void 0,readOnly:this.state.useSystem},onChange:o=>{const i=o.target.value;this.setState({value:i},()=>this.onChange(this.props.attr,(i||"").trim()))},placeholder:this.getText(this.props.schema.placeholder),label:this.getText(this.props.schema.label),helperText:this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)}):null,this.state.useSystem?null:l().createElement(u.Fab,{size:"small",onClick:()=>this.getCoordinates(),title:d.I18n.t("ra_Take browser position"),style:{marginRight:4}},l().createElement(p.LocationOn,null)),this.state.useSystem?null:l().createElement(u.Fab,{size:"small",onClick:()=>this.getSystemCoordinates(),title:d.I18n.t("ra_Take position from system settings")},l().createElement(p.GpsFixed,null)))}}const On=rt,on=(r,t,e)=>new Promise((n,s)=>{if(window[r])n(window[r]);else{const o=document.querySelector(`script[data-webpack="${r}"]`),i=()=>ct(this,null,function*(){if(window[r])window[r].__initialized||(yield window[r].init(J.S[t]),window[r].__initialized=!0);else{console.error(`Cannot load ${r}`),s(new Error(`Cannot load ${r}`));return}n(window[r])});if(o)o.onload=i,o.onerror=s;else if(e){const a=document,c=a.createElement("script");c.type="text/javascript",c.setAttribute("data-webpack",`${r}`),c.async=!0,c.onerror=s,c.onload=i,c.src=e,a.getElementsByTagName("head")[0].appendChild(c)}else s(new Error(`Cannot Find Remote ${r} to inject`))}});function pt(r,t,e,n){return()=>ct(this,null,function*(){return(yield(yield on(r,t,n)).get(e))()})}const Es=class Es extends v{constructor(t){super(t),Object.assign(this.state,{Component:null,error:""})}componentDidMount(){return ct(this,null,function*(){if(!this.props.schema.url){console.error("URL is empty. Cannot load custom component!"),this.setState({error:"URL is empty. Cannot load custom component!"});return}let t;this.props.schema.url.startsWith("./")?t=`${window.location.protocol}//${window.location.host}${this.props.schema.url.replace(/^\./,"")}`:t=`${window.location.protocol}//${window.location.host}/adapter/${this.props.adapterName}/${this.props.schema.url}`;const[e,n,...s]=this.props.schema.name.split("/"),o=s.join("/");if(!t){console.error('Cannot find URL for custom component! Please define "url" as "custom/customComponents.js" in the schema');return}if(!e||!n||!o){console.error('Invalid format of "name"! Please define "name" as "ConfigCustomBackItUpSet/Components/AdapterExist" in the schema');return}let i=Es.runningLoads[`${t}!${n}`];if(!i){let a;if(this.props.schema.i18n===!0){const c=t.lastIndexOf("/");let h;c!==-1?h=t.substring(0,c):h=t;const y=d.I18n.getLanguage(),g=`${h}/i18n/${y}.json`;a=fetch(g).then(D=>D.json()).then(D=>d.I18n.extendTranslations(D,y)).catch(D=>{if(y!=="en"){fetch(`${h}/i18n/en.json`).then(T=>T.json()).then(T=>d.I18n.extendTranslations(T,y)).catch(T=>console.log(`Cannot load i18n "${g}": ${T}`));return}console.log(`Cannot load i18n "${g}": ${D}`)})}else if(this.props.schema.i18n&&typeof this.props.schema.i18n=="object")try{d.I18n.extendTranslations(this.props.schema.i18n)}catch(c){console.error(`Cannot import i18n: ${c}`)}try{console.log(e,n,o),i=pt(e,"default",`./${n}`,t)(),a&&(i=Promise.all([i,a]).then(c=>c[0])),Es.runningLoads[`${t}!${n}`]=i}catch(c){this.setState({error:`Cannot import from ${this.props.schema.url}: ${c}`})}}try{const a=(yield i).default;if(a!=null&&a[o])this.setState({Component:a[o]});else{const c=Object.keys(a||{});console.error("URL is empty. Cannot load custom component!"),this.setState({error:`Component ${this.props.schema.name} not found in ${this.props.schema.url}. Found: ${c.join(", ")}`})}}catch(a){this.setState({error:`Cannot import from ${this.props.schema.url}: ${a}`})}})}render(){const t=this.state.Component;if(!t){const e=this.props.schema||{},n=l().createElement(u.Grid,{item:!0,xs:e.xs||void 0,lg:e.lg||void 0,md:e.md||void 0,sm:e.sm||void 0,style:Re(Re({marginBottom:0,textAlign:"left"},e.style),this.props.themeType==="dark"?e.darkStyle:{})},this.state.error?l().createElement("div",null,this.state.error):l().createElement(u.LinearProgress,null));return e.newLine?l().createElement(l().Fragment,null,l().createElement("div",{style:{flexBasis:"100%",height:0}}),n):n}return l().createElement(t,Re({},this.props))}};Ne(Es,"runningLoads",{});let Kn=Es;var F=J(58168),W=J(98587),Fs=J(95973),x=J.n(Fs),an=J(5033),q=J(17913),Gn=J(271);const Qn=x().oneOfType([x().func,x().object]),zt=(r,t)=>r.length!==t.length?!1:t.every(e=>r.includes(e)),Nn=({openTo:r,defaultOpenTo:t,views:e,defaultViews:n})=>{const s=e!=null?e:n;let o;if(r!=null)o=r;else if(s.includes(t))o=t;else if(s.length>0)o=s[0];else throw new Error("MUI X: The `views` prop must contain at least one view.");return{views:s,openTo:o}},ft=(r,t,e)=>{let n=t;return n=r.setHours(n,r.getHours(e)),n=r.setMinutes(n,r.getMinutes(e)),n=r.setSeconds(n,r.getSeconds(e)),n},Gt=({date:r,disableFuture:t,disablePast:e,maxDate:n,minDate:s,isDateDisabled:o,utils:i,timezone:a})=>{const c=ft(i,i.date(void 0,a),r);e&&i.isBefore(s,c)&&(s=c),t&&i.isAfter(n,c)&&(n=c);let h=r,y=r;for(i.isBefore(r,s)&&(h=s,y=null),i.isAfter(r,n)&&(y&&(y=n),h=null);h||y;){if(h&&i.isAfter(h,n)&&(h=null),y&&i.isBefore(y,s)&&(y=null),h){if(!o(h))return h;h=i.addDays(h,1)}if(y){if(!o(y))return y;y=i.addDays(y,-1)}}return null},ks=(r,t)=>t==null||!r.isValid(t)?null:t,Jt=(r,t,e)=>t==null||!r.isValid(t)?e:t,Is=(r,t,e)=>!r.isValid(t)&&t!=null&&!r.isValid(e)&&e!=null?!0:r.isEqual(t,e),En=(r,t)=>{const n=[r.startOfYear(t)];for(;n.length<12;){const s=n[n.length-1];n.push(r.addMonths(s,1))}return n},ps=(r,t,e)=>e==="date"?r.startOfDay(r.date(void 0,t)):r.date(void 0,t),hn=(r,t)=>{const e=r.setHours(r.date(),t==="am"?2:14);return r.format(e,"meridiem")},Qs=["year","month","day"],Ps=r=>Qs.includes(r),_=(r,{format:t,views:e},n)=>{if(t!=null)return t;const s=r.formats;return zt(e,["year"])?s.year:zt(e,["month"])?s.month:zt(e,["day"])?s.dayOfMonth:zt(e,["month","year"])?`${s.month} ${s.year}`:zt(e,["day","month"])?`${s.month} ${s.dayOfMonth}`:n?/en/.test(r.getCurrentLocaleCode())?s.normalDateWithWeekday:s.normalDate:s.keyboardDate},re=(r,t)=>{const e=r.startOfWeek(t);return[0,1,2,3,4,5,6].map(n=>r.addDays(e,n))},ze=["hours","minutes","seconds"],Ve=r=>ze.includes(r),et=r=>ze.includes(r)||r==="meridiem",dt=(r,t)=>r?t.getHours(r)>=12?"pm":"am":null,at=(r,t,e)=>e&&(r>=12?"pm":"am")!==t?t==="am"?r-12:r+12:r,Vt=(r,t,e,n)=>{const s=at(n.getHours(r),t,e);return n.setHours(r,s)},Pt=(r,t)=>t.getHours(r)*3600+t.getMinutes(r)*60+t.getSeconds(r),Qt=(r,t)=>(e,n)=>r?t.isAfter(e,n):Pt(e,t)>Pt(n,t),vn=(r,{format:t,views:e,ampm:n})=>{if(t!=null)return t;const s=r.formats;return zt(e,["hours"])?n?`${s.hours12h} ${s.meridiem}`:s.hours24h:zt(e,["minutes"])?s.minutes:zt(e,["seconds"])?s.seconds:zt(e,["minutes","seconds"])?`${s.minutes}:${s.seconds}`:zt(e,["hours","minutes","seconds"])?n?`${s.hours12h}:${s.minutes}:${s.seconds} ${s.meridiem}`:`${s.hours24h}:${s.minutes}:${s.seconds}`:n?`${s.hours12h}:${s.minutes} ${s.meridiem}`:`${s.hours24h}:${s.minutes}`},Ft={year:1,month:2,day:3,hours:4,minutes:5,seconds:6,milliseconds:7},en=r=>Math.max(...r.map(t=>{var e;return(e=Ft[t.type])!=null?e:1})),Mt=(r,t,e)=>{if(t===Ft.year)return r.startOfYear(e);if(t===Ft.month)return r.startOfMonth(e);if(t===Ft.day)return r.startOfDay(e);let n=e;return t<Ft.minutes&&(n=r.setMinutes(n,0)),t<Ft.seconds&&(n=r.setSeconds(n,0)),t<Ft.milliseconds&&(n=r.setMilliseconds(n,0)),n},Sn=({props:r,utils:t,granularity:e,timezone:n,getTodayDate:s})=>{var a;let o=s?s():Mt(t,e,ps(t,n));r.minDate!=null&&t.isAfterDay(r.minDate,o)&&(o=Mt(t,e,r.minDate)),r.maxDate!=null&&t.isBeforeDay(r.maxDate,o)&&(o=Mt(t,e,r.maxDate));const i=Qt((a=r.disableIgnoringDatePartForTimeValidation)!=null?a:!1,t);return r.minTime!=null&&i(r.minTime,o)&&(o=Mt(t,e,r.disableIgnoringDatePartForTimeValidation?r.minTime:ft(t,o,r.minTime))),r.maxTime!=null&&i(o,r.maxTime)&&(o=Mt(t,e,r.disableIgnoringDatePartForTimeValidation?r.maxTime:ft(t,o,r.maxTime))),o},Bn=(r,t)=>{const e=r.formatTokenMap[t];if(e==null)throw new Error([`MUI X: The token "${t}" is not supported by the Date and Time Pickers.`,"Please try using another token or open an issue on https://github.com/mui/mui-x/issues/new/choose if you think it should be supported."].join(`
`));return typeof e=="string"?{type:e,contentType:e==="meridiem"?"letter":"digit",maxLength:void 0}:{type:e.sectionType,contentType:e.contentType,maxLength:e.maxLength}},Xs=r=>{switch(r){case"ArrowUp":return 1;case"ArrowDown":return-1;case"PageUp":return 5;case"PageDown":return-5;default:return 0}},Xn=(r,t,e)=>{const n=[],s=r.date(void 0,t),o=r.startOfWeek(s),i=r.endOfWeek(s);let a=o;for(;r.isBefore(a,i);)n.push(a),a=r.addDays(a,1);return n.map(c=>r.formatByString(c,e))},Ms=(r,t,e,n)=>{switch(e){case"month":return En(r,r.date(void 0,t)).map(s=>r.formatByString(s,n));case"weekDay":return Xn(r,t,n);case"meridiem":{const s=r.date(void 0,t);return[r.startOfDay(s),r.endOfDay(s)].map(o=>r.formatByString(o,n))}default:return[]}},gt="s",_t=["0","1","2","3","4","5","6","7","8","9"],it=r=>{const t=r.date(void 0);return r.formatByString(r.setSeconds(t,0),gt)==="0"?_t:Array.from({length:10}).map((n,s)=>r.formatByString(r.setSeconds(t,s),gt))},St=(r,t)=>{if(t[0]==="0")return r;const e=[];let n="";for(let s=0;s<r.length;s+=1){n+=r[s];const o=t.indexOf(n);o>-1&&(e.push(o.toString()),n="")}return e.join("")},Ht=(r,t)=>t[0]==="0"?r:r.split("").map(e=>t[Number(e)]).join(""),Lt=(r,t)=>{const e=St(r,t);return e!==" "&&!Number.isNaN(Number(e))},mn=(r,t)=>{let e=r;for(e=Number(e).toString();e.length<t;)e=`0${e}`;return e},tn=(r,t,e,n,s)=>{if(s.type==="day"&&s.contentType==="digit-with-letter"){const i=r.setDate(e.longestMonth,t);return r.formatByString(i,s.format)}let o=t.toString();return s.hasLeadingZerosInInput&&(o=mn(o,s.maxLength)),Ht(o,n)},fn=(r,t,e,n,s,o,i,a)=>{const c=Xs(n),h=n==="Home",y=n==="End",g=e.value===""||h||y,D=()=>{const w=s[e.type]({currentDate:i,format:e.format,contentType:e.contentType}),S=K=>tn(r,K,w,o,e),P=e.type==="minutes"&&(a!=null&&a.minutesStep)?a.minutesStep:1;let R=parseInt(St(e.value,o),10)+c*P;if(g){if(e.type==="year"&&!y&&!h)return r.formatByString(r.date(void 0,t),e.format);c>0||h?R=w.minimum:R=w.maximum}return R%P!==0&&((c<0||h)&&(R+=P-(P+R)%P),(c>0||y)&&(R-=R%P)),R>w.maximum?S(w.minimum+(R-w.maximum-1)%(w.maximum-w.minimum+1)):R<w.minimum?S(w.maximum-(w.minimum-R-1)%(w.maximum-w.minimum+1)):S(R)},T=()=>{const w=Ms(r,t,e.type,e.format);if(w.length===0)return e.value;if(g)return c>0||h?w[0]:w[w.length-1];const B=((w.indexOf(e.value)+c)%w.length+w.length)%w.length;return w[B]};return e.contentType==="digit"||e.contentType==="digit-with-letter"?D():T()},ln=(r,t,e)=>{let n=r.value||r.placeholder;const s=t==="non-input"?r.hasLeadingZerosInFormat:r.hasLeadingZerosInInput;return t==="non-input"&&r.hasLeadingZerosInInput&&!r.hasLeadingZerosInFormat&&(n=Number(St(n,e)).toString()),["input-rtl","input-ltr"].includes(t)&&r.contentType==="digit"&&!s&&n.length===1&&(n=`${n}\u200E`),t==="input-rtl"&&(n=`\u2068${n}\u2069`),n},Ln=(r,t,e,n)=>r.formatByString(r.parse(t,e),n),Os=(r,t,e)=>r.formatByString(r.date(void 0,t),e).length===4,Or=(r,t,e,n,s)=>{if(e!=="digit")return!1;const o=r.date(void 0,t);switch(n){case"year":return Os(r,t,s)?r.formatByString(r.setYear(o,1),s)==="0001":r.formatByString(r.setYear(o,2001),s)==="01";case"month":return r.formatByString(r.startOfYear(o),s).length>1;case"day":return r.formatByString(r.startOfMonth(o),s).length>1;case"weekDay":return r.formatByString(r.startOfWeek(o),s).length>1;case"hours":return r.formatByString(r.setHours(o,1),s).length>1;case"minutes":return r.formatByString(r.setMinutes(o,1),s).length>1;case"seconds":return r.formatByString(r.setSeconds(o,1),s).length>1;default:throw new Error("Invalid section type")}},pi=(r,t,e)=>{const n=t.some(c=>c.type==="day"),s=[],o=[];for(let c=0;c<t.length;c+=1){const h=t[c];n&&h.type==="weekDay"||(s.push(h.format),o.push(ln(h,"non-input",e)))}const i=s.join(" "),a=o.join(" ");return r.parse(a,i)},hi=r=>r.map(t=>`${t.startSeparator}${t.value||t.placeholder}${t.endSeparator}`).join(""),mi=(r,t,e)=>{const s=r.map(o=>{const i=ln(o,e?"input-rtl":"input-ltr",t);return`${o.startSeparator}${i}${o.endSeparator}`}).join("");return e?`\u2066${s}\u2069`:s},fi=(r,t,e)=>{const n=r.date(void 0,e),s=r.endOfYear(n),o=r.endOfDay(n),{maxDaysInMonth:i,longestMonth:a}=En(r,n).reduce((c,h)=>{const y=r.getDaysInMonth(h);return y>c.maxDaysInMonth?{maxDaysInMonth:y,longestMonth:h}:c},{maxDaysInMonth:0,longestMonth:null});return{year:({format:c})=>({minimum:0,maximum:Os(r,e,c)?9999:99}),month:()=>({minimum:1,maximum:r.getMonth(s)+1}),day:({currentDate:c})=>({minimum:1,maximum:c!=null&&r.isValid(c)?r.getDaysInMonth(c):i,longestMonth:a}),weekDay:({format:c,contentType:h})=>{if(h==="digit"){const y=Xn(r,e,c).map(Number);return{minimum:Math.min(...y),maximum:Math.max(...y)}}return{minimum:1,maximum:7}},hours:({format:c})=>{const h=r.getHours(o);return St(r.formatByString(r.endOfDay(n),c),t)!==h.toString()?{minimum:1,maximum:Number(St(r.formatByString(r.startOfDay(n),c),t))}:{minimum:0,maximum:h}},minutes:()=>({minimum:0,maximum:r.getMinutes(o)}),seconds:()=>({minimum:0,maximum:r.getSeconds(o)}),meridiem:()=>({minimum:0,maximum:1}),empty:()=>({minimum:0,maximum:0})}};let Zh=!1;const Nr=(r,t)=>{},gi=(r,t,e,n,s)=>{switch(e.type){case"year":return r.setYear(s,r.getYear(n));case"month":return r.setMonth(s,r.getMonth(n));case"weekDay":{const o=Xn(r,t,e.format),i=r.formatByString(n,e.format),a=o.indexOf(i),h=o.indexOf(e.value)-a;return r.addDays(n,h)}case"day":return r.setDate(s,r.getDate(n));case"meridiem":{const o=r.getHours(n)<12,i=r.getHours(s);return o&&i>=12?r.addHours(s,-12):!o&&i<12?r.addHours(s,12):s}case"hours":return r.setHours(s,r.getHours(n));case"minutes":return r.setMinutes(s,r.getMinutes(n));case"seconds":return r.setSeconds(s,r.getSeconds(n));default:return s}},Br={year:1,month:2,day:3,weekDay:4,hours:5,minutes:6,seconds:7,meridiem:8,empty:9},Lr=(r,t,e,n,s,o)=>[...n].sort((i,a)=>Br[i.type]-Br[a.type]).reduce((i,a)=>!o||a.modified?gi(r,t,a,e,i):i,s),yi=()=>navigator.userAgent.toLowerCase().indexOf("android")>-1,Di=(r,t)=>{const e={};if(!t)return r.forEach((c,h)=>{const y=h===0?null:h-1,g=h===r.length-1?null:h+1;e[h]={leftIndex:y,rightIndex:g}}),{neighbors:e,startIndex:0,endIndex:r.length-1};const n={},s={};let o=0,i=0,a=r.length-1;for(;a>=0;){i=r.findIndex((c,h)=>{var y;return h>=o&&((y=c.endSeparator)==null?void 0:y.includes(" "))&&c.endSeparator!==" / "}),i===-1&&(i=r.length-1);for(let c=i;c>=o;c-=1)s[c]=a,n[a]=c,a-=1;o=i+1}return r.forEach((c,h)=>{const y=s[h],g=y===0?null:n[y-1],D=y===r.length-1?null:n[y+1];e[h]={leftIndex:g,rightIndex:D}}),{neighbors:e,startIndex:n[0],endIndex:n[r.length-1]}},Zs=(r,t)=>r==null?null:r==="all"?"all":typeof r=="string"?t.findIndex(e=>e.type===r):r,Ci=(r,t)=>{if(r.value)switch(r.type){case"month":{if(r.contentType==="digit")return t.format(t.setMonth(t.date(),Number(r.value)-1),"month");const e=t.parse(r.value,r.format);return e?t.format(e,"month"):void 0}case"day":return r.contentType==="digit"?t.format(t.setDate(t.startOfYear(t.date()),Number(r.value)),"dayOfMonthFull"):r.value;case"weekDay":return;default:return}},vi=(r,t)=>{if(r.value)switch(r.type){case"weekDay":return r.contentType==="letter"?void 0:Number(r.value);case"meridiem":{const e=t.parse(`01:00 ${r.value}`,`${t.formats.hours12h}:${t.formats.minutes} ${r.format}`);return e?t.getHours(e)>=12?1:0:void 0}case"day":return r.contentType==="digit-with-letter"?parseInt(r.value,10):Number(r.value);case"month":{if(r.contentType==="digit")return Number(r.value);const e=t.parse(r.value,r.format);return e?t.getMonth(e)+1:void 0}default:return r.contentType!=="letter"?Number(r.value):void 0}},bi=["value","referenceDate"],$t={emptyValue:null,getTodayValue:ps,getInitialReferenceValue:r=>{let{value:t,referenceDate:e}=r,n=(0,W.A)(r,bi);return t!=null&&n.utils.isValid(t)?t:e!=null?e:Sn(n)},cleanValue:ks,areValuesEqual:Is,isSameError:(r,t)=>r===t,hasError:r=>r!=null,defaultErrorState:null,getTimezone:(r,t)=>t==null||!r.isValid(t)?null:r.getTimezone(t),setTimezone:(r,t,e)=>e==null?null:r.setTimezone(e,t)},Rr={updateReferenceValue:(r,t,e)=>t==null||!r.isValid(t)?e:t,getSectionsFromValue:(r,t,e,n)=>!r.isValid(t)&&!!e?e:n(t),getV7HiddenInputValueFromSections:hi,getV6InputValueFromSections:mi,getActiveDateManager:(r,t)=>({date:t.value,referenceDate:t.referenceValue,getSections:e=>e,getNewValuesFromNewActiveDate:e=>({value:e,referenceValue:e==null||!r.isValid(e)?t.referenceValue:e})}),parseValueStr:(r,t,e)=>e(r.trim(),t)};var V=J(64922);const xi=["localeText"],qs=f.createContext(null),_r=function(t){var B;const{localeText:e}=t,n=(0,W.A)(t,xi),{utils:s,localeText:o}=(B=f.useContext(qs))!=null?B:{utils:void 0,localeText:void 0},i=(0,q.useThemeProps)({props:n,name:"MuiLocalizationProvider"}),{children:a,dateAdapter:c,dateFormats:h,dateLibInstance:y,adapterLocale:g,localeText:D}=i,T=f.useMemo(()=>(0,F.A)({},D,o,e),[D,o,e]),w=f.useMemo(()=>{if(!c)return s||null;const R=new c({locale:g,formats:h,instance:y});if(!R.isMUIAdapter)throw new Error(["MUI X: The date adapter should be imported from `@mui/x-date-pickers` or `@mui/x-date-pickers-pro`, not from `@date-io`","For example, `import { AdapterDayjs } from '@mui/x-date-pickers/AdapterDayjs'` instead of `import AdapterDayjs from '@date-io/dayjs'`","More information on the installation documentation: https://mui.com/x/react-date-pickers/getting-started/#installation"].join(`
`));return R},[c,g,h,y,s]),S=f.useMemo(()=>w?{minDate:w.date("1900-01-01T00:00:00.000"),maxDate:w.date("2099-12-31T00:00:00.000")}:null,[w]),P=f.useMemo(()=>({utils:w,defaultDates:S,localeText:T}),[S,w,T]);return(0,V.jsx)(qs.Provider,{value:P,children:a})},Ai=r=>({components:{MuiLocalizationProvider:{defaultProps:{localeText:(0,F.A)({},r)}}}}),Vr={previousMonth:"Previous month",nextMonth:"Next month",openPreviousView:"Open previous view",openNextView:"Open next view",calendarViewSwitchingButtonAriaLabel:r=>r==="year"?"year view is open, switch to calendar view":"calendar view is open, switch to year view",start:"Start",end:"End",startDate:"Start date",startTime:"Start time",endDate:"End date",endTime:"End time",cancelButtonLabel:"Cancel",clearButtonLabel:"Clear",okButtonLabel:"OK",todayButtonLabel:"Today",datePickerToolbarTitle:"Select date",dateTimePickerToolbarTitle:"Select date & time",timePickerToolbarTitle:"Select time",dateRangePickerToolbarTitle:"Select date range",clockLabelText:(r,t,e)=>`Select ${r}. ${t===null?"No time selected":`Selected time is ${e.format(t,"fullTime")}`}`,hoursClockNumberText:r=>`${r} hours`,minutesClockNumberText:r=>`${r} minutes`,secondsClockNumberText:r=>`${r} seconds`,selectViewText:r=>`Select ${r}`,calendarWeekNumberHeaderLabel:"Week number",calendarWeekNumberHeaderText:"#",calendarWeekNumberAriaLabelText:r=>`Week ${r}`,calendarWeekNumberText:r=>`${r}`,openDatePickerDialogue:(r,t)=>r!==null&&t.isValid(r)?`Choose date, selected date is ${t.format(r,"fullDate")}`:"Choose date",openTimePickerDialogue:(r,t)=>r!==null&&t.isValid(r)?`Choose time, selected time is ${t.format(r,"fullTime")}`:"Choose time",fieldClearLabel:"Clear value",timeTableLabel:"pick time",dateTableLabel:"pick date",fieldYearPlaceholder:r=>"Y".repeat(r.digitAmount),fieldMonthPlaceholder:r=>r.contentType==="letter"?"MMMM":"MM",fieldDayPlaceholder:()=>"DD",fieldWeekDayPlaceholder:r=>r.contentType==="letter"?"EEEE":"EE",fieldHoursPlaceholder:()=>"hh",fieldMinutesPlaceholder:()=>"mm",fieldSecondsPlaceholder:()=>"ss",fieldMeridiemPlaceholder:()=>"aa",year:"Year",month:"Month",day:"Day",weekDay:"Week day",hours:"Hours",minutes:"Minutes",seconds:"Seconds",meridiem:"Meridiem",empty:"Empty"},wi=Vr,qh=Ai(Vr),Rn=()=>{const r=f.useContext(qs);if(r===null)throw new Error(["MUI X: Can not find the date and time pickers localization context.","It looks like you forgot to wrap your component in LocalizationProvider.","This can also happen if you are bundling multiple versions of the `@mui/x-date-pickers` package"].join(`
`));if(r.utils===null)throw new Error(["MUI X: Can not find the date and time pickers adapter from its localization context.","It looks like you forgot to pass a `dateAdapter` to your LocalizationProvider."].join(`
`));const t=f.useMemo(()=>(0,F.A)({},wi,r.localeText),[r.localeText]);return f.useMemo(()=>(0,F.A)({},r,{localeText:t}),[r,t])},ht=()=>Rn().utils,hs=()=>Rn().defaultDates,jt=()=>Rn().localeText,_n=r=>{const t=ht(),e=f.useRef();return e.current===void 0&&(e.current=t.date(void 0,r)),e.current};var vt=J(74984),Fn=J(55437),mt=J(86249),yt=J(35583),Dt=J(95227);function $r(r){return(0,yt.Ay)("MuiPickersToolbar",r)}const em=(0,Dt.A)("MuiPickersToolbar",["root","content"]),Ei=["children","className","toolbarTitle","hidden","titleId","isLandscape","classes","landscapeDirection"],Si=r=>{const{classes:t,isLandscape:e}=r,n={root:["root"],content:["content"],penIconButton:["penIconButton",e&&"penIconButtonLandscape"]};return(0,mt.A)(n,$r,t)},Fi=(0,q.styled)("div",{name:"MuiPickersToolbar",slot:"Root",overridesResolver:(r,t)=>t.root})(({theme:r})=>({display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"space-between",padding:r.spacing(2,3),variants:[{props:{isLandscape:!0},style:{height:"auto",maxWidth:160,padding:16,justifyContent:"flex-start",flexWrap:"wrap"}}]})),Ti=(0,q.styled)("div",{name:"MuiPickersToolbar",slot:"Content",overridesResolver:(r,t)=>t.content})({display:"flex",flexWrap:"wrap",width:"100%",flex:1,justifyContent:"space-between",alignItems:"center",flexDirection:"row",variants:[{props:{isLandscape:!0},style:{justifyContent:"flex-start",alignItems:"flex-start",flexDirection:"column"}},{props:{isLandscape:!0,landscapeDirection:"row"},style:{flexDirection:"row"}}]}),jr=f.forwardRef(function(t,e){const n=(0,q.useThemeProps)({props:t,name:"MuiPickersToolbar"}),{children:s,className:o,toolbarTitle:i,hidden:a,titleId:c}=n,h=(0,W.A)(n,Ei),y=n,g=Si(y);return a?null:(0,V.jsxs)(Fi,(0,F.A)({ref:e,className:(0,vt.A)(g.root,o),ownerState:y},h,{children:[(0,V.jsx)(Fn.A,{color:"text.secondary",variant:"overline",id:c,children:i}),(0,V.jsx)(Ti,{className:g.content,ownerState:y,children:s})]}))});function ki(r){return(0,yt.Ay)("MuiDatePickerToolbar",r)}const tm=(0,Dt.A)("MuiDatePickerToolbar",["root","title"]),Ii=["value","isLandscape","onChange","toolbarFormat","toolbarPlaceholder","views","className","onViewChange","view"],Pi=r=>{const{classes:t}=r,e={root:["root"],title:["title"]};return(0,mt.A)(e,ki,t)},Mi=(0,q.styled)(jr,{name:"MuiDatePickerToolbar",slot:"Root",overridesResolver:(r,t)=>t.root})({}),Oi=(0,q.styled)(Fn.A,{name:"MuiDatePickerToolbar",slot:"Title",overridesResolver:(r,t)=>t.title})({variants:[{props:{isLandscape:!0},style:{margin:"auto 16px auto auto"}}]}),Ni=f.forwardRef(function(t,e){const n=(0,q.useThemeProps)({props:t,name:"MuiDatePickerToolbar"}),{value:s,isLandscape:o,toolbarFormat:i,toolbarPlaceholder:a="\u2013\u2013",views:c,className:h}=n,y=(0,W.A)(n,Ii),g=ht(),D=jt(),T=Pi(n),w=f.useMemo(()=>{if(!s)return a;const P=_(g,{format:i,views:c},!0);return g.formatByString(s,P)},[s,i,a,g,c]),S=n;return(0,V.jsx)(Mi,(0,F.A)({ref:e,toolbarTitle:D.datePickerToolbarTitle,isLandscape:o,className:(0,vt.A)(T.root,h)},y,{children:(0,V.jsx)(Oi,{variant:"h4",align:o?"left":"center",ownerState:S,className:T.title,children:w})}))});function Wr(r,t){var i,a;const e=ht(),n=hs(),s=(0,q.useThemeProps)({props:r,name:t}),o=f.useMemo(()=>{var c;return((c=s.localeText)==null?void 0:c.toolbarTitle)==null?s.localeText:(0,F.A)({},s.localeText,{datePickerToolbarTitle:s.localeText.toolbarTitle})},[s.localeText]);return(0,F.A)({},s,{localeText:o},Nn({views:s.views,openTo:s.openTo,defaultViews:["year","day"],defaultOpenTo:"day"}),{disableFuture:(i=s.disableFuture)!=null?i:!1,disablePast:(a=s.disablePast)!=null?a:!1,minDate:Jt(e,s.minDate,n.minDate),maxDate:Jt(e,s.maxDate,n.maxDate),slots:(0,F.A)({toolbar:Ni},s.slots)})}const Ns=({props:r,value:t,adapter:e})=>{if(t===null)return null;const{shouldDisableDate:n,shouldDisableMonth:s,shouldDisableYear:o,disablePast:i,disableFuture:a,timezone:c}=r,h=e.utils.date(void 0,c),y=Jt(e.utils,r.minDate,e.defaultDates.minDate),g=Jt(e.utils,r.maxDate,e.defaultDates.maxDate);switch(!0){case!e.utils.isValid(t):return"invalidDate";case!!(n&&n(t)):return"shouldDisableDate";case!!(s&&s(t)):return"shouldDisableMonth";case!!(o&&o(t)):return"shouldDisableYear";case!!(a&&e.utils.isAfterDay(t,h)):return"disableFuture";case!!(i&&e.utils.isBeforeDay(t,h)):return"disablePast";case!!(y&&e.utils.isBeforeDay(t,y)):return"minDate";case!!(g&&e.utils.isAfterDay(t,g)):return"maxDate";default:return null}};var Ct=J(6045),Ur=J(82735),Zn=J(25325),Yt=J(33769),qn=J(81019),Bi=J(86193),Bs=J(67987),Li=J(21593),Ri=J(99705),_i=J(58289),Ue=J(16745),er=J(41011);function Vi(r){return(0,yt.Ay)("MuiPickersPopper",r)}const nm=(0,Dt.A)("MuiPickersPopper",["root","paper"]);function es(r,t){return Array.isArray(t)?t.every(e=>r.indexOf(e)!==-1):r.indexOf(t)!==-1}const $i=(r,t)=>e=>{(e.key==="Enter"||e.key===" ")&&(r(e),e.preventDefault(),e.stopPropagation()),t&&t(e)},sm=r=>{setTimeout(r,0)},nn=(r=document)=>{const t=r.activeElement;return t?t.shadowRoot?nn(t.shadowRoot):t:null},Hr="@media (pointer: fine)",ji="@media (prefers-reduced-motion: reduce)",ts=typeof navigator!="undefined"&&navigator.userAgent.match(/android\s(\d+)|OS\s(\d+)/i),zr=ts&&ts[1]?parseInt(ts[1],10):null,Jr=ts&&ts[2]?parseInt(ts[2],10):null,Wi=zr&&zr<10||Jr&&Jr<13||!1,Yr=()=>(0,an.A)(ji,{defaultMatches:!1})||Wi,Ui=["PaperComponent","popperPlacement","ownerState","children","paperSlotProps","paperClasses","onPaperClick","onPaperTouchStart"],Hi=r=>{const{classes:t}=r,e={root:["root"],paper:["paper"]};return(0,mt.A)(e,Vi,t)},zi=(0,q.styled)(Ri.A,{name:"MuiPickersPopper",slot:"Root",overridesResolver:(r,t)=>t.root})(({theme:r})=>({zIndex:r.zIndex.modal})),Ji=(0,q.styled)(Li.A,{name:"MuiPickersPopper",slot:"Paper",overridesResolver:(r,t)=>t.paper})({outline:0,transformOrigin:"top center",variants:[{props:({placement:r})=>["top","top-start","top-end"].includes(r),style:{transformOrigin:"bottom center"}}]});function Yi(r,t){return t.documentElement.clientWidth<r.clientX||t.documentElement.clientHeight<r.clientY}function Ki(r,t){const e=f.useRef(!1),n=f.useRef(!1),s=f.useRef(null),o=f.useRef(!1);f.useEffect(()=>{if(!r)return;function c(){o.current=!0}return document.addEventListener("mousedown",c,!0),document.addEventListener("touchstart",c,!0),()=>{document.removeEventListener("mousedown",c,!0),document.removeEventListener("touchstart",c,!0),o.current=!1}},[r]);const i=(0,Ue.A)(c=>{if(!o.current)return;const h=n.current;n.current=!1;const y=(0,er.A)(s.current);if(!s.current||"clientX"in c&&Yi(c,y))return;if(e.current){e.current=!1;return}let g;c.composedPath?g=c.composedPath().indexOf(s.current)>-1:g=!y.documentElement.contains(c.target)||s.current.contains(c.target),!g&&!h&&t(c)}),a=()=>{n.current=!0};return f.useEffect(()=>{if(r){const c=(0,er.A)(s.current),h=()=>{e.current=!0};return c.addEventListener("touchstart",i),c.addEventListener("touchmove",h),()=>{c.removeEventListener("touchstart",i),c.removeEventListener("touchmove",h)}}},[r,i]),f.useEffect(()=>{if(r){const c=(0,er.A)(s.current);return c.addEventListener("click",i),()=>{c.removeEventListener("click",i),n.current=!1}}},[r,i]),[s,a,a]}const Gi=f.forwardRef((r,t)=>{const{PaperComponent:e,popperPlacement:n,ownerState:s,children:o,paperSlotProps:i,paperClasses:a,onPaperClick:c,onPaperTouchStart:h}=r,y=(0,W.A)(r,Ui),g=(0,F.A)({},s,{placement:n}),D=(0,Ct.Q)({elementType:e,externalSlotProps:i,additionalProps:{tabIndex:-1,elevation:8,ref:t},className:a,ownerState:g});return(0,V.jsx)(e,(0,F.A)({},y,D,{onClick:T=>{var w;c(T),(w=D.onClick)==null||w.call(D,T)},onTouchStart:T=>{var w;h(T),(w=D.onTouchStart)==null||w.call(D,T)},ownerState:g,children:o}))});function Qi(r){var oe,we,je,Le;const t=(0,q.useThemeProps)({props:r,name:"MuiPickersPopper"}),{anchorEl:e,children:n,containerRef:s=null,shouldRestoreFocus:o,onBlur:i,onDismiss:a,open:c,role:h,placement:y,slots:g,slotProps:D,reduceAnimations:T}=t;f.useEffect(()=>{function Pe(Oe){c&&Oe.key==="Escape"&&a()}return document.addEventListener("keydown",Pe),()=>{document.removeEventListener("keydown",Pe)}},[a,c]);const w=f.useRef(null);f.useEffect(()=>{h==="tooltip"||o&&!o()||(c?w.current=nn(document):w.current&&w.current instanceof HTMLElement&&setTimeout(()=>{w.current instanceof HTMLElement&&w.current.focus()}))},[c,h,o]);const[S,P,B]=Ki(c,i!=null?i:a),R=f.useRef(null),K=(0,Yt.A)(R,s),Y=(0,Yt.A)(K,S),Z=t,X=Hi(Z),z=Yr(),G=T!=null?T:z,De=Pe=>{Pe.key==="Escape"&&(Pe.stopPropagation(),a())},ee=((oe=g==null?void 0:g.desktopTransition)!=null?oe:G)?Bs.A:Bi.A,de=(we=g==null?void 0:g.desktopTrapFocus)!=null?we:_i.s,Se=(je=g==null?void 0:g.desktopPaper)!=null?je:Ji,pe=(Le=g==null?void 0:g.popper)!=null?Le:zi,Ae=(0,Ct.Q)({elementType:pe,externalSlotProps:D==null?void 0:D.popper,additionalProps:{transition:!0,role:h,open:c,anchorEl:e,placement:y,onKeyDown:De},className:X.root,ownerState:t});return(0,V.jsx)(pe,(0,F.A)({},Ae,{children:({TransitionProps:Pe,placement:Oe})=>(0,V.jsx)(de,(0,F.A)({open:c,disableAutoFocus:!0,disableRestoreFocus:!0,disableEnforceFocus:h==="tooltip",isEnabled:()=>!0},D==null?void 0:D.desktopTrapFocus,{children:(0,V.jsx)(ee,(0,F.A)({},Pe,D==null?void 0:D.desktopTransition,{children:(0,V.jsx)(Gi,{PaperComponent:Se,ownerState:Z,popperPlacement:Oe,ref:Y,onPaperClick:P,onPaperTouchStart:B,paperClasses:X.paper,paperSlotProps:D==null?void 0:D.desktopPaper,children:n})}))}))}))}const Xi=({open:r,onOpen:t,onClose:e})=>{const n=f.useRef(typeof r=="boolean").current,[s,o]=f.useState(!1);f.useEffect(()=>{if(n){if(typeof r!="boolean")throw new Error("You must not mix controlling and uncontrolled mode for `open` prop");o(r)}},[n,r]);const i=f.useCallback(a=>{n||o(a),a&&t&&t(),!a&&e&&e()},[n,t,e]);return{isOpen:s,setIsOpen:i}};function Kr(r,t,e,n){const{value:s,onError:o}=r,i=Rn(),a=f.useRef(n),c=t({adapter:i,value:s,props:r});return f.useEffect(()=>{o&&!e(c,a.current)&&o(c,s),a.current=c},[e,o,a,c,s]),c}var Vn=J(40243);const tr=({timezone:r,value:t,defaultValue:e,onChange:n,valueManager:s})=>{var T,w;const o=ht(),i=f.useRef(e),a=(T=t!=null?t:i.current)!=null?T:s.emptyValue,c=f.useMemo(()=>s.getTimezone(o,a),[o,s,a]),h=(0,Ue.A)(S=>c==null?S:s.setTimezone(o,c,S)),y=(w=r!=null?r:c)!=null?w:"default",g=f.useMemo(()=>s.setTimezone(o,y,a),[s,o,y,a]),D=(0,Ue.A)((S,...P)=>{const B=h(S);n==null||n(B,...P)});return{value:g,handleValueChange:D,timezone:y}},ns=({name:r,timezone:t,value:e,defaultValue:n,onChange:s,valueManager:o})=>{const[i,a]=(0,Vn.A)({name:r,state:"value",controlled:e,default:n!=null?n:o.emptyValue}),c=(0,Ue.A)((h,...y)=>{a(h),s==null||s(h,...y)});return tr({timezone:t,value:i,defaultValue:void 0,onChange:c,valueManager:o})},Zi=r=>{const{action:t,hasChanged:e,dateState:n,isControlled:s}=r,o=!s&&!n.hasBeenModifiedSinceMount;return t.name==="setValueFromField"?!0:t.name==="setValueFromAction"?o&&["accept","today","clear"].includes(t.pickerAction)?!0:e(n.lastPublishedValue):t.name==="setValueFromView"&&t.selectionState!=="shallow"||t.name==="setValueFromShortcut"?o?!0:e(n.lastPublishedValue):!1},qi=r=>{const{action:t,hasChanged:e,dateState:n,isControlled:s,closeOnSelect:o}=r,i=!s&&!n.hasBeenModifiedSinceMount;return t.name==="setValueFromAction"?i&&["accept","today","clear"].includes(t.pickerAction)?!0:e(n.lastCommittedValue):t.name==="setValueFromView"&&t.selectionState==="finish"&&o?i?!0:e(n.lastCommittedValue):t.name==="setValueFromShortcut"?t.changeImportance==="accept"&&e(n.lastCommittedValue):!1},ea=r=>{const{action:t,closeOnSelect:e}=r;return t.name==="setValueFromAction"?!0:t.name==="setValueFromView"?t.selectionState==="finish"&&e:t.name==="setValueFromShortcut"?t.changeImportance==="accept":!1},ta=({props:r,valueManager:t,valueType:e,wrapperVariant:n,validator:s})=>{const{onAccept:o,onChange:i,value:a,defaultValue:c,closeOnSelect:h=n==="desktop",timezone:y}=r,{current:g}=f.useRef(c),{current:D}=f.useRef(a!==void 0),T=ht(),w=Rn(),{isOpen:S,setIsOpen:P}=Xi(r),{timezone:B,value:R,handleValueChange:K}=tr({timezone:y,value:a,defaultValue:g,onChange:i,valueManager:t}),[Y,Z]=f.useState(()=>{let Ee;return R!==void 0?Ee=R:g!==void 0?Ee=g:Ee=t.emptyValue,{draft:Ee,lastPublishedValue:Ee,lastCommittedValue:Ee,lastControlledValue:R,hasBeenModifiedSinceMount:!1}});Kr((0,F.A)({},r,{value:Y.draft,timezone:B}),s,t.isSameError,t.defaultErrorState);const X=(0,Ue.A)(Ee=>{const Ye={action:Ee,dateState:Y,hasChanged:He=>!t.areValuesEqual(T,Ee.value,He),isControlled:D,closeOnSelect:h},se=Zi(Ye),he=qi(Ye),_e=ea(Ye);Z(He=>(0,F.A)({},He,{draft:Ee.value,lastPublishedValue:se?Ee.value:He.lastPublishedValue,lastCommittedValue:he?Ee.value:He.lastCommittedValue,hasBeenModifiedSinceMount:!0}));let Me=null;const Ze=()=>(Me||(Me={validationError:Ee.name==="setValueFromField"?Ee.context.validationError:s({adapter:w,value:Ee.value,props:(0,F.A)({},r,{value:Ee.value,timezone:B})})},Ee.name==="setValueFromShortcut"&&(Me.shortcut=Ee.shortcut)),Me);se&&K(Ee.value,Ze()),he&&o&&o(Ee.value,Ze()),_e&&P(!1)});if(R!==void 0&&(Y.lastControlledValue===void 0||!t.areValuesEqual(T,Y.lastControlledValue,R))){const Ee=t.areValuesEqual(T,Y.draft,R);Z(Ye=>(0,F.A)({},Ye,{lastControlledValue:R},Ee?{}:{lastCommittedValue:R,lastPublishedValue:R,draft:R,hasBeenModifiedSinceMount:!0}))}const z=(0,Ue.A)(()=>{X({value:t.emptyValue,name:"setValueFromAction",pickerAction:"clear"})}),G=(0,Ue.A)(()=>{X({value:Y.lastPublishedValue,name:"setValueFromAction",pickerAction:"accept"})}),De=(0,Ue.A)(()=>{X({value:Y.lastPublishedValue,name:"setValueFromAction",pickerAction:"dismiss"})}),ee=(0,Ue.A)(()=>{X({value:Y.lastCommittedValue,name:"setValueFromAction",pickerAction:"cancel"})}),de=(0,Ue.A)(()=>{X({value:t.getTodayValue(T,B,e),name:"setValueFromAction",pickerAction:"today"})}),Se=(0,Ue.A)(Ee=>{Ee.preventDefault(),P(!0)}),pe=(0,Ue.A)(Ee=>{Ee==null||Ee.preventDefault(),P(!1)}),Ae=(0,Ue.A)((Ee,Ye="partial")=>X({name:"setValueFromView",value:Ee,selectionState:Ye})),oe=(0,Ue.A)((Ee,Ye,se)=>X({name:"setValueFromShortcut",value:Ee,changeImportance:Ye,shortcut:se})),we=(0,Ue.A)((Ee,Ye)=>X({name:"setValueFromField",value:Ee,context:Ye})),je={onClear:z,onAccept:G,onDismiss:De,onCancel:ee,onSetToday:de,onOpen:Se,onClose:pe},Le={value:Y.draft,onChange:we},Pe=f.useMemo(()=>t.cleanValue(T,Y.draft),[T,t,Y.draft]),Oe={value:Pe,onChange:Ae,onClose:pe,open:S},Je=Ee=>{const Ye=s({adapter:w,value:Ee,props:(0,F.A)({},r,{value:Ee,timezone:B})});return!t.hasError(Ye)},Xe=(0,F.A)({},je,{value:Pe,onChange:Ae,onSelectShortcut:oe,isValid:Je});return{open:S,fieldProps:Le,viewProps:Oe,layoutProps:Xe,actions:je}};var bn=J(55791);let rm=!1;function ms({onChange:r,onViewChange:t,openTo:e,view:n,views:s,autoFocus:o,focusedView:i,onFocusedViewChange:a}){var z,G;const c=f.useRef(e),h=f.useRef(s),y=f.useRef(s.includes(e)?e:s[0]),[g,D]=(0,Vn.A)({name:"useViews",state:"view",controlled:n,default:y.current}),T=f.useRef(o?g:null),[w,S]=(0,Vn.A)({name:"useViews",state:"focusedView",controlled:i,default:T.current});f.useEffect(()=>{(c.current&&c.current!==e||h.current&&h.current.some(De=>!s.includes(De)))&&(D(s.includes(e)?e:s[0]),h.current=s,c.current=e)},[e,D,g,s]);const P=s.indexOf(g),B=(z=s[P-1])!=null?z:null,R=(G=s[P+1])!=null?G:null,K=(0,Ue.A)((De,ee)=>{S(ee?De:de=>De===de?null:de),a==null||a(De,ee)}),Y=(0,Ue.A)(De=>{K(De,!0),De!==g&&(D(De),t&&t(De))}),Z=(0,Ue.A)(()=>{R&&Y(R)}),X=(0,Ue.A)((De,ee,de)=>{const Se=ee==="finish",pe=de?s.indexOf(de)<s.length-1:!!R;if(r(De,Se&&pe?"partial":ee,de),de&&de!==g){const oe=s[s.indexOf(de)+1];oe&&Y(oe)}else Se&&Z()});return{view:g,setView:Y,focusedView:w,setFocusedView:K,nextView:R,previousView:B,defaultView:s.includes(e)?e:s[0],goToNextView:Z,setValueAndGoToNextView:X}}const na=["className","sx"],sa=({props:r,propsFromPickerValue:t,additionalViewProps:e,autoFocusView:n,rendererInterceptor:s,fieldRef:o})=>{const{onChange:i,open:a,onClose:c}=t,{view:h,views:y,openTo:g,onViewChange:D,viewRenderers:T,timezone:w}=r,S=(0,W.A)(r,na),{view:P,setView:B,defaultView:R,focusedView:K,setFocusedView:Y,setValueAndGoToNextView:Z}=ms({view:h,views:y,openTo:g,onChange:i,onViewChange:D,autoFocus:n}),{hasUIView:X,viewModeLookup:z}=f.useMemo(()=>y.reduce((Ae,oe)=>{let we;return T[oe]!=null?we="UI":we="field",Ae.viewModeLookup[oe]=we,we==="UI"&&(Ae.hasUIView=!0),Ae},{hasUIView:!1,viewModeLookup:{}}),[T,y]),G=f.useMemo(()=>y.reduce((Ae,oe)=>T[oe]!=null&&Ve(oe)?Ae+1:Ae,0),[T,y]),De=z[P],ee=(0,Ue.A)(()=>De==="UI"),[de,Se]=f.useState(De==="UI"?P:null);return de!==P&&z[P]==="UI"&&Se(P),(0,bn.A)(()=>{De==="field"&&a&&(c(),setTimeout(()=>{var Ae,oe;(Ae=o==null?void 0:o.current)==null||Ae.setSelectedSections(P),(oe=o==null?void 0:o.current)==null||oe.focusField(P)}))},[P]),(0,bn.A)(()=>{if(!a)return;let Ae=P;De==="field"&&de!=null&&(Ae=de),Ae!==R&&z[Ae]==="UI"&&z[R]==="UI"&&(Ae=R),Ae!==P&&B(Ae),Y(Ae,!0)},[a]),{hasUIView:X,shouldRestoreFocus:ee,layoutProps:{views:y,view:de,onViewChange:B},renderCurrentView:()=>{if(de==null)return null;const Ae=T[de];if(Ae==null)return null;const oe=(0,F.A)({},S,e,t,{views:y,timezone:w,onChange:Z,view:de,onViewChange:B,focusedView:K,onFocusedViewChange:Y,showViewSwitcher:G>1,timeViewsCount:G});return s?s(T,de,oe):Ae(oe)}}};var cn=J(49262);function Gr(){return typeof window=="undefined"?"portrait":window.screen&&window.screen.orientation&&window.screen.orientation.angle?Math.abs(window.screen.orientation.angle)===90?"landscape":"portrait":window.orientation&&Math.abs(Number(window.orientation))===90?"landscape":"portrait"}const ra=(r,t)=>{const[e,n]=f.useState(Gr);return(0,bn.A)(()=>{const o=()=>{n(Gr())};return window.addEventListener("orientationchange",o),()=>{window.removeEventListener("orientationchange",o)}},[]),es(r,["hours","minutes","seconds"])?!1:(t||e)==="landscape"},oa=({props:r,propsFromPickerValue:t,propsFromPickerViews:e,wrapperVariant:n})=>{const{orientation:s}=r,o=ra(e.views,s),i=(0,cn.I)();return{layoutProps:(0,F.A)({},e,t,{isLandscape:o,isRtl:i,wrapperVariant:n,disabled:r.disabled,readOnly:r.readOnly})}},om=r=>{let t=!1;return()=>{}},am=((r,t="warning")=>{let e=!1;const n=Array.isArray(r)?r.join(`
`):r;return()=>{e||(e=!0,t==="error"?console.error(n):console.warn(n))}})(["The `renderInput` prop has been removed in version 6.0 of the Date and Time Pickers.","You can replace it with the `textField` component slot in most cases.","For more information, please have a look at the migration guide (https://mui.com/x/migration/migration-pickers-v5/#input-renderer-required-in-v5)."]),Qr=({props:r,valueManager:t,valueType:e,wrapperVariant:n,additionalViewProps:s,validator:o,autoFocusView:i,rendererInterceptor:a,fieldRef:c})=>{const h=ta({props:r,valueManager:t,valueType:e,wrapperVariant:n,validator:o}),y=sa({props:r,additionalViewProps:s,autoFocusView:i,fieldRef:c,propsFromPickerValue:h.viewProps,rendererInterceptor:a}),g=oa({props:r,wrapperVariant:n,propsFromPickerValue:h.layoutProps,propsFromPickerViews:y.layoutProps});return{open:h.open,actions:h.actions,fieldProps:h.fieldProps,renderCurrentView:y.renderCurrentView,hasUIView:y.hasUIView,shouldRestoreFocus:y.shouldRestoreFocus,layoutProps:g.layoutProps}};function Xr(r){return(0,yt.Ay)("MuiPickersLayout",r)}const $n=(0,Dt.A)("MuiPickersLayout",["root","landscape","contentWrapper","toolbar","actionBar","tabs","shortcuts"]);var fs=J(12811),ia=J(59589);const aa=["onAccept","onClear","onCancel","onSetToday","actions"];function la(r){const{onAccept:t,onClear:e,onCancel:n,onSetToday:s,actions:o}=r,i=(0,W.A)(r,aa),a=jt();if(o==null||o.length===0)return null;const c=o==null?void 0:o.map(h=>{switch(h){case"clear":return(0,V.jsx)(fs.A,{onClick:e,children:a.clearButtonLabel},h);case"cancel":return(0,V.jsx)(fs.A,{onClick:n,children:a.cancelButtonLabel},h);case"accept":return(0,V.jsx)(fs.A,{onClick:t,children:a.okButtonLabel},h);case"today":return(0,V.jsx)(fs.A,{onClick:s,children:a.todayButtonLabel},h);default:return null}});return(0,V.jsx)(ia.A,(0,F.A)({},i,{children:c}))}var ca=J(6319),ua=J(28677),da=J(49813);const gs=36,Ls=2,Rs=320,pa=280,nr=336,Zr=232,ha=48,ma=["items","changeImportance","isLandscape","onChange","isValid"],fa=["getValue"];function ga(r){const{items:t,changeImportance:e="accept",onChange:n,isValid:s}=r,o=(0,W.A)(r,ma);if(t==null||t.length===0)return null;const i=t.map(a=>{let{getValue:c}=a,h=(0,W.A)(a,fa);const y=c({isValid:s});return(0,F.A)({},h,{label:h.label,onClick:()=>{n(y,e,h)},disabled:!s(y)})});return(0,V.jsx)(ca.A,(0,F.A)({dense:!0,sx:[{maxHeight:nr,maxWidth:200,overflow:"auto"},...Array.isArray(o.sx)?o.sx:[o.sx]]},o,{children:i.map(a=>{var c;return(0,V.jsx)(ua.Ay,{children:(0,V.jsx)(da.A,(0,F.A)({},a))},(c=a.id)!=null?c:a.label)})}))}function ya(r){return r.view!==null}const Da=r=>{const{classes:t,isLandscape:e}=r,n={root:["root",e&&"landscape"],contentWrapper:["contentWrapper"],toolbar:["toolbar"],actionBar:["actionBar"],tabs:["tabs"],landscape:["landscape"],shortcuts:["shortcuts"]};return(0,mt.A)(n,Xr,t)},Ca=r=>{var we,je;const{wrapperVariant:t,onAccept:e,onClear:n,onCancel:s,onSetToday:o,view:i,views:a,onViewChange:c,value:h,onChange:y,onSelectShortcut:g,isValid:D,isLandscape:T,disabled:w,readOnly:S,children:P,slots:B,slotProps:R}=r,K=Da(r),Y=(we=B==null?void 0:B.actionBar)!=null?we:la,Z=(0,Ct.Q)({elementType:Y,externalSlotProps:R==null?void 0:R.actionBar,additionalProps:{onAccept:e,onClear:n,onCancel:s,onSetToday:o,actions:t==="desktop"?[]:["cancel","accept"]},className:K.actionBar,ownerState:(0,F.A)({},r,{wrapperVariant:t})}),X=(0,V.jsx)(Y,(0,F.A)({},Z)),z=B==null?void 0:B.toolbar,G=(0,Ct.Q)({elementType:z,externalSlotProps:R==null?void 0:R.toolbar,additionalProps:{isLandscape:T,onChange:y,value:h,view:i,onViewChange:c,views:a,disabled:w,readOnly:S},className:K.toolbar,ownerState:(0,F.A)({},r,{wrapperVariant:t})}),De=ya(G)&&z?(0,V.jsx)(z,(0,F.A)({},G)):null,ee=P,de=B==null?void 0:B.tabs,Se=i&&de?(0,V.jsx)(de,(0,F.A)({view:i,onViewChange:c,className:K.tabs},R==null?void 0:R.tabs)):null,pe=(je=B==null?void 0:B.shortcuts)!=null?je:ga,Ae=(0,Ct.Q)({elementType:pe,externalSlotProps:R==null?void 0:R.shortcuts,additionalProps:{isValid:D,isLandscape:T,onChange:g},className:K.shortcuts,ownerState:{isValid:D,isLandscape:T,onChange:g,wrapperVariant:t}}),oe=i&&pe?(0,V.jsx)(pe,(0,F.A)({},Ae)):null;return{toolbar:De,content:ee,tabs:Se,actionBar:X,shortcuts:oe}},va=r=>{const{isLandscape:t,classes:e}=r,n={root:["root",t&&"landscape"],contentWrapper:["contentWrapper"]};return(0,mt.A)(n,Xr,e)},ba=(0,q.styled)("div",{name:"MuiPickersLayout",slot:"Root",overridesResolver:(r,t)=>t.root})({display:"grid",gridAutoColumns:"max-content auto max-content",gridAutoRows:"max-content auto max-content",[`& .${$n.actionBar}`]:{gridColumn:"1 / 4",gridRow:3},variants:[{props:{isLandscape:!0},style:{[`& .${$n.toolbar}`]:{gridColumn:1,gridRow:"2 / 3"},[`.${$n.shortcuts}`]:{gridColumn:"2 / 4",gridRow:1}}},{props:{isLandscape:!0,isRtl:!0},style:{[`& .${$n.toolbar}`]:{gridColumn:3}}},{props:{isLandscape:!1},style:{[`& .${$n.toolbar}`]:{gridColumn:"2 / 4",gridRow:1},[`& .${$n.shortcuts}`]:{gridColumn:1,gridRow:"2 / 3"}}},{props:{isLandscape:!1,isRtl:!0},style:{[`& .${$n.shortcuts}`]:{gridColumn:3}}}]}),xa=(0,q.styled)("div",{name:"MuiPickersLayout",slot:"ContentWrapper",overridesResolver:(r,t)=>t.contentWrapper})({gridColumn:2,gridRow:2,display:"flex",flexDirection:"column"}),qr=function(t){const e=(0,q.useThemeProps)({props:t,name:"MuiPickersLayout"}),{toolbar:n,content:s,tabs:o,actionBar:i,shortcuts:a}=Ca(e),{sx:c,className:h,isLandscape:y,ref:g,wrapperVariant:D}=e,T=va(e);return(0,V.jsxs)(ba,{ref:g,sx:c,className:(0,vt.A)(h,T.root),ownerState:e,children:[y?a:n,y?n:a,(0,V.jsx)(xa,{className:T.contentWrapper,children:D==="desktop"?(0,V.jsxs)(f.Fragment,{children:[s,o]}):(0,V.jsxs)(f.Fragment,{children:[o,s]})}),i]})},Aa=["props","getOpenDialogAriaText"],wa=["ownerState"],Ea=["ownerState"],eo=r=>{var ne,Ce,be,ke,xe;let{props:t,getOpenDialogAriaText:e}=r,n=(0,W.A)(r,Aa);const{slots:s,slotProps:o,className:i,sx:a,format:c,formatDensity:h,enableAccessibleFieldDOMStructure:y,selectedSections:g,onSelectedSectionsChange:D,timezone:T,name:w,label:S,inputRef:P,readOnly:B,disabled:R,autoFocus:K,localeText:Y,reduceAnimations:Z}=t,X=ht(),z=f.useRef(null),G=f.useRef(null),De=(0,qn.A)(),ee=(Ce=(ne=o==null?void 0:o.toolbar)==null?void 0:ne.hidden)!=null?Ce:!1,{open:de,actions:Se,hasUIView:pe,layoutProps:Ae,renderCurrentView:oe,shouldRestoreFocus:we,fieldProps:je}=Qr((0,F.A)({},n,{props:t,fieldRef:G,autoFocusView:!0,additionalViewProps:{},wrapperVariant:"desktop"})),Le=(be=s.inputAdornment)!=null?be:Ur.A,Pe=(0,Ct.Q)({elementType:Le,externalSlotProps:o==null?void 0:o.inputAdornment,additionalProps:{position:"end"},ownerState:t}),Oe=(0,W.A)(Pe,wa),Je=(ke=s.openPickerButton)!=null?ke:Zn.A,Xe=(0,Ct.Q)({elementType:Je,externalSlotProps:o==null?void 0:o.openPickerButton,additionalProps:{disabled:R||B,onClick:de?Se.onClose:Se.onOpen,"aria-label":e(je.value,X),edge:Oe.position},ownerState:t}),Ee=(0,W.A)(Xe,Ea),Ye=s.openPickerIcon,se=s.field,he=(0,Ct.Q)({elementType:se,externalSlotProps:o==null?void 0:o.field,additionalProps:(0,F.A)({},je,ee&&{id:De},{readOnly:B,disabled:R,className:i,sx:a,format:c,formatDensity:h,enableAccessibleFieldDOMStructure:y,selectedSections:g,onSelectedSectionsChange:D,timezone:T,label:S,name:w,autoFocus:K&&!t.open,focused:de?!0:void 0},P?{inputRef:P}:{}),ownerState:t});pe&&(he.InputProps=(0,F.A)({},he.InputProps,{ref:z},!t.disableOpenPicker&&{[`${Oe.position}Adornment`]:(0,V.jsx)(Le,(0,F.A)({},Oe,{children:(0,V.jsx)(Je,(0,F.A)({},Ee,{children:(0,V.jsx)(Ye,(0,F.A)({},o==null?void 0:o.openPickerIcon))}))}))}));const _e=(0,F.A)({textField:s.textField,clearIcon:s.clearIcon,clearButton:s.clearButton},he.slots),Me=(xe=s.layout)!=null?xe:qr;let Ze=De;ee&&(S?Ze=`${De}-label`:Ze=void 0);const He=(0,F.A)({},o,{toolbar:(0,F.A)({},o==null?void 0:o.toolbar,{titleId:De}),popper:(0,F.A)({"aria-labelledby":Ze},o==null?void 0:o.popper)}),tt=(0,Yt.A)(G,he.unstableFieldRef);return{renderPicker:()=>(0,V.jsxs)(_r,{localeText:Y,children:[(0,V.jsx)(se,(0,F.A)({},he,{slots:_e,slotProps:He,unstableFieldRef:tt})),(0,V.jsx)(Qi,(0,F.A)({role:"dialog",placement:"bottom-start",anchorEl:z.current},Se,{open:de,slots:s,slotProps:He,shouldRestoreFocus:we,reduceAnimations:Z,children:(0,V.jsx)(Me,(0,F.A)({},Ae,He==null?void 0:He.layout,{slots:s,slotProps:He,children:oe()}))}))]})}};var Tn=J(35131);const Sa=(0,Tn.A)((0,V.jsx)("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),Fa=(0,Tn.A)((0,V.jsx)("path",{d:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"}),"ArrowLeft"),Ta=(0,Tn.A)((0,V.jsx)("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"ArrowRight"),ka=(0,Tn.A)((0,V.jsx)("path",{d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"}),"Calendar"),Ia=(0,Tn.A)((0,V.jsxs)(f.Fragment,{children:[(0,V.jsx)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),(0,V.jsx)("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Clock"),cm=(0,Tn.A)((0,V.jsx)("path",{d:"M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"}),"DateRange"),um=(0,Tn.A)((0,V.jsxs)(f.Fragment,{children:[(0,V.jsx)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),(0,V.jsx)("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Time"),Pa=(0,Tn.A)((0,V.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");var to=J(24273);const Ma=({utils:r,format:t})=>{let e=10,n=t,s=r.expandFormat(t);for(;s!==n;)if(n=s,s=r.expandFormat(n),e-=1,e<0)throw new Error("MUI X: The format expansion seems to be in an infinite loop. Please open an issue with the format passed to the picker component.");return s},Oa=({utils:r,expandedFormat:t})=>{const e=[],{start:n,end:s}=r.escapedCharacters,o=new RegExp(`(\\${n}[^\\${s}]*\\${s})+`,"g");let i=null;for(;i=o.exec(t);)e.push({start:i.index,end:o.lastIndex-1});return e},Na=(r,t,e,n,s)=>{switch(n.type){case"year":return e.fieldYearPlaceholder({digitAmount:r.formatByString(r.date(void 0,t),s).length,format:s});case"month":return e.fieldMonthPlaceholder({contentType:n.contentType,format:s});case"day":return e.fieldDayPlaceholder({format:s});case"weekDay":return e.fieldWeekDayPlaceholder({contentType:n.contentType,format:s});case"hours":return e.fieldHoursPlaceholder({format:s});case"minutes":return e.fieldMinutesPlaceholder({format:s});case"seconds":return e.fieldSecondsPlaceholder({format:s});case"meridiem":return e.fieldMeridiemPlaceholder({format:s});default:return s}},Ba=({utils:r,timezone:t,date:e,shouldRespectLeadingZeros:n,localeText:s,localizedDigits:o,now:i,token:a,startSeparator:c})=>{if(a==="")throw new Error("MUI X: Should not call `commitToken` with an empty token");const h=Bn(r,a),y=Or(r,t,h.contentType,h.type,a),g=n?y:h.contentType==="digit",D=e!=null&&r.isValid(e);let T=D?r.formatByString(e,a):"",w=null;if(g)if(y)w=T===""?r.formatByString(i,a).length:T.length;else{if(h.maxLength==null)throw new Error(`MUI X: The token ${a} should have a 'maxDigitNumber' property on it's adapter`);w=h.maxLength,D&&(T=Ht(mn(St(T,o),w),o))}return(0,F.A)({},h,{format:a,maxLength:w,value:T,placeholder:Na(r,t,s,h,a),hasLeadingZerosInFormat:y,hasLeadingZerosInInput:g,startSeparator:c,endSeparator:"",modified:!1})},La=r=>{var T;const{utils:t,expandedFormat:e,escapedParts:n}=r,s=t.date(void 0),o=[];let i="";const a=Object.keys(t.formatTokenMap).sort((w,S)=>S.length-w.length),c=/^([a-zA-Z]+)/,h=new RegExp(`^(${a.join("|")})*$`),y=new RegExp(`^(${a.join("|")})`),g=w=>n.find(S=>S.start<=w&&S.end>=w);let D=0;for(;D<e.length;){const w=g(D),S=w!=null,P=(T=c.exec(e.slice(D)))==null?void 0:T[1];if(!S&&P!=null&&h.test(P)){let B=P;for(;B.length>0;){const R=y.exec(B)[1];B=B.slice(R.length),o.push(Ba((0,F.A)({},r,{now:s,token:R,startSeparator:i}))),i=""}D+=P.length}else{const B=e[D];S&&(w==null?void 0:w.start)===D||(w==null?void 0:w.end)===D||(o.length===0?i+=B:o[o.length-1].endSeparator+=B),D+=1}}return o.length===0&&i.length>0&&o.push({type:"empty",contentType:"letter",maxLength:null,format:"",value:"",placeholder:"",hasLeadingZerosInFormat:!1,hasLeadingZerosInInput:!1,startSeparator:i,endSeparator:"",modified:!1}),o},Ra=({isRtl:r,formatDensity:t,sections:e})=>e.map(n=>{const s=o=>{let i=o;return r&&i!==null&&i.includes(" ")&&(i=`\u2069${i}\u2066`),t==="spacious"&&["/",".","-"].includes(i)&&(i=` ${i} `),i};return n.startSeparator=s(n.startSeparator),n.endSeparator=s(n.endSeparator),n}),no=r=>{let t=Ma(r);r.isRtl&&r.enableAccessibleFieldDOMStructure&&(t=t.split(" ").reverse().join(" "));const e=Oa((0,F.A)({},r,{expandedFormat:t})),n=La((0,F.A)({},r,{expandedFormat:t,escapedParts:e}));return Ra((0,F.A)({},r,{sections:n}))},_a=r=>{const t=ht(),e=jt(),n=Rn(),s=(0,cn.I)(),{valueManager:o,fieldValueManager:i,valueType:a,validator:c,internalProps:h,internalProps:{value:y,defaultValue:g,referenceDate:D,onChange:T,format:w,formatDensity:S="dense",selectedSections:P,onSelectedSectionsChange:B,shouldRespectLeadingZeros:R=!1,timezone:K,enableAccessibleFieldDOMStructure:Y=!1}}=r,{timezone:Z,value:X,handleValueChange:z}=tr({timezone:K,value:y,defaultValue:g,onChange:T,valueManager:o}),G=f.useMemo(()=>it(t),[t]),De=f.useMemo(()=>fi(t,G,Z),[t,G,Z]),ee=f.useCallback((se,he=null)=>i.getSectionsFromValue(t,se,he,_e=>no({utils:t,timezone:Z,localeText:e,localizedDigits:G,format:w,date:_e,formatDensity:S,shouldRespectLeadingZeros:R,enableAccessibleFieldDOMStructure:Y,isRtl:s})),[i,w,e,G,s,R,t,S,Z,Y]),[de,Se]=f.useState(()=>{const se=ee(X);Nr(se,a);const he={sections:se,value:X,referenceValue:o.emptyValue,tempValueStrAndroid:null},_e=en(se),Me=o.getInitialReferenceValue({referenceDate:D,value:X,utils:t,props:h,granularity:_e,timezone:Z});return(0,F.A)({},he,{referenceValue:Me})}),[pe,Ae]=(0,Vn.A)({controlled:P,default:null,name:"useField",state:"selectedSections"}),oe=se=>{Ae(se),B==null||B(se)},we=f.useMemo(()=>Zs(pe,de.sections),[pe,de.sections]),je=we==="all"?0:we,Le=({value:se,referenceValue:he,sections:_e})=>{if(Se(Ze=>(0,F.A)({},Ze,{sections:_e,value:se,referenceValue:he,tempValueStrAndroid:null})),o.areValuesEqual(t,de.value,se))return;const Me={validationError:c({adapter:n,value:se,props:(0,F.A)({},h,{value:se,timezone:Z})})};z(se,Me)},Pe=(se,he)=>{const _e=[...de.sections];return _e[se]=(0,F.A)({},_e[se],{value:he,modified:!0}),_e},Oe=()=>{Le({value:o.emptyValue,referenceValue:de.referenceValue,sections:ee(o.emptyValue)})},Je=()=>{if(je==null)return;const se=de.sections[je],he=i.getActiveDateManager(t,de,se),Me=he.getSections(de.sections).filter(We=>We.value!=="").length===(se.value===""?0:1),Ze=Pe(je,""),He=Me?null:t.getInvalidDate(),tt=he.getNewValuesFromNewActiveDate(He);Le((0,F.A)({},tt,{sections:Ze}))},Xe=se=>{const he=(Ze,He)=>{const tt=t.parse(Ze,w);if(tt==null||!t.isValid(tt))return null;const We=no({utils:t,timezone:Z,localeText:e,localizedDigits:G,format:w,date:tt,formatDensity:S,shouldRespectLeadingZeros:R,enableAccessibleFieldDOMStructure:Y,isRtl:s});return Lr(t,Z,tt,We,He,!1)},_e=i.parseValueStr(se,de.referenceValue,he),Me=i.updateReferenceValue(t,_e,de.referenceValue);Le({value:_e,referenceValue:Me,sections:ee(_e,de.sections)})},Ee=({activeSection:se,newSectionValue:he,shouldGoToNextSection:_e})=>{_e&&je<de.sections.length-1&&oe(je+1);const Me=i.getActiveDateManager(t,de,se),Ze=Pe(je,he),He=Me.getSections(Ze),tt=pi(t,He,G);let We,ne;if(tt!=null&&t.isValid(tt)){const Ce=Lr(t,Z,tt,He,Me.referenceDate,!0);We=Me.getNewValuesFromNewActiveDate(Ce),ne=!0}else We=Me.getNewValuesFromNewActiveDate(tt),ne=(tt!=null&&!t.isValid(tt))!=(Me.date!=null&&!t.isValid(Me.date));return ne?Le((0,F.A)({},We,{sections:Ze})):Se(Ce=>(0,F.A)({},Ce,We,{sections:Ze,tempValueStrAndroid:null}))},Ye=se=>Se(he=>(0,F.A)({},he,{tempValueStrAndroid:se}));return f.useEffect(()=>{const se=ee(de.value);Nr(se,a),Se(he=>(0,F.A)({},he,{sections:se}))},[w,t.locale,s]),f.useEffect(()=>{let se;o.areValuesEqual(t,de.value,X)?se=o.getTimezone(t,de.value)!==o.getTimezone(t,X):se=!0,se&&Se(he=>(0,F.A)({},he,{value:X,referenceValue:i.updateReferenceValue(t,X,he.referenceValue),sections:ee(X)}))},[X]),{state:de,activeSectionIndex:je,parsedSelectedSections:we,setSelectedSections:oe,clearValue:Oe,clearActiveSection:Je,updateSectionValue:Ee,updateValueFromValueStr:Xe,setTempAndroidValueStr:Ye,getSectionsFromValue:ee,sectionsValueBoundaries:De,localizedDigits:G,timezone:Z}},Va=5e3,ss=r=>r.saveQuery!=null,$a=({sections:r,updateSectionValue:t,sectionsValueBoundaries:e,localizedDigits:n,setTempAndroidValueStr:s,timezone:o})=>{const i=ht(),[a,c]=f.useState(null),h=(0,Ue.A)(()=>c(null));f.useEffect(()=>{var w;a!=null&&((w=r[a.sectionIndex])==null?void 0:w.type)!==a.sectionType&&h()},[r,a,h]),f.useEffect(()=>{if(a!=null){const w=setTimeout(()=>h(),Va);return()=>{clearTimeout(w)}}return()=>{}},[a,h]);const y=({keyPressed:w,sectionIndex:S},P,B)=>{const R=w.toLowerCase(),K=r[S];if(a!=null&&(!B||B(a.value))&&a.sectionIndex===S){const Z=`${a.value}${R}`,X=P(Z,K);if(!ss(X))return c({sectionIndex:S,value:Z,sectionType:K.type}),X}const Y=P(R,K);return ss(Y)&&!Y.saveQuery?(h(),null):(c({sectionIndex:S,value:R,sectionType:K.type}),ss(Y)?null:Y)},g=w=>{const S=(R,K,Y)=>{const Z=K.filter(X=>X.toLowerCase().startsWith(Y));return Z.length===0?{saveQuery:!1}:{sectionValue:Z[0],shouldGoToNextSection:Z.length===1}},P=(R,K,Y,Z)=>{const X=z=>Ms(i,o,K.type,z);if(K.contentType==="letter")return S(K.format,X(K.format),R);if(Y&&Z!=null&&Bn(i,Y).contentType==="letter"){const z=X(Y),G=S(Y,z,R);return ss(G)?{saveQuery:!1}:(0,F.A)({},G,{sectionValue:Z(G.sectionValue,z)})}return{saveQuery:!1}};return y(w,(R,K)=>{switch(K.type){case"month":{const Y=Z=>Ln(i,Z,i.formats.month,K.format);return P(R,K,i.formats.month,Y)}case"weekDay":{const Y=(Z,X)=>X.indexOf(Z).toString();return P(R,K,i.formats.weekday,Y)}case"meridiem":return P(R,K);default:return{saveQuery:!1}}})},D=w=>{const S=(B,R)=>{const K=St(B,n),Y=Number(K),Z=e[R.type]({currentDate:null,format:R.format,contentType:R.contentType});if(Y>Z.maximum)return{saveQuery:!1};if(Y<Z.minimum)return{saveQuery:!0};const X=Y*10>Z.maximum||K.length===Z.maximum.toString().length;return{sectionValue:tn(i,Y,Z,n,R),shouldGoToNextSection:X}};return y(w,(B,R)=>{if(R.contentType==="digit"||R.contentType==="digit-with-letter")return S(B,R);if(R.type==="month"){const K=Or(i,o,"digit","month","MM"),Y=S(B,{type:R.type,format:"MM",hasLeadingZerosInFormat:K,hasLeadingZerosInInput:!0,contentType:"digit",maxLength:2});if(ss(Y))return Y;const Z=Ln(i,Y.sectionValue,"MM",R.format);return(0,F.A)({},Y,{sectionValue:Z})}if(R.type==="weekDay"){const K=S(B,R);if(ss(K))return K;const Y=Xn(i,o,R.format)[Number(K.sectionValue)-1];return(0,F.A)({},K,{sectionValue:Y})}return{saveQuery:!1}},B=>Lt(B,n))};return{applyCharacterEditing:(0,Ue.A)(w=>{const S=r[w.sectionIndex],B=Lt(w.keyPressed,n)?D((0,F.A)({},w,{keyPressed:Ht(w.keyPressed,n)})):g(w);if(B==null){s(null);return}t({activeSection:S,newSectionValue:B.sectionValue,shouldGoToNextSection:B.shouldGoToNextSection})}),resetCharacterQuery:h}},ja=r=>{const{internalProps:{disabled:t,readOnly:e=!1},forwardedProps:{sectionListRef:n,onBlur:s,onClick:o,onFocus:i,onInput:a,onPaste:c,focused:h,autoFocus:y=!1},fieldValueManager:g,applyCharacterEditing:D,resetCharacterQuery:T,setSelectedSections:w,parsedSelectedSections:S,state:P,clearActiveSection:B,clearValue:R,updateSectionValue:K,updateValueFromValueStr:Y,sectionOrder:Z,areAllSectionsEmpty:X,sectionsValueBoundaries:z}=r,G=f.useRef(null),De=(0,Yt.A)(n,G),ee=jt(),de=ht(),Se=(0,qn.A)(),[pe,Ae]=f.useState(!1),oe=f.useMemo(()=>({syncSelectionToDOM:()=>{if(!G.current)return;const ne=document.getSelection();if(!ne)return;if(S==null){ne.rangeCount>0&&G.current.getRoot().contains(ne.getRangeAt(0).startContainer)&&ne.removeAllRanges(),pe&&G.current.getRoot().blur();return}if(!G.current.getRoot().contains(nn(document)))return;const Ce=new window.Range;let be;S==="all"?be=G.current.getRoot():P.sections[S].type==="empty"?be=G.current.getSectionContainer(S):be=G.current.getSectionContent(S),Ce.selectNodeContents(be),be.focus(),ne.removeAllRanges(),ne.addRange(Ce)},getActiveSectionIndexFromDOM:()=>{const ne=nn(document);return!ne||!G.current||!G.current.getRoot().contains(ne)?null:G.current.getSectionIndexFromDOMElement(ne)},focusField:(ne=0)=>{if(!G.current)return;const Ce=Zs(ne,P.sections);Ae(!0),G.current.getSectionContent(Ce).focus()},setSelectedSections:ne=>{if(!G.current)return;const Ce=Zs(ne,P.sections);Ae((Ce==="all"?0:Ce)!==null),w(ne)},isFieldFocused:()=>{const ne=nn(document);return!!G.current&&G.current.getRoot().contains(ne)}}),[S,w,P.sections,pe]),we=(0,Ue.A)(ne=>{if(!G.current)return;const Ce=P.sections[ne];G.current.getSectionContent(ne).innerHTML=Ce.value||Ce.placeholder,oe.syncSelectionToDOM()}),je=(0,Ue.A)((ne,...Ce)=>{ne.isDefaultPrevented()||!G.current||(Ae(!0),o==null||o(ne,...Ce),S==="all"?setTimeout(()=>{const be=document.getSelection().getRangeAt(0).startOffset;if(be===0){w(Z.startIndex);return}let ke=0,xe=0;for(;xe<be&&ke<P.sections.length;){const $e=P.sections[ke];ke+=1,xe+=`${$e.startSeparator}${$e.value||$e.placeholder}${$e.endSeparator}`.length}w(ke-1)}):pe?G.current.getRoot().contains(ne.target)||w(Z.startIndex):(Ae(!0),w(Z.startIndex)))}),Le=(0,Ue.A)(ne=>{var ke;if(a==null||a(ne),!G.current||S!=="all")return;const be=(ke=ne.target.textContent)!=null?ke:"";G.current.getRoot().innerHTML=P.sections.map(xe=>`${xe.startSeparator}${xe.value||xe.placeholder}${xe.endSeparator}`).join(""),oe.syncSelectionToDOM(),be.length===0||be.charCodeAt(0)===10?(T(),R(),w("all")):be.length>1?Y(be):D({keyPressed:be,sectionIndex:0})}),Pe=(0,Ue.A)(ne=>{if(c==null||c(ne),e||S!=="all"){ne.preventDefault();return}const Ce=ne.clipboardData.getData("text");ne.preventDefault(),T(),Y(Ce)}),Oe=(0,Ue.A)((...ne)=>{if(i==null||i(...ne),pe||!G.current)return;Ae(!0),G.current.getSectionIndexFromDOMElement(nn(document))!=null||w(Z.startIndex)}),Je=(0,Ue.A)((...ne)=>{s==null||s(...ne),setTimeout(()=>{if(!G.current)return;const Ce=nn(document);!G.current.getRoot().contains(Ce)&&(Ae(!1),w(null))})}),Xe=(0,Ue.A)(ne=>Ce=>{Ce.isDefaultPrevented()||e||w(ne)}),Ee=(0,Ue.A)(ne=>{ne.preventDefault()}),Ye=(0,Ue.A)(ne=>()=>{e||w(ne)}),se=(0,Ue.A)(ne=>{if(ne.preventDefault(),e||typeof S!="number")return;const Ce=P.sections[S],be=ne.clipboardData.getData("text"),ke=/^[a-zA-Z]+$/.test(be),xe=/^[0-9]+$/.test(be),$e=/^(([a-zA-Z]+)|)([0-9]+)(([a-zA-Z]+)|)$/.test(be);Ce.contentType==="letter"&&ke||Ce.contentType==="digit"&&xe||Ce.contentType==="digit-with-letter"&&$e?(T(),K({activeSection:Ce,newSectionValue:be,shouldGoToNextSection:!0})):!ke&&!xe&&(T(),Y(be))}),he=(0,Ue.A)(ne=>{ne.preventDefault(),ne.dataTransfer.dropEffect="none"}),_e=(0,Ue.A)(ne=>{var $e;if(!G.current)return;const Ce=ne.target,be=($e=Ce.textContent)!=null?$e:"",ke=G.current.getSectionIndexFromDOMElement(Ce),xe=P.sections[ke];if(e||!G.current){we(ke);return}if(be.length===0){if(xe.value===""){we(ke);return}const Ge=ne.nativeEvent.inputType;if(Ge==="insertParagraph"||Ge==="insertLineBreak"){we(ke);return}T(),B();return}D({keyPressed:be,sectionIndex:ke}),we(ke)});(0,bn.A)(()=>{if(!(!pe||!G.current)){if(S==="all")G.current.getRoot().focus();else if(typeof S=="number"){const ne=G.current.getSectionContent(S);ne&&ne.focus()}}},[S,pe]);const Me=f.useMemo(()=>P.sections.reduce((ne,Ce)=>(ne[Ce.type]=z[Ce.type]({currentDate:null,contentType:Ce.contentType,format:Ce.format}),ne),{}),[z,P.sections]),Ze=S==="all",He=f.useMemo(()=>P.sections.map((ne,Ce)=>{const be=!Ze&&!t&&!e;return{container:{"data-sectionindex":Ce,onClick:Xe(Ce)},content:{tabIndex:Ze||Ce>0?-1:0,contentEditable:!Ze&&!t&&!e,role:"spinbutton",id:`${Se}-${ne.type}`,"aria-labelledby":`${Se}-${ne.type}`,"aria-readonly":e,"aria-valuenow":vi(ne,de),"aria-valuemin":Me[ne.type].minimum,"aria-valuemax":Me[ne.type].maximum,"aria-valuetext":ne.value?Ci(ne,de):ee.empty,"aria-label":ee[ne.type],"aria-disabled":t,spellCheck:be?!1:void 0,autoCapitalize:be?"off":void 0,autoCorrect:be?"off":void 0,[parseInt(f.version,10)>=17?"enterKeyHint":"enterkeyhint"]:be?"next":void 0,children:ne.value||ne.placeholder,onInput:_e,onPaste:se,onFocus:Ye(Ce),onDragOver:he,onMouseUp:Ee,inputMode:ne.contentType==="letter"?"text":"numeric"},before:{children:ne.startSeparator},after:{children:ne.endSeparator}}}),[P.sections,Ye,se,he,_e,Xe,Ee,t,e,Ze,ee,de,Me,Se]),tt=(0,Ue.A)(ne=>{Y(ne.target.value)}),We=f.useMemo(()=>X?"":g.getV7HiddenInputValueFromSections(P.sections),[X,P.sections,g]);return f.useEffect(()=>{if(G.current==null)throw new Error(["MUI X: The `sectionListRef` prop has not been initialized by `PickersSectionList`","You probably tried to pass a component to the `textField` slot that contains an `<input />` element instead of a `PickersSectionList`.","","If you want to keep using an `<input />` HTML element for the editing, please remove the `enableAccessibleFieldDOMStructure` prop from your picker or field component:","","<DatePicker slots={{ textField: MyCustomTextField }} />","","Learn more about the field accessible DOM structure on the MUI documentation: https://mui.com/x/react-date-pickers/fields/#fields-to-edit-a-single-element"].join(`
`));y&&G.current&&G.current.getSectionContent(Z.startIndex).focus()},[]),{interactions:oe,returnedValue:{autoFocus:y,readOnly:e,focused:h!=null?h:pe,sectionListRef:De,onBlur:Je,onClick:je,onFocus:Oe,onInput:Le,onPaste:Pe,enableAccessibleFieldDOMStructure:!0,elements:He,tabIndex:S===0?-1:0,contentEditable:Ze,value:We,onChange:tt,areAllSectionsEmpty:X}}},rs=r=>r.replace(/[\u2066\u2067\u2068\u2069]/g,""),Wa=(r,t,e)=>{let n=0,s=e?1:0;const o=[];for(let i=0;i<r.length;i+=1){const a=r[i],c=ln(a,e?"input-rtl":"input-ltr",t),h=`${a.startSeparator}${c}${a.endSeparator}`,y=rs(h).length,g=h.length,D=rs(c),T=s+(D===""?0:c.indexOf(D[0]))+a.startSeparator.length,w=T+D.length;o.push((0,F.A)({},a,{start:n,end:n+y,startInInput:T,endInInput:w})),n+=y,s+=g}return o},Ua=r=>{const t=(0,cn.I)(),e=f.useRef(),{forwardedProps:{onFocus:n,onClick:s,onPaste:o,onBlur:i,inputRef:a,placeholder:c},internalProps:{readOnly:h=!1},parsedSelectedSections:y,activeSectionIndex:g,state:D,fieldValueManager:T,valueManager:w,applyCharacterEditing:S,resetCharacterQuery:P,updateSectionValue:B,updateValueFromValueStr:R,clearActiveSection:K,clearValue:Y,setTempAndroidValueStr:Z,setSelectedSections:X,getSectionsFromValue:z,areAllSectionsEmpty:G,localizedDigits:De}=r,ee=f.useRef(null),de=(0,Yt.A)(a,ee),Se=f.useMemo(()=>Wa(D.sections,De,t),[D.sections,De,t]),pe=f.useMemo(()=>({syncSelectionToDOM:()=>{if(!ee.current)return;if(y==null){ee.current.scrollLeft&&(ee.current.scrollLeft=0);return}if(ee.current!==nn(document))return;const se=ee.current.scrollTop;if(y==="all")ee.current.select();else{const he=Se[y],_e=he.type==="empty"?he.startInInput-he.startSeparator.length:he.startInInput,Me=he.type==="empty"?he.endInInput+he.endSeparator.length:he.endInInput;(_e!==ee.current.selectionStart||Me!==ee.current.selectionEnd)&&ee.current===nn(document)&&ee.current.setSelectionRange(_e,Me)}ee.current.scrollTop=se},getActiveSectionIndexFromDOM:()=>{var Ze,He,tt;const se=(Ze=ee.current.selectionStart)!=null?Ze:0,he=(He=ee.current.selectionEnd)!=null?He:0,_e=!!((tt=ee.current)!=null&&tt.readOnly);if(se===0&&he===0||_e)return null;const Me=se<=Se[0].startInInput?1:Se.findIndex(We=>We.startInInput-We.startSeparator.length>se);return Me===-1?Se.length-1:Me-1},focusField:(se=0)=>{var he;(he=ee.current)==null||he.focus(),X(se)},setSelectedSections:se=>X(se),isFieldFocused:()=>ee.current===nn(document)}),[ee,y,Se,X]),Ae=()=>{var Me;if(h){X(null);return}const se=(Me=ee.current.selectionStart)!=null?Me:0;let he;se<=Se[0].startInInput||se>=Se[Se.length-1].endInInput?he=1:he=Se.findIndex(Ze=>Ze.startInInput-Ze.startSeparator.length>se);const _e=he===-1?Se.length-1:he-1;X(_e)},oe=(0,Ue.A)((...se)=>{n==null||n(...se);const he=ee.current;clearTimeout(e.current),e.current=setTimeout(()=>{!he||he!==ee.current||g!=null||h||(he.value.length&&Number(he.selectionEnd)-Number(he.selectionStart)===he.value.length?X("all"):Ae())})}),we=(0,Ue.A)((se,...he)=>{se.isDefaultPrevented()||(s==null||s(se,...he),Ae())}),je=(0,Ue.A)(se=>{if(o==null||o(se),se.preventDefault(),h)return;const he=se.clipboardData.getData("text");if(typeof y=="number"){const _e=D.sections[y],Me=/^[a-zA-Z]+$/.test(he),Ze=/^[0-9]+$/.test(he),He=/^(([a-zA-Z]+)|)([0-9]+)(([a-zA-Z]+)|)$/.test(he);if(_e.contentType==="letter"&&Me||_e.contentType==="digit"&&Ze||_e.contentType==="digit-with-letter"&&He){P(),B({activeSection:_e,newSectionValue:he,shouldGoToNextSection:!0});return}if(Me||Ze)return}P(),R(he)}),Le=(0,Ue.A)((...se)=>{i==null||i(...se),X(null)}),Pe=(0,Ue.A)(se=>{if(h)return;const he=se.target.value;if(he===""){P(),Y();return}const _e=se.nativeEvent.data,Me=_e&&_e.length>1,Ze=Me?_e:he,He=rs(Ze);if(g==null||Me){R(Me?_e:He);return}let tt;if(y==="all"&&He.length===1)tt=He;else{const We=rs(T.getV6InputValueFromSections(Se,De,t));let ne=-1,Ce=-1;for(let $e=0;$e<We.length;$e+=1)ne===-1&&We[$e]!==He[$e]&&(ne=$e),Ce===-1&&We[We.length-$e-1]!==He[He.length-$e-1]&&(Ce=$e);const be=Se[g];if(ne<be.start||We.length-Ce-1>be.end)return;const xe=He.length-We.length+be.end-rs(be.endSeparator||"").length;tt=He.slice(be.start+rs(be.startSeparator||"").length,xe)}if(tt.length===0){yi()?Z(Ze):(P(),K());return}S({keyPressed:tt,sectionIndex:g})}),Oe=f.useMemo(()=>c!==void 0?c:T.getV6InputValueFromSections(z(w.emptyValue),De,t),[c,T,z,w.emptyValue,De,t]),Je=f.useMemo(()=>{var se;return(se=D.tempValueStrAndroid)!=null?se:T.getV6InputValueFromSections(D.sections,De,t)},[D.sections,T,D.tempValueStrAndroid,De,t]);f.useEffect(()=>(ee.current&&ee.current===nn(document)&&X("all"),()=>{clearTimeout(e.current)}),[]);const Xe=f.useMemo(()=>g==null||D.sections[g].contentType==="letter"?"text":"numeric",[g,D.sections]),Ye=!(ee.current&&ee.current===nn(document))&&G;return{interactions:pe,returnedValue:{readOnly:h,onBlur:Le,onClick:we,onFocus:oe,onPaste:je,inputRef:de,enableAccessibleFieldDOMStructure:!1,placeholder:Oe,inputMode:Xe,autoComplete:"off",value:Ye?"":Je,onChange:Pe}}},so=r=>{const t=ht(),{internalProps:e,internalProps:{unstableFieldRef:n,minutesStep:s,enableAccessibleFieldDOMStructure:o=!1,disabled:i=!1,readOnly:a=!1},forwardedProps:{onKeyDown:c,error:h,clearable:y,onClear:g},fieldValueManager:D,valueManager:T,validator:w}=r,S=(0,cn.I)(),P=_a(r),{state:B,activeSectionIndex:R,parsedSelectedSections:K,setSelectedSections:Y,clearValue:Z,clearActiveSection:X,updateSectionValue:z,setTempAndroidValueStr:G,sectionsValueBoundaries:De,localizedDigits:ee,timezone:de}=P,Se=$a({sections:B.sections,updateSectionValue:z,sectionsValueBoundaries:De,localizedDigits:ee,setTempAndroidValueStr:G,timezone:de}),{resetCharacterQuery:pe}=Se,Ae=T.areValuesEqual(t,B.value,T.emptyValue),oe=o?ja:Ua,we=f.useMemo(()=>Di(B.sections,S&&!o),[B.sections,S,o]),{returnedValue:je,interactions:Le}=oe((0,F.A)({},r,P,Se,{areAllSectionsEmpty:Ae,sectionOrder:we})),Pe=(0,Ue.A)(se=>{switch(c==null||c(se),!0){case((se.ctrlKey||se.metaKey)&&se.key.toLowerCase()==="a"&&!se.shiftKey&&!se.altKey):{se.preventDefault(),Y("all");break}case se.key==="ArrowRight":{if(se.preventDefault(),K==null)Y(we.startIndex);else if(K==="all")Y(we.endIndex);else{const he=we.neighbors[K].rightIndex;he!==null&&Y(he)}break}case se.key==="ArrowLeft":{if(se.preventDefault(),K==null)Y(we.endIndex);else if(K==="all")Y(we.startIndex);else{const he=we.neighbors[K].leftIndex;he!==null&&Y(he)}break}case se.key==="Delete":{if(se.preventDefault(),a)break;K==null||K==="all"?Z():X(),pe();break}case["ArrowUp","ArrowDown","Home","End","PageUp","PageDown"].includes(se.key):{if(se.preventDefault(),a||R==null)break;const he=B.sections[R],_e=D.getActiveDateManager(t,B,he),Me=fn(t,de,he,se.key,De,ee,_e.date,{minutesStep:s});z({activeSection:he,newSectionValue:Me,shouldGoToNextSection:!1});break}}});(0,bn.A)(()=>{Le.syncSelectionToDOM()});const Oe=Kr((0,F.A)({},e,{value:B.value,timezone:de}),w,T.isSameError,T.defaultErrorState),Je=f.useMemo(()=>h!==void 0?h:T.hasError(Oe),[T,Oe,h]);f.useEffect(()=>{!Je&&R==null&&pe()},[B.referenceValue,R,Je]),f.useEffect(()=>{B.tempValueStrAndroid!=null&&R!=null&&(pe(),X())},[B.sections]),f.useImperativeHandle(n,()=>({getSections:()=>B.sections,getActiveSectionIndex:Le.getActiveSectionIndexFromDOM,setSelectedSections:Le.setSelectedSections,focusField:Le.focusField,isFieldFocused:Le.isFieldFocused}));const Xe=(0,Ue.A)((se,...he)=>{se.preventDefault(),g==null||g(se,...he),Z(),Le.isFieldFocused()?Y(we.startIndex):Le.focusField(0)}),Ee={onKeyDown:Pe,onClear:Xe,error:Je,clearable:!!(y&&!Ae&&!a&&!i)},Ye={disabled:i,readOnly:a};return(0,F.A)({},r.forwardedProps,Ee,Ye,je)},sr=["disablePast","disableFuture","minDate","maxDate","shouldDisableDate","shouldDisableMonth","shouldDisableYear"],rr=["disablePast","disableFuture","minTime","maxTime","shouldDisableTime","minutesStep","ampm","disableIgnoringDatePartForTimeValidation"],ro=["minDateTime","maxDateTime"],Ha=[...sr,...rr,...ro],_s=r=>Ha.reduce((t,e)=>(r.hasOwnProperty(e)&&(t[e]=r[e]),t),{}),za=["value","defaultValue","referenceDate","format","formatDensity","onChange","timezone","onError","shouldRespectLeadingZeros","selectedSections","onSelectedSectionsChange","unstableFieldRef","enableAccessibleFieldDOMStructure","disabled","readOnly","dateSeparator"],oo=(r,t)=>{const e=(0,F.A)({},r),n={},s=o=>{e.hasOwnProperty(o)&&(n[o]=e[o],delete e[o])};return za.forEach(s),t==="date"?sr.forEach(s):t==="time"?rr.forEach(s):t==="date-time"&&(sr.forEach(s),rr.forEach(s),ro.forEach(s)),{forwardedProps:e,internalProps:n}},Ja=r=>{var n,s,o;const t=ht(),e=hs();return(0,F.A)({},r,{disablePast:(n=r.disablePast)!=null?n:!1,disableFuture:(s=r.disableFuture)!=null?s:!1,format:(o=r.format)!=null?o:t.formats.keyboardDate,minDate:Jt(t,r.minDate,e.minDate),maxDate:Jt(t,r.maxDate,e.maxDate)})},Ya=r=>{var s,o,i,a;const t=ht(),n=((s=r.ampm)!=null?s:t.is12HourCycleInCurrentLocale())?t.formats.fullTime12h:t.formats.fullTime24h;return(0,F.A)({},r,{disablePast:(o=r.disablePast)!=null?o:!1,disableFuture:(i=r.disableFuture)!=null?i:!1,format:(a=r.format)!=null?a:n})},dm=r=>{var o,i,a,c,h,y,g,D;const t=useUtils(),e=useDefaultDates(),s=((o=r.ampm)!=null?o:t.is12HourCycleInCurrentLocale())?t.formats.keyboardDateTime12h:t.formats.keyboardDateTime24h;return _extends({},r,{disablePast:(i=r.disablePast)!=null?i:!1,disableFuture:(a=r.disableFuture)!=null?a:!1,format:(c=r.format)!=null?c:s,disableIgnoringDatePartForTimeValidation:!!(r.minDateTime||r.maxDateTime),minDate:applyDefaultDate(t,(h=r.minDateTime)!=null?h:r.minDate,e.minDate),maxDate:applyDefaultDate(t,(y=r.maxDateTime)!=null?y:r.maxDate,e.maxDate),minTime:(g=r.minDateTime)!=null?g:r.minTime,maxTime:(D=r.maxDateTime)!=null?D:r.maxTime})},Ka=r=>{const t=Ja(r),{forwardedProps:e,internalProps:n}=oo(t,"date");return so({forwardedProps:e,internalProps:n,valueManager:$t,fieldValueManager:Rr,validator:Ns,valueType:"date"})},Ga=["clearable","onClear","InputProps","sx","slots","slotProps"],Qa=["ownerState"],io=r=>{var w,S;const t=jt(),{clearable:e,onClear:n,InputProps:s,sx:o,slots:i,slotProps:a}=r,c=(0,W.A)(r,Ga),h=(w=i==null?void 0:i.clearButton)!=null?w:Zn.A,y=(0,Ct.Q)({elementType:h,externalSlotProps:a==null?void 0:a.clearButton,ownerState:{},className:"clearButton",additionalProps:{title:t.fieldClearLabel}}),g=(0,W.A)(y,Qa),D=(S=i==null?void 0:i.clearIcon)!=null?S:Pa,T=(0,Ct.Q)({elementType:D,externalSlotProps:a==null?void 0:a.clearIcon,ownerState:{}});return(0,F.A)({},c,{InputProps:(0,F.A)({},s,{endAdornment:(0,V.jsxs)(f.Fragment,{children:[e&&(0,V.jsx)(Ur.A,{position:"end",sx:{marginRight:s!=null&&s.endAdornment?-1:-1.5},children:(0,V.jsx)(h,(0,F.A)({},g,{onClick:n,children:(0,V.jsx)(D,(0,F.A)({fontSize:"small"},T))}))}),s==null?void 0:s.endAdornment]})}),sx:[{"& .clearButton":{opacity:1},"@media (pointer: fine)":{"& .clearButton":{opacity:0},"&:hover, &:focus-within":{".clearButton":{opacity:1}}}},...Array.isArray(o)?o:[o]]})};var Xa=J(10743),Za=J(11085),qa=J(48845);function el(r){return(0,yt.Ay)("MuiPickersTextField",r)}const pm=(0,Dt.A)("MuiPickersTextField",["root","focused","disabled","error","required"]);var Vs=J(64186);function tl(r){return(0,yt.Ay)("MuiPickersInputBase",r)}const os=(0,Dt.A)("MuiPickersInputBase",["root","focused","disabled","error","notchedOutline","sectionContent","sectionBefore","sectionAfter","adornedStart","adornedEnd","input"]);function nl(r){return(0,yt.Ay)("MuiPickersOutlinedInput",r)}const un=(0,F.A)({},os,(0,Dt.A)("MuiPickersOutlinedInput",["root","notchedOutline","input"])),sl=["children","className","label","notched","shrink"],rl=(0,q.styled)("fieldset",{name:"MuiPickersOutlinedInput",slot:"NotchedOutline",overridesResolver:(r,t)=>t.notchedOutline})(({theme:r})=>{const t=r.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%",borderColor:r.vars?`rgba(${r.vars.palette.common.onBackgroundChannel} / 0.23)`:t}}),ao=(0,q.styled)("span")(({theme:r})=>({fontFamily:r.typography.fontFamily,fontSize:"inherit"})),ol=(0,q.styled)("legend")(({theme:r})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:{withLabel:!1},style:{padding:0,lineHeight:"11px",transition:r.transitions.create("width",{duration:150,easing:r.transitions.easing.easeOut})}},{props:{withLabel:!0},style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:r.transitions.create("max-width",{duration:50,easing:r.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:{withLabel:!0,notched:!0},style:{maxWidth:"100%",transition:r.transitions.create("max-width",{duration:100,easing:r.transitions.easing.easeOut,delay:50})}}]}));function il(r){const{className:t,label:e}=r,n=(0,W.A)(r,sl),s=e!=null&&e!=="",o=(0,F.A)({},r,{withLabel:s});return(0,V.jsx)(rl,(0,F.A)({"aria-hidden":!0,className:t},n,{ownerState:o,children:(0,V.jsx)(ol,{ownerState:o,children:s?(0,V.jsx)(ao,{children:e}):(0,V.jsx)(ao,{className:"notranslate",children:"\u200B"})})}))}var al=J(62917),ll=J(34027);function cl(r){return(0,yt.Ay)("MuiPickersSectionList",r)}const ys=(0,Dt.A)("MuiPickersSectionList",["root","section","sectionContent"]),ul=["slots","slotProps","elements","sectionListRef"],lo=(0,q.styled)("div",{name:"MuiPickersSectionList",slot:"Root",overridesResolver:(r,t)=>t.root})({direction:"ltr /*! @noflip */",outline:"none"}),co=(0,q.styled)("span",{name:"MuiPickersSectionList",slot:"Section",overridesResolver:(r,t)=>t.section})({}),uo=(0,q.styled)("span",{name:"MuiPickersSectionList",slot:"SectionSeparator",overridesResolver:(r,t)=>t.sectionSeparator})({whiteSpace:"pre"}),po=(0,q.styled)("span",{name:"MuiPickersSectionList",slot:"SectionContent",overridesResolver:(r,t)=>t.sectionContent})({outline:"none"}),dl=r=>{const{classes:t}=r,e={root:["root"],section:["section"],sectionContent:["sectionContent"]};return(0,mt.A)(e,cl,t)};function pl(r){var D,T,w;const{slots:t,slotProps:e,element:n,classes:s}=r,o=(D=t==null?void 0:t.section)!=null?D:co,i=(0,Ct.Q)({elementType:o,externalSlotProps:e==null?void 0:e.section,externalForwardedProps:n.container,className:s.section,ownerState:{}}),a=(T=t==null?void 0:t.sectionContent)!=null?T:po,c=(0,Ct.Q)({elementType:a,externalSlotProps:e==null?void 0:e.sectionContent,externalForwardedProps:n.content,additionalProps:{suppressContentEditableWarning:!0},className:s.sectionContent,ownerState:{}}),h=(w=t==null?void 0:t.sectionSeparator)!=null?w:uo,y=(0,Ct.Q)({elementType:h,externalSlotProps:e==null?void 0:e.sectionSeparator,externalForwardedProps:n.before,ownerState:{position:"before"}}),g=(0,Ct.Q)({elementType:h,externalSlotProps:e==null?void 0:e.sectionSeparator,externalForwardedProps:n.after,ownerState:{position:"after"}});return(0,V.jsxs)(o,(0,F.A)({},i,{children:[(0,V.jsx)(h,(0,F.A)({},y)),(0,V.jsx)(a,(0,F.A)({},c)),(0,V.jsx)(h,(0,F.A)({},g))]}))}const hl=f.forwardRef(function(t,e){var S;const n=(0,q.useThemeProps)({props:t,name:"MuiPickersSectionList"}),{slots:s,slotProps:o,elements:i,sectionListRef:a}=n,c=(0,W.A)(n,ul),h=dl(n),y=f.useRef(null),g=(0,Yt.A)(e,y),D=P=>{if(!y.current)throw new Error(`MUI X: Cannot call sectionListRef.${P} before the mount of the component.`);return y.current};f.useImperativeHandle(a,()=>({getRoot(){return D("getRoot")},getSectionContainer(P){return D("getSectionContainer").querySelector(`.${ys.section}[data-sectionindex="${P}"]`)},getSectionContent(P){return D("getSectionContent").querySelector(`.${ys.section}[data-sectionindex="${P}"] .${ys.sectionContent}`)},getSectionIndexFromDOMElement(P){const B=D("getSectionIndexFromDOMElement");if(P==null||!B.contains(P))return null;let R=null;return P.classList.contains(ys.section)?R=P:P.classList.contains(ys.sectionContent)&&(R=P.parentElement),R==null?null:Number(R.dataset.sectionindex)}}));const T=(S=s==null?void 0:s.root)!=null?S:lo,w=(0,Ct.Q)({elementType:T,externalSlotProps:o==null?void 0:o.root,externalForwardedProps:c,additionalProps:{ref:g,suppressContentEditableWarning:!0},className:h.root,ownerState:{}});return(0,V.jsx)(T,(0,F.A)({},w,{children:w.contentEditable?i.map(({content:P,before:B,after:R})=>`${B.children}${P.children}${R.children}`).join(""):(0,V.jsx)(f.Fragment,{children:i.map((P,B)=>(0,V.jsx)(pl,{slots:s,slotProps:o,element:P,classes:h},B))})}))}),ml=["elements","areAllSectionsEmpty","defaultValue","label","value","onChange","id","autoFocus","endAdornment","startAdornment","renderSuffix","slots","slotProps","contentEditable","tabIndex","onInput","onPaste","onKeyDown","fullWidth","name","readOnly","inputProps","inputRef","sectionListRef"],fl=r=>Math.round(r*1e5)/1e5,$s=(0,q.styled)("div",{name:"MuiPickersInputBase",slot:"Root",overridesResolver:(r,t)=>t.root})(({theme:r})=>(0,F.A)({},r.typography.body1,{color:(r.vars||r).palette.text.primary,cursor:"text",padding:0,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",boxSizing:"border-box",letterSpacing:`${fl(.15/16)}em`,variants:[{props:{fullWidth:!0},style:{width:"100%"}}]})),or=(0,q.styled)(lo,{name:"MuiPickersInputBase",slot:"SectionsContainer",overridesResolver:(r,t)=>t.sectionsContainer})(({theme:r})=>({padding:"4px 0 5px",fontFamily:r.typography.fontFamily,fontSize:"inherit",lineHeight:"1.4375em",flexGrow:1,outline:"none",display:"flex",flexWrap:"nowrap",overflow:"hidden",letterSpacing:"inherit",width:"182px",variants:[{props:{isRtl:!0},style:{textAlign:"right /*! @noflip */"}},{props:{size:"small"},style:{paddingTop:1}},{props:{adornedStart:!1,focused:!1,filled:!1},style:{color:"currentColor",opacity:0}},{props:({adornedStart:t,focused:e,filled:n,label:s})=>!t&&!e&&!n&&s==null,style:r.vars?{opacity:r.vars.opacity.inputPlaceholder}:{opacity:r.palette.mode==="light"?.42:.5}}]})),gl=(0,q.styled)(co,{name:"MuiPickersInputBase",slot:"Section",overridesResolver:(r,t)=>t.section})(({theme:r})=>({fontFamily:r.typography.fontFamily,fontSize:"inherit",letterSpacing:"inherit",lineHeight:"1.4375em",display:"flex"})),yl=(0,q.styled)(po,{name:"MuiPickersInputBase",slot:"SectionContent",overridesResolver:(r,t)=>t.content})(({theme:r})=>({fontFamily:r.typography.fontFamily,lineHeight:"1.4375em",letterSpacing:"inherit",width:"fit-content",outline:"none"})),Dl=(0,q.styled)(uo,{name:"MuiPickersInputBase",slot:"Separator",overridesResolver:(r,t)=>t.separator})(()=>({whiteSpace:"pre",letterSpacing:"inherit"})),Cl=(0,q.styled)("input",{name:"MuiPickersInputBase",slot:"Input",overridesResolver:(r,t)=>t.hiddenInput})((0,F.A)({},ll.A)),vl=r=>{const{focused:t,disabled:e,error:n,classes:s,fullWidth:o,readOnly:i,color:a,size:c,endAdornment:h,startAdornment:y}=r,g={root:["root",t&&!e&&"focused",e&&"disabled",i&&"readOnly",n&&"error",o&&"fullWidth",`color${(0,al.A)(a)}`,c==="small"&&"inputSizeSmall",!!y&&"adornedStart",!!h&&"adornedEnd"],notchedOutline:["notchedOutline"],input:["input"],sectionsContainer:["sectionsContainer"],sectionContent:["sectionContent"],sectionBefore:["sectionBefore"],sectionAfter:["sectionAfter"]};return(0,mt.A)(g,tl,s)},ir=f.forwardRef(function(t,e){const n=(0,q.useThemeProps)({props:t,name:"MuiPickersInputBase"}),{elements:s,areAllSectionsEmpty:o,value:i,onChange:a,id:c,endAdornment:h,startAdornment:y,renderSuffix:g,slots:D,slotProps:T,contentEditable:w,tabIndex:S,onInput:P,onPaste:B,onKeyDown:R,name:K,readOnly:Y,inputProps:Z,inputRef:X,sectionListRef:z}=n,G=(0,W.A)(n,ml),De=f.useRef(null),ee=(0,Yt.A)(e,De),de=(0,Yt.A)(Z==null?void 0:Z.ref,X),Se=(0,cn.I)(),pe=(0,Vs.A)();if(!pe)throw new Error("MUI X: PickersInputBase should always be used inside a PickersTextField component");const Ae=Oe=>{var Je;if(pe.disabled){Oe.stopPropagation();return}(Je=pe.onFocus)==null||Je.call(pe,Oe)};f.useEffect(()=>{pe&&pe.setAdornedStart(!!y)},[pe,y]),f.useEffect(()=>{pe&&(o?pe.onEmpty():pe.onFilled())},[pe,o]);const oe=(0,F.A)({},n,pe,{isRtl:Se}),we=vl(oe),je=(D==null?void 0:D.root)||$s,Le=(0,Ct.Q)({elementType:je,externalSlotProps:T==null?void 0:T.root,externalForwardedProps:G,additionalProps:{"aria-invalid":pe.error,ref:ee},className:we.root,ownerState:oe}),Pe=(D==null?void 0:D.input)||or;return(0,V.jsxs)(je,(0,F.A)({},Le,{children:[y,(0,V.jsx)(hl,{sectionListRef:z,elements:s,contentEditable:w,tabIndex:S,className:we.sectionsContainer,onFocus:Ae,onBlur:pe.onBlur,onInput:P,onPaste:B,onKeyDown:R,slots:{root:Pe,section:gl,sectionContent:yl,sectionSeparator:Dl},slotProps:{root:{ownerState:oe},sectionContent:{className:os.sectionContent},sectionSeparator:({position:Oe})=>({className:Oe==="before"?os.sectionBefore:os.sectionAfter})}}),h,g?g((0,F.A)({},pe)):null,(0,V.jsx)(Cl,(0,F.A)({name:K,className:we.input,value:i,onChange:a,id:c,"aria-hidden":"true",tabIndex:-1,readOnly:Y,required:pe.required,disabled:pe.disabled},Z,{ref:de}))]}))}),bl=["label","autoFocus","ownerState","notched"],xl=(0,q.styled)($s,{name:"MuiPickersOutlinedInput",slot:"Root",overridesResolver:(r,t)=>t.root})(({theme:r})=>{var e;const t=r.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{padding:"0 14px",borderRadius:(r.vars||r).shape.borderRadius,[`&:hover .${un.notchedOutline}`]:{borderColor:(r.vars||r).palette.text.primary},"@media (hover: none)":{[`&:hover .${un.notchedOutline}`]:{borderColor:r.vars?`rgba(${r.vars.palette.common.onBackgroundChannel} / 0.23)`:t}},[`&.${un.focused} .${un.notchedOutline}`]:{borderStyle:"solid",borderWidth:2},[`&.${un.disabled}`]:{[`& .${un.notchedOutline}`]:{borderColor:(r.vars||r).palette.action.disabled},"*":{color:(r.vars||r).palette.action.disabled}},[`&.${un.error} .${un.notchedOutline}`]:{borderColor:(r.vars||r).palette.error.main},variants:Object.keys(((e=r.vars)!=null?e:r).palette).filter(n=>{var s,o,i;return(i=(o=((s=r.vars)!=null?s:r).palette[n])==null?void 0:o.main)!=null?i:!1}).map(n=>({props:{color:n},style:{[`&.${un.focused}:not(.${un.error}) .${un.notchedOutline}`]:{borderColor:(r.vars||r).palette[n].main}}}))}}),Al=(0,q.styled)(or,{name:"MuiPickersOutlinedInput",slot:"SectionsContainer",overridesResolver:(r,t)=>t.sectionsContainer})({padding:"16.5px 0",variants:[{props:{size:"small"},style:{padding:"8.5px 0"}}]}),wl=r=>{const{classes:t}=r,e={root:["root"],notchedOutline:["notchedOutline"],input:["input"]},n=(0,mt.A)(e,nl,t);return(0,F.A)({},t,n)},ho=f.forwardRef(function(t,e){const n=(0,q.useThemeProps)({props:t,name:"MuiPickersOutlinedInput"}),{label:s,ownerState:o,notched:i}=n,a=(0,W.A)(n,bl),c=(0,Vs.A)(),h=(0,F.A)({},n,o,c,{color:(c==null?void 0:c.color)||"primary"}),y=wl(h);return(0,V.jsx)(ir,(0,F.A)({slots:{root:xl,input:Al},renderSuffix:g=>(0,V.jsx)(il,{shrink:!!(i||g.adornedStart||g.focused||g.filled),notched:!!(i||g.adornedStart||g.focused||g.filled),className:y.notchedOutline,label:s!=null&&s!==""&&(c!=null&&c.required)?(0,V.jsxs)(f.Fragment,{children:[s,"\u2009","*"]}):s,ownerState:h})},a,{label:s,classes:y,ref:e}))});ho.muiName="Input";var El=J(29239);function Sl(r){return(0,yt.Ay)("MuiPickersFilledInput",r)}const jn=(0,F.A)({},os,(0,Dt.A)("MuiPickersFilledInput",["root","underline","input"])),Fl=["label","autoFocus","disableUnderline","ownerState"],Tl=(0,q.styled)($s,{name:"MuiPickersFilledInput",slot:"Root",overridesResolver:(r,t)=>t.root,shouldForwardProp:r=>(0,El.MC)(r)&&r!=="disableUnderline"})(({theme:r})=>{var i;const t=r.palette.mode==="light",e=t?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",n=t?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",s=t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",o=t?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{backgroundColor:r.vars?r.vars.palette.FilledInput.bg:n,borderTopLeftRadius:(r.vars||r).shape.borderRadius,borderTopRightRadius:(r.vars||r).shape.borderRadius,transition:r.transitions.create("background-color",{duration:r.transitions.duration.shorter,easing:r.transitions.easing.easeOut}),"&:hover":{backgroundColor:r.vars?r.vars.palette.FilledInput.hoverBg:s,"@media (hover: none)":{backgroundColor:r.vars?r.vars.palette.FilledInput.bg:n}},[`&.${jn.focused}`]:{backgroundColor:r.vars?r.vars.palette.FilledInput.bg:n},[`&.${jn.disabled}`]:{backgroundColor:r.vars?r.vars.palette.FilledInput.disabledBg:o},variants:[...Object.keys(((i=r.vars)!=null?i:r).palette).filter(a=>{var c;return((c=r.vars)!=null?c:r).palette[a].main}).map(a=>{var c;return{props:{color:a,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(c=(r.vars||r).palette[a])==null?void 0:c.main}`}}}}),{props:{disableUnderline:!1},style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:r.transitions.create("transform",{duration:r.transitions.duration.shorter,easing:r.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${jn.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${jn.error}`]:{"&:before, &:after":{borderBottomColor:(r.vars||r).palette.error.main}},"&::before":{borderBottom:`1px solid ${r.vars?`rgba(${r.vars.palette.common.onBackgroundChannel} / ${r.vars.opacity.inputUnderline})`:e}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:r.transitions.create("border-bottom-color",{duration:r.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${jn.disabled}, .${jn.error}):before`]:{borderBottom:`1px solid ${(r.vars||r).palette.text.primary}`},[`&.${jn.disabled}:before`]:{borderBottomStyle:"dotted"}}},{props:({startAdornment:a})=>!!a,style:{paddingLeft:12}},{props:({endAdornment:a})=>!!a,style:{paddingRight:12}}]}}),kl=(0,q.styled)(or,{name:"MuiPickersFilledInput",slot:"sectionsContainer",overridesResolver:(r,t)=>t.sectionsContainer})({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({startAdornment:r})=>!!r,style:{paddingLeft:0}},{props:({endAdornment:r})=>!!r,style:{paddingRight:0}},{props:{hiddenLabel:!0},style:{paddingTop:16,paddingBottom:17}},{props:{hiddenLabel:!0,size:"small"},style:{paddingTop:8,paddingBottom:9}}]}),Il=r=>{const{classes:t,disableUnderline:e}=r,n={root:["root",!e&&"underline"],input:["input"]},s=(0,mt.A)(n,Sl,t);return(0,F.A)({},t,s)},mo=f.forwardRef(function(t,e){const n=(0,q.useThemeProps)({props:t,name:"MuiPickersFilledInput"}),{label:s,disableUnderline:o=!1,ownerState:i}=n,a=(0,W.A)(n,Fl),c=(0,Vs.A)(),h=(0,F.A)({},n,i,c,{color:(c==null?void 0:c.color)||"primary"}),y=Il(h);return(0,V.jsx)(ir,(0,F.A)({slots:{root:Tl,input:kl},slotProps:{root:{disableUnderline:o}}},a,{label:s,classes:y,ref:e}))});mo.muiName="Input";function Pl(r){return(0,yt.Ay)("MuiPickersFilledInput",r)}const Ds=(0,F.A)({},os,(0,Dt.A)("MuiPickersInput",["root","input"])),Ml=["label","autoFocus","disableUnderline","ownerState"],Ol=(0,q.styled)($s,{name:"MuiPickersInput",slot:"Root",overridesResolver:(r,t)=>t.root})(({theme:r})=>{var n;let e=r.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return r.vars&&(e=`rgba(${r.vars.palette.common.onBackgroundChannel} / ${r.vars.opacity.inputUnderline})`),{"label + &":{marginTop:16},variants:[...Object.keys(((n=r.vars)!=null?n:r).palette).filter(s=>{var o;return((o=r.vars)!=null?o:r).palette[s].main}).map(s=>({props:{color:s},style:{"&::after":{borderBottom:`2px solid ${(r.vars||r).palette[s].main}`}}})),{props:{disableUnderline:!1},style:{"&::after":{background:"red",left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:r.transitions.create("transform",{duration:r.transitions.duration.shorter,easing:r.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Ds.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Ds.error}`]:{"&:before, &:after":{borderBottomColor:(r.vars||r).palette.error.main}},"&::before":{borderBottom:`1px solid ${e}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:r.transitions.create("border-bottom-color",{duration:r.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Ds.disabled}, .${Ds.error}):before`]:{borderBottom:`2px solid ${(r.vars||r).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${e}`}},[`&.${Ds.disabled}:before`]:{borderBottomStyle:"dotted"}}}]}}),Nl=r=>{const{classes:t,disableUnderline:e}=r,n={root:["root",!e&&"underline"],input:["input"]},s=(0,mt.A)(n,Pl,t);return(0,F.A)({},t,s)},fo=f.forwardRef(function(t,e){const n=(0,q.useThemeProps)({props:t,name:"MuiPickersInput"}),{label:s,disableUnderline:o=!1,ownerState:i}=n,a=(0,W.A)(n,Ml),c=(0,Vs.A)(),h=(0,F.A)({},n,i,c,{disableUnderline:o,color:(c==null?void 0:c.color)||"primary"}),y=Nl(h);return(0,V.jsx)(ir,(0,F.A)({slots:{root:Ol}},a,{label:s,classes:y,ref:e}))});fo.muiName="Input";const Bl=["onFocus","onBlur","className","color","disabled","error","variant","required","InputProps","inputProps","inputRef","sectionListRef","elements","areAllSectionsEmpty","onClick","onKeyDown","onKeyUp","onPaste","onInput","endAdornment","startAdornment","tabIndex","contentEditable","focused","value","onChange","fullWidth","id","name","helperText","FormHelperTextProps","label","InputLabelProps"],Ll={standard:fo,filled:mo,outlined:ho},Rl=(0,q.styled)(qa.A,{name:"MuiPickersTextField",slot:"Root",overridesResolver:(r,t)=>t.root})({}),_l=r=>{const{focused:t,disabled:e,classes:n,required:s}=r,o={root:["root",t&&!e&&"focused",e&&"disabled",s&&"required"]};return(0,mt.A)(o,el,n)},go=f.forwardRef(function(t,e){const n=(0,q.useThemeProps)({props:t,name:"MuiPickersTextField"}),{onFocus:s,onBlur:o,className:i,color:a="primary",disabled:c=!1,error:h=!1,variant:y="outlined",required:g=!1,InputProps:D,inputProps:T,inputRef:w,sectionListRef:S,elements:P,areAllSectionsEmpty:B,onClick:R,onKeyDown:K,onPaste:Y,onInput:Z,endAdornment:X,startAdornment:z,tabIndex:G,contentEditable:De,focused:ee,value:de,onChange:Se,fullWidth:pe,id:Ae,name:oe,helperText:we,FormHelperTextProps:je,label:Le,InputLabelProps:Pe}=n,Oe=(0,W.A)(n,Bl),Je=f.useRef(null),Xe=(0,Yt.A)(e,Je),Ee=(0,qn.A)(Ae),Ye=we&&Ee?`${Ee}-helper-text`:void 0,se=Le&&Ee?`${Ee}-label`:void 0,he=(0,F.A)({},n,{color:a,disabled:c,error:h,focused:ee,required:g,variant:y}),_e=_l(he),Me=Ll[y];return(0,V.jsxs)(Rl,(0,F.A)({className:(0,vt.A)(_e.root,i),ref:Xe,focused:ee,onFocus:s,onBlur:o,disabled:c,variant:y,error:h,color:a,fullWidth:pe,required:g,ownerState:he},Oe,{children:[(0,V.jsx)(Xa.A,(0,F.A)({htmlFor:Ee,id:se},Pe,{children:Le})),(0,V.jsx)(Me,(0,F.A)({elements:P,areAllSectionsEmpty:B,onClick:R,onKeyDown:K,onInput:Z,onPaste:Y,endAdornment:X,startAdornment:z,tabIndex:G,contentEditable:De,value:de,onChange:Se,id:Ee,fullWidth:pe,inputProps:T,inputRef:w,sectionListRef:S,label:Le,name:oe,role:"group","aria-labelledby":se},D)),we&&(0,V.jsx)(Za.A,(0,F.A)({id:Ye},je,{children:we}))]}))}),Vl=["enableAccessibleFieldDOMStructure"],$l=["InputProps","readOnly"],jl=["onPaste","onKeyDown","inputMode","readOnly","InputProps","inputProps","inputRef"],yo=r=>{let{enableAccessibleFieldDOMStructure:t}=r,e=(0,W.A)(r,Vl);if(t){const{InputProps:g,readOnly:D}=e,T=(0,W.A)(e,$l);return(0,F.A)({},T,{InputProps:(0,F.A)({},g!=null?g:{},{readOnly:D})})}const{onPaste:n,onKeyDown:s,inputMode:o,readOnly:i,InputProps:a,inputProps:c,inputRef:h}=e,y=(0,W.A)(e,jl);return(0,F.A)({},y,{InputProps:(0,F.A)({},a!=null?a:{},{readOnly:i}),inputProps:(0,F.A)({},c!=null?c:{},{inputMode:o,onPaste:n,onKeyDown:s,ref:h})})},Wl=["slots","slotProps","InputProps","inputProps"],Do=f.forwardRef(function(t,e){var S;const n=(0,q.useThemeProps)({props:t,name:"MuiDateField"}),{slots:s,slotProps:o,InputProps:i,inputProps:a}=n,c=(0,W.A)(n,Wl),h=n,y=(S=s==null?void 0:s.textField)!=null?S:t.enableAccessibleFieldDOMStructure?go:to.A,g=(0,Ct.Q)({elementType:y,externalSlotProps:o==null?void 0:o.textField,externalForwardedProps:c,additionalProps:{ref:e},ownerState:h});g.inputProps=(0,F.A)({},a,g.inputProps),g.InputProps=(0,F.A)({},i,g.InputProps);const D=Ka(g),T=yo(D),w=io((0,F.A)({},T,{slots:s,slotProps:o}));return(0,V.jsx)(y,(0,F.A)({},w))}),Co=({shouldDisableDate:r,shouldDisableMonth:t,shouldDisableYear:e,minDate:n,maxDate:s,disableFuture:o,disablePast:i,timezone:a})=>{const c=Rn();return f.useCallback(h=>Ns({adapter:c,value:h,props:{shouldDisableDate:r,shouldDisableMonth:t,shouldDisableYear:e,minDate:n,maxDate:s,disableFuture:o,disablePast:i,timezone:a}})!==null,[c,r,t,e,n,s,o,i,a])},Ul=(r,t,e)=>(n,s)=>{switch(s.type){case"changeMonth":return(0,F.A)({},n,{slideDirection:s.direction,currentMonth:s.newMonth,isMonthSwitchingAnimating:!r});case"finishMonthSwitchingAnimation":return(0,F.A)({},n,{isMonthSwitchingAnimating:!1});case"changeFocusedDay":{if(n.focusedDay!=null&&s.focusedDay!=null&&e.isSameDay(s.focusedDay,n.focusedDay))return n;const o=s.focusedDay!=null&&!t&&!e.isSameMonth(n.currentMonth,s.focusedDay);return(0,F.A)({},n,{focusedDay:s.focusedDay,isMonthSwitchingAnimating:o&&!r&&!s.withoutMonthSwitchingAnimation,currentMonth:o?e.startOfMonth(s.focusedDay):n.currentMonth,slideDirection:s.focusedDay!=null&&e.isAfterDay(s.focusedDay,n.currentMonth)?"left":"right"})}default:throw new Error("missing support")}},Hl=r=>{const{value:t,referenceDate:e,disableFuture:n,disablePast:s,disableSwitchToMonthOnDayFocus:o=!1,maxDate:i,minDate:a,onMonthChange:c,reduceAnimations:h,shouldDisableDate:y,timezone:g}=r,D=ht(),T=f.useRef(Ul(!!h,o,D)).current,w=f.useMemo(()=>$t.getInitialReferenceValue({value:t,utils:D,timezone:g,props:r,referenceDate:e,granularity:Ft.day}),[]),[S,P]=f.useReducer(T,{isMonthSwitchingAnimating:!1,focusedDay:w,currentMonth:D.startOfMonth(w),slideDirection:"left"}),B=f.useCallback(X=>{P((0,F.A)({type:"changeMonth"},X)),c&&c(X.newMonth)},[c]),R=f.useCallback(X=>{const z=X;D.isSameMonth(z,S.currentMonth)||B({newMonth:D.startOfMonth(z),direction:D.isAfterDay(z,S.currentMonth)?"left":"right"})},[S.currentMonth,B,D]),K=Co({shouldDisableDate:y,minDate:a,maxDate:i,disableFuture:n,disablePast:s,timezone:g}),Y=f.useCallback(()=>{P({type:"finishMonthSwitchingAnimation"})},[]),Z=(0,Ue.A)((X,z)=>{K(X)||P({type:"changeFocusedDay",focusedDay:X,withoutMonthSwitchingAnimation:z})});return{referenceDate:w,calendarState:S,changeMonth:R,changeFocusedDay:Z,isDateDisabled:K,onMonthSwitchingAnimationEnd:Y,handleChangeMonth:B}};var vo=J(1839);const zl=r=>(0,yt.Ay)("MuiPickersFadeTransitionGroup",r),hm=(0,Dt.A)("MuiPickersFadeTransitionGroup",["root"]),Jl=r=>{const{classes:t}=r,e={root:["root"]};return(0,mt.A)(e,zl,t)},Yl=(0,q.styled)(vo.A,{name:"MuiPickersFadeTransitionGroup",slot:"Root",overridesResolver:(r,t)=>t.root})({display:"block",position:"relative"});function bo(r){const t=(0,q.useThemeProps)({props:r,name:"MuiPickersFadeTransitionGroup"}),{children:e,className:n,reduceAnimations:s,transKey:o}=t,i=Jl(t),a=(0,q.useTheme)();return s?e:(0,V.jsx)(Yl,{className:(0,vt.A)(i.root,n),children:(0,V.jsx)(Bs.A,{appear:!1,mountOnEnter:!0,unmountOnExit:!0,timeout:{appear:a.transitions.duration.enteringScreen,enter:a.transitions.duration.enteringScreen,exit:0},children:e},o)})}var Kl=J(64571);function Gl(r){return(0,yt.Ay)("MuiPickersDay",r)}const Wn=(0,Dt.A)("MuiPickersDay",["root","dayWithMargin","dayOutsideMonth","hiddenDaySpacingFiller","today","selected","disabled"]),Ql=["autoFocus","className","day","disabled","disableHighlightToday","disableMargin","hidden","isAnimating","onClick","onDaySelect","onFocus","onBlur","onKeyDown","onMouseDown","onMouseEnter","outsideCurrentMonth","selected","showDaysOutsideCurrentMonth","children","today","isFirstVisibleCell","isLastVisibleCell"],Xl=r=>{const{selected:t,disableMargin:e,disableHighlightToday:n,today:s,disabled:o,outsideCurrentMonth:i,showDaysOutsideCurrentMonth:a,classes:c}=r,h=i&&!a,y={root:["root",t&&!h&&"selected",o&&"disabled",!e&&"dayWithMargin",!n&&s&&"today",i&&a&&"dayOutsideMonth",h&&"hiddenDaySpacingFiller"],hiddenDaySpacingFiller:["hiddenDaySpacingFiller"]};return(0,mt.A)(y,Gl,c)},xo=({theme:r})=>(0,F.A)({},r.typography.caption,{width:gs,height:gs,borderRadius:"50%",padding:0,backgroundColor:"transparent",transition:r.transitions.create("background-color",{duration:r.transitions.duration.short}),color:(r.vars||r).palette.text.primary,"@media (pointer: fine)":{"&:hover":{backgroundColor:r.vars?`rgba(${r.vars.palette.primary.mainChannel} / ${r.vars.palette.action.hoverOpacity})`:(0,q.alpha)(r.palette.primary.main,r.palette.action.hoverOpacity)}},"&:focus":{backgroundColor:r.vars?`rgba(${r.vars.palette.primary.mainChannel} / ${r.vars.palette.action.focusOpacity})`:(0,q.alpha)(r.palette.primary.main,r.palette.action.focusOpacity),[`&.${Wn.selected}`]:{willChange:"background-color",backgroundColor:(r.vars||r).palette.primary.dark}},[`&.${Wn.selected}`]:{color:(r.vars||r).palette.primary.contrastText,backgroundColor:(r.vars||r).palette.primary.main,fontWeight:r.typography.fontWeightMedium,"&:hover":{willChange:"background-color",backgroundColor:(r.vars||r).palette.primary.dark}},[`&.${Wn.disabled}:not(.${Wn.selected})`]:{color:(r.vars||r).palette.text.disabled},[`&.${Wn.disabled}&.${Wn.selected}`]:{opacity:.6},variants:[{props:{disableMargin:!1},style:{margin:`0 ${Ls}px`}},{props:{outsideCurrentMonth:!0,showDaysOutsideCurrentMonth:!0},style:{color:(r.vars||r).palette.text.secondary}},{props:{disableHighlightToday:!1,today:!0},style:{[`&:not(.${Wn.selected})`]:{border:`1px solid ${(r.vars||r).palette.text.secondary}`}}}]}),Ao=(r,t)=>{const{ownerState:e}=r;return[t.root,!e.disableMargin&&t.dayWithMargin,!e.disableHighlightToday&&e.today&&t.today,!e.outsideCurrentMonth&&e.showDaysOutsideCurrentMonth&&t.dayOutsideMonth,e.outsideCurrentMonth&&!e.showDaysOutsideCurrentMonth&&t.hiddenDaySpacingFiller]},Zl=(0,q.styled)(Kl.A,{name:"MuiPickersDay",slot:"Root",overridesResolver:Ao})(xo),ql=(0,q.styled)("div",{name:"MuiPickersDay",slot:"Root",overridesResolver:Ao})(({theme:r})=>(0,F.A)({},xo({theme:r}),{opacity:0,pointerEvents:"none"})),Cs=()=>{},ec=f.forwardRef(function(t,e){const n=(0,q.useThemeProps)({props:t,name:"MuiPickersDay"}),{autoFocus:s=!1,className:o,day:i,disabled:a=!1,disableHighlightToday:c=!1,disableMargin:h=!1,isAnimating:y,onClick:g,onDaySelect:D,onFocus:T=Cs,onBlur:w=Cs,onKeyDown:S=Cs,onMouseDown:P=Cs,onMouseEnter:B=Cs,outsideCurrentMonth:R,selected:K=!1,showDaysOutsideCurrentMonth:Y=!1,children:Z,today:X=!1}=n,z=(0,W.A)(n,Ql),G=(0,F.A)({},n,{autoFocus:s,disabled:a,disableHighlightToday:c,disableMargin:h,selected:K,showDaysOutsideCurrentMonth:Y,today:X}),De=Xl(G),ee=ht(),de=f.useRef(null),Se=(0,Yt.A)(de,e);(0,bn.A)(()=>{s&&!a&&!y&&!R&&de.current.focus()},[s,a,y,R]);const pe=oe=>{P(oe),R&&oe.preventDefault()},Ae=oe=>{a||D(i),R&&oe.currentTarget.focus(),g&&g(oe)};return R&&!Y?(0,V.jsx)(ql,{className:(0,vt.A)(De.root,De.hiddenDaySpacingFiller,o),ownerState:G,role:z.role}):(0,V.jsx)(Zl,(0,F.A)({className:(0,vt.A)(De.root,o),ref:Se,centerRipple:!0,disabled:a,tabIndex:K?0:-1,onKeyDown:oe=>S(oe,i),onFocus:oe=>T(oe,i),onBlur:oe=>w(oe,i),onMouseEnter:oe=>B(oe,i),onClick:Ae,onMouseDown:pe},z,{ownerState:G,children:Z||ee.format(i,"dayOfMonth")}))}),tc=f.memo(ec);var nc=J(25540);function sc(r,t){return r.classList?!!t&&r.classList.contains(t):(" "+(r.className.baseVal||r.className)+" ").indexOf(" "+t+" ")!==-1}function rc(r,t){r.classList?r.classList.add(t):sc(r,t)||(typeof r.className=="string"?r.className=r.className+" "+t:r.setAttribute("class",(r.className&&r.className.baseVal||"")+" "+t))}function wo(r,t){return r.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function oc(r,t){r.classList?r.classList.remove(t):typeof r.className=="string"?r.className=wo(r.className,t):r.setAttribute("class",wo(r.className&&r.className.baseVal||"",t))}var ic=J(39878),ac=J(34093),lc=function(t,e){return t&&e&&e.split(" ").forEach(function(n){return rc(t,n)})},ar=function(t,e){return t&&e&&e.split(" ").forEach(function(n){return oc(t,n)})},lr=function(r){(0,nc.A)(t,r);function t(){for(var n,s=arguments.length,o=new Array(s),i=0;i<s;i++)o[i]=arguments[i];return n=r.call.apply(r,[this].concat(o))||this,n.appliedClasses={appear:{},enter:{},exit:{}},n.onEnter=function(a,c){var h=n.resolveArguments(a,c),y=h[0],g=h[1];n.removeClasses(y,"exit"),n.addClass(y,g?"appear":"enter","base"),n.props.onEnter&&n.props.onEnter(a,c)},n.onEntering=function(a,c){var h=n.resolveArguments(a,c),y=h[0],g=h[1],D=g?"appear":"enter";n.addClass(y,D,"active"),n.props.onEntering&&n.props.onEntering(a,c)},n.onEntered=function(a,c){var h=n.resolveArguments(a,c),y=h[0],g=h[1],D=g?"appear":"enter";n.removeClasses(y,D),n.addClass(y,D,"done"),n.props.onEntered&&n.props.onEntered(a,c)},n.onExit=function(a){var c=n.resolveArguments(a),h=c[0];n.removeClasses(h,"appear"),n.removeClasses(h,"enter"),n.addClass(h,"exit","base"),n.props.onExit&&n.props.onExit(a)},n.onExiting=function(a){var c=n.resolveArguments(a),h=c[0];n.addClass(h,"exit","active"),n.props.onExiting&&n.props.onExiting(a)},n.onExited=function(a){var c=n.resolveArguments(a),h=c[0];n.removeClasses(h,"exit"),n.addClass(h,"exit","done"),n.props.onExited&&n.props.onExited(a)},n.resolveArguments=function(a,c){return n.props.nodeRef?[n.props.nodeRef.current,a]:[a,c]},n.getClassNames=function(a){var c=n.props.classNames,h=typeof c=="string",y=h&&c?c+"-":"",g=h?""+y+a:c[a],D=h?g+"-active":c[a+"Active"],T=h?g+"-done":c[a+"Done"];return{baseClassName:g,activeClassName:D,doneClassName:T}},n}var e=t.prototype;return e.addClass=function(s,o,i){var a=this.getClassNames(o)[i+"ClassName"],c=this.getClassNames("enter"),h=c.doneClassName;o==="appear"&&i==="done"&&h&&(a+=" "+h),i==="active"&&s&&(0,ac.F)(s),a&&(this.appliedClasses[o][i]=a,lc(s,a))},e.removeClasses=function(s,o){var i=this.appliedClasses[o],a=i.base,c=i.active,h=i.done;this.appliedClasses[o]={},a&&ar(s,a),c&&ar(s,c),h&&ar(s,h)},e.render=function(){var s=this.props,o=s.classNames,i=(0,W.A)(s,["classNames"]);return l().createElement(ic.Ay,(0,F.A)({},i,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(l().Component);lr.defaultProps={classNames:""},lr.propTypes={};const cc=lr,uc=r=>(0,yt.Ay)("MuiPickersSlideTransition",r),sn=(0,Dt.A)("MuiPickersSlideTransition",["root","slideEnter-left","slideEnter-right","slideEnterActive","slideExit","slideExitActiveLeft-left","slideExitActiveLeft-right"]),dc=["children","className","reduceAnimations","slideDirection","transKey","classes"],pc=r=>{const{classes:t,slideDirection:e}=r,n={root:["root"],exit:["slideExit"],enterActive:["slideEnterActive"],enter:[`slideEnter-${e}`],exitActive:[`slideExitActiveLeft-${e}`]};return(0,mt.A)(n,uc,t)},hc=(0,q.styled)(vo.A,{name:"MuiPickersSlideTransition",slot:"Root",overridesResolver:(r,t)=>[t.root,{[`.${sn["slideEnter-left"]}`]:t["slideEnter-left"]},{[`.${sn["slideEnter-right"]}`]:t["slideEnter-right"]},{[`.${sn.slideEnterActive}`]:t.slideEnterActive},{[`.${sn.slideExit}`]:t.slideExit},{[`.${sn["slideExitActiveLeft-left"]}`]:t["slideExitActiveLeft-left"]},{[`.${sn["slideExitActiveLeft-right"]}`]:t["slideExitActiveLeft-right"]}]})(({theme:r})=>{const t=r.transitions.create("transform",{duration:r.transitions.duration.complex,easing:"cubic-bezier(0.35, 0.8, 0.4, 1)"});return{display:"block",position:"relative",overflowX:"hidden","& > *":{position:"absolute",top:0,right:0,left:0},[`& .${sn["slideEnter-left"]}`]:{willChange:"transform",transform:"translate(100%)",zIndex:1},[`& .${sn["slideEnter-right"]}`]:{willChange:"transform",transform:"translate(-100%)",zIndex:1},[`& .${sn.slideEnterActive}`]:{transform:"translate(0%)",transition:t},[`& .${sn.slideExit}`]:{transform:"translate(0%)"},[`& .${sn["slideExitActiveLeft-left"]}`]:{willChange:"transform",transform:"translate(-100%)",transition:t,zIndex:0},[`& .${sn["slideExitActiveLeft-right"]}`]:{willChange:"transform",transform:"translate(100%)",transition:t,zIndex:0}}});function mc(r){const t=(0,q.useThemeProps)({props:r,name:"MuiPickersSlideTransition"}),{children:e,className:n,reduceAnimations:s,transKey:o}=t,i=(0,W.A)(t,dc),a=pc(t),c=(0,q.useTheme)();if(s)return(0,V.jsx)("div",{className:(0,vt.A)(a.root,n),children:e});const h={exit:a.exit,enterActive:a.enterActive,enter:a.enter,exitActive:a.exitActive};return(0,V.jsx)(hc,{className:(0,vt.A)(a.root,n),childFactory:y=>f.cloneElement(y,{classNames:h}),role:"presentation",children:(0,V.jsx)(cc,(0,F.A)({mountOnEnter:!0,unmountOnExit:!0,timeout:c.transitions.duration.complex,classNames:h},i,{children:e}),o)})}const fc=r=>(0,yt.Ay)("MuiDayCalendar",r),mm=(0,Dt.A)("MuiDayCalendar",["root","header","weekDayLabel","loadingContainer","slideTransition","monthContainer","weekContainer","weekNumberLabel","weekNumber"]),gc=["parentProps","day","focusableDay","selectedDays","isDateDisabled","currentMonthNumber","isViewFocused"],yc=["ownerState"],Dc=r=>{const{classes:t}=r,e={root:["root"],header:["header"],weekDayLabel:["weekDayLabel"],loadingContainer:["loadingContainer"],slideTransition:["slideTransition"],monthContainer:["monthContainer"],weekContainer:["weekContainer"],weekNumberLabel:["weekNumberLabel"],weekNumber:["weekNumber"]};return(0,mt.A)(e,fc,t)},Eo=(gs+Ls*2)*6,Cc=(0,q.styled)("div",{name:"MuiDayCalendar",slot:"Root",overridesResolver:(r,t)=>t.root})({}),vc=(0,q.styled)("div",{name:"MuiDayCalendar",slot:"Header",overridesResolver:(r,t)=>t.header})({display:"flex",justifyContent:"center",alignItems:"center"}),bc=(0,q.styled)(Fn.A,{name:"MuiDayCalendar",slot:"WeekDayLabel",overridesResolver:(r,t)=>t.weekDayLabel})(({theme:r})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:(r.vars||r).palette.text.secondary})),xc=(0,q.styled)(Fn.A,{name:"MuiDayCalendar",slot:"WeekNumberLabel",overridesResolver:(r,t)=>t.weekNumberLabel})(({theme:r})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:r.palette.text.disabled})),Ac=(0,q.styled)(Fn.A,{name:"MuiDayCalendar",slot:"WeekNumber",overridesResolver:(r,t)=>t.weekNumber})(({theme:r})=>(0,F.A)({},r.typography.caption,{width:gs,height:gs,padding:0,margin:`0 ${Ls}px`,color:r.palette.text.disabled,fontSize:"0.75rem",alignItems:"center",justifyContent:"center",display:"inline-flex"})),wc=(0,q.styled)("div",{name:"MuiDayCalendar",slot:"LoadingContainer",overridesResolver:(r,t)=>t.loadingContainer})({display:"flex",justifyContent:"center",alignItems:"center",minHeight:Eo}),Ec=(0,q.styled)(mc,{name:"MuiDayCalendar",slot:"SlideTransition",overridesResolver:(r,t)=>t.slideTransition})({minHeight:Eo}),Sc=(0,q.styled)("div",{name:"MuiDayCalendar",slot:"MonthContainer",overridesResolver:(r,t)=>t.monthContainer})({overflow:"hidden"}),Fc=(0,q.styled)("div",{name:"MuiDayCalendar",slot:"WeekContainer",overridesResolver:(r,t)=>t.weekContainer})({margin:`${Ls}px 0`,display:"flex",justifyContent:"center"});function Tc(r){var Se;let{parentProps:t,day:e,focusableDay:n,selectedDays:s,isDateDisabled:o,currentMonthNumber:i,isViewFocused:a}=r,c=(0,W.A)(r,gc);const{disabled:h,disableHighlightToday:y,isMonthSwitchingAnimating:g,showDaysOutsideCurrentMonth:D,slots:T,slotProps:w,timezone:S}=t,P=ht(),B=_n(S),R=n!==null&&P.isSameDay(e,n),K=s.some(pe=>P.isSameDay(pe,e)),Y=P.isSameDay(e,B),Z=(Se=T==null?void 0:T.day)!=null?Se:tc,X=(0,Ct.Q)({elementType:Z,externalSlotProps:w==null?void 0:w.day,additionalProps:(0,F.A)({disableHighlightToday:y,showDaysOutsideCurrentMonth:D,role:"gridcell",isAnimating:g,"data-timestamp":P.toJsDate(e).valueOf()},c),ownerState:(0,F.A)({},t,{day:e,selected:K})}),z=(0,W.A)(X,yc),G=f.useMemo(()=>h||o(e),[h,o,e]),De=f.useMemo(()=>P.getMonth(e)!==i,[P,e,i]),ee=f.useMemo(()=>{const pe=P.startOfMonth(P.setMonth(e,i));return D?P.isSameDay(e,P.startOfWeek(pe)):P.isSameDay(e,pe)},[i,e,D,P]),de=f.useMemo(()=>{const pe=P.endOfMonth(P.setMonth(e,i));return D?P.isSameDay(e,P.endOfWeek(pe)):P.isSameDay(e,pe)},[i,e,D,P]);return(0,V.jsx)(Z,(0,F.A)({},z,{day:e,disabled:G,autoFocus:a&&R,today:Y,outsideCurrentMonth:De,isFirstVisibleCell:ee,isLastVisibleCell:de,selected:K,tabIndex:R?0:-1,"aria-selected":K,"aria-current":Y?"date":void 0}))}function kc(r){const t=(0,q.useThemeProps)({props:r,name:"MuiDayCalendar"}),e=ht(),{onFocusedDayChange:n,className:s,currentMonth:o,selectedDays:i,focusedDay:a,loading:c,onSelectedDaysChange:h,onMonthSwitchingAnimationEnd:y,readOnly:g,reduceAnimations:D,renderLoading:T=()=>(0,V.jsx)("span",{children:"..."}),slideDirection:w,TransitionProps:S,disablePast:P,disableFuture:B,minDate:R,maxDate:K,shouldDisableDate:Y,shouldDisableMonth:Z,shouldDisableYear:X,dayOfWeekFormatter:z=xe=>e.format(xe,"weekdayShort").charAt(0).toUpperCase(),hasFocus:G,onFocusedViewChange:De,gridLabelId:ee,displayWeekNumber:de,fixedWeekNumber:Se,autoFocus:pe,timezone:Ae}=t,oe=_n(Ae),we=Dc(t),je=(0,cn.I)(),Le=Co({shouldDisableDate:Y,shouldDisableMonth:Z,shouldDisableYear:X,minDate:R,maxDate:K,disablePast:P,disableFuture:B,timezone:Ae}),Pe=jt(),[Oe,Je]=(0,Vn.A)({name:"DayCalendar",state:"hasFocus",controlled:G,default:pe!=null?pe:!1}),[Xe,Ee]=f.useState(()=>a||oe),Ye=(0,Ue.A)(xe=>{g||h(xe)}),se=xe=>{Le(xe)||(n(xe),Ee(xe),De==null||De(!0),Je(!0))},he=(0,Ue.A)((xe,$e)=>{switch(xe.key){case"ArrowUp":se(e.addDays($e,-7)),xe.preventDefault();break;case"ArrowDown":se(e.addDays($e,7)),xe.preventDefault();break;case"ArrowLeft":{const Ge=e.addDays($e,je?1:-1),nt=e.addMonths($e,je?1:-1),lt=Gt({utils:e,date:Ge,minDate:je?Ge:e.startOfMonth(nt),maxDate:je?e.endOfMonth(nt):Ge,isDateDisabled:Le,timezone:Ae});se(lt||Ge),xe.preventDefault();break}case"ArrowRight":{const Ge=e.addDays($e,je?-1:1),nt=e.addMonths($e,je?-1:1),lt=Gt({utils:e,date:Ge,minDate:je?e.startOfMonth(nt):Ge,maxDate:je?Ge:e.endOfMonth(nt),isDateDisabled:Le,timezone:Ae});se(lt||Ge),xe.preventDefault();break}case"Home":se(e.startOfWeek($e)),xe.preventDefault();break;case"End":se(e.endOfWeek($e)),xe.preventDefault();break;case"PageUp":se(e.addMonths($e,1)),xe.preventDefault();break;case"PageDown":se(e.addMonths($e,-1)),xe.preventDefault();break;default:break}}),_e=(0,Ue.A)((xe,$e)=>se($e)),Me=(0,Ue.A)((xe,$e)=>{Oe&&e.isSameDay(Xe,$e)&&(De==null||De(!1))}),Ze=e.getMonth(o),He=e.getYear(o),tt=f.useMemo(()=>i.filter(xe=>!!xe).map(xe=>e.startOfDay(xe)),[e,i]),We=`${He}-${Ze}`,ne=f.useMemo(()=>f.createRef(),[We]),Ce=e.startOfWeek(oe),be=f.useMemo(()=>{const xe=e.startOfMonth(o),$e=e.endOfMonth(o);return Le(Xe)||e.isAfterDay(Xe,$e)||e.isBeforeDay(Xe,xe)?Gt({utils:e,date:Xe,minDate:xe,maxDate:$e,disablePast:P,disableFuture:B,isDateDisabled:Le,timezone:Ae}):Xe},[o,B,P,Xe,Le,e,Ae]),ke=f.useMemo(()=>{const xe=e.setTimezone(o,Ae),$e=e.getWeekArray(xe);let Ge=e.addMonths(xe,1);for(;Se&&$e.length<Se;){const nt=e.getWeekArray(Ge),lt=e.isSameDay($e[$e.length-1][0],nt[0][0]);nt.slice(lt?1:0).forEach(Wt=>{$e.length<Se&&$e.push(Wt)}),Ge=e.addMonths(Ge,1)}return $e},[o,Se,e,Ae]);return(0,V.jsxs)(Cc,{role:"grid","aria-labelledby":ee,className:we.root,children:[(0,V.jsxs)(vc,{role:"row",className:we.header,children:[de&&(0,V.jsx)(xc,{variant:"caption",role:"columnheader","aria-label":Pe.calendarWeekNumberHeaderLabel,className:we.weekNumberLabel,children:Pe.calendarWeekNumberHeaderText}),re(e,oe).map((xe,$e)=>(0,V.jsx)(bc,{variant:"caption",role:"columnheader","aria-label":e.format(e.addDays(Ce,$e),"weekday"),className:we.weekDayLabel,children:z(xe)},$e.toString()))]}),c?(0,V.jsx)(wc,{className:we.loadingContainer,children:T()}):(0,V.jsx)(Ec,(0,F.A)({transKey:We,onExited:y,reduceAnimations:D,slideDirection:w,className:(0,vt.A)(s,we.slideTransition)},S,{nodeRef:ne,children:(0,V.jsx)(Sc,{ref:ne,role:"rowgroup",className:we.monthContainer,children:ke.map((xe,$e)=>(0,V.jsxs)(Fc,{role:"row",className:we.weekContainer,"aria-rowindex":$e+1,children:[de&&(0,V.jsx)(Ac,{className:we.weekNumber,role:"rowheader","aria-label":Pe.calendarWeekNumberAriaLabelText(e.getWeekNumber(xe[0])),children:Pe.calendarWeekNumberText(e.getWeekNumber(xe[0]))}),xe.map((Ge,nt)=>(0,V.jsx)(Tc,{parentProps:t,day:Ge,selectedDays:tt,focusableDay:be,onKeyDown:he,onFocus:_e,onBlur:Me,onDaySelect:Ye,isDateDisabled:Le,currentMonthNumber:Ze,isViewFocused:Oe,"aria-colindex":nt+1},Ge.toString()))]},`week-${xe[0]}`))})}))]})}function Ic(r){return(0,yt.Ay)("MuiPickersMonth",r)}const js=(0,Dt.A)("MuiPickersMonth",["root","monthButton","disabled","selected"]),Pc=["autoFocus","className","children","disabled","selected","value","tabIndex","onClick","onKeyDown","onFocus","onBlur","aria-current","aria-label","monthsPerRow","slots","slotProps"],Mc=r=>{const{disabled:t,selected:e,classes:n}=r,s={root:["root"],monthButton:["monthButton",t&&"disabled",e&&"selected"]};return(0,mt.A)(s,Ic,n)},Oc=(0,q.styled)("div",{name:"MuiPickersMonth",slot:"Root",overridesResolver:(r,t)=>[t.root]})({display:"flex",alignItems:"center",justifyContent:"center",flexBasis:"33.3%",variants:[{props:{monthsPerRow:4},style:{flexBasis:"25%"}}]}),Nc=(0,q.styled)("button",{name:"MuiPickersMonth",slot:"MonthButton",overridesResolver:(r,t)=>[t.monthButton,{[`&.${js.disabled}`]:t.disabled},{[`&.${js.selected}`]:t.selected}]})(({theme:r})=>(0,F.A)({color:"unset",backgroundColor:"transparent",border:0,outline:0},r.typography.subtitle1,{margin:"8px 0",height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:r.vars?`rgba(${r.vars.palette.action.activeChannel} / ${r.vars.palette.action.hoverOpacity})`:(0,q.alpha)(r.palette.action.active,r.palette.action.hoverOpacity)},"&:hover":{backgroundColor:r.vars?`rgba(${r.vars.palette.action.activeChannel} / ${r.vars.palette.action.hoverOpacity})`:(0,q.alpha)(r.palette.action.active,r.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${js.disabled}`]:{color:(r.vars||r).palette.text.secondary},[`&.${js.selected}`]:{color:(r.vars||r).palette.primary.contrastText,backgroundColor:(r.vars||r).palette.primary.main,"&:focus, &:hover":{backgroundColor:(r.vars||r).palette.primary.dark}}})),Bc=f.memo(function(t){var z;const e=(0,q.useThemeProps)({props:t,name:"MuiPickersMonth"}),{autoFocus:n,className:s,children:o,disabled:i,selected:a,value:c,tabIndex:h,onClick:y,onKeyDown:g,onFocus:D,onBlur:T,"aria-current":w,"aria-label":S,slots:P,slotProps:B}=e,R=(0,W.A)(e,Pc),K=f.useRef(null),Y=Mc(e);(0,bn.A)(()=>{var G;n&&((G=K.current)==null||G.focus())},[n]);const Z=(z=P==null?void 0:P.monthButton)!=null?z:Nc,X=(0,Ct.Q)({elementType:Z,externalSlotProps:B==null?void 0:B.monthButton,additionalProps:{children:o,disabled:i,tabIndex:h,ref:K,type:"button",role:"radio","aria-current":w,"aria-checked":a,"aria-label":S,onClick:G=>y(G,c),onKeyDown:G=>g(G,c),onFocus:G=>D(G,c),onBlur:G=>T(G,c)},ownerState:e,className:Y.monthButton});return(0,V.jsx)(Oc,(0,F.A)({className:(0,vt.A)(Y.root,s),ownerState:e},R,{children:(0,V.jsx)(Z,(0,F.A)({},X))}))});function Lc(r){return(0,yt.Ay)("MuiMonthCalendar",r)}const fm=(0,Dt.A)("MuiMonthCalendar",["root"]),Rc=["className","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","shouldDisableMonth","readOnly","disableHighlightToday","autoFocus","onMonthFocus","hasFocus","onFocusedViewChange","monthsPerRow","timezone","gridLabelId","slots","slotProps"],_c=r=>{const{classes:t}=r,e={root:["root"]};return(0,mt.A)(e,Lc,t)};function Vc(r,t){const e=ht(),n=hs(),s=(0,q.useThemeProps)({props:r,name:t});return(0,F.A)({disableFuture:!1,disablePast:!1},s,{minDate:Jt(e,s.minDate,n.minDate),maxDate:Jt(e,s.maxDate,n.maxDate)})}const $c=(0,q.styled)("div",{name:"MuiMonthCalendar",slot:"Root",overridesResolver:(r,t)=>t.root})({display:"flex",flexWrap:"wrap",alignContent:"stretch",padding:"0 4px",width:Rs,boxSizing:"border-box"}),jc=f.forwardRef(function(t,e){const n=Vc(t,"MuiMonthCalendar"),{className:s,value:o,defaultValue:i,referenceDate:a,disabled:c,disableFuture:h,disablePast:y,maxDate:g,minDate:D,onChange:T,shouldDisableMonth:w,readOnly:S,autoFocus:P=!1,onMonthFocus:B,hasFocus:R,onFocusedViewChange:K,monthsPerRow:Y=3,timezone:Z,gridLabelId:X,slots:z,slotProps:G}=n,De=(0,W.A)(n,Rc),{value:ee,handleValueChange:de,timezone:Se}=ns({name:"MonthCalendar",timezone:Z,value:o,defaultValue:i,onChange:T,valueManager:$t}),pe=_n(Se),Ae=(0,cn.I)(),oe=ht(),we=f.useMemo(()=>$t.getInitialReferenceValue({value:ee,utils:oe,props:n,timezone:Se,referenceDate:a,granularity:Ft.month}),[]),je=n,Le=_c(je),Pe=f.useMemo(()=>oe.getMonth(pe),[oe,pe]),Oe=f.useMemo(()=>ee!=null?oe.getMonth(ee):null,[ee,oe]),[Je,Xe]=f.useState(()=>Oe||oe.getMonth(we)),[Ee,Ye]=(0,Vn.A)({name:"MonthCalendar",state:"hasFocus",controlled:R,default:P!=null?P:!1}),se=(0,Ue.A)(We=>{Ye(We),K&&K(We)}),he=f.useCallback(We=>{const ne=oe.startOfMonth(y&&oe.isAfter(pe,D)?pe:D),Ce=oe.startOfMonth(h&&oe.isBefore(pe,g)?pe:g),be=oe.startOfMonth(We);return oe.isBefore(be,ne)||oe.isAfter(be,Ce)?!0:w?w(be):!1},[h,y,g,D,pe,w,oe]),_e=(0,Ue.A)((We,ne)=>{if(S)return;const Ce=oe.setMonth(ee!=null?ee:we,ne);de(Ce)}),Me=(0,Ue.A)(We=>{he(oe.setMonth(ee!=null?ee:we,We))||(Xe(We),se(!0),B&&B(We))});f.useEffect(()=>{Xe(We=>Oe!==null&&We!==Oe?Oe:We)},[Oe]);const Ze=(0,Ue.A)((We,ne)=>{switch(We.key){case"ArrowUp":Me((12+ne-3)%12),We.preventDefault();break;case"ArrowDown":Me((12+ne+3)%12),We.preventDefault();break;case"ArrowLeft":Me((12+ne+(Ae?1:-1))%12),We.preventDefault();break;case"ArrowRight":Me((12+ne+(Ae?-1:1))%12),We.preventDefault();break;default:break}}),He=(0,Ue.A)((We,ne)=>{Me(ne)}),tt=(0,Ue.A)((We,ne)=>{Je===ne&&se(!1)});return(0,V.jsx)($c,(0,F.A)({ref:e,className:(0,vt.A)(Le.root,s),ownerState:je,role:"radiogroup","aria-labelledby":X},De,{children:En(oe,ee!=null?ee:we).map(We=>{const ne=oe.getMonth(We),Ce=oe.format(We,"monthShort"),be=oe.format(We,"month"),ke=ne===Oe,xe=c||he(We);return(0,V.jsx)(Bc,{selected:ke,value:ne,onClick:_e,onKeyDown:Ze,autoFocus:Ee&&ne===Je,disabled:xe,tabIndex:ne===Je&&!xe?0:-1,onFocus:He,onBlur:tt,"aria-current":Pe===ne?"date":void 0,"aria-label":be,monthsPerRow:Y,slots:z,slotProps:G,children:Ce},Ce)})}))});function Wc(r){return(0,yt.Ay)("MuiPickersYear",r)}const Ws=(0,Dt.A)("MuiPickersYear",["root","yearButton","selected","disabled"]),Uc=["autoFocus","className","children","disabled","selected","value","tabIndex","onClick","onKeyDown","onFocus","onBlur","aria-current","yearsPerRow","slots","slotProps"],Hc=r=>{const{disabled:t,selected:e,classes:n}=r,s={root:["root"],yearButton:["yearButton",t&&"disabled",e&&"selected"]};return(0,mt.A)(s,Wc,n)},zc=(0,q.styled)("div",{name:"MuiPickersYear",slot:"Root",overridesResolver:(r,t)=>[t.root]})({display:"flex",alignItems:"center",justifyContent:"center",flexBasis:"33.3%",variants:[{props:{yearsPerRow:4},style:{flexBasis:"25%"}}]}),Jc=(0,q.styled)("button",{name:"MuiPickersYear",slot:"YearButton",overridesResolver:(r,t)=>[t.yearButton,{[`&.${Ws.disabled}`]:t.disabled},{[`&.${Ws.selected}`]:t.selected}]})(({theme:r})=>(0,F.A)({color:"unset",backgroundColor:"transparent",border:0,outline:0},r.typography.subtitle1,{margin:"6px 0",height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:r.vars?`rgba(${r.vars.palette.action.activeChannel} / ${r.vars.palette.action.focusOpacity})`:(0,q.alpha)(r.palette.action.active,r.palette.action.focusOpacity)},"&:hover":{backgroundColor:r.vars?`rgba(${r.vars.palette.action.activeChannel} / ${r.vars.palette.action.hoverOpacity})`:(0,q.alpha)(r.palette.action.active,r.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${Ws.disabled}`]:{color:(r.vars||r).palette.text.secondary},[`&.${Ws.selected}`]:{color:(r.vars||r).palette.primary.contrastText,backgroundColor:(r.vars||r).palette.primary.main,"&:focus, &:hover":{backgroundColor:(r.vars||r).palette.primary.dark}}})),Yc=f.memo(function(t){var X;const e=(0,q.useThemeProps)({props:t,name:"MuiPickersYear"}),{autoFocus:n,className:s,children:o,disabled:i,selected:a,value:c,tabIndex:h,onClick:y,onKeyDown:g,onFocus:D,onBlur:T,"aria-current":w,slots:S,slotProps:P}=e,B=(0,W.A)(e,Uc),R=f.useRef(null),K=Hc(e);(0,bn.A)(()=>{var z;n&&((z=R.current)==null||z.focus())},[n]);const Y=(X=S==null?void 0:S.yearButton)!=null?X:Jc,Z=(0,Ct.Q)({elementType:Y,externalSlotProps:P==null?void 0:P.yearButton,additionalProps:{children:o,disabled:i,tabIndex:h,ref:R,type:"button",role:"radio","aria-current":w,"aria-checked":a,onClick:z=>y(z,c),onKeyDown:z=>g(z,c),onFocus:z=>D(z,c),onBlur:z=>T(z,c)},ownerState:e,className:K.yearButton});return(0,V.jsx)(zc,(0,F.A)({className:(0,vt.A)(K.root,s),ownerState:e},B,{children:(0,V.jsx)(Y,(0,F.A)({},Z))}))});function Kc(r){return(0,yt.Ay)("MuiYearCalendar",r)}const gm=(0,Dt.A)("MuiYearCalendar",["root"]),Gc=["autoFocus","className","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","readOnly","shouldDisableYear","disableHighlightToday","onYearFocus","hasFocus","onFocusedViewChange","yearsPerRow","timezone","gridLabelId","slots","slotProps"],Qc=r=>{const{classes:t}=r,e={root:["root"]};return(0,mt.A)(e,Kc,t)};function Xc(r,t){var o;const e=ht(),n=hs(),s=(0,q.useThemeProps)({props:r,name:t});return(0,F.A)({disablePast:!1,disableFuture:!1},s,{yearsPerRow:(o=s.yearsPerRow)!=null?o:3,minDate:Jt(e,s.minDate,n.minDate),maxDate:Jt(e,s.maxDate,n.maxDate)})}const Zc=(0,q.styled)("div",{name:"MuiYearCalendar",slot:"Root",overridesResolver:(r,t)=>t.root})({display:"flex",flexDirection:"row",flexWrap:"wrap",overflowY:"auto",height:"100%",padding:"0 4px",width:Rs,maxHeight:pa,boxSizing:"border-box",position:"relative"}),qc=f.forwardRef(function(t,e){const n=Xc(t,"MuiYearCalendar"),{autoFocus:s,className:o,value:i,defaultValue:a,referenceDate:c,disabled:h,disableFuture:y,disablePast:g,maxDate:D,minDate:T,onChange:w,readOnly:S,shouldDisableYear:P,onYearFocus:B,hasFocus:R,onFocusedViewChange:K,yearsPerRow:Y,timezone:Z,gridLabelId:X,slots:z,slotProps:G}=n,De=(0,W.A)(n,Gc),{value:ee,handleValueChange:de,timezone:Se}=ns({name:"YearCalendar",timezone:Z,value:i,defaultValue:a,onChange:w,valueManager:$t}),pe=_n(Se),Ae=(0,cn.I)(),oe=ht(),we=f.useMemo(()=>$t.getInitialReferenceValue({value:ee,utils:oe,props:n,timezone:Se,referenceDate:c,granularity:Ft.year}),[]),je=n,Le=Qc(je),Pe=f.useMemo(()=>oe.getYear(pe),[oe,pe]),Oe=f.useMemo(()=>ee!=null?oe.getYear(ee):null,[ee,oe]),[Je,Xe]=f.useState(()=>Oe||oe.getYear(we)),[Ee,Ye]=(0,Vn.A)({name:"YearCalendar",state:"hasFocus",controlled:R,default:s!=null?s:!1}),se=(0,Ue.A)(Ce=>{Ye(Ce),K&&K(Ce)}),he=f.useCallback(Ce=>{if(g&&oe.isBeforeYear(Ce,pe)||y&&oe.isAfterYear(Ce,pe)||T&&oe.isBeforeYear(Ce,T)||D&&oe.isAfterYear(Ce,D))return!0;if(!P)return!1;const be=oe.startOfYear(Ce);return P(be)},[y,g,D,T,pe,P,oe]),_e=(0,Ue.A)((Ce,be)=>{if(S)return;const ke=oe.setYear(ee!=null?ee:we,be);de(ke)}),Me=(0,Ue.A)(Ce=>{he(oe.setYear(ee!=null?ee:we,Ce))||(Xe(Ce),se(!0),B==null||B(Ce))});f.useEffect(()=>{Xe(Ce=>Oe!==null&&Ce!==Oe?Oe:Ce)},[Oe]);const Ze=(0,Ue.A)((Ce,be)=>{switch(Ce.key){case"ArrowUp":Me(be-Y),Ce.preventDefault();break;case"ArrowDown":Me(be+Y),Ce.preventDefault();break;case"ArrowLeft":Me(be+(Ae?1:-1)),Ce.preventDefault();break;case"ArrowRight":Me(be+(Ae?-1:1)),Ce.preventDefault();break;default:break}}),He=(0,Ue.A)((Ce,be)=>{Me(be)}),tt=(0,Ue.A)((Ce,be)=>{Je===be&&se(!1)}),We=f.useRef(null),ne=(0,Yt.A)(e,We);return f.useEffect(()=>{if(s||We.current===null)return;const Ce=We.current.querySelector('[tabindex="0"]');if(!Ce)return;const be=Ce.offsetHeight,ke=Ce.offsetTop,xe=We.current.clientHeight,$e=We.current.scrollTop,Ge=ke+be;be>xe||ke<$e||(We.current.scrollTop=Ge-xe/2-be/2)},[s]),(0,V.jsx)(Zc,(0,F.A)({ref:ne,className:(0,vt.A)(Le.root,o),ownerState:je,role:"radiogroup","aria-labelledby":X},De,{children:oe.getYearRange([T,D]).map(Ce=>{const be=oe.getYear(Ce),ke=be===Oe,xe=h||he(Ce);return(0,V.jsx)(Yc,{selected:ke,value:be,onClick:_e,onKeyDown:Ze,autoFocus:Ee&&be===Je,disabled:xe,tabIndex:be===Je&&!xe?0:-1,onFocus:He,onBlur:tt,"aria-current":Pe===be?"date":void 0,yearsPerRow:Y,slots:z,slotProps:G,children:oe.format(Ce,"year")},oe.format(Ce,"year"))})}))});function eu(r){return(0,yt.Ay)("MuiPickersArrowSwitcher",r)}const ym=(0,Dt.A)("MuiPickersArrowSwitcher",["root","spacer","button"]),tu=["children","className","slots","slotProps","isNextDisabled","isNextHidden","onGoToNext","nextLabel","isPreviousDisabled","isPreviousHidden","onGoToPrevious","previousLabel","labelId"],nu=["ownerState"],su=["ownerState"],ru=(0,q.styled)("div",{name:"MuiPickersArrowSwitcher",slot:"Root",overridesResolver:(r,t)=>t.root})({display:"flex"}),ou=(0,q.styled)("div",{name:"MuiPickersArrowSwitcher",slot:"Spacer",overridesResolver:(r,t)=>t.spacer})(({theme:r})=>({width:r.spacing(3)})),So=(0,q.styled)(Zn.A,{name:"MuiPickersArrowSwitcher",slot:"Button",overridesResolver:(r,t)=>t.button})({variants:[{props:{hidden:!0},style:{visibility:"hidden"}}]}),iu=r=>{const{classes:t}=r,e={root:["root"],spacer:["spacer"],button:["button"]};return(0,mt.A)(e,eu,t)},Fo=f.forwardRef(function(t,e){var je,Le,Pe,Oe;const n=(0,cn.I)(),s=(0,q.useThemeProps)({props:t,name:"MuiPickersArrowSwitcher"}),{children:o,className:i,slots:a,slotProps:c,isNextDisabled:h,isNextHidden:y,onGoToNext:g,nextLabel:D,isPreviousDisabled:T,isPreviousHidden:w,onGoToPrevious:S,previousLabel:P,labelId:B}=s,R=(0,W.A)(s,tu),K=s,Y=iu(K),Z={isDisabled:h,isHidden:y,goTo:g,label:D},X={isDisabled:T,isHidden:w,goTo:S,label:P},z=(je=a==null?void 0:a.previousIconButton)!=null?je:So,G=(0,Ct.Q)({elementType:z,externalSlotProps:c==null?void 0:c.previousIconButton,additionalProps:{size:"medium",title:X.label,"aria-label":X.label,disabled:X.isDisabled,edge:"end",onClick:X.goTo},ownerState:(0,F.A)({},K,{hidden:X.isHidden}),className:Y.button}),De=(Le=a==null?void 0:a.nextIconButton)!=null?Le:So,ee=(0,Ct.Q)({elementType:De,externalSlotProps:c==null?void 0:c.nextIconButton,additionalProps:{size:"medium",title:Z.label,"aria-label":Z.label,disabled:Z.isDisabled,edge:"start",onClick:Z.goTo},ownerState:(0,F.A)({},K,{hidden:Z.isHidden}),className:Y.button}),de=(Pe=a==null?void 0:a.leftArrowIcon)!=null?Pe:Fa,Se=(0,Ct.Q)({elementType:de,externalSlotProps:c==null?void 0:c.leftArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:void 0}),pe=(0,W.A)(Se,nu),Ae=(Oe=a==null?void 0:a.rightArrowIcon)!=null?Oe:Ta,oe=(0,Ct.Q)({elementType:Ae,externalSlotProps:c==null?void 0:c.rightArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:void 0}),we=(0,W.A)(oe,su);return(0,V.jsxs)(ru,(0,F.A)({ref:e,className:(0,vt.A)(Y.root,i),ownerState:K},R,{children:[(0,V.jsx)(z,(0,F.A)({},G,{children:n?(0,V.jsx)(Ae,(0,F.A)({},we)):(0,V.jsx)(de,(0,F.A)({},pe))})),o?(0,V.jsx)(Fn.A,{variant:"subtitle1",component:"span",id:B,children:o}):(0,V.jsx)(ou,{className:Y.spacer,ownerState:K}),(0,V.jsx)(De,(0,F.A)({},ee,{children:n?(0,V.jsx)(de,(0,F.A)({},pe)):(0,V.jsx)(Ae,(0,F.A)({},we))}))]}))});function au(r,{disableFuture:t,maxDate:e,timezone:n}){const s=ht();return f.useMemo(()=>{const o=s.date(void 0,n),i=s.startOfMonth(t&&s.isBefore(o,e)?o:e);return!s.isAfter(i,r)},[t,e,r,s,n])}function lu(r,{disablePast:t,minDate:e,timezone:n}){const s=ht();return f.useMemo(()=>{const o=s.date(void 0,n),i=s.startOfMonth(t&&s.isAfter(o,e)?o:e);return!s.isBefore(i,r)},[t,e,r,s,n])}function cr(r,t,e,n){const s=ht(),o=dt(r,s),i=f.useCallback(a=>{const c=r==null?null:Vt(r,a,!!t,s);e(c,n!=null?n:"partial")},[t,r,e,n,s]);return{meridiemMode:o,handleMeridiemChange:i}}const cu=r=>(0,yt.Ay)("MuiPickersCalendarHeader",r),uu=(0,Dt.A)("MuiPickersCalendarHeader",["root","labelContainer","label","switchViewButton","switchViewIcon"]),du=["slots","slotProps","currentMonth","disabled","disableFuture","disablePast","maxDate","minDate","onMonthChange","onViewChange","view","reduceAnimations","views","labelId","className","timezone","format"],pu=["ownerState"],hu=r=>{const{classes:t}=r,e={root:["root"],labelContainer:["labelContainer"],label:["label"],switchViewButton:["switchViewButton"],switchViewIcon:["switchViewIcon"]};return(0,mt.A)(e,cu,t)},mu=(0,q.styled)("div",{name:"MuiPickersCalendarHeader",slot:"Root",overridesResolver:(r,t)=>t.root})({display:"flex",alignItems:"center",marginTop:12,marginBottom:4,paddingLeft:24,paddingRight:12,maxHeight:40,minHeight:40}),fu=(0,q.styled)("div",{name:"MuiPickersCalendarHeader",slot:"LabelContainer",overridesResolver:(r,t)=>t.labelContainer})(({theme:r})=>(0,F.A)({display:"flex",overflow:"hidden",alignItems:"center",cursor:"pointer",marginRight:"auto"},r.typography.body1,{fontWeight:r.typography.fontWeightMedium})),gu=(0,q.styled)("div",{name:"MuiPickersCalendarHeader",slot:"Label",overridesResolver:(r,t)=>t.label})({marginRight:6}),yu=(0,q.styled)(Zn.A,{name:"MuiPickersCalendarHeader",slot:"SwitchViewButton",overridesResolver:(r,t)=>t.switchViewButton})({marginRight:"auto",variants:[{props:{view:"year"},style:{[`.${uu.switchViewIcon}`]:{transform:"rotate(180deg)"}}}]}),Du=(0,q.styled)(Sa,{name:"MuiPickersCalendarHeader",slot:"SwitchViewIcon",overridesResolver:(r,t)=>t.switchViewIcon})(({theme:r})=>({willChange:"transform",transition:r.transitions.create("transform"),transform:"rotate(0deg)"})),Cu=f.forwardRef(function(t,e){var Je,Xe;const n=jt(),s=ht(),o=(0,q.useThemeProps)({props:t,name:"MuiPickersCalendarHeader"}),{slots:i,slotProps:a,currentMonth:c,disabled:h,disableFuture:y,disablePast:g,maxDate:D,minDate:T,onMonthChange:w,onViewChange:S,view:P,reduceAnimations:B,views:R,labelId:K,className:Y,timezone:Z,format:X=`${s.formats.month} ${s.formats.year}`}=o,z=(0,W.A)(o,du),G=o,De=hu(o),ee=(Je=i==null?void 0:i.switchViewButton)!=null?Je:yu,de=(0,Ct.Q)({elementType:ee,externalSlotProps:a==null?void 0:a.switchViewButton,additionalProps:{size:"small","aria-label":n.calendarViewSwitchingButtonAriaLabel(P)},ownerState:G,className:De.switchViewButton}),Se=(Xe=i==null?void 0:i.switchViewIcon)!=null?Xe:Du,pe=(0,Ct.Q)({elementType:Se,externalSlotProps:a==null?void 0:a.switchViewIcon,ownerState:void 0,className:De.switchViewIcon}),Ae=(0,W.A)(pe,pu),oe=()=>w(s.addMonths(c,1),"left"),we=()=>w(s.addMonths(c,-1),"right"),je=au(c,{disableFuture:y,maxDate:D,timezone:Z}),Le=lu(c,{disablePast:g,minDate:T,timezone:Z}),Pe=()=>{if(!(R.length===1||!S||h))if(R.length===2)S(R.find(Ee=>Ee!==P)||R[0]);else{const Ee=R.indexOf(P)!==0?0:1;S(R[Ee])}};if(R.length===1&&R[0]==="year")return null;const Oe=s.formatByString(c,X);return(0,V.jsxs)(mu,(0,F.A)({},z,{ownerState:G,className:(0,vt.A)(Y,De.root),ref:e,children:[(0,V.jsxs)(fu,{role:"presentation",onClick:Pe,ownerState:G,"aria-live":"polite",className:De.labelContainer,children:[(0,V.jsx)(bo,{reduceAnimations:B,transKey:Oe,children:(0,V.jsx)(gu,{id:K,ownerState:G,className:De.label,children:Oe})}),R.length>1&&!h&&(0,V.jsx)(ee,(0,F.A)({},de,{children:(0,V.jsx)(Se,(0,F.A)({},Ae))}))]}),(0,V.jsx)(Bs.A,{in:P==="day",children:(0,V.jsx)(Fo,{slots:i,slotProps:a,onGoToPrevious:we,isPreviousDisabled:Le,previousLabel:n.previousMonth,onGoToNext:oe,isNextDisabled:je,nextLabel:n.nextMonth})})]}))}),Us=(0,q.styled)("div")({overflow:"hidden",width:Rs,maxHeight:nr,display:"flex",flexDirection:"column",margin:"0 auto"}),vu=r=>(0,yt.Ay)("MuiDateCalendar",r),Dm=(0,Dt.A)("MuiDateCalendar",["root","viewTransitionContainer"]),bu=["autoFocus","onViewChange","value","defaultValue","referenceDate","disableFuture","disablePast","onChange","onYearChange","onMonthChange","reduceAnimations","shouldDisableDate","shouldDisableMonth","shouldDisableYear","view","views","openTo","className","disabled","readOnly","minDate","maxDate","disableHighlightToday","focusedView","onFocusedViewChange","showDaysOutsideCurrentMonth","fixedWeekNumber","dayOfWeekFormatter","slots","slotProps","loading","renderLoading","displayWeekNumber","yearsPerRow","monthsPerRow","timezone"],xu=r=>{const{classes:t}=r,e={root:["root"],viewTransitionContainer:["viewTransitionContainer"]};return(0,mt.A)(e,vu,t)};function Au(r,t){var i,a,c,h,y,g,D;const e=ht(),n=hs(),s=Yr(),o=(0,q.useThemeProps)({props:r,name:t});return(0,F.A)({},o,{loading:(i=o.loading)!=null?i:!1,disablePast:(a=o.disablePast)!=null?a:!1,disableFuture:(c=o.disableFuture)!=null?c:!1,openTo:(h=o.openTo)!=null?h:"day",views:(y=o.views)!=null?y:["year","day"],reduceAnimations:(g=o.reduceAnimations)!=null?g:s,renderLoading:(D=o.renderLoading)!=null?D:()=>(0,V.jsx)("span",{children:"..."}),minDate:Jt(e,o.minDate,n.minDate),maxDate:Jt(e,o.maxDate,n.maxDate)})}const wu=(0,q.styled)(Us,{name:"MuiDateCalendar",slot:"Root",overridesResolver:(r,t)=>t.root})({display:"flex",flexDirection:"column",height:nr}),Eu=(0,q.styled)(bo,{name:"MuiDateCalendar",slot:"ViewTransitionContainer",overridesResolver:(r,t)=>t.viewTransitionContainer})({}),Su=f.forwardRef(function(t,e){var ui;const n=ht(),s=(0,qn.A)(),o=Au(t,"MuiDateCalendar"),{autoFocus:i,onViewChange:a,value:c,defaultValue:h,referenceDate:y,disableFuture:g,disablePast:D,onChange:T,onYearChange:w,onMonthChange:S,reduceAnimations:P,shouldDisableDate:B,shouldDisableMonth:R,shouldDisableYear:K,view:Y,views:Z,openTo:X,className:z,disabled:G,readOnly:De,minDate:ee,maxDate:de,disableHighlightToday:Se,focusedView:pe,onFocusedViewChange:Ae,showDaysOutsideCurrentMonth:oe,fixedWeekNumber:we,dayOfWeekFormatter:je,slots:Le,slotProps:Pe,loading:Oe,renderLoading:Je,displayWeekNumber:Xe,yearsPerRow:Ee,monthsPerRow:Ye,timezone:se}=o,he=(0,W.A)(o,bu),{value:_e,handleValueChange:Me,timezone:Ze}=ns({name:"DateCalendar",timezone:se,value:c,defaultValue:h,onChange:T,valueManager:$t}),{view:He,setView:tt,focusedView:We,setFocusedView:ne,goToNextView:Ce,setValueAndGoToNextView:be}=ms({view:Y,views:Z,openTo:X,onChange:Me,onViewChange:a,autoFocus:i,focusedView:pe,onFocusedViewChange:Ae}),{referenceDate:ke,calendarState:xe,changeFocusedDay:$e,changeMonth:Ge,handleChangeMonth:nt,isDateDisabled:lt,onMonthSwitchingAnimationEnd:Wt}=Hl({value:_e,referenceDate:y,reduceAnimations:P,onMonthChange:S,minDate:ee,maxDate:de,shouldDisableDate:B,disablePast:D,disableFuture:g,timezone:Ze}),Dn=G&&_e||ee,Hn=G&&_e||de,Bt=`${s}-grid-label`,Kt=We!==null,zn=(ui=Le==null?void 0:Le.calendarHeader)!=null?ui:Cu,Fr=(0,Ct.Q)({elementType:zn,externalSlotProps:Pe==null?void 0:Pe.calendarHeader,additionalProps:{views:Z,view:He,currentMonth:xe.currentMonth,onViewChange:tt,onMonthChange:(Tt,Cn)=>nt({newMonth:Tt,direction:Cn}),minDate:Dn,maxDate:Hn,disabled:G,disablePast:D,disableFuture:g,reduceAnimations:P,timezone:Ze,labelId:Bt},ownerState:o}),jh=(0,Ue.A)(Tt=>{const Cn=n.startOfMonth(Tt),Ss=n.endOfMonth(Tt),In=lt(Tt)?Gt({utils:n,date:Tt,minDate:n.isBefore(ee,Cn)?Cn:ee,maxDate:n.isAfter(de,Ss)?Ss:de,disablePast:D,disableFuture:g,isDateDisabled:lt,timezone:Ze}):Tt;In?(be(In,"finish"),S==null||S(Cn)):(Ce(),Ge(Cn)),$e(In,!0)}),Wh=(0,Ue.A)(Tt=>{const Cn=n.startOfYear(Tt),Ss=n.endOfYear(Tt),In=lt(Tt)?Gt({utils:n,date:Tt,minDate:n.isBefore(ee,Cn)?Cn:ee,maxDate:n.isAfter(de,Ss)?Ss:de,disablePast:D,disableFuture:g,isDateDisabled:lt,timezone:Ze}):Tt;In?(be(In,"finish"),w==null||w(In)):(Ce(),Ge(Cn)),$e(In,!0)}),Uh=(0,Ue.A)(Tt=>Me(Tt&&ft(n,Tt,_e!=null?_e:ke),"finish",He));f.useEffect(()=>{_e!=null&&n.isValid(_e)&&Ge(_e)},[_e]);const Tr=o,ci=xu(Tr),kr={disablePast:D,disableFuture:g,maxDate:de,minDate:ee},Ir={disableHighlightToday:Se,readOnly:De,disabled:G,timezone:Ze,gridLabelId:Bt,slots:Le,slotProps:Pe},Pr=f.useRef(He);f.useEffect(()=>{Pr.current!==He&&(We===Pr.current&&ne(He,!0),Pr.current=He)},[We,ne,He]);const Hh=f.useMemo(()=>[_e],[_e]);return(0,V.jsxs)(wu,(0,F.A)({ref:e,className:(0,vt.A)(ci.root,z),ownerState:Tr},he,{children:[(0,V.jsx)(zn,(0,F.A)({},Fr,{slots:Le,slotProps:Pe})),(0,V.jsx)(Eu,{reduceAnimations:P,className:ci.viewTransitionContainer,transKey:He,ownerState:Tr,children:(0,V.jsxs)("div",{children:[He==="year"&&(0,V.jsx)(qc,(0,F.A)({},kr,Ir,{value:_e,onChange:Wh,shouldDisableYear:K,hasFocus:Kt,onFocusedViewChange:Tt=>ne("year",Tt),yearsPerRow:Ee,referenceDate:ke})),He==="month"&&(0,V.jsx)(jc,(0,F.A)({},kr,Ir,{hasFocus:Kt,className:z,value:_e,onChange:jh,shouldDisableMonth:R,onFocusedViewChange:Tt=>ne("month",Tt),monthsPerRow:Ye,referenceDate:ke})),He==="day"&&(0,V.jsx)(kc,(0,F.A)({},xe,kr,Ir,{onMonthSwitchingAnimationEnd:Wt,onFocusedDayChange:$e,reduceAnimations:P,selectedDays:Hh,onSelectedDaysChange:Uh,shouldDisableDate:B,shouldDisableMonth:R,shouldDisableYear:K,hasFocus:Kt,onFocusedViewChange:Tt=>ne("day",Tt),showDaysOutsideCurrentMonth:oe,fixedWeekNumber:we,dayOfWeekFormatter:je,displayWeekNumber:Xe,loading:Oe,renderLoading:Je}))]})})]}))}),is=({view:r,onViewChange:t,views:e,focusedView:n,onFocusedViewChange:s,value:o,defaultValue:i,referenceDate:a,onChange:c,className:h,classes:y,disableFuture:g,disablePast:D,minDate:T,maxDate:w,shouldDisableDate:S,shouldDisableMonth:P,shouldDisableYear:B,reduceAnimations:R,onMonthChange:K,monthsPerRow:Y,onYearChange:Z,yearsPerRow:X,slots:z,slotProps:G,loading:De,renderLoading:ee,disableHighlightToday:de,readOnly:Se,disabled:pe,showDaysOutsideCurrentMonth:Ae,dayOfWeekFormatter:oe,sx:we,autoFocus:je,fixedWeekNumber:Le,displayWeekNumber:Pe,timezone:Oe})=>(0,V.jsx)(Su,{view:r,onViewChange:t,views:e.filter(Ps),focusedView:n&&Ps(n)?n:null,onFocusedViewChange:s,value:o,defaultValue:i,referenceDate:a,onChange:c,className:h,classes:y,disableFuture:g,disablePast:D,minDate:T,maxDate:w,shouldDisableDate:S,shouldDisableMonth:P,shouldDisableYear:B,reduceAnimations:R,onMonthChange:K,monthsPerRow:Y,onYearChange:Z,yearsPerRow:X,slots:z,slotProps:G,loading:De,renderLoading:ee,disableHighlightToday:de,readOnly:Se,disabled:pe,showDaysOutsideCurrentMonth:Ae,dayOfWeekFormatter:oe,sx:we,autoFocus:je,fixedWeekNumber:Le,displayWeekNumber:Pe,timezone:Oe}),To=f.forwardRef(function(t,e){var h,y,g,D;const n=jt(),s=ht(),o=Wr(t,"MuiDesktopDatePicker"),i=(0,F.A)({day:is,month:is,year:is},o.viewRenderers),a=(0,F.A)({},o,{viewRenderers:i,format:_(s,o,!1),yearsPerRow:(h=o.yearsPerRow)!=null?h:4,slots:(0,F.A)({openPickerIcon:ka,field:Do},o.slots),slotProps:(0,F.A)({},o.slotProps,{field:T=>{var w;return(0,F.A)({},(0,Gn.Y)((w=o.slotProps)==null?void 0:w.field,T),_s(o),{ref:e})},toolbar:(0,F.A)({hidden:!0},(y=o.slotProps)==null?void 0:y.toolbar)})}),{renderPicker:c}=eo({props:a,valueManager:$t,valueType:"date",getOpenDialogAriaText:(D=(g=a.localeText)==null?void 0:g.openDatePickerDialogue)!=null?D:n.openDatePickerDialogue,validator:Ns});return c()});To.propTypes={autoFocus:x().bool,className:x().string,closeOnSelect:x().bool,dayOfWeekFormatter:x().func,defaultValue:x().object,disabled:x().bool,disableFuture:x().bool,disableHighlightToday:x().bool,disableOpenPicker:x().bool,disablePast:x().bool,displayWeekNumber:x().bool,enableAccessibleFieldDOMStructure:x().any,fixedWeekNumber:x().number,format:x().string,formatDensity:x().oneOf(["dense","spacious"]),inputRef:Qn,label:x().node,loading:x().bool,localeText:x().object,maxDate:x().object,minDate:x().object,monthsPerRow:x().oneOf([3,4]),name:x().string,onAccept:x().func,onChange:x().func,onClose:x().func,onError:x().func,onMonthChange:x().func,onOpen:x().func,onSelectedSectionsChange:x().func,onViewChange:x().func,onYearChange:x().func,open:x().bool,openTo:x().oneOf(["day","month","year"]),orientation:x().oneOf(["landscape","portrait"]),readOnly:x().bool,reduceAnimations:x().bool,referenceDate:x().object,renderLoading:x().func,selectedSections:x().oneOfType([x().oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),x().number]),shouldDisableDate:x().func,shouldDisableMonth:x().func,shouldDisableYear:x().func,showDaysOutsideCurrentMonth:x().bool,slotProps:x().object,slots:x().object,sx:x().oneOfType([x().arrayOf(x().oneOfType([x().func,x().object,x().bool])),x().func,x().object]),timezone:x().string,value:x().object,view:x().oneOf(["day","month","year"]),viewRenderers:x().shape({day:x().func,month:x().func,year:x().func}),views:x().arrayOf(x().oneOf(["day","month","year"]).isRequired),yearsPerRow:x().oneOf([3,4])};var Fu=J(63437),Tu=J(85747),ko=J(30311);const ku=(0,q.styled)(Tu.A)({[`& .${ko.A.container}`]:{outline:0},[`& .${ko.A.paper}`]:{outline:0,minWidth:Rs}}),Iu=(0,q.styled)(Fu.A)({"&:first-of-type":{padding:0}});function Pu(r){var c,h;const{children:t,onDismiss:e,open:n,slots:s,slotProps:o}=r,i=(c=s==null?void 0:s.dialog)!=null?c:ku,a=(h=s==null?void 0:s.mobileTransition)!=null?h:Bs.A;return(0,V.jsx)(i,(0,F.A)({open:n,onClose:e},o==null?void 0:o.dialog,{TransitionComponent:a,TransitionProps:o==null?void 0:o.mobileTransition,PaperComponent:s==null?void 0:s.mobilePaper,PaperProps:o==null?void 0:o.mobilePaper,children:(0,V.jsx)(Iu,{children:t})}))}const Mu=["props","getOpenDialogAriaText"],Io=r=>{var Je,Xe,Ee;let{props:t,getOpenDialogAriaText:e}=r,n=(0,W.A)(r,Mu);const{slots:s,slotProps:o,className:i,sx:a,format:c,formatDensity:h,enableAccessibleFieldDOMStructure:y,selectedSections:g,onSelectedSectionsChange:D,timezone:T,name:w,label:S,inputRef:P,readOnly:B,disabled:R,localeText:K}=t,Y=ht(),Z=f.useRef(null),X=(0,qn.A)(),z=(Xe=(Je=o==null?void 0:o.toolbar)==null?void 0:Je.hidden)!=null?Xe:!1,{open:G,actions:De,layoutProps:ee,renderCurrentView:de,fieldProps:Se}=Qr((0,F.A)({},n,{props:t,fieldRef:Z,autoFocusView:!0,additionalViewProps:{},wrapperVariant:"mobile"})),pe=s.field,Ae=(0,Ct.Q)({elementType:pe,externalSlotProps:o==null?void 0:o.field,additionalProps:(0,F.A)({},Se,z&&{id:X},!(R||B)&&{onClick:De.onOpen,onKeyDown:$i(De.onOpen)},{readOnly:B!=null?B:!0,disabled:R,className:i,sx:a,format:c,formatDensity:h,enableAccessibleFieldDOMStructure:y,selectedSections:g,onSelectedSectionsChange:D,timezone:T,label:S,name:w},P?{inputRef:P}:{}),ownerState:t});Ae.inputProps=(0,F.A)({},Ae.inputProps,{"aria-label":e(Se.value,Y)});const oe=(0,F.A)({textField:s.textField},Ae.slots),we=(Ee=s.layout)!=null?Ee:qr;let je=X;z&&(S?je=`${X}-label`:je=void 0);const Le=(0,F.A)({},o,{toolbar:(0,F.A)({},o==null?void 0:o.toolbar,{titleId:X}),mobilePaper:(0,F.A)({"aria-labelledby":je},o==null?void 0:o.mobilePaper)}),Pe=(0,Yt.A)(Z,Ae.unstableFieldRef);return{renderPicker:()=>(0,V.jsxs)(_r,{localeText:K,children:[(0,V.jsx)(pe,(0,F.A)({},Ae,{slots:oe,slotProps:Le,unstableFieldRef:Pe})),(0,V.jsx)(Pu,(0,F.A)({},De,{open:G,slots:s,slotProps:Le,children:(0,V.jsx)(we,(0,F.A)({},ee,Le==null?void 0:Le.layout,{slots:s,slotProps:Le,children:de()}))}))]})}},Po=f.forwardRef(function(t,e){var h,y,g;const n=jt(),s=ht(),o=Wr(t,"MuiMobileDatePicker"),i=(0,F.A)({day:is,month:is,year:is},o.viewRenderers),a=(0,F.A)({},o,{viewRenderers:i,format:_(s,o,!1),slots:(0,F.A)({field:Do},o.slots),slotProps:(0,F.A)({},o.slotProps,{field:D=>{var T;return(0,F.A)({},(0,Gn.Y)((T=o.slotProps)==null?void 0:T.field,D),_s(o),{ref:e})},toolbar:(0,F.A)({hidden:!1},(h=o.slotProps)==null?void 0:h.toolbar)})}),{renderPicker:c}=Io({props:a,valueManager:$t,valueType:"date",getOpenDialogAriaText:(g=(y=a.localeText)==null?void 0:y.openDatePickerDialogue)!=null?g:n.openDatePickerDialogue,validator:Ns});return c()});Po.propTypes={autoFocus:x().bool,className:x().string,closeOnSelect:x().bool,dayOfWeekFormatter:x().func,defaultValue:x().object,disabled:x().bool,disableFuture:x().bool,disableHighlightToday:x().bool,disableOpenPicker:x().bool,disablePast:x().bool,displayWeekNumber:x().bool,enableAccessibleFieldDOMStructure:x().any,fixedWeekNumber:x().number,format:x().string,formatDensity:x().oneOf(["dense","spacious"]),inputRef:Qn,label:x().node,loading:x().bool,localeText:x().object,maxDate:x().object,minDate:x().object,monthsPerRow:x().oneOf([3,4]),name:x().string,onAccept:x().func,onChange:x().func,onClose:x().func,onError:x().func,onMonthChange:x().func,onOpen:x().func,onSelectedSectionsChange:x().func,onViewChange:x().func,onYearChange:x().func,open:x().bool,openTo:x().oneOf(["day","month","year"]),orientation:x().oneOf(["landscape","portrait"]),readOnly:x().bool,reduceAnimations:x().bool,referenceDate:x().object,renderLoading:x().func,selectedSections:x().oneOfType([x().oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),x().number]),shouldDisableDate:x().func,shouldDisableMonth:x().func,shouldDisableYear:x().func,showDaysOutsideCurrentMonth:x().bool,slotProps:x().object,slots:x().object,sx:x().oneOfType([x().arrayOf(x().oneOfType([x().func,x().object,x().bool])),x().func,x().object]),timezone:x().string,value:x().object,view:x().oneOf(["day","month","year"]),viewRenderers:x().shape({day:x().func,month:x().func,year:x().func}),views:x().arrayOf(x().oneOf(["day","month","year"]).isRequired),yearsPerRow:x().oneOf([3,4])};const Ou=["desktopModeMediaQuery"],Nu=f.forwardRef(function(t,e){const n=(0,q.useThemeProps)({props:t,name:"MuiDatePicker"}),{desktopModeMediaQuery:s=Hr}=n,o=(0,W.A)(n,Ou);return(0,an.A)(s,{defaultMatches:!0})?(0,V.jsx)(To,(0,F.A)({ref:e},o)):(0,V.jsx)(Po,(0,F.A)({ref:e},o))});class Bu extends v{componentDidMount(){super.componentDidMount();const t=v.getValue(this.props.data,this.props.attr);this.setState({value:t})}renderItem(t,e){return l().createElement(Nu,{sx:n=>({width:"100%",borderBottom:`1px solid ${n.palette.text.primary}`,"& fieldset":{display:"none"},"& input":{padding:`${n.spacing(1.5)} 0 4px 0`},"& .MuiInputAdornment-root":{marginLeft:0,marginTop:1},"& label":{transform:"translate(0px, -9px) scale(0.75)"}}),format:this.props.systemConfig.dateFormat.toLowerCase().replace("mm","MM"),disabled:!!e,value:this.state.value,onChange:n=>{this.setState({value:n},()=>this.onChange(this.props.attr,this.state.value))},label:this.getText(this.props.schema.label)})}}class Lu extends v{renderItem(){if(!this.props.schema)return null;if(this.props.DeviceManager){const e=this.props.DeviceManager;return l().createElement(e,{uploadImagesToInstance:`${this.props.adapterName}.${this.props.instance}`,title:this.getText(this.props.schema.label),socket:this.props.socket,selectedInstance:`${this.props.adapterName}.${this.props.instance}`,themeName:this.props.themeName,themeType:this.props.themeType,isFloatComma:this.props.isFloatComma,dateFormat:this.props.dateFormat})}return l().createElement("div",null,"DeviceManager not found")}}const Ru=Lu;var _u=J(53683),Mo=J.n(_u),Vu=J(86215);const dn={fullWidth:{width:"100%"},fullWidthOneButton:{width:"calc(100% - 42px)"},fullWidthTwoButtons:{width:"calc(100% - 84px)"},fullWidthThreeButtons:{width:"calc(100% - 126x)"},dropZone:{width:"100%",height:"100%",position:"absolute"},dropZoneEmpty:{},image:{objectFit:"contain",margin:"auto",display:"flex",width:"100%",height:"100%"},uploadDiv:{position:"relative",width:"100%"},uploadDivDragging:{opacity:1,background:"rgba(128,255,128,0.1)"},uploadCenterDiv:{margin:5,border:"3px dashed grey",borderRadius:5,width:"100%",height:"100%",position:"absolute",display:"flex"},uploadCenterIcon:{paddingTop:10,width:48,height:48},uploadCenterText:{fontSize:16},uploadCenterTextAndIcon:{textAlign:"center",position:"absolute",top:0,bottom:0,left:0,right:0,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},disabledOpacity:{opacity:.3,cursor:"default"},error:{border:"2px solid red"},deleteButton:{},selectedImage:{height:40,width:40,display:"inline-block",marginRight:8}},$u=["jpg","jpeg","svg","png","webp","gif","apng","avif","webp"],ju=["mp3","ogg","wav","aac"],Wu=["avi","mp4","mov"],Uu=["txt","log","html","htm"],Hu=["json","js","ts"];class ur extends v{constructor(e){super(e);Ne(this,"dropzoneRef");Ne(this,"imagePrefix");Ne(this,"objectID");Ne(this,"path");this.dropzoneRef=l().createRef(),this.imagePrefix=this.props.imagePrefix===void 0?"./files":this.props.imagePrefix}componentDidMount(){super.componentDidMount(),this.objectID=(this.props.schema.objectID||"0_userdata.0").replace("%INSTANCE%",(this.props.instance||0).toString()),this.path=this.props.schema.upload,this.path&&(this.path==="/"?this.path="":this.path.endsWith("/")||(this.path=`${this.path}/`)),this.updateFiles().then(()=>{const e=v.getValue(this.props.data,this.props.attr);this.setState({value:e})})}updateFiles(){return this.readFiles(this.props.schema.pattern).then(e=>this.setState({files:e}))}readFolder(e,n,s){return ct(this,null,function*(){try{const o=yield this.props.socket.readDir(this.objectID,e.replace(/^\//,"")||null);for(let i=0;i<o.length;i++){const a=o[i];if(a.isDir)yield this.readFolder(`${e+a.file}/`,n,s);else{let c=!1;s==="*.*"&&a.file.includes(".")||!s||s==="*"||s===".*"&&a.file.startsWith(".")?c=!0:c=new RegExp(`^${s.replace(/\./g,"\\.").replace(/\*/g,".*")}$`).test(a.file),c&&n.push({name:e+a.file,size:a.stats?d.Utils.formatBytes(a.stats.size):"--"})}}}catch(o){console.error(`Cannot read "${e}": ${o}`)}return n})}readFiles(e){return ct(this,null,function*(){const n=[];e=e||this.props.schema.pattern,e||(e="**/*.*");let s;const o=e.lastIndexOf("/");if(o===-1?s=e:s=e.substring(o+1),e.startsWith("**"))yield this.readFolder("/",n,s);else{const i=e.lastIndexOf("/");if(i===-1)yield this.readFolder("/",n,s);else{const a=e.substring(0,i+1);yield this.readFolder(a,n,s)}}return n})}onDrop(e){const n=e[0],s=new FileReader,o=this.props.schema.maxSize||2*1024*1024;s.onabort=()=>console.log("file reading was aborted"),s.onerror=()=>console.log("file reading has failed"),s.onload=()=>{let i=`image/${n.name.split(".").pop().toLowerCase()}`;if(i==="image/jpg"?i="image/jpeg":i.includes("svg")&&(i="image/svg+xml"),n.size>o){window.alert(d.I18n.t("File is too big. Max %sk allowed. Try use SVG.",Math.round(o/1024)));return}const a=`data:${i};base64,${btoa(new Uint8Array(s.result).reduce((c,h)=>c+String.fromCharCode(h),""))}`;this.props.socket.writeFile64(this.objectID,this.path+n.name,a).then(()=>this.updateFiles()).catch(c=>window.alert(`Cannot upload file: ${c}`))},s.readAsArrayBuffer(n)}renderDeleteDialog(){return this.state.deleteFile?l().createElement(d.Confirm,{title:d.I18n.t("ra_Are you sure?"),text:d.I18n.t("ra_File will be deleted"),ok:d.I18n.t("ra_Delete"),cancel:d.I18n.t("ra_Cancel"),onClose:e=>{const n=this.state.deleteFile;this.setState({deleteFile:""},()=>{e&&this.props.socket.deleteFile(this.objectID,n).then(()=>this.updateFiles()).catch(s=>window.alert(`Cannot delete file: ${s}`))})}}):null}static base64ToArrayBuffer(e){const n=window.atob(e),s=n.length,o=new Uint8Array(s);for(let i=0;i<s;i++)o[i]=n.charCodeAt(i);return o.buffer}loadFile(){return this.props.socket.readFile(this.objectID,this.state.value,!0)}play(){this.loadFile().then(e=>{if(typeof AudioContext!="undefined"){const n=new AudioContext,s=ur.base64ToArrayBuffer(e.file);n.decodeAudioData(s,o=>{const i=n.createBufferSource();i.buffer=o,i.connect(n.destination),i.start(0)},o=>window.alert(`Cannot play: ${o}`))}})}getFileIcon(e){return e!=null&&e.extension?$u.includes(e.extension)?l().createElement("div",{style:Rt(Re({},dn.selectedImage),{backgroundImage:`url(${this.imagePrefix}/${this.objectID}/${e.value})`,backgroundSize:"contain",backgroundRepeat:"no-repeat"})}):ju.includes(e.extension)?l().createElement(p.MusicNote,null):Uu.includes(e.extension)?l().createElement(p.Article,null):Wu.includes(e.extension)?l().createElement(p.Videocam,null):Hu.includes(e.extension)?l().createElement(p.Code,null):null:null}renderItem(e,n){if(!this.state.files)return null;const s=[];this.props.schema.withFolder||this.state.files.forEach(g=>{const D=g.name.lastIndexOf("/");if(D===-1)s.includes("/")||s.push("/");else{const T=g.name.substring(0,D+1);s.includes(T)||s.push(T)}});const o=this.state.files.map(g=>({value:g.name,label:!this.props.schema.withFolder&&s.length===1?`${g.name.substring(s[0].length)}`:`${g.name}${this.props.schema.noSize?"":`(${g.size})`}`,extension:g.name.toLowerCase().split(".").pop()}));this.props.schema.noNone||o.unshift({label:d.I18n.t("ra_none"),value:""});const i=o.find(g=>g.value===this.state.value);let a=0;this.props.schema.upload&&a++,this.props.schema.refresh&&a++;const c=this.state.value&&(this.state.value.endsWith(".mp3")||this.state.value.endsWith(".ogg")||this.state.value.endsWith(".wav"));c&&a++;const h=l().createElement("div",{style:dn.fullWidth},l().createElement(u.FormControl,{variant:"standard",style:{width:`calc(100% - ${a*42}px)`}},this.props.schema.label?l().createElement(u.InputLabel,null,this.getText(this.props.schema.label)):null,l().createElement(u.Select,{variant:"standard",error:!!e,disabled:!!n,value:this.state.value||"_",renderValue:()=>l().createElement(l().Fragment,null,this.getFileIcon(i),l().createElement("span",null,(i==null?void 0:i.label)||"")),onChange:g=>{this.setState({value:g.target.value==="_"?"":g.target.value},()=>this.onChange(this.props.attr,this.state.value))}},o.map(g=>l().createElement(u.MenuItem,{key:g.value,value:g.value},l().createElement(u.ListItemIcon,null,this.getFileIcon(g)),l().createElement(u.ListItemText,null,g.label),this.props.schema.delete&&i.value?l().createElement(u.IconButton,{style:dn.deleteButton,size:"small",onClick:()=>this.setState({deleteFile:i.value})},l().createElement(p.Delete,null)):null))),this.props.schema.help?l().createElement(u.FormHelperText,null,this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)):null),this.props.schema.refresh&&l().createElement(u.IconButton,{onClick:()=>this.updateFiles()},l().createElement(p.Refresh,null)),this.props.schema.upload&&l().createElement(u.IconButton,{onClick:()=>{var g;return(g=this.dropzoneRef.current)==null?void 0:g.open()}},l().createElement(p.UploadFile,null)),c&&l().createElement(u.IconButton,{style:{color:"#00FF00"},onClick:()=>this.play()},l().createElement(p.PlayArrow,null)));if(!this.props.schema.upload)return l().createElement(l().Fragment,null,h,this.renderDeleteDialog());let y={"*/*":[]};if(this.props.schema.fileTypes==="image"?y={"image/*":[".png",".jpg",".svg",".gif",".apng",".avif",".webp"]}:this.props.schema.fileTypes==="audio"?y={"audio/*":[".mp3",".ogg",".wav",".mp4"]}:this.props.schema.fileTypes==="text"&&(y={"text/plain":[".txt"]}),this.props.schema.pattern){const g=this.props.schema.pattern.split("/").pop().toLowerCase().replace(/.*\./,"");g==="png"||g==="jpg"||g==="svg"||g==="gif"||g==="apng"||g==="avif"||g==="webp"?y={"image/*":[".png",".jpg",".svg",".gif",".apng",".avif",".webp"]}:g==="mp3"||g==="ogg"||g==="wav"?y={"audio/*":[".mp3",".ogg",".wav",".mp4"]}:g==="ics"?y={"text/calendar":[".ics"]}:g==="txt"?y={"text/plain":[".txt"]}:g==="pem"?y={"text/plain":[".pem"]}:y={"*/*":[`.${g}`]}}return l().createElement(Mo(),{ref:this.dropzoneRef,multiple:!1,accept:y,noKeyboard:!0,noClick:!0,maxSize:this.props.schema.maxSize||2*1024*1024,onDragEnter:()=>{this.setState({uploadFile:"dragging"})},onDragLeave:()=>this.setState({uploadFile:!0}),onDrop:(g,D)=>{this.setState({uploadFile:!1}),g.length?this.onDrop(g):window.alert(D&&D[0]&&D[0].errors&&D[0].errors[0]&&D[0].errors[0].message||d.I18n.t("Cannot upload"))}},({getRootProps:g,getInputProps:D})=>l().createElement("div",Re({style:Re(Re(Re({},dn.uploadDiv),this.state.uploadFile==="dragging"?dn.uploadDivDragging:void 0),n?dn.disabledOpacity:void 0)},g()),l().createElement("input",Re({},D())),this.state.uploadFile==="dragging"?l().createElement("div",{style:Re(Re({},dn.uploadCenterDiv),this.state.uploadError?dn.error:void 0)},l().createElement("div",{style:dn.uploadCenterTextAndIcon},l().createElement(Vu.l1U,{style:dn.uploadCenterIcon}),l().createElement("div",{style:dn.uploadCenterText},this.state.uploadFile==="dragging"?d.I18n.t("ra_Drop file here"):d.I18n.t("ra_Place your files here or click here to open the browse dialog")))):null,h,this.renderDeleteDialog()))}}const Oo=ur,Hs={fullWidth:{width:"100%"},fullWidthOneButton:{width:"calc(100% - 69px)",marginRight:4},fullWidthIcon:{width:"calc(100% - 119px)",marginRight:4},selectedImage:{height:40,width:40,display:"inline-block",marginRight:8}},zu=["jpg","jpeg","svg","png","webp","gif","apng","avif","webp"],Ju=["mp3","ogg","wav","aac"],Yu=["avi","mp4","mov"],Ku=["txt","log","html","htm"],Gu=["json","js","ts"];class Qu extends v{constructor(){super(...arguments);Ne(this,"imagePrefix","../..")}componentDidMount(){super.componentDidMount();const e=v.getValue(this.props.data,this.props.attr);this.imagePrefix=this.props.imagePrefix===void 0?"./files":this.props.imagePrefix,this.setState({value:e!=null?e:""})}static getDerivedStateFromProps(e,n){const s=v.getValue(e.data,e.attr);return s==null||s.toString().trim()!==(n.value||"").toString().trim()?{value:s!=null?s:""}:null}loadFile(){const e=this.state.value.indexOf("/");if(e!==-1){const n=this.state.value.substring(0,e),s=this.state.value.substring(e+1);return this.props.socket.readFile(n,s,!0)}return Promise.resolve(null)}play(){this.loadFile().then(e=>{if(typeof AudioContext!="undefined"&&(e!=null&&e.file)){const n=new AudioContext,s=Oo.base64ToArrayBuffer(e.file);n.decodeAudioData(s,o=>{const i=n.createBufferSource();i.buffer=o,i.connect(n.destination),i.start(0)},o=>window.alert(`Cannot play: ${o}`))}})}getIcon(){const e=this.state.value.split(".").pop().toLowerCase();return zu.includes(e)?l().createElement("div",{style:Rt(Re({},Hs.selectedImage),{backgroundImage:`url(${this.imagePrefix}/${this.state.value})`,backgroundSize:"contain",backgroundRepeat:"no-repeat"})}):Ju.includes(e)?l().createElement(u.IconButton,{style:{color:"#00FF00"},onClick:()=>this.play()},l().createElement(p.PlayArrow,null)):Ku.includes(e)?l().createElement(p.Article,null):Yu.includes(e)?l().createElement(p.Videocam,null):Gu.includes(e)?l().createElement(p.Code,null):null}renderFileBrowser(){return this.state.showFileBrowser?l().createElement(d.SelectFile,{imagePrefix:this.props.imagePrefix,socket:this.props.socket,selected:this.state.value,onClose:()=>this.setState({showFileBrowser:!1}),onOk:e=>{const n=Array.isArray(e)?e[0]:e;this.setState({value:n},()=>this.onChange(this.props.attr,this.props.schema.trim===!1?n:(n||"").trim()))},selectOnlyFolders:this.props.schema.selectOnlyFolders,allowUpload:this.props.schema.allowUpload,allowDownload:this.props.schema.allowDownload,allowCreateFolder:this.props.schema.allowCreateFolder,allowView:this.props.schema.allowView,showToolbar:this.props.schema.showToolbar,limitPath:this.props.schema.limitPath,theme:this.props.theme}):null}renderItem(e,n){const s=this.getIcon();return l().createElement("div",{style:Hs.fullWidth},s,l().createElement(u.TextField,{variant:"standard",style:s?Hs.fullWidthIcon:Hs.fullWidthOneButton,value:this.state.value===null||this.state.value===void 0?"":this.state.value,error:!!e,disabled:!!n,inputProps:{maxLength:this.props.schema.maxLength||this.props.schema.max||void 0,readOnly:!!this.props.schema.disableEdit},onChange:o=>{const i=o.target.value;this.setState({value:i},()=>this.onChange(this.props.attr,this.props.schema.trim===!1?i:(i||"").trim()))},placeholder:this.getText(this.props.schema.placeholder),label:this.getText(this.props.schema.label),helperText:this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)}),l().createElement(u.Button,{variant:"outlined",onClick:()=>this.setState({showFileBrowser:!0})},"..."),this.renderFileBrowser())}}const Xu=Qu;class Zu extends v{componentDidMount(){super.componentDidMount();const t=v.getValue(this.props.data,this.props.attr);this.props.socket.getEnums("functions").then(e=>{const n=Object.keys(e).map(s=>({value:this.props.schema.short?s.replace("enum.functions.",""):s,label:this.getText(e[s].common.name),obj:e[s]}));this.props.schema.allowDeactivate!==!1&&n.unshift({label:d.I18n.t(v.NONE_LABEL),value:v.NONE_VALUE}),this.setState({value:t,selectOptions:n})})}renderItem(t,e){if(!this.state.selectOptions)return null;const n=this.state.selectOptions.find(s=>s.value===this.state.value);return l().createElement(u.FormControl,{variant:"standard",fullWidth:!0},this.props.schema.label?l().createElement(u.InputLabel,null,this.getText(this.props.schema.label)):null,l().createElement(u.Select,{variant:"standard",error:!!t,disabled:!!e,value:this.state.value||"_",renderValue:()=>n?n.obj?l().createElement(d.TextWithIcon,{value:n.obj,themeType:this.props.themeType,lang:d.I18n.getLanguage()}):n.label:"",onChange:s=>{this.setState({value:s.target.value==="_"?"":s.target.value},()=>this.onChange(this.props.attr,this.state.value))}},this.state.selectOptions.map(s=>l().createElement(u.MenuItem,{key:s.value,value:s.value,style:s.value===v.DIFFERENT_VALUE?{opacity:.5}:{}},s.obj?l().createElement(d.TextWithIcon,{value:s.obj,themeType:this.props.themeType,lang:d.I18n.getLanguage()}):s.label))),this.props.schema.help?l().createElement(u.FormHelperText,null,this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)):null)}}const qu=Zu;class ed extends v{componentDidMount(){super.componentDidMount(),this.props.socket.getHostByIp(this.props.common.host).then(t=>{this.props.schema.listenOnAllPorts||(t=t.filter(e=>e.address!=="0.0.0.0"&&e.address!=="::")),this.props.schema.onlyIp4?t=t.filter(e=>e.family==="ipv4"):this.props.schema.onlyIp6&&(t=t.filter(e=>e.family==="ipv6")),this.props.schema.noInternal&&(t=t.filter(e=>!e.internal)),t.forEach(e=>{e.address==="0.0.0.0"?e.name=`[IPv4] 0.0.0.0 - ${d.I18n.t("ra_Listen on all IPs")}`:e.address==="::"&&(e.name=`[IPv6] :: - ${d.I18n.t("ra_Listen on all IPs")}`)}),this.setState({ips:t})})}renderItem(t,e){var o,i;const n=v.getValue(this.props.data,this.props.attr),s=(o=this.state.ips)==null?void 0:o.find(a=>a.address===n);return l().createElement(u.FormControl,{fullWidth:!0,variant:"standard"},this.state.ips&&this.props.schema.label?l().createElement(u.InputLabel,null,this.getText(this.props.schema.label)):null,this.state.ips?l().createElement(u.Select,{variant:"standard",error:!!t,disabled:!!e,value:n,renderValue:a=>(s==null?void 0:s.name)||a,onChange:a=>this.onChange(this.props.attr,a.target.value)},(i=this.state.ips)==null?void 0:i.map((a,c)=>l().createElement(u.MenuItem,{key:c,value:a.address},a.name))):l().createElement(u.TextField,{fullWidth:!0,variant:"standard",error:!!t,disabled:!!e,value:n,onChange:a=>this.onChange(this.props.attr,a.target.value),label:this.getText(this.props.schema.label)}),this.props.schema.help?l().createElement(u.FormHelperText,null,this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)):null)}}const td=ed;class nd extends v{componentDidMount(){super.componentDidMount(),this.askInstance()}askInstance(){if(this.props.alive){let t=this.props.schema.data;if(t===void 0&&this.props.schema.jsonData){const e=this.getPattern(this.props.schema.jsonData);if(e)try{t=JSON.parse(e)}catch(n){console.error(`Cannot parse json data: ${t}`)}}t===void 0&&(t=null),this.props.socket.sendTo(`${this.props.adapterName}.${this.props.instance}`,this.props.schema.command||"send",t).then(e=>this.setState({image:e||"",context:this.getContext()}))}}getContext(){const t={};return Array.isArray(this.props.schema.alsoDependsOn)&&this.props.schema.alsoDependsOn.forEach(e=>t[e]=v.getValue(this.props.data,e)),JSON.stringify(t)}renderItem(){return this.state.image===void 0?null:(this.props.alive&&this.getContext()!==this.state.context&&setTimeout(()=>this.askInstance(),300),l().createElement("img",{alt:"dynamic content",src:this.state.image,style:{width:this.props.schema.width||"100%",height:this.props.schema.height}}))}}const sd=nd;class dr extends v{constructor(e){super(e);Ne(this,"index");this.index=Date.now()}componentDidMount(){return ct(this,null,function*(){if(Ut(dr.prototype,this,"componentDidMount").call(this),this.props.schema.base64){const e=v.getValue(this.props.data,this.props.attr);this.setState({value:e})}else this.props.socket.fileExists(`${this.props.adapterName}.${this.props.instance}`,this.props.attr).then(e=>e&&this.loadImage())})}_getUrl(e){e&&(this.index=Date.now());let n=`files/${this.props.adapterName}.${this.props.instance}/${this.props.attr}?t=${this.index}`;return window.location.port==="3000"&&(n=`${window.location.protocol}//${window.location.hostname}:8081/${n}`),n}loadImage(){fetch(this._getUrl()).then(e=>e.blob()).then(e=>{const n=new FileReader;n.onload=()=>{this.setState({value:n.result})},n.readAsDataURL(e)}).catch(e=>console.error(e))}renderItem(e,n){return l().createElement(u.FormControl,{fullWidth:!0,variant:"standard"},this.props.schema.label?l().createElement(u.InputLabel,{shrink:!0},this.getText(this.props.schema.label)):null,l().createElement(d.UploadImage,{error:!!e,disabled:n,accept:this.props.schema.accept,crop:this.props.schema.crop,maxSize:this.props.schema.maxSize||256*1024,icon:this.state.value||void 0,removeIconFunc:()=>this.setState({value:null},()=>{this.props.schema.base64?this.onChange(this.props.attr,this.state.value):this.props.socket.deleteFile(`${this.props.adapterName}.${this.props.instance}`,this.props.attr)}),onChange:s=>this.setState({value:s},()=>{this.props.schema.base64?this.onChange(this.props.attr,this.state.value):s.startsWith("data")&&(s=s.split(",")[1]),this.props.socket.writeFile64(`${this.props.adapterName}.${this.props.instance}`,this.props.attr,s)})}),this.props.schema.help?l().createElement(u.FormHelperText,null,this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)):null)}}const rd=dr,No={icon:{width:20,height:20,marginRight:4}};class pr extends v{constructor(){super(...arguments);Ne(this,"onInstancesUpdate",(e,n)=>{if(!e.match(/^system\.adapter\.[-_a-z\d]+\.\d+$/))return;const s=this.props.schema.long?e:this.props.schema.short?e.split(".").pop():e.replace(/^system\.adapter\./,""),o=this.state.selectOptions.findIndex(i=>i.value===s);if(n){if(this.props.schema.adapter==="_dataSources"&&(!n.common||!n.common.getHistory))return;if(o===-1){const i=JSON.parse(JSON.stringify(this.state.selectOptions));i.push({value:this.props.schema.long?n._id:this.props.schema.short?n._id.split(".").pop():n._id.replace(/^system\.adapter\./,""),label:`${n.common.name} [${n._id.replace(/^system\.adapter\./,"")}]`,icon:`adapter/${n.common.name}/${n.common.icon}`}),i.sort((a,c)=>a.label>c.label?1:a.label<c.label?-1:0),this.setState({selectOptions:i})}}else if(o!==-1){const i=JSON.parse(JSON.stringify(this.state.selectOptions)),a={};this.state.value===i[o].value&&(a.value=v.NONE_VALUE),i.splice(o,1),a.selectOptions=i,this.setState(a)}})}componentDidMount(){return ct(this,null,function*(){Ut(pr.prototype,this,"componentDidMount").call(this);const e=v.getValue(this.props.data,this.props.attr);let n=this.props.schema.adapter;n==="_dataSources"&&(n=void 0),this.props.socket.getAdapterInstances(n,!0).then(s=>ct(this,null,function*(){this.props.schema.adapter==="_dataSources"?s=s.filter(i=>{var a;return(a=i==null?void 0:i.common)==null?void 0:a.getHistory}):this.props.schema.adapter?s=s.filter(i=>i==null?void 0:i._id.startsWith(`system.adapter.${this.props.schema.adapter}.`)):this.props.schema.adapters&&Array.isArray(this.props.schema.adapters)&&(s=s.filter(i=>{var a;return this.props.schema.adapters.includes((a=i==null?void 0:i.common)==null?void 0:a.name)})),this.props.schema.onlyEnabled&&(s=s.filter(i=>{var a;return(a=i==null?void 0:i.common)==null?void 0:a.enabled}));const o=s.map(i=>({value:this.props.schema.long?i._id:this.props.schema.short?i._id.split(".").pop():i._id.replace(/^system\.adapter\./,""),label:`${i.common.name} [${i._id.replace(/^system\.adapter\./,"")}]`,icon:`adapter/${i.common.name}/${i.common.icon}`}));o.sort((i,a)=>i.value>a.value?1:i.value<a.value?-1:0),this.props.schema.allowDeactivate!==!1&&o.unshift({label:d.I18n.t(v.NONE_LABEL),value:v.NONE_VALUE}),this.props.schema.all&&o.unshift({label:d.I18n.t("sch_all"),value:"*"}),this.setState({value:e||"",selectOptions:o}),yield this.props.socket.subscribeObject(`system.adapter.${n?`${n}.`:""}*`,this.onInstancesUpdate)}))})}componentWillUnmount(){this.props.socket.unsubscribeObject("system.adapter.*",this.onInstancesUpdate).then(()=>{}),super.componentWillUnmount()}renderItem(e,n){var o;if(!this.state.selectOptions)return null;const s=(o=this.state.selectOptions)==null?void 0:o.find(i=>i.value===this.state.value);return l().createElement(u.FormControl,{fullWidth:!0,key:this.props.attr,variant:"standard"},this.props.schema.label?l().createElement(u.InputLabel,{shrink:!0},this.getText(this.props.schema.label)):null,l().createElement(u.Select,{variant:"standard",error:!!e,displayEmpty:!0,disabled:!!n,value:this.state.value,renderValue:()=>l().createElement("span",{style:{display:"flex"}},s!=null&&s.icon?l().createElement("img",{src:`./${s.icon}`,alt:s.value,style:No.icon}):null,this.getText(s==null?void 0:s.label,!0)),onChange:i=>this.setState({value:i.target.value},()=>this.onChange(this.props.attr,this.state.value))},this.state.selectOptions.map(i=>l().createElement(u.MenuItem,{key:i.value,value:i.value,style:i.value===v.NONE_VALUE?{opacity:.5}:{}},i.icon?l().createElement("img",{src:`./${i.icon}`,alt:i.value,style:No.icon}):null,this.getText(i.label,!0)))),this.props.schema.help?l().createElement(u.FormHelperText,null,this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)):null)}}const od=pr,Bo={address:{fontSize:"smaller",opacity:.5,marginLeft:8}};class id extends v{componentDidMount(){super.componentDidMount(),this.props.socket.getObject(`system.host.${this.props.common.host}`).then(t=>{var n,s;const e=[];if((s=(n=t==null?void 0:t.native)==null?void 0:n.hardware)!=null&&s.networkInterfaces){const o=t.native.hardware.networkInterfaces;Object.keys(o).forEach(i=>{if(this.props.schema.ignoreInternal&&!o[i].find(c=>!c.internal)||this.props.schema.ignoreLoopback&&o[i].find(c=>c.address==="127.0.0.1"||c.address==="::1"))return;let a=o[i].find(c=>c.family==="IPv4");a=a||o[i].find(c=>c.family==="IPv6"),e.push({value:i,address:a.address})})}this.setState({interfaces:e})}).catch(t=>window.alert(`Cannot read interfaces: ${t}`))}renderItem(t,e){var o,i,a;const n=v.getValue(this.props.data,this.props.attr),s=(o=this.state.interfaces)==null?void 0:o.find(c=>c.value===n);return l().createElement(u.FormControl,{fullWidth:!0,variant:"standard"},(i=this.state.interfaces)!=null&&i.length&&this.props.schema.label?l().createElement(u.InputLabel,null,this.getText(this.props.schema.label)):null,(a=this.state.interfaces)!=null&&a.length?l().createElement(u.Select,{variant:"standard",error:!!t,disabled:!!e,value:n,renderValue:c=>s?l().createElement("span",null,s.value,l().createElement("span",{style:Bo.address},s.address)):c,onChange:c=>this.onChange(this.props.attr,c.target.value)},this.state.interfaces.map((c,h)=>l().createElement(u.MenuItem,{key:h,value:c.value},l().createElement("span",null,c.value,l().createElement("span",{style:Bo.address},c.address))))):l().createElement(u.TextField,{fullWidth:!0,variant:"standard",error:!!t,disabled:!!e,value:n,onChange:c=>this.onChange(this.props.attr,c.target.value),label:this.getText(this.props.schema.label)}),this.props.schema.help?l().createElement(u.FormHelperText,null,this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)):null)}}const ad=id,as={modalDialog:{minWidth:400,maxWidth:800},overflowHidden:{display:"flex",overflow:"hidden"},titleIcon:{marginRight:5},content:{fontSize:16},languageButton:{position:"absolute",right:8,top:8},languageButtonActive:{color:"primary.main"}},ld=({toggleTranslation:r,noTranslation:t,title:e,fullWidth:n,help:s,maxWidth:o,progress:i,icon:a,applyDisabled:c,applyButton:h,onClose:y,children:g,titleButtonApply:D,titleButtonClose:T,onApply:w,textInput:S,defaultValue:P,overflowHidden:B})=>{const[R,K]=(0,f.useState)(P);(0,f.useEffect)(()=>{K(P)},[P]);let Y=null;return a&&(Y=a),l().createElement(u.Dialog,{open:!0,maxWidth:o||"md",fullWidth:!!n,disableEscapeKeyDown:!1,onClose:y,sx:{"& .MuiPaper-root":as.modalDialog}},e&&l().createElement(u.DialogTitle,null,a?l().createElement(Y,{style:as.titleIcon}):null,e,d.I18n.getLanguage()!=="en"&&r?l().createElement(u.IconButton,{size:"large",style:Re(Re({},as.languageButton),t?as.languageButtonActive:{}),onClick:()=>r(),title:d.I18n.t("Disable/Enable translation")},l().createElement(p.Language,null)):null),l().createElement(u.DialogContent,{sx:Re(Re({},B?as.overflowHidden:{}),as.content),style:{paddingTop:8}},S&&l().createElement(u.TextField,{autoComplete:"off",fullWidth:!0,autoFocus:!0,variant:"outlined",size:"medium",multiline:!0,value:R,onChange:Z=>K(Z.target.value)}),g,s?l().createElement("div",null,s):null),l().createElement(u.DialogActions,null,h!==!1&&l().createElement(u.Button,{startIcon:l().createElement(p.Check,null),disabled:i||c&&P===R,onClick:()=>w&&w(S?R:""),variant:"contained",color:"primary"},d.I18n.t(D||"Ok")),l().createElement(u.Button,{color:"grey",onClick:()=>y&&y(),disabled:i,variant:"contained",startIcon:l().createElement(p.Close,null)},d.I18n.t(T||"Cancel"))))};var cd=J(52514),ud=J.n(cd),vm=J(97726),bm=J(51197),xm=J(9285),Am=J(44210),wm=J(82292);const Lo={jsonError:{border:"1px solid red",minHeight:200},jsonNoError:{border:"1px solid #00000000",minHeight:200}};function dd(r){return l().createElement(ud(),{style:r.error===!0?Lo.jsonError:r.error===!1?Lo.jsonNoError:void 0,mode:r.mode||"json",width:"100%",height:"100%",showPrintMargin:r.editValueMode,showGutter:r.editValueMode,highlightActiveLine:r.editValueMode,defaultValue:r.defaultValue,theme:r.themeType==="dark"?"clouds_midnight":"chrome",value:r.value,readOnly:!r.onChange,onChange:t=>r.onChange(t),name:r.name||"UNIQUE_ID_OF_DIV1",fontSize:r.fontSize||14,setOptions:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0,showLineNumbers:r.editValueMode,tabSize:r.editValueMode?2:void 0},editorProps:{$blockScrolling:!0}})}const pd=dd,hr={fullWidth:{width:"100%"},flex:{display:"flex"},button:{height:48,minWidth:48},wrapper:{width:"calc(100vw - 40px)",height:"calc(100vh - 188px)"}};class mr extends v{componentDidMount(){return ct(this,null,function*(){Ut(mr.prototype,this,"componentDidMount").call(this);const{data:t,attr:e}=this.props,n=v.getValue(t,e)||{};this.setState({value:n,initialized:!0})})}renderItem(){if(!this.state.initialized)return null;const{schema:t,data:e,attr:n}=this.props,{value:s,showSelectId:o}=this.state;return l().createElement(u.FormControl,{fullWidth:!0,variant:"standard"},l().createElement("div",{style:hr.flex},l().createElement(u.Button,{color:"grey",style:hr.button,size:"small",variant:"outlined",onClick:()=>this.setState({showSelectId:!0})},d.I18n.t("ra_JSON editor"))),o?l().createElement(ld,{title:this.getText(t.label),overflowHidden:!0,onClose:()=>this.setState({showSelectId:!1,value:v.getValue(e,n)||{}}),onApply:()=>this.setState({showSelectId:!1},()=>this.onChange(n,s))},l().createElement("div",{style:hr.wrapper},l().createElement(pd,{value:typeof s=="object"?JSON.stringify(s):s,onChange:i=>this.setState({value:i}),name:"ConfigJsonEditor",themeType:this.props.themeType}))):null,t.help?l().createElement(u.FormHelperText,null,this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)):null)}}const hd=mr,md=[{value:"en",label:"English"},{value:"de",label:"Deutsch"},{value:"ru",label:"\u0440\u0443\u0441\u0441\u043A\u0438\u0439"},{value:"pt",label:"Portugues"},{value:"nl",label:"Nederlands"},{value:"fr",label:"fran\xE7ais"},{value:"it",label:"Italiano"},{value:"es",label:"Espanol"},{value:"pl",label:"Polski"},{value:"uk",label:"\u0423\u043A\u0440\u0430\u0457\u043D\u0441\u044C\u043A\u0438\u0439"},{value:"zh-ch",label:"\u7B80\u4F53\u4E2D\u6587"}];class fd extends v{componentDidMount(){super.componentDidMount();const t=v.getValue(this.props.data,this.props.attr),e=[...md];this.props.schema.system?e.unshift({value:"",label:d.I18n.t("ra_System language")}):e.unshift({value:"",label:d.I18n.t("ra_none")}),this.setState({value:this.props.schema.system?t||"":t||d.I18n.getLanguage(),selectOptions:e})}renderItem(t,e){var s,o;if(!this.state.selectOptions)return null;const n=(s=this.state.selectOptions)==null?void 0:s.find(i=>i.value===this.state.value||!i.value&&!this.state.value);return l().createElement(u.FormControl,{fullWidth:!0,variant:"standard"},this.props.schema.label?l().createElement(u.InputLabel,null,this.getText(this.props.schema.label)):null,l().createElement(u.Select,{variant:"standard",error:!!t,disabled:e,value:this.state.value||"_",renderValue:()=>this.getText(n==null?void 0:n.label,this.props.schema.noTranslation),onChange:i=>{let{value:a}=i.target;a==="_"&&(a=""),this.setState({value:a},()=>{if(this.onChange(this.props.attr,a),this.props.schema.changeGuiLanguage)if(a){if(a===d.I18n.getLanguage())return;d.I18n.setLanguage(a),this.props.changeLanguage&&this.props.changeLanguage()}else this.props.socket.getSystemConfig().then(c=>{c.common.language!==d.I18n.getLanguage()&&c.common.language&&(d.I18n.setLanguage(c.common.language),this.props.changeLanguage&&this.props.changeLanguage())})})}},(o=this.state.selectOptions)==null?void 0:o.map(i=>l().createElement(u.MenuItem,{key:i.value,value:i.value},i.label))),this.props.schema.help?l().createElement(u.FormHelperText,null,this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)):null)}}const gd=fd;class yd extends v{constructor(e){super(e);Ne(this,"scrollRef");this.scrollRef=l().createRef()}scrolledDown(){return this.scrollRef.current?this.scrollRef.current.offsetHeight+this.scrollRef.current.scrollTop>=this.scrollRef.current.scrollHeight:!1}componentDidMount(){super.componentDidMount(),v.getValue(this.props.data,this.props.attr)||(this.props.schema.licenseUrl?(this.setState({showLicenseDialog:!0,loading:!0,scrolledDown:!1}),fetch(this.props.schema.licenseUrl).then(e=>e.text()).then(e=>this.setState({license:e,loading:!1})).catch(e=>this.setState({license:e.toString(),loading:!1,error:!0,scrolledDown:!1}))):this.setState({showLicenseDialog:!0,scrolledDown:!1}),setTimeout(()=>{this.scrollRef.current&&(this.scrolledDown()?this.setState({scrolledDown:!0}):this.scrollRef.current.addEventListener("scroll",()=>{!this.state.scrolledDown&&this.scrolledDown()&&this.setState({scrolledDown:!0})}))},1e3))}renderItem(){return this.state.showLicenseDialog?l().createElement(u.Dialog,{maxWidth:"lg",open:!0,onClose:(e,n)=>{n!=="escapeKeyDown"&&n!=="backdropClick"&&this.setState({showLicenseDialog:!1})}},l().createElement(u.DialogTitle,null,this.props.schema.title?d.I18n.t(this.props.schema.title):d.I18n.t("ra_License agreement")),l().createElement(u.DialogContent,null,this.props.schema.licenseUrl?l().createElement(l().Fragment,null,this.state.loading?l().createElement(u.LinearProgress,null):null,l().createElement("pre",{ref:this.scrollRef,style:{width:"100%",height:"100%",overflowY:"auto",fontSize:14}},this.state.license)):null,!this.props.schema.licenseUrl&&this.props.schema.texts?l().createElement("div",{ref:this.scrollRef,style:{width:"100%",height:"100%",overflowY:"auto",fontSize:14}},this.props.schema.texts.map(e=>this.props.schema.noTranslation?l().createElement("p",null,e):l().createElement("p",null,d.I18n.t(e)))):null),l().createElement(u.DialogActions,null,this.props.schema.checkBox?l().createElement(u.FormControlLabel,{control:l().createElement(u.Checkbox,{checked:!!this.state.licenseChecked,onClick:()=>this.setState({licenseChecked:!this.state.licenseChecked})}),label:d.I18n.t(this.props.schema.checkBox)}):null,l().createElement(u.Button,{disabled:this.state.loading||this.state.error||this.props.schema.checkBox&&!this.state.licenseChecked||!this.state.scrolledDown,onClick:()=>{this.setState({showLicenseDialog:!1}),this.onChange(this.props.attr,!0)},color:"primary",variant:"contained",startIcon:l().createElement(p.Check,null)},this.props.schema.agreeText?d.I18n.t(this.props.schema.agreeText):d.I18n.t("ra_Accept license")),l().createElement(u.Button,{onClick:()=>{this.setState({showLicenseDialog:!1}),setTimeout(()=>this.setState({showLicenseDialog:!0}),2e3)},color:"grey",variant:"contained",startIcon:l().createElement(p.Close,null)},d.I18n.t("ra_Close")))):null}}const Dd=yd,Ro={indeterminate:{opacity:.5},control:{flexDirection:"row",width:"100%"}};class Cd extends v{constructor(){super(...arguments);Ne(this,"updateTimeout")}componentDidMount(){super.componentDidMount();let e=v.getValue(this.props.data,this.props.attr);if(e==null&&(e=""),Array.isArray(e)&&this.props.multiEdit){e=v.DIFFERENT_VALUE,this.setState({_value:e,oldValue:e});return}this.setState({_value:e.toString(),oldValue:e.toString()})}static getDerivedStateFromProps(e,n){if(e.schema.min!==void 0&&e.schema.min<0||e.schema.max!==void 0&&e.schema.max<0)return null;const s=v.getValue(e.data,e.attr);return e.multiEdit&&n._value===v.DIFFERENT_VALUE?v.DIFFERENT_VALUE:s==null||n.oldValue===null||n.oldValue===void 0||s.toString()!==parseFloat(n._value).toString()&&s.toString()!==n.oldValue.toString()?{_value:s}:null}checkValue(e){if(e==null)return null;e=e.toString().trim();const n=e===""?0:parseFloat(e);return e!==""&&Number.isNaN(n)?"ra_Not a number":e!==""&&window.isFinite(n)?this.props.schema.min!==void 0&&n<this.props.schema.min?"ra_Too small":this.props.schema.max!==void 0&&n>this.props.schema.max?"ra_Too big":e===""||e==="-"||Number.isNaN(n)?"ra_Not a number":null:"ra_Not a number"}renderItem(e,n){const s=Array.isArray(this.state._value)||this.state._value===v.DIFFERENT_VALUE;if(this.state.oldValue!==null&&this.state.oldValue!==void 0?(this.updateTimeout&&clearTimeout(this.updateTimeout),this.updateTimeout=setTimeout(()=>{this.updateTimeout=void 0,this.setState({oldValue:null})},30)):this.updateTimeout&&(clearTimeout(this.updateTimeout),this.updateTimeout=void 0),s){const i=[...v.getValue(this.props.data,this.props.attr)].map(a=>({label:a.toString(),value:a}));return i.unshift({label:d.I18n.t(v.DIFFERENT_LABEL),value:v.DIFFERENT_VALUE}),l().createElement(u.Autocomplete,{style:Ro.indeterminate,fullWidth:!0,freeSolo:!0,value:i[0],getOptionSelected:(a,c)=>a.label===c.label,onChange:(a,c)=>{this.onChange(this.props.attr,c==null?void 0:c.value,()=>{this.setState({_value:c==null?void 0:c.value,oldValue:this.state._value})})},options:i,getOptionLabel:a=>a.label,renderInput:a=>l().createElement(u.TextField,Rt(Re({},a),{label:this.getText(this.props.schema.label),variant:"standard",inputProps:Rt(Re({},a.inputProps),{readOnly:this.props.schema.readOnly||!1}),error:!!e,placeholder:this.getText(this.props.schema.placeholder),helperText:this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation),disabled:!!n}))})}return!e&&this.state._value!==null&&this.state._value!==void 0&&this.state._value&&(e=this.checkValue(this.state._value),e&&(e=d.I18n.t(e))),l().createElement(u.FormControl,{variant:"standard",style:Ro.control},l().createElement(u.TextField,{variant:"standard",type:"number",fullWidth:!0,inputProps:{min:this.props.schema.min,max:this.props.schema.max,step:this.props.schema.step,readOnly:this.props.schema.readOnly||!1},value:this.state._value===null||this.state._value===void 0?"":this.state._value,error:!!e,disabled:!!n,onChange:o=>{const i=o.target.value,a=this.checkValue(i);a?this.onError(this.props.attr,d.I18n.t(a)):this.onError(this.props.attr),this.setState({_value:i,oldValue:this.state._value},()=>this.onChange(this.props.attr,parseFloat(i)))},placeholder:this.getText(this.props.schema.placeholder),label:this.getText(this.props.schema.label),helperText:e&&typeof e=="string"?e:this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)}))}}const vd=Cd,_o={flex:{display:"flex"},button:{height:48,marginLeft:4,minWidth:48}};class fr extends v{componentDidMount(){return ct(this,null,function*(){Ut(fr.prototype,this,"componentDidMount").call(this);const{data:t,attr:e}=this.props,n=v.getValue(t,e)||"";this.setState({value:n,initialized:!0})})}renderItem(t,e){if(!this.state.initialized)return null;const{schema:n,socket:s,attr:o}=this.props,{value:i,showSelectId:a}=this.state;return l().createElement(u.FormControl,{fullWidth:!0,variant:"standard"},n.label?l().createElement(u.InputLabel,{shrink:!0},this.getText(n.label)):null,l().createElement("div",{style:_o.flex},l().createElement(u.TextField,{variant:"standard",fullWidth:!0,value:i,error:!!t,disabled:e,placeholder:this.getText(n.placeholder),label:this.getText(n.label),helperText:this.renderHelp(n.help,n.helpLink,n.noTranslation),onChange:c=>{const h=c.target.value;this.setState({value:h},()=>this.onChange(o,h))}}),l().createElement(u.Button,{color:"grey",style:_o.button,size:"small",variant:"outlined",onClick:()=>this.setState({showSelectId:!0})},"...")),a?l().createElement(d.SelectID,{imagePrefix:this.props.imagePrefix===void 0?"../..":this.props.imagePrefix,dialogName:`admin.${this.props.adapterName}`,filterFunc:n.filterFunc,themeType:this.props.themeType,theme:this.props.theme,types:n.types?Array.isArray(n.types)?n.types:[n.types]:void 0,customFilter:n.customFilter,filters:n.filters,socket:s,selected:i,root:n.root,onClose:()=>this.setState({showSelectId:!1}),onOk:c=>this.setState({showSelectId:!1,value:c},()=>this.onChange(o,c))}):null)}}const bd=fr,gr={fullWidth:{width:"100%",display:"inline-block"},halfWidth1:{width:"calc(50% - 4px)",display:"inline-block",marginRight:8},halfWidth2:{width:"calc(50% - 4px)",display:"inline-block"}},ls="____ppp____";class xd extends v{componentDidMount(){super.componentDidMount();const t=v.getValue(this.props.data,this.props.attr);this.setState({_repeat:t?ls:"",_visible:!1,value:t?ls:"",_notEqual:!1})}onChangePassword(t,e){t===void 0&&(t=this.state.value),e===void 0&&(e=this.state._repeat);const n=!!this.props.schema.repeat&&e!==t;this.setState({value:t,_repeat:e,_notEqual:n},()=>{n?this.onError(this.props.attr,d.I18n.t("ra_Passwords are not equal!")):(this.onError(this.props.attr),this.onChange(this.props.attr,t))})}renderItem(t,e){if(this.state._notEqual===void 0)return null;const n=l().createElement(u.TextField,{variant:"standard",fullWidth:!0,type:this.state._visible&&this.state.value!==ls?"text":"password",value:this.state.value,error:!!t||this.state._notEqual,disabled:!!e,onChange:s=>this.onChangePassword(s.target.value),label:this.getText(this.props.schema.label),inputProps:{autoComplete:"new-password",form:{autoComplete:"off"},maxLength:this.props.schema.maxLength||this.props.schema.max||void 0},helperText:this.state._notEqual?d.I18n.t("ra_Passwords are not equal!"):this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation),InputProps:{endAdornment:this.state.value&&this.state.value!==ls&&this.props.schema.visible?l().createElement(u.InputAdornment,{position:"end"},l().createElement(u.IconButton,{size:"large",tabIndex:-1,onClick:s=>{s.preventDefault(),s.stopPropagation(),this.setState({_visible:!this.state._visible})},edge:"end"},this.state._visible?l().createElement(p.VisibilityOff,null):l().createElement(p.Visibility,null))):void 0}});if(this.props.schema.repeat){const s=l().createElement(u.TextField,{variant:"standard",fullWidth:!0,type:this.state._visible&&this.state._repeat!==ls?"text":"password",value:this.state._repeat,error:!!t||this.state._notEqual,disabled:!!e,onChange:o=>this.onChangePassword(void 0,o.target.value),label:`${this.getText(this.props.schema.label)} (${d.I18n.t("ra_repeat")})`,inputProps:{autoComplete:"new-password",form:{autoComplete:"off"},maxLength:this.props.schema.maxLength||this.props.schema.max||void 0},helperText:this.state._notEqual?d.I18n.t("ra_Passwords are not equal!"):this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation),InputProps:{endAdornment:this.state._repeat&&this.state._repeat!==ls?l().createElement(u.InputAdornment,{position:"end"},l().createElement(u.IconButton,{size:"large",tabIndex:-1,onClick:o=>{o.preventDefault(),o.stopPropagation(),this.setState({_visible:!this.state._visible})},edge:"end"},this.state._visible?l().createElement(p.VisibilityOff,null):l().createElement(p.Visibility,null))):void 0}});return l().createElement("div",{style:gr.fullWidth},l().createElement("div",{style:gr.halfWidth1},n),l().createElement("div",{style:gr.halfWidth2},s))}return n}}const Ad=xd;class wd extends v{renderItem(t,e){return l().createElement(u.TextField,{variant:"standard",fullWidth:!0,disabled:!!e,InputProps:{endAdornment:this.props.schema.copyToClipboard?l().createElement(u.IconButton,{size:"small",onClick:()=>{d.Utils.copyToClipboard(this.getPattern(this.props.schema.pattern)),window.alert("Copied")}},l().createElement(d.IconCopy,null)):void 0},value:this.getPattern(this.props.schema.pattern),label:this.getText(this.props.schema.label),helperText:this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)})}}const Ed=wd,Sd={warning:{"& .Mui-error":{color:"orange"}}};class yr extends v{constructor(){super(...arguments);Ne(this,"updateTimeout")}componentDidMount(){return ct(this,null,function*(){Ut(yr.prototype,this,"componentDidMount").call(this);let e=v.getValue(this.props.data,this.props.attr);e==null&&(e=""),this.setState({_value:e.toString(),oldValue:e.toString()});const n=yield this.props.socket.getAdapterInstances(),s=`system.adapter.${this.props.adapterName}.${this.props.instance}`,o=yield this.props.socket.getObject(s),i=o==null?void 0:o.common.host,a=[];n.forEach(c=>{var y,g,D,T;if(!c||c._id===s||c.common.host!==i||!((y=c.native)!=null&&y.bind))return;if(c!=null&&c.native&&c.native.secure&&c.native.leEnabled&&c.native.leUpdate){const w=parseInt(c.native.leCheckPort||c.native.lePort,10);w&&a.push({name:`${c._id.replace("system.adapter.","")} (LE)`,port:w,v6bind:c.native.bind.includes(":")?c.native.bind:c.native.v6bind,bind:c.native.bind,enabled:!!((g=c.common)!=null&&g.enabled)})}const h=parseInt((D=c==null?void 0:c.native)==null?void 0:D.port,10);h&&a.push({name:c._id.replace("system.adapter.",""),bind:c.native.bind,v6bind:c.native.bind.includes(":")?c.native.bind:c.native.v6bind,port:h,enabled:!!((T=c.common)!=null&&T.enabled)})}),this.setState({ports:a})})}static getDerivedStateFromProps(e,n){const s=v.getValue(e.data,e.attr);return s==null||n.oldValue===null||n.oldValue===void 0||s.toString()!==parseInt(n._value,10).toString()&&s.toString()!==n.oldValue.toString()?{_value:s}:null}checkValue(e){if(e==null)return null;const n=this.props.schema.min===void 0?20:this.props.schema.min,s=this.props.schema.max||65535;e=e.toString().trim();const o=e===""?0:parseInt(e,10);return e!==""&&Number.isNaN(o)?"ra_Not a number":e!==""&&window.isFinite(Number(e))?o<n?"ra_Too small":o>s?"ra_Too big":e===""||e==="-"||Number.isNaN(o)?"ra_Not a number":null:"ra_Not a number"}renderItem(e,n){this.state.oldValue!==null&&this.state.oldValue!==void 0?(this.updateTimeout&&clearTimeout(this.updateTimeout),this.updateTimeout=setTimeout(()=>{this.updateTimeout=void 0,this.setState({oldValue:null})},30)):this.updateTimeout&&(clearTimeout(this.updateTimeout),this.updateTimeout=void 0);const s=this.props.schema.min===void 0?20:this.props.schema.min,o=this.props.schema.max||65535;let i;if(this.state.ports){const a=parseInt(this.state._value,10);if(a){const c=this.state.ports.filter(y=>!this.props.data.bind||this.props.data.bind===y.bind||this.props.data.bind==="0.0.0.0"||y.bind==="0.0.0.0");let h=c.findIndex(y=>y.port===a&&y.enabled);h!==-1?e=d.I18n.t("ra_Port is already used by %s",this.state.ports[h].name):(h=c.findIndex(y=>y.port===a&&!y.enabled),h!==-1&&(i=!0,e=d.I18n.t("ra_Port could be used by %s",this.state.ports[h].name)))}}return!e&&this.state._value!==null&&this.state._value!==void 0&&(e=this.checkValue(this.state._value),typeof e=="string"&&(e=d.I18n.t(e))),l().createElement(u.TextField,{variant:"standard",type:"number",fullWidth:!0,inputProps:{min:s,max:o,readOnly:this.props.schema.readOnly||!1},value:this.state._value===null||this.state._value===void 0?"":this.state._value,error:!!e,disabled:!!n,sx:i?Sd.warning:void 0,onChange:a=>{const c=Number(a.target.value.toString().replace(/[^0-9]/g,"")).toString(),h=this.checkValue(c);h?this.onError(this.props.attr,d.I18n.t(h)):this.onError(this.props.attr),this.setState({_value:c,oldValue:this.state._value},()=>{c.trim()===parseInt(c,10).toString()&&this.onChange(this.props.attr,parseInt(c,10)||0)})},placeholder:this.getText(this.props.schema.placeholder),label:this.getText(this.props.schema.label),helperText:e&&typeof e=="string"?e:this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)})}}const Fd=yr;class Td extends v{componentDidMount(){super.componentDidMount();const t=v.getValue(this.props.data,this.props.attr);this.props.socket.getEnums("rooms").then(e=>{const n=Object.keys(e).map(s=>({value:this.props.schema.short?s.replace("enum.rooms.",""):s,label:this.getText(e[s].common.name),obj:e[s]}));this.props.schema.allowDeactivate!==!1&&n.unshift({label:d.I18n.t(v.NONE_LABEL),value:v.NONE_VALUE}),this.setState({value:t,selectOptions:n})})}renderItem(t,e){if(!this.state.selectOptions)return null;const n=this.state.selectOptions.find(s=>s.value===this.state.value);return l().createElement(u.FormControl,{variant:"standard",fullWidth:!0},this.props.schema.label?l().createElement(u.InputLabel,null,this.getText(this.props.schema.label)):null,l().createElement(u.Select,{variant:"standard",error:!!t,disabled:!!e,value:this.state.value||"_",renderValue:()=>n?n.obj?l().createElement(d.TextWithIcon,{value:n.obj,themeType:this.props.themeType,lang:d.I18n.getLanguage()}):n.label:"",onChange:s=>{this.setState({value:s.target.value==="_"?"":s.target.value},()=>this.onChange(this.props.attr,this.state.value))}},this.state.selectOptions.map(s=>l().createElement(u.MenuItem,{key:s.value,value:s.value,style:s.value===v.DIFFERENT_VALUE?{opacity:.5}:{}},s.obj?l().createElement(d.TextWithIcon,{value:s.obj,themeType:this.props.themeType,lang:d.I18n.getLanguage()}):s.label))),this.props.schema.help?l().createElement(u.FormHelperText,null,this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)):null)}}const kd=Td,Id={fullWidth:{width:"100%"},noMargin:{"&>div":{marginTop:0}}};class Pd extends v{constructor(){super(...arguments);Ne(this,"initialValue","")}componentDidMount(){super.componentDidMount();const e=v.getValue(this.props.data,this.props.attr),n=[];(this.props.schema.options||[]).forEach(s=>{const o=s;Array.isArray(o.items)?(n.push({label:this.getText(s.label),value:s.value,group:!0}),o.items.forEach(i=>n.push({label:this.getText(i.label),value:i.value,hidden:i.hidden}))):n.push({label:this.getText(s.label),value:s.value,hidden:s.hidden})}),Array.isArray(e)?(this.initialValue=[...e],n.unshift({label:d.I18n.t(v.DIFFERENT_LABEL),value:v.DIFFERENT_VALUE}),this.setState({value:v.DIFFERENT_VALUE,selectOptions:n})):this.setState({value:e,selectOptions:n})}renderItem(e,n){if(!this.state.selectOptions)return null;const s=(this.state.selectOptions||[]).filter(i=>i.hidden?this.props.custom?!this.executeCustom(i.hidden,this.props.data,this.props.customObj,this.props.instanceObj,this.props.arrayIndex,this.props.globalData):!this.execute(i.hidden,this.props.schema.default,this.props.data,this.props.arrayIndex,this.props.globalData):!0),o=s.find(i=>i.value==this.state.value);return l().createElement(u.FormControl,{variant:"standard",fullWidth:!0,sx:this.props.table!==void 0&&Id.noMargin,id:`jsonSelect_${this.props.attr}_${this.props.index||this.props.index===0?this.props.index:""}`},this.props.schema.label?l().createElement(u.InputLabel,null,this.getText(this.props.schema.label)):null,l().createElement(u.Select,{variant:"standard",error:!!e,disabled:!!n,value:this.state.value||"_",renderValue:()=>this.getText(o==null?void 0:o.label,this.props.schema.noTranslation),onChange:i=>{this.setState({value:i.target.value==="_"?"":i.target.value},()=>{this.state.value===v.DIFFERENT_VALUE?this.onChange(this.props.attr,this.initialValue):this.onChange(this.props.attr,this.state.value)})}},s.map((i,a)=>i.group?l().createElement(u.ListSubheader,{key:a},this.getText(i.label,this.props.schema.noTranslation)):l().createElement(u.MenuItem,{key:a,value:i.value,style:i.value===v.DIFFERENT_VALUE?{opacity:.5}:{}},this.getText(i.label,this.props.schema.noTranslation)))),this.props.schema.help?l().createElement(u.FormHelperText,null,this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)):null)}}const Md=Pd,Od={menuPaper:{maxHeight:800}};class Nd extends v{componentDidMount(){super.componentDidMount(),this.askInstance()}askInstance(){if(this.props.alive){let t=this.props.schema.data;if(t===void 0&&this.props.schema.jsonData){const e=this.getPattern(this.props.schema.jsonData);try{t=JSON.parse(e)}catch(n){console.error(`Cannot parse json data: ${e}`)}}t===void 0&&(t=null),this.props.socket.sendTo(`${this.props.adapterName}.${this.props.instance}`,this.props.schema.command||"send",t).then(e=>this.setState({list:e,context:this.getContext()}))}else{const t=v.getValue(this.props.data,this.props.attr);this.setState({value:t})}}getContext(){const t={};return Array.isArray(this.props.schema.alsoDependsOn)&&this.props.schema.alsoDependsOn.forEach(e=>t[e]=v.getValue(this.props.data,e)),JSON.stringify(t)}_getValue(){let t=this.state.value===null||this.state.value===void 0?v.getValue(this.props.data,this.props.attr):this.state.value;return this.props.schema.multiple&&(typeof t=="string"?t=[t]:t==null&&(t=[])),t}renderItem(t,e){this.props.alive&&this.getContext()!==this.state.context&&setTimeout(()=>this.askInstance(),300);const n=this._getValue();if(!this.props.alive)return this.props.schema.multiple||this.props.schema.manual===!1?d.I18n.t("ra_Cannot retrieve options, as instance is offline"):l().createElement(u.TextField,{variant:"standard",fullWidth:!0,value:n,error:!!t,disabled:!!e,onChange:i=>{const a=i.target.value;this.setState({value:a},()=>this.onChange(this.props.attr,(a||"").trim()))},placeholder:this.getText(this.props.schema.placeholder),label:this.getText(this.props.schema.label),helperText:this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation),InputProps:{endAdornment:this.state.value&&!this.props.schema.noClearButton?l().createElement(u.InputAdornment,{position:"end"},l().createElement(u.IconButton,{size:"small",onClick:()=>this.setState({value:""},()=>this.onChange(this.props.attr,""))},l().createElement(p.Close,null))):null}});if(!this.state.list)return l().createElement(u.CircularProgress,{size:"small"});const s=this.state.list.filter(i=>i.hidden?this.props.custom?!this.executeCustom(i.hidden,this.props.data,this.props.customObj,this.props.instanceObj,this.props.arrayIndex,this.props.globalData):!this.execute(i.hidden,this.props.schema.default,this.props.data,this.props.arrayIndex,this.props.globalData):!0),o=s.find(i=>i.value===n);return l().createElement(u.FormControl,{variant:"standard",fullWidth:!0},this.props.schema.label?l().createElement(u.InputLabel,null,this.getText(this.props.schema.label)):null,l().createElement(u.Select,{variant:"standard",error:!!t,multiple:this.props.schema.multiple,disabled:!!e,sx:{"&.MuiSelect-paper":this.props.schema.multiple?Od.menuPaper:void 0},value:n,renderValue:i=>this.props.schema.multiple?l().createElement(u.Box,{sx:{display:"flex",flexWrap:"wrap",gap:.5}},i.map(a=>{const c=s.find(h=>h.value===a);if(c||this.props.schema.showAllValues!==!1){const h=(c==null?void 0:c.label)||a;return l().createElement(u.Chip,{key:a,label:h})}return null})):(o==null?void 0:o.label)||i,onChange:i=>{this.onChange(this.props.attr,i.target.value)}},s.map((i,a)=>l().createElement(u.MenuItem,{key:a,value:i.value},this.props.schema.multiple?l().createElement(u.Checkbox,{checked:n.includes(i.value),onClick:()=>{const c=JSON.parse(JSON.stringify(this._getValue())),h=n.indexOf(i.value);h!==-1?c.splice(h,1):(c.push(i.value),c.sort()),this.setState({value:c},()=>this.onChange(this.props.attr,c))}}):null,l().createElement(u.ListItemText,{primary:i.label})))),this.props.schema.help?l().createElement(u.FormHelperText,null,this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)):null)}}const Bd=Nd,Vo={fullWidth:{width:"100%"}};function kn(r){return r.split(".").reduce((t,e)=>(t<<8)+parseInt(e,10),0)>>>0}function Ld(r,t){var s,o;const e=(o=(s=r==null?void 0:r.native)==null?void 0:s.hardware)==null?void 0:o.networkInterfaces;if(!e)return null;let n;return Object.keys(e).forEach(i=>e[i].forEach(a=>{a.internal||t.includes(":")&&a.family!=="IPv6"||t.includes(".")&&!t.match(/[^.\d]/)&&a.family!=="IPv4"||(a.family==="IPv4"&&!a.address.startsWith("172")&&(t==="127.0.0.0"||t==="localhost"||t.match(/[^.\d]/))?n=a.address:n||(a.family==="IPv4"&&t.includes(".")&&(kn(t)&kn(a.netmask),kn(a.address)&kn(a.netmask)),n=a.address))})),n||Object.keys(e).forEach(i=>e[i].forEach(a=>{a.internal||t.includes(":")&&a.family!=="IPv6"||t.includes(".")&&!t.match(/[^.\d]/)&&a.family!=="IPv4"||(a.family==="IPv6"&&(t==="127.0.0.0"||t==="localhost"||t.match(/[^.\d]/))?n=a.address:n||(a.family==="IPv4"&&t.includes(".")&&(kn(t)&kn(a.netmask),kn(a.address)&kn(a.netmask)),n=a.address))})),n||Object.keys(e).forEach(i=>{e[i].forEach(a=>{a.internal||t.includes(":")&&a.family!=="IPv6"||t.includes(".")&&!t.match(/[^.\d]/)&&a.family!=="IPv4"||(t==="127.0.0.0"||t==="localhost"||t.match(/[^.\d]/),n=a.address)})}),n||Object.keys(e).forEach(i=>{e[i].forEach(a=>{a.internal||(n=a.address)})}),n}class Dr extends v{componentDidMount(){return ct(this,null,function*(){var e;Ut(Dr.prototype,this,"componentDidMount").call(this);let t=window.location.hostname;if(this.props.schema.openUrl){const n=yield this.props.socket.getCurrentInstance(),s=yield this.props.socket.getObject(`system.adapter.${n}`);if(s){const o=yield this.props.socket.getObject(`system.host.${(e=s==null?void 0:s.common)==null?void 0:e.host}`);if(o){const i=Ld(o,window.location.hostname);if(i)t=`${i}:${window.location.port}`;else{console.warn(`Cannot find suitable IP in host ${s.common.host} for ${s._id}`);return}}}}yield new Promise(n=>{this.setState({_error:"",_message:"",hostname:t},n)}),this.props.schema.onLoaded&&this._onClick()})}renderErrorDialog(){return this.state._error?l().createElement(d.Error,{text:this.state._error,onClose:()=>this.setState({_error:""})}):null}renderMessageDialog(){return this.state._message?l().createElement(d.Message,{text:this.state._message,onClose:()=>this.setState({_message:""})}):null}_onClick(){this.props.onCommandRunning(!0),this.setState({running:!0});const t=`${window.location.protocol}//${window.location.host}${window.location.pathname.replace(/\/index\.html$/,"")}`,e=`${window.location.protocol}//${this.state.hostname.split(":").length>3?`[${this.state.hostname}]`:this.state.hostname}${window.location.pathname.replace(/\/index\.html$/,"")}`;let n=this.props.schema.data;if(n===void 0&&this.props.schema.jsonData){const o=this.getPattern(this.props.schema.jsonData,Re({_origin:t,_originIp:e},this.props.data));try{n=JSON.parse(o)}catch(i){console.error(`Cannot parse json data: ${o}`)}}n===void 0&&(n=null),this.props.schema.openUrl&&!n&&(n={_origin:t,_originIp:e});let s;this.props.schema.timeout&&(s=setTimeout(()=>{this.props.onCommandRunning(!1),this.setState({_error:d.I18n.t("ra_Request timed out"),running:!1})},parseInt(this.props.schema.timeout,10)||1e4)),this.props.socket.sendTo(`${this.props.adapterName}.${this.props.instance}`,this.props.schema.command||"send",n).then(o=>ct(this,null,function*(){if(s&&(clearTimeout(s),s=void 0),o!=null&&o.error)if(this.props.schema.error&&this.props.schema.error[o.error]){let i=this.getText(this.props.schema.error[o.error]);o.args&&o.args.forEach(a=>i=i.replace("%s",a)),this.setState({_error:i})}else this.setState({_error:o.error?d.I18n.t(o.error):d.I18n.t("ra_Error")});else{if(o!=null&&o.reloadBrowser&&this.props.schema.reloadBrowser)window.location.reload();else if(o!=null&&o.openUrl&&this.props.schema.openUrl)window.open(o.openUrl,o.window||this.props.schema.window||"_blank");else if(o!=null&&o.result&&this.props.schema.result&&this.props.schema.result[o.result]){let i=this.getText(this.props.schema.result[o.result]);o.args&&o.args.forEach(a=>i=i.replace("%s",a)),window.alert(i)}if(o!=null&&o.native&&this.props.schema.useNative){for(const[i,a]of Object.entries(o.native))yield this.onChangeAsync(i,a);setTimeout(()=>this.props.forceUpdate(Object.keys(o.native),this.props.data),300)}else o!=null&&o.result?window.alert(typeof o.result=="object"?JSON.stringify(o.result):o.result):window.alert(d.I18n.t("ra_Ok"));o!=null&&o.saveConfig&&this.props.onChange(null,null,null,!0)}})).catch(o=>{this.props.schema.error&&this.props.schema.error[o.toString()]?this.setState({_error:this.getText(this.props.schema.error[o.toString()])}):this.setState({_error:d.I18n.t(o.toString())||d.I18n.t("ra_Error")})}).then(()=>{this.props.onCommandRunning(!1),this.setState({running:!1})})}renderConfirmDialog(){if(!this.state.confirmDialog)return null;const t=this.state.confirmData||this.props.schema.confirm;let e=null;return t.type==="warning"?e=l().createElement(p.Warning,null):t.type==="error"?e=l().createElement(p.Error,null):t.type==="info"&&(e=l().createElement(p.Info,null)),l().createElement(d.Confirm,{title:this.getText(t.title)||d.I18n.t("ra_Please confirm"),text:this.getText(t.text),ok:this.getText(t.ok)||d.I18n.t("ra_Ok"),cancel:this.getText(t.cancel)||d.I18n.t("ra_Cancel"),icon:e||void 0,onClose:n=>this.setState({confirmDialog:!1},()=>n&&this._onClick())})}renderItem(t,e){const n=this.getIcon();return l().createElement("div",{style:Vo.fullWidth},l().createElement(u.Button,{variant:this.props.schema.variant||void 0,color:this.props.schema.color||"grey",style:Vo.fullWidth,disabled:e||!this.props.alive,startIcon:n,title:this.props.alive?this.getText(this.props.schema.title)||"":d.I18n.t("ra_Instance is not alive"),onClick:()=>{this.props.schema.confirm?this.setState({confirmDialog:!0}):this._onClick()}},this.props.schema.showProcess&&this.state.running?l().createElement(u.CircularProgress,{size:20,style:{marginRight:8}}):null,this.getText(this.props.schema.label,this.props.schema.noTranslation)),this.renderErrorDialog(),this.renderMessageDialog())}}const $o=Dr,jo={fullWidth:{width:"100%"},icon:{width:24,height:24,marginRight:4}};class Rd extends v{_onClick(){return ct(this,null,function*(){var n,s;let t=this.props.schema.val;if(typeof t=="string"&&t.includes("${")){t=this.getPattern(t);const o=yield this.props.socket.getObject(this.props.schema.id);((n=o==null?void 0:o.common)==null?void 0:n.type)==="number"?t=parseFloat(t):((s=o==null?void 0:o.common)==null?void 0:s.type)==="boolean"&&(t=t==="true"||t===!0||t==="1"||t===1)}const e=(this.props.schema.id||"").replace(/%INSTANCE%/g,(this.props.instance||0).toString());try{yield this.props.socket.setState(e,{val:t,ack:!!this.props.schema.ack}),this.props.schema.okText&&window.alert(this.getText(this.props.schema.okText))}catch(o){this.props.schema.error&&this.props.schema.error[o.toString()]?window.alert(this.getText(this.props.schema.error[o.toString()])):window.alert(d.I18n.t(o.toString())||d.I18n.t("ra_Error"))}})}renderConfirmDialog(){if(!this.state.confirmDialog)return null;const t=this.state.confirmData||this.props.schema.confirm;let e=null;return t.type==="warning"?e=l().createElement(p.Warning,null):t.type==="error"?e=l().createElement(p.Error,null):t.type==="info"&&(e=l().createElement(p.Info,null)),l().createElement(d.Confirm,{title:this.getText(t.title)||d.I18n.t("ra_Please confirm"),text:this.getText(t.text),ok:this.getText(t.ok)||d.I18n.t("ra_Ok"),cancel:this.getText(t.cancel)||d.I18n.t("ra_Cancel"),icon:e,onClose:n=>this.setState({confirmDialog:!1},()=>n&&this._onClick())})}renderItem(t,e){return l().createElement(u.Button,{variant:this.props.schema.variant||void 0,color:this.props.schema.color||"grey",style:jo.fullWidth,disabled:e,onClick:()=>ct(this,null,function*(){this.props.schema.confirm?this.setState({confirmDialog:!0}):yield this._onClick()})},this.props.schema.icon?l().createElement(d.Icon,{src:this.props.schema.icon,style:jo.icon}):null,this.getText(this.props.schema.label,this.props.schema.noTranslation))}}const _d=Rd,Wo={fullWidth:{width:"100%"},slider:{marginLeft:10,marginRight:10,width:"calc(100% - 20px)"}};class Vd extends v{componentDidMount(){super.componentDidMount();const t=v.getValue(this.props.data,this.props.attr);this.setState({_value:t})}static getDerivedStateFromProps(t,e){if(t.schema.min!==void 0&&t.schema.min<0||t.schema.max!==void 0&&t.schema.max<0)return null;const n=v.getValue(t.data,t.attr);return n==null||n.toString()!==parseFloat(e._value).toString()?{_value:n}:null}renderItem(t,e){const n=this.props.schema.min||0,s=this.props.schema.max||100,o=this.props.schema.unit||"",i=[{value:n,label:n+o},{value:s,label:s+o}];return l().createElement(u.Box,{style:Wo.fullWidth},this.props.schema.label?l().createElement(u.Typography,{gutterBottom:!0},this.getText(this.props.schema.label)):null,l().createElement(u.Slider,{style:Wo.slider,value:this.state._value,getAriaValueText:a=>a+o,step:this.props.schema.step||(s-n)/100,valueLabelDisplay:"auto",marks:i,min:n,max:s,disabled:!!e,onChange:a=>{const c=a.target.value;this.setState({_value:c},()=>this.onChange(this.props.attr,c))}}),this.props.schema.help?l().createElement(u.Typography,null,this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)):null)}}const $d=Vd,Cr={fullWidth:r=>({width:"100%",backgroundColor:r.palette.mode==="dark"?"#FFF":"#000",borderStyle:"hidden"}),primary:r=>({backgroundColor:r.palette.primary.main}),secondary:r=>({backgroundColor:r.palette.secondary.main})};class jd extends v{renderItem(){return l().createElement(u.Box,{component:"hr",sx:Be.getStyle(this.props.theme,Cr.fullWidth,this.props.schema.color==="primary"?Cr.primary:this.props.schema.color==="secondary"&&Cr.secondary,{height:this.props.schema.color?this.props.schema.height||2:this.props.schema.height||1,backgroundColor:this.props.schema.color!=="primary"&&this.props.schema.color!=="secondary"&&this.props.schema.color?this.props.schema.color:void 0})})}}const Wd=jd,vs={header:r=>({width:"100%",background:r.palette.primary.main,color:r.palette.primary.contrastText,padding:"4px !important",borderRadius:"3px",marginBlockEnd:0,marginBlockStart:0})};class Ud extends v{renderItem(){switch((this.props.schema.size||5).toString()){case"1":return l().createElement(u.Box,{component:"h1",sx:vs.header},this.getText(this.props.schema.text,this.props.schema.noTranslation));case"2":return l().createElement(u.Box,{component:"h2",sx:vs.header},this.getText(this.props.schema.text,this.props.schema.noTranslation));case"3":return l().createElement(u.Box,{component:"h3",sx:vs.header},this.getText(this.props.schema.text,this.props.schema.noTranslation));case"4":return l().createElement(u.Box,{component:"h4",sx:vs.header},this.getText(this.props.schema.text,this.props.schema.noTranslation));case"5":default:return l().createElement(u.Box,{component:"h5",sx:vs.header},this.getText(this.props.schema.text,this.props.schema.noTranslation))}}}const Hd=Ud;class zd extends v{renderItem(){let t=this.props.schema.src;return t&&!t.startsWith(".")&&!t.startsWith("http")&&!t.startsWith(`adapter/${this.props.adapterName}/`)&&!t.startsWith(`./adapter/${this.props.adapterName}/`)&&(t=`adapter/${this.props.adapterName}/${t}`),l().createElement("img",{src:t,style:{cursor:this.props.schema.href?"pointer":void 0,width:"100%",height:"100%"},onClick:this.props.schema.href?()=>this.props.schema.href&&window.open(this.props.schema.href,"_blank"):null,alt:""})}}const Jd=zd,Uo={fullWidth:{height:"100%",width:"100%"},link:r=>({textDecoration:"underline",color:r.palette.mode==="dark"?"#4dabf5":"#254e72",cursor:"pointer"})};class Yd extends v{renderItem(t,e){if(this.props.schema.button){const s=this.getIcon();return l().createElement(u.Button,{variant:this.props.schema.variant||void 0,color:this.props.schema.color||"grey",style:Uo.fullWidth,disabled:e,startIcon:s,onClick:this.props.schema.href?()=>{const o=this.props.schema.href?this.getText(this.props.schema.href,!0):null;o&&window.open(o,"_blank")}:null},this.getText(this.props.schema.text||this.props.schema.label,this.props.schema.noTranslation))}let n=this.getText(this.props.schema.text||this.props.schema.label,this.props.schema.noTranslation);return n&&(n.includes("<a ")||n.includes("<br")||n.includes("<b>")||n.includes("<i>"))&&(n=d.Utils.renderTextWithA(n)),l().createElement(u.Box,{component:"span",sx:this.props.schema.href?Uo.link:void 0,onClick:this.props.schema.href?()=>{const s=this.props.schema.href?this.getText(this.props.schema.href,!0):null;s&&window.open(s,"_blank")}:null},n)}}const Ho=Yd,vr=1024*1024,bt={fullWidth:{width:"100%"},root:{width:"100%"},paper:{width:"100%",marginBottom:16,backgroundColor:"rgba(255, 255, 255, 0.1)"},headerText:{width:"100%"},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1},label:{display:"flex",justifyContent:"space-between"},title:{flex:"1 1 100%"},rootTool:{paddingLeft:16,paddingRight:8},silver:{opacity:.2},flex:{display:"flex",alignItems:"baseline"},filteredOut:{padding:10,display:"flex",textAlign:"center"},buttonEmpty:{width:34,display:"inline-block"},buttonCell:{whiteSpace:"nowrap"},dropZone:{width:"100%",height:100,position:"relative"},dropZoneEmpty:{},uploadDiv:{position:"relative",width:"100%",height:300,opacity:.9,marginTop:30,cursor:"pointer",outline:"none"},uploadDivDragging:{opacity:1,background:"rgba(128,255,128,0.1)"},image:{objectFit:"contain",margin:"auto",display:"flex",width:"100%",height:"100%"},uploadCenterDiv:{margin:5,border:"3px dashed grey",borderRadius:5,width:"calc(100% - 10px)",height:"calc(100% - 10px)",minHeight:300,position:"relative",display:"flex"},uploadCenterIcon:{paddingTop:10,width:48,height:48},uploadCenterText:{fontSize:16},uploadCenterTextAndIcon:{textAlign:"center",position:"absolute",top:0,bottom:0,left:0,right:0,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},buttonRemoveWrapper:{position:"absolute",zIndex:222,right:0},error:{border:"2px solid red",boxSizing:"border-box"},tooltip:{pointerEvents:"none"}};function Kd(r,t,e){t=t||"key";const n=[];return Object.keys(r).forEach(s=>{const o={};o[t]=s,e?(o[e]=r[s],n.push(o)):n.push(Object.assign(o,r[s]))}),n}function zo(r,t,e){t=t||"key";const n={};return r.forEach(s=>{let o=s[t];o==null&&(o=""),delete s[t],e?n[o]=s[e]:n[o]=s}),n}function Gd(r,t){let e="";for(let n=0;n<t.length;n++)e+=String.fromCharCode(r[n%r.length].charCodeAt(0)^t.charCodeAt(n));return e}function Qd(r,t){let e="";for(let n=0;n<t.length;n++)e+=String.fromCharCode(r[n%r.length].charCodeAt(0)^t.charCodeAt(n));return e}class Xt extends v{constructor(e){super(e);Ne(this,"filterRefs");Ne(this,"typingTimer",null);Ne(this,"secret","Zgfr56gFe87jJOM");Ne(this,"handleRequestSort",(e,n=!1)=>{const{order:s,orderBy:o}=this.state;if(o){const a=n?s:o===e&&s==="asc"?"desc":"asc",c=this.stableSort(a,e);this.setState({order:a,orderBy:e,iteration:this.state.iteration+1e4},()=>this.applyFilter(!1,c))}});Ne(this,"stableSort",(e,n)=>{const{value:s}=this.state,o=Xt.getComparator(e,n),i=s.map((a,c)=>({el:a,index:c}));return i.sort((a,c)=>{const h=o(a.el,c.el);return h!==0?h:a.index-c.index}),i.map(a=>a.el)});Ne(this,"onDelete",e=>()=>{const n=JSON.parse(JSON.stringify(this.state.value));n.splice(e,1),this.setState({value:n,iteration:this.state.iteration+1e4},()=>this.applyFilter(!1,null,()=>this.onChangeWrapper(n)))});Ne(this,"onClone",e=>()=>{const n=JSON.parse(JSON.stringify(this.state.value)),s=JSON.parse(JSON.stringify(n[e]));if(typeof this.props.schema.clone=="string"&&typeof s[this.props.schema.clone]=="string"){let o=1,i=s[this.props.schema.clone];const a=i.match(/(\d+)$/);for(a?(i=i.replace(a[0],""),o=parseInt(a[0],10)+1):i+="_";n.find(c=>c[this.props.schema.clone]===i+o.toString());)o++;s[this.props.schema.clone]=`${s[this.props.schema.clone]}_${o}`}n.splice(e,0,s),this.setState({value:n,iteration:this.state.iteration+1e4},()=>this.applyFilter(!1,null,()=>this.onChangeWrapper(n)))});Ne(this,"onChangeWrapper",(e,n)=>{this.typingTimer&&clearTimeout(this.typingTimer),this.typingTimer=setTimeout((s,o)=>{if(this.typingTimer=null,this.props.schema.encryptedAttributes){const i=JSON.parse(JSON.stringify(s));if(i.forEach(a=>{this.props.schema.encryptedAttributes.forEach(c=>{a[c]&&(a[c]=Gd(this.secret,a[c]))})}),this.props.schema.objKeyName){const a=zo(i,this.props.schema.objKeyName,this.props.schema.objValueName);this.onChange(this.props.attr,a)}else this.onChange(this.props.attr,i)}else if(this.props.schema.objKeyName){const i=zo(JSON.parse(JSON.stringify(s)),this.props.schema.objKeyName,this.props.schema.objValueName);this.onChange(this.props.attr,i)}else this.onChange(this.props.attr,s);o&&(this.applyFilter(!1,s),this.handleRequestSort(this.state.orderBy,!0))},300,e,n)});Ne(this,"onAdd",()=>{var o;const{schema:e}=this.props,n=JSON.parse(JSON.stringify(this.state.value)),s=(o=e.items)==null?void 0:o.reduce((i,a)=>{let c;return a.defaultFunc?this.props.custom?c=a.defaultFunc?this.executeCustom(a.defaultFunc,this.props.data,this.props.customObj,this.props.instanceObj,n.length,this.props.data):this.props.schema.default:c=a.defaultFunc?this.execute(a.defaultFunc,this.props.schema.default,this.props.data,n.length,this.props.data):this.props.schema.default:c=a.default===void 0?null:a.default,i[a.attr]=c,i},{});n.push(s),this.setState({value:n},()=>this.applyFilter(!1,null,()=>this.onChangeWrapper(n)))});Ne(this,"applyFilter",(e,n,s)=>{n=n||this.state.value;let o=n.map((i,a)=>a);if(Object.keys(this.filterRefs).forEach(i=>{let a=Xt.getFilterValue(this.filterRefs[i]);!e&&a?(a=a.toLowerCase(),o=o.filter(c=>n[c]&&n[c][i]&&n[c][i].toLowerCase().includes(a))):this.filterRefs[i].current&&Xt.setFilterValue(this.filterRefs[i],"")}),o.length===n.length&&(o=null),o===null&&this.state.visibleValue===null){s&&s();return}JSON.stringify(o)!==JSON.stringify(this.state.visibleValue)?this.setState({visibleValue:o},()=>s&&s()):s&&s()});this.filterRefs={},this.props.schema.items=this.props.schema.items||[],this.props.schema.items.forEach(n=>{n.filter&&(this.filterRefs[n.attr]=(0,f.createRef)())})}componentDidMount(){return ct(this,null,function*(){Ut(Xt.prototype,this,"componentDidMount").call(this);const e=v.getValue(this.props.data,this.props.attr)||[];let n;if(this.props.schema.objKeyName?n=Kd(e,this.props.schema.objKeyName,this.props.schema.objValueName):n=e,Array.isArray(e)||(n=[]),this.props.schema.encryptedAttributes){const s=yield this.props.socket.getCompactSystemConfig();this.secret=(s==null?void 0:s.native.secret)||this.secret,e.forEach(o=>{this.props.schema.encryptedAttributes.forEach(i=>{o[i]&&(o[i]=Qd(this.secret,o[i]))})})}this.setState({value:n,visibleValue:null,orderBy:"",order:"asc",iteration:0,filterOn:[]},()=>this.validateUniqueProps())})}componentWillUnmount(){this.typingTimer&&clearTimeout(this.typingTimer),this.typingTimer=null,super.componentWillUnmount()}itemTable(e,n,s){const{value:o}=this.state,{schema:i}=this.props,a=i.items&&i.items.find(h=>h.attr===e);if(!a)return null;const c={items:{[e]:a}};return l().createElement(ws,{index:s+this.state.iteration,arrayIndex:s,changed:this.props.changed,globalData:this.props.data,socket:this.props.socket,adapterName:this.props.adapterName,instance:this.props.instance,common:this.props.common,alive:this.props.alive,themeType:this.props.themeType,themeName:this.props.themeName,data:n,table:!0,custom:!0,schema:c,systemConfig:this.props.systemConfig,dateFormat:this.props.dateFormat,isFloatComma:this.props.isFloatComma,imagePrefix:this.props.imagePrefix,onCommandRunning:this.props.onCommandRunning,forceUpdate:this.props.forceUpdate,originalData:this.props.originalData,customs:this.props.customs,theme:this.props.theme,onChange:(h,y)=>{const g=JSON.parse(JSON.stringify(o));g[s][h]=y,this.setState({value:g},()=>{this.validateUniqueProps(),this.onChangeWrapper(g,!0)})},onError:(h,y)=>this.onError(h,y)})}validateUniqueProps(){if(this.props.schema.uniqueColumns)for(const e of this.props.schema.uniqueColumns){const n=[];this.state.value.find(o=>{const i=o[e];return n.includes(i)?(this.onError(e,"is not unique"),this.setState({errorMessage:d.I18n.t('Non-allowed duplicate entry "%s" in column "%s"',i,e)}),!0):(n.push(i),!1)})||(this.onError(e,null),this.setState({errorMessage:""}))}}static descendingComparator(e,n,s){return n[s]<e[s]?-1:n[s]>e[s]?1:0}static getComparator(e,n){return e==="desc"?(s,o)=>Xt.descendingComparator(s,o,n):(s,o)=>-Xt.descendingComparator(s,o,n)}static getFilterValue(e){var n,s,o;return(o=(s=(n=e==null?void 0:e.current)==null?void 0:n.children[0])==null?void 0:s.children[0])==null?void 0:o.value}static setFilterValue(e,n){return e.current.children[0].children[0].value=n}enhancedTableHead(e,n){const{schema:s}=this.props,{order:o,orderBy:i}=this.state;return l().createElement(u.TableHead,null,l().createElement(u.TableRow,null,s.items&&s.items.map((a,c)=>l().createElement(u.TableCell,{style:{width:(typeof a.width=="string"&&a.width.endsWith("%"),a.width)},key:`${a.attr}_${c}`,align:"left",sortDirection:i===a.attr?o:!1},l().createElement("div",{style:Re(Re({},bt.flex),s.showFirstAddOnTop?{flexDirection:"column"}:void 0)},!c&&!s.noDelete?l().createElement(u.Tooltip,{title:n?d.I18n.t("ra_Cannot add items with set filter"):d.I18n.t("ra_Add row"),componentsProps:{popper:{sx:bt.tooltip}}},l().createElement("span",null,l().createElement(u.IconButton,{size:"small",color:"primary",disabled:!!n&&!this.props.schema.allowAddByFilter,onClick:this.onAdd},l().createElement(p.Add,null)))):null,a.sort&&l().createElement(u.TableSortLabel,{active:!0,style:i!==a.attr?bt.silver:void 0,direction:i===a.attr?o:"asc",onClick:()=>this.handleRequestSort(a.attr)}),a.filter&&this.state.filterOn.includes(a.attr)?l().createElement(u.TextField,{variant:"standard",ref:this.filterRefs[a.attr],onChange:()=>this.applyFilter(),title:d.I18n.t("ra_You can filter entries by entering here some text"),InputProps:{endAdornment:Xt.getFilterValue(this.filterRefs[a.attr])&&l().createElement(u.InputAdornment,{position:"end"},l().createElement(u.IconButton,{size:"small",onClick:()=>{Xt.setFilterValue(this.filterRefs[a.attr],""),this.applyFilter()}},l().createElement(p.Close,null)))},fullWidth:!0,placeholder:this.getText(a.title)}):l().createElement("span",{style:bt.headerText},this.getText(a.title)),a.filter?l().createElement(u.IconButton,{title:d.I18n.t("ra_Show/hide filter input"),size:"small",onClick:()=>{const h=[...this.state.filterOn],y=this.state.filterOn.indexOf(a.attr);y===-1?h.push(a.attr):h.splice(y,1),this.setState({filterOn:h},()=>{y&&Xt.getFilterValue(this.filterRefs[a.attr])&&(Xt.setFilterValue(this.filterRefs[a.attr],""),this.applyFilter())})}},this.state.filterOn.includes(a.attr)?l().createElement(p.FilterAltOff,null):l().createElement(p.FilterAlt,null)):null))),!s.noDelete&&l().createElement(u.TableCell,{style:{paddingLeft:20,paddingRight:20,width:e,textAlign:"right"},padding:"checkbox"},s.import?l().createElement(u.IconButton,{style:{marginRight:10},size:"small",onClick:()=>this.setState({showImportDialog:!0}),title:d.I18n.t("ra_import data from %s file","CSV")},l().createElement(p.UploadFile,null)):null,s.export?l().createElement(u.IconButton,{style:{marginRight:10},size:"small",onClick:()=>this.onExport(),title:d.I18n.t("ra_Export data to %s file","CSV")},l().createElement(p.Download,null)):null,l().createElement(u.IconButton,{disabled:!0,size:"small"},l().createElement(p.Delete,null)))))}onExport(){const{schema:e}=this.props,{value:n}=this.state,o=[e.items.map(c=>c.attr).join(";")];n.forEach(c=>{const h=[];e.items.forEach(y=>{c[y.attr].includes(";")?h.push(`"${c[y.attr]}"`):h.push(c[y.attr])}),o.push(h.join(";"))});const i=document.createElement("a");i.setAttribute("href",`data:text/csv;charset=utf-8,${encodeURIComponent(o.join(`
`))}`);const a=new Date;i.setAttribute("download",`${a.getFullYear()}_${(a.getMonth()+1).toString().padStart(2,"0")}_${a.getDate().toString().padStart(2,"0")}_${this.props.adapterName}.${this.props.instance}_${this.props.attr}.csv`),i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i)}onImport(e){var a;const n=e.split(`
`).map(c=>c.replace("\r","").trim()),{schema:s}=this.props,o=n.shift().split(";").filter(c=>c&&s.items.find(h=>h.attr===c)),i=[];n.forEach(c=>{const h=c.split(";"),y={};for(let g=0;g<h.length;g++){let D=h[g];if(D.startsWith('"')){for(D=D.substring(1);g<h.length&&!D.endsWith('"');)D+=`;${h[++g]}`;D=D.substring(0,D.length-1)}let T=D;if(D==="true")T=!0;else if(D==="false")T=!1;else if(window.isFinite(D)){const w=this.props.schema.items.find(S=>S.attr===o[g]);w&&w.type==="number"?T=parseFloat(D):T=D}else T=D;y[o[g]]=T}i.push(y)}),i.length?(a=this.state.value)!=null&&a.length?this.setState({showTypeOfImportDialog:i,showImportDialog:!1}):this.setState({value:i,showImportDialog:!1}):window.alert("ra_No data found in file")}isAnyFilterSet(){return!!Object.keys(this.filterRefs).find(e=>Xt.getFilterValue(this.filterRefs[e]))}onMoveUp(e){const n=JSON.parse(JSON.stringify(this.state.value)),s=n[e];n.splice(e,1),n.splice(e-1,0,s),this.setState({value:n,iteration:this.state.iteration+1e4},()=>this.applyFilter(!1,null,()=>this.onChangeWrapper(n)))}onMoveDown(e){const n=JSON.parse(JSON.stringify(this.state.value)),s=n[e];n.splice(e,1),n.splice(e+1,0,s),this.setState({value:n,iteration:this.state.iteration+1e4},()=>this.applyFilter(!1,null,()=>this.onChangeWrapper(n)))}onDrop(e){const n=e[0],s=new FileReader;s.onabort=()=>console.log("file reading was aborted"),s.onerror=()=>console.log("file reading has failed"),s.onload=()=>{if(n.size>vr){window.alert(d.I18n.t("ra_File is too big. Max %sk allowed. Try use SVG.",Math.round(vr/1024)));return}const o=new Uint8Array(s.result).reduce((i,a)=>i+String.fromCharCode(a),"");this.onImport(o)},s.readAsArrayBuffer(n)}showTypeOfImportDialog(){return this.state.showTypeOfImportDialog?l().createElement(u.Dialog,{open:!0,onClose:()=>this.setState({showTypeOfImportDialog:!1}),maxWidth:"md"},l().createElement(u.DialogTitle,null,d.I18n.t("ra_Append or replace?")),l().createElement(u.DialogContent,null,d.I18n.t("ra_Append %s entries or replace existing?",this.state.showTypeOfImportDialog.length)),l().createElement(u.DialogActions,null,l().createElement(u.Button,{variant:"contained",color:"primary",autoFocus:!0,onClick:()=>{const e=JSON.parse(JSON.stringify(this.state.value));this.state.showTypeOfImportDialog.forEach(n=>e.push(n)),this.setState({value:e,iteration:this.state.iteration+1e4,showTypeOfImportDialog:!1},()=>this.applyFilter(!1,null,()=>this.onChangeWrapper(e)))}},d.I18n.t("ra_Append")),l().createElement(u.Button,{variant:"contained",color:"secondary",autoFocus:!0,onClick:()=>{const e=this.state.showTypeOfImportDialog;this.setState({value:e,iteration:this.state.iteration+1e4,showTypeOfImportDialog:!1},()=>this.applyFilter(!1,null,()=>this.onChangeWrapper(e)))}},d.I18n.t("ra_Replace")))):null}showImportDialog(){return this.state.showImportDialog?l().createElement(u.Dialog,{open:!0,onClose:()=>this.setState({showImportDialog:!1}),maxWidth:"md",fullWidth:!0},l().createElement(u.DialogTitle,null,d.I18n.t("ra_Import from %s","CSV")),l().createElement(u.DialogContent,null,l().createElement(Mo(),{multiple:!1,accept:{"text/csv":[".csv"]},maxSize:vr,onDragEnter:()=>this.setState({uploadFile:"dragging"}),onDragLeave:()=>this.setState({uploadFile:!0}),onDrop:(e,n)=>{this.setState({uploadFile:!1}),e.length?this.onDrop(e):window.alert(n&&n[0]&&n[0].errors&&n[0].errors[0]&&n[0].errors[0].message||d.I18n.t("ra_Cannot upload"))}},({getRootProps:e,getInputProps:n})=>l().createElement("div",Re({style:Re(Re(Re(Re({},bt.uploadDiv),this.state.uploadFile==="dragging"?bt.uploadDivDragging:void 0),bt.dropZone),this.state.icon?void 0:bt.dropZoneEmpty)},e()),l().createElement("input",Re({},n())),l().createElement("div",{style:bt.uploadCenterDiv},l().createElement("div",{style:bt.uploadCenterTextAndIcon},l().createElement(p.UploadFile,{style:bt.uploadCenterIcon}),l().createElement("div",{style:bt.uploadCenterText},this.state.uploadFile==="dragging"?d.I18n.t("ra_Drop file here"):d.I18n.t("ra_Place your files here or click here to open the browse dialog"))))))),l().createElement(u.DialogActions,null,l().createElement(u.Button,{variant:"contained",onClick:()=>this.setState({showImportDialog:!1}),color:"primary",startIcon:l().createElement(p.Close,null)},d.I18n.t("Cancel")))):null}renderItem(){const{schema:e}=this.props;let{visibleValue:n}=this.state;if(!this.state.value)return null;n=n||this.state.value.map((o,i)=>i);const s=this.isAnyFilterSet();return l().createElement(u.Paper,{style:bt.paper},this.showImportDialog(),this.showTypeOfImportDialog(),e.label?l().createElement("div",{style:bt.label},l().createElement(u.Toolbar,{variant:"dense",style:bt.rootTool},l().createElement(u.Typography,{style:bt.title,variant:"h6",id:"tableTitle",component:"div"},this.getText(e.label)))):null,l().createElement(u.TableContainer,null,l().createElement(u.Table,{style:bt.table,size:"small"},this.enhancedTableHead(!s&&!this.state.orderBy?120:64,s),l().createElement(u.TableBody,null,n.map((o,i)=>l().createElement(u.TableRow,{hover:!0,key:`${o}_${i}`},e.items&&e.items.map(a=>l().createElement(u.TableCell,{key:`${a.attr}_${o}`,align:"left"},this.itemTable(a.attr,this.state.value[o],o))),!e.noDelete&&l().createElement(u.TableCell,{align:"left",style:bt.buttonCell},!s&&!this.state.orderBy?i?l().createElement(u.Tooltip,{title:d.I18n.t("ra_Move up"),componentsProps:{popper:{sx:bt.tooltip}}},l().createElement(u.IconButton,{size:"small",onClick:()=>this.onMoveUp(o)},l().createElement(p.ArrowUpward,null))):l().createElement("div",{style:bt.buttonEmpty}):null,!s&&!this.state.orderBy?i<n.length-1?l().createElement(u.Tooltip,{title:d.I18n.t("ra_Move down"),componentsProps:{popper:{sx:bt.tooltip}}},l().createElement(u.IconButton,{size:"small",onClick:()=>this.onMoveDown(o)},l().createElement(p.ArrowDownward,null))):l().createElement("div",{style:bt.buttonEmpty}):null,l().createElement(u.Tooltip,{title:d.I18n.t("ra_Delete current row"),componentsProps:{popper:{sx:bt.tooltip}}},l().createElement(u.IconButton,{size:"small",onClick:this.onDelete(o)},l().createElement(p.Delete,null))),this.props.schema.clone?l().createElement(u.Tooltip,{title:d.I18n.t("ra_Clone current row"),componentsProps:{popper:{sx:bt.tooltip}}},l().createElement(u.IconButton,{size:"small",onClick:this.onClone(o)},l().createElement(p.ContentCopy,null))):null))),!e.noDelete&&n.length>=(e.showSecondAddAt||5)?l().createElement(u.TableRow,null,l().createElement(u.TableCell,{colSpan:e.items.length+1},l().createElement(u.Tooltip,{title:s?d.I18n.t("ra_Cannot add items with set filter"):d.I18n.t("ra_Add row"),componentsProps:{popper:{sx:bt.tooltip}}},l().createElement("span",null,l().createElement(u.IconButton,{size:"small",color:"primary",disabled:!!s&&!this.props.schema.allowAddByFilter,onClick:this.onAdd},l().createElement(p.Add,null)))))):null)),!n.length&&this.state.value.length?l().createElement("div",{style:bt.filteredOut},l().createElement(u.Typography,{style:bt.title,variant:"h6",id:"tableTitle",component:"div"},d.I18n.t("ra_All items are filtered out"),l().createElement(u.IconButton,{size:"small",onClick:()=>this.applyFilter(!0)},l().createElement(p.Close,null)))):null),e.help?l().createElement(u.FormHelperText,null,this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)):null,this.state.errorMessage?l().createElement("div",{style:{display:"flex",padding:"5px"}},l().createElement(p.Warning,{color:"error"}),l().createElement("span",{style:{color:"red",alignSelf:"center"}},this.state.errorMessage)):null)}}const Xd=Xt,zs={indeterminate:{opacity:.5},label:{width:"100%",fontSize:16},helper:{width:"100%",fontSize:12},error:{width:"100%",fontSize:12,color:"#FF0000"}};class Zd extends v{constructor(){super(...arguments);Ne(this,"updateTimeout",null)}componentDidMount(){super.componentDidMount();let e=v.getValue(this.props.data,this.props.attr);if(Array.isArray(e)&&this.props.multiEdit){e=v.DIFFERENT_VALUE,this.setState({value:e,oldValue:e});return}this.setState({value:e,oldValue:e})}static getDerivedStateFromProps(e,n){if(e.multiEdit&&n.value===v.DIFFERENT_VALUE)return v.DIFFERENT_VALUE;let s=v.getValue(e.data,e.attr);return s!=null&&(s=s.toString()),s==null||s!==n.value&&s!==n.oldValue?{value:s}:null}renderItem(e,n){const s=Array.isArray(this.state.value)||this.state.value===v.DIFFERENT_VALUE;if(this.state.oldValue!==null&&this.state.oldValue!==void 0?(this.updateTimeout&&clearTimeout(this.updateTimeout),this.updateTimeout=setTimeout(()=>{this.updateTimeout=null,this.setState({oldValue:null})},30)):this.updateTimeout&&(clearTimeout(this.updateTimeout),this.updateTimeout=null),s){const i=[...v.getValue(this.props.data,this.props.attr)].map(a=>({label:a.toString(),value:a}));return i.unshift({label:d.I18n.t(v.DIFFERENT_LABEL),value:v.DIFFERENT_VALUE}),l().createElement(u.Autocomplete,{style:zs.indeterminate,fullWidth:!0,value:i[0],onChange:(a,c)=>{const h=c?c.value:"";this.onChange(this.props.attr,h,()=>{this.setState({value:h,oldValue:h})})},options:i,getOptionLabel:a=>a.label,renderInput:a=>l().createElement(u.TextField,Rt(Re({variant:"standard"},a),{error:!!e,placeholder:this.getText(this.props.schema.placeholder),inputProps:Rt(Re({},a.inputProps),{maxLength:this.props.schema.maxLength||this.props.schema.max||void 0,readOnly:this.props.schema.readOnly||!1}),label:this.getText(this.props.schema.label),helperText:this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation),disabled:!!n}))})}if(this.props.schema.minRows>1){const o=this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation);return l().createElement("div",{style:{width:"100%"}},this.props.schema.label?l().createElement("div",{style:zs.label},this.getText(this.props.schema.label)):null,l().createElement(u.TextareaAutosize,{style:{width:"100%",resize:"vertical",backgroundColor:this.props.themeType==="dark"?"#363636":"#cccccc",color:this.props.themeType==="dark"?"#fff":"#111"},minRows:this.props.schema.minRows,maxRows:this.props.schema.maxRows,value:this.state.value===null||this.state.value===void 0?"":this.state.value,disabled:!!n,readOnly:this.props.schema.readOnly||!1,onChange:i=>{const a=i.target.value;this.setState({value:a,oldValue:this.state.value},()=>this.onChange(this.props.attr,a||""))},placeholder:this.getText(this.props.schema.placeholder)}),o||e?l().createElement("div",{style:e?zs.error:zs.helper},e||o):null)}return l().createElement(u.TextField,{variant:"standard",fullWidth:!0,value:this.state.value===null||this.state.value===void 0?"":this.state.value,error:!!e,disabled:!!n,inputProps:{maxLength:this.props.schema.maxLength||this.props.schema.max||void 0,readOnly:this.props.schema.readOnly||!1},InputProps:{endAdornment:this.state.value&&!this.props.schema.noClearButton?l().createElement(u.InputAdornment,{position:"end"},l().createElement(u.IconButton,{size:"small",onClick:()=>this.setState({value:"",oldValue:this.state.value},()=>this.onChange(this.props.attr,""))},l().createElement(p.Close,null))):null},onChange:o=>{const i=o.target.value;this.setState({value:i,oldValue:this.state.value},()=>this.onChange(this.props.attr,i))},placeholder:this.getText(this.props.schema.placeholder),label:this.getText(this.props.schema.label),helperText:this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)})}}const qd=Zd,ep={fullWidth:{width:"100%"}};class tp extends v{componentDidMount(){super.componentDidMount(),this.askInstance()}askInstance(){if(this.props.alive){let t=this.props.schema.data;if(t===void 0&&this.props.schema.jsonData){const e=this.getPattern(this.props.schema.jsonData);try{t=JSON.parse(e)}catch(n){console.error(`Cannot parse json data: ${e}`)}}t===void 0&&(t=null),this.props.socket.sendTo(`${this.props.adapterName}.${this.props.instance}`,this.props.schema.command||"send",t).then(e=>this.setState({text:e||"",context:this.getContext()}))}}getContext(){const t={};return Array.isArray(this.props.schema.alsoDependsOn)&&this.props.schema.alsoDependsOn.forEach(e=>t[e]=v.getValue(this.props.data,e)),JSON.stringify(t)}renderItem(){return this.state.text===void 0?null:(this.props.alive&&this.getContext()!==this.state.context&&setTimeout(()=>this.askInstance(),300),this.props.schema.container==="text"?l().createElement(u.TextField,{variant:"standard",fullWidth:!0,InputProps:{endAdornment:this.props.schema.copyToClipboard?l().createElement(u.IconButton,{size:"small",onClick:()=>{d.Utils.copyToClipboard(this.state.text),window.alert("Copied")}},l().createElement(d.IconCopy,null)):void 0},value:this.state.text,label:this.getText(this.props.schema.label),helperText:this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)}):l().createElement("div",{style:ep.fullWidth},this.state.text))}}const np=tp,br=({adapter:r,value:t,props:e})=>{if(t===null)return null;const{minTime:n,maxTime:s,minutesStep:o,shouldDisableTime:i,disableIgnoringDatePartForTimeValidation:a=!1,disablePast:c,disableFuture:h,timezone:y}=e,g=r.utils.date(void 0,y),D=Qt(a,r.utils);switch(!0){case!r.utils.isValid(t):return"invalidDate";case!!(n&&D(n,t)):return"minTime";case!!(s&&D(t,s)):return"maxTime";case!!(h&&r.utils.isAfter(t,g)):return"disableFuture";case!!(c&&r.utils.isBefore(t,g)):return"disablePast";case!!(i&&i(t,"hours")):return"shouldDisableTime-hours";case!!(i&&i(t,"minutes")):return"shouldDisableTime-minutes";case!!(i&&i(t,"seconds")):return"shouldDisableTime-seconds";case!!(o&&r.utils.getMinutes(t)%o!==0):return"minutesStep";default:return null}},sp=r=>{const t=Ya(r),{forwardedProps:e,internalProps:n}=oo(t,"time");return so({forwardedProps:e,internalProps:n,valueManager:$t,fieldValueManager:Rr,validator:br,valueType:"time"})},rp=["slots","slotProps","InputProps","inputProps"],Jo=f.forwardRef(function(t,e){var S;const n=(0,q.useThemeProps)({props:t,name:"MuiTimeField"}),{slots:s,slotProps:o,InputProps:i,inputProps:a}=n,c=(0,W.A)(n,rp),h=n,y=(S=s==null?void 0:s.textField)!=null?S:t.enableAccessibleFieldDOMStructure?go:to.A,g=(0,Ct.Q)({elementType:y,externalSlotProps:o==null?void 0:o.textField,externalForwardedProps:c,ownerState:h,additionalProps:{ref:e}});g.inputProps=(0,F.A)({},a,g.inputProps),g.InputProps=(0,F.A)({},i,g.InputProps);const D=sp(g),T=yo(D),w=io((0,F.A)({},T,{slots:s,slotProps:o}));return(0,V.jsx)(y,(0,F.A)({},w))});function op(r){return(0,yt.Ay)("MuiPickersToolbarText",r)}const Yo=(0,Dt.A)("MuiPickersToolbarText",["root","selected"]),ip=["className","selected","value"],ap=r=>{const{classes:t,selected:e}=r,n={root:["root",e&&"selected"]};return(0,mt.A)(n,op,t)},lp=(0,q.styled)(Fn.A,{name:"MuiPickersToolbarText",slot:"Root",overridesResolver:(r,t)=>[t.root,{[`&.${Yo.selected}`]:t.selected}]})(({theme:r})=>({transition:r.transitions.create("color"),color:(r.vars||r).palette.text.secondary,[`&.${Yo.selected}`]:{color:(r.vars||r).palette.text.primary}})),Ko=f.forwardRef(function(t,e){const n=(0,q.useThemeProps)({props:t,name:"MuiPickersToolbarText"}),{className:s,value:o}=n,i=(0,W.A)(n,ip),a=ap(n);return(0,V.jsx)(lp,(0,F.A)({ref:e,className:(0,vt.A)(s,a.root),component:"span"},i,{children:o}))}),cp=["align","className","selected","typographyClassName","value","variant","width"],up=r=>{const{classes:t}=r,e={root:["root"]};return(0,mt.A)(e,$r,t)},dp=(0,q.styled)(fs.A,{name:"MuiPickersToolbarButton",slot:"Root",overridesResolver:(r,t)=>t.root})({padding:0,minWidth:16,textTransform:"none"}),bs=f.forwardRef(function(t,e){const n=(0,q.useThemeProps)({props:t,name:"MuiPickersToolbarButton"}),{align:s,className:o,selected:i,typographyClassName:a,value:c,variant:h,width:y}=n,g=(0,W.A)(n,cp),D=up(n);return(0,V.jsx)(dp,(0,F.A)({variant:"text",ref:e,className:(0,vt.A)(o,D.root)},y?{sx:{width:y}}:{},g,{children:(0,V.jsx)(Ko,{align:s,className:a,variant:h,value:c,selected:i})}))});function pp(r){return(0,yt.Ay)("MuiTimePickerToolbar",r)}const xs=(0,Dt.A)("MuiTimePickerToolbar",["root","separator","hourMinuteLabel","hourMinuteLabelLandscape","hourMinuteLabelReverse","ampmSelection","ampmLandscape","ampmLabel"]),hp=["ampm","ampmInClock","value","isLandscape","onChange","view","onViewChange","views","disabled","readOnly","className"],mp=r=>{const{isLandscape:t,classes:e,isRtl:n}=r,s={root:["root"],separator:["separator"],hourMinuteLabel:["hourMinuteLabel",t&&"hourMinuteLabelLandscape",n&&"hourMinuteLabelReverse"],ampmSelection:["ampmSelection",t&&"ampmLandscape"],ampmLabel:["ampmLabel"]};return(0,mt.A)(s,pp,e)},fp=(0,q.styled)(jr,{name:"MuiTimePickerToolbar",slot:"Root",overridesResolver:(r,t)=>t.root})({}),gp=(0,q.styled)(Ko,{name:"MuiTimePickerToolbar",slot:"Separator",overridesResolver:(r,t)=>t.separator})({outline:0,margin:"0 4px 0 2px",cursor:"default"}),yp=(0,q.styled)("div",{name:"MuiTimePickerToolbar",slot:"HourMinuteLabel",overridesResolver:(r,t)=>[{[`&.${xs.hourMinuteLabelLandscape}`]:t.hourMinuteLabelLandscape,[`&.${xs.hourMinuteLabelReverse}`]:t.hourMinuteLabelReverse},t.hourMinuteLabel]})({display:"flex",justifyContent:"flex-end",alignItems:"flex-end",variants:[{props:{isRtl:!0},style:{flexDirection:"row-reverse"}},{props:{isLandscape:!0},style:{marginTop:"auto"}}]}),Dp=(0,q.styled)("div",{name:"MuiTimePickerToolbar",slot:"AmPmSelection",overridesResolver:(r,t)=>[{[`.${xs.ampmLabel}`]:t.ampmLabel},{[`&.${xs.ampmLandscape}`]:t.ampmLandscape},t.ampmSelection]})({display:"flex",flexDirection:"column",marginRight:"auto",marginLeft:12,[`& .${xs.ampmLabel}`]:{fontSize:17},variants:[{props:{isLandscape:!0},style:{margin:"4px 0 auto",flexDirection:"row",justifyContent:"space-around",flexBasis:"100%"}}]});function Cp(r){const t=(0,q.useThemeProps)({props:r,name:"MuiTimePickerToolbar"}),{ampm:e,ampmInClock:n,value:s,isLandscape:o,onChange:i,view:a,onViewChange:c,views:h,disabled:y,readOnly:g,className:D}=t,T=(0,W.A)(t,hp),w=ht(),S=jt(),P=(0,cn.I)(),B=!!(e&&!n&&h.includes("hours")),{meridiemMode:R,handleMeridiemChange:K}=cr(s,e,i),Y=G=>e?w.format(G,"hours12h"):w.format(G,"hours24h"),Z=(0,F.A)({},t,{isRtl:P}),X=mp(Z),z=(0,V.jsx)(gp,{tabIndex:-1,value:":",variant:"h3",selected:!1,className:X.separator});return(0,V.jsxs)(fp,(0,F.A)({landscapeDirection:"row",toolbarTitle:S.timePickerToolbarTitle,isLandscape:o,ownerState:Z,className:(0,vt.A)(X.root,D)},T,{children:[(0,V.jsxs)(yp,{className:X.hourMinuteLabel,ownerState:Z,children:[es(h,"hours")&&(0,V.jsx)(bs,{tabIndex:-1,variant:"h3",onClick:()=>c("hours"),selected:a==="hours",value:s?Y(s):"--"}),es(h,["hours","minutes"])&&z,es(h,"minutes")&&(0,V.jsx)(bs,{tabIndex:-1,variant:"h3",onClick:()=>c("minutes"),selected:a==="minutes",value:s?w.format(s,"minutes"):"--"}),es(h,["minutes","seconds"])&&z,es(h,"seconds")&&(0,V.jsx)(bs,{variant:"h3",onClick:()=>c("seconds"),selected:a==="seconds",value:s?w.format(s,"seconds"):"--"})]}),B&&(0,V.jsxs)(Dp,{className:X.ampmSelection,ownerState:Z,children:[(0,V.jsx)(bs,{disableRipple:!0,variant:"subtitle2",selected:R==="am",typographyClassName:X.ampmLabel,value:hn(w,"am"),onClick:g?void 0:()=>K("am"),disabled:y}),(0,V.jsx)(bs,{disableRipple:!0,variant:"subtitle2",selected:R==="pm",typographyClassName:X.ampmLabel,value:hn(w,"pm"),onClick:g?void 0:()=>K("pm"),disabled:y})]})]}))}function Go(r,t){var i,a,c,h;const e=ht(),n=(0,q.useThemeProps)({props:r,name:t}),s=(i=n.ampm)!=null?i:e.is12HourCycleInCurrentLocale(),o=f.useMemo(()=>{var y;return((y=n.localeText)==null?void 0:y.toolbarTitle)==null?n.localeText:(0,F.A)({},n.localeText,{timePickerToolbarTitle:n.localeText.toolbarTitle})},[n.localeText]);return(0,F.A)({},n,{ampm:s,localeText:o},Nn({views:n.views,openTo:n.openTo,defaultViews:["hours","minutes"],defaultOpenTo:"hours"}),{disableFuture:(a=n.disableFuture)!=null?a:!1,disablePast:(c=n.disablePast)!=null?c:!1,slots:(0,F.A)({toolbar:Cp},n.slots),slotProps:(0,F.A)({},n.slotProps,{toolbar:(0,F.A)({ampm:s,ampmInClock:n.ampmInClock},(h=n.slotProps)==null?void 0:h.toolbar)})})}function vp(r){return(0,yt.Ay)("MuiTimeClock",r)}const Em=(0,Dt.A)("MuiTimeClock",["root","arrowSwitcher"]),cs=220,gn=36,As={x:cs/2,y:cs/2},Qo={x:As.x,y:0},bp=Qo.x-As.x,xp=Qo.y-As.y,Ap=r=>r*(180/Math.PI),Xo=(r,t,e)=>{const n=t-As.x,s=e-As.y,o=Math.atan2(bp,xp)-Math.atan2(n,s);let i=Ap(o);i=Math.round(i/r)*r,i%=360;const a=Math.floor(i/r)||0,c=xn(n,2)+xn(s,2),h=Math.sqrt(c);return{value:a,distance:h}},wp=(r,t,e=1)=>{const n=e*6;let{value:s}=Xo(n,r,t);return s=s*e%60,s},Ep=(r,t,e)=>{const{value:n,distance:s}=Xo(30,r,t);let o=n||12;return e?o%=12:s<cs/2-gn&&(o+=12,o%=24),o};function Sp(r){return(0,yt.Ay)("MuiClockPointer",r)}const Sm=(0,Dt.A)("MuiClockPointer",["root","thumb"]),Fp=["className","hasSelected","isInner","type","viewValue"],Tp=r=>{const{classes:t}=r,e={root:["root"],thumb:["thumb"]};return(0,mt.A)(e,Sp,t)},kp=(0,q.styled)("div",{name:"MuiClockPointer",slot:"Root",overridesResolver:(r,t)=>t.root})(({theme:r})=>({width:2,backgroundColor:(r.vars||r).palette.primary.main,position:"absolute",left:"calc(50% - 1px)",bottom:"50%",transformOrigin:"center bottom 0px",variants:[{props:{shouldAnimate:!0},style:{transition:r.transitions.create(["transform","height"])}}]})),Ip=(0,q.styled)("div",{name:"MuiClockPointer",slot:"Thumb",overridesResolver:(r,t)=>t.thumb})(({theme:r})=>({width:4,height:4,backgroundColor:(r.vars||r).palette.primary.contrastText,borderRadius:"50%",position:"absolute",top:-21,left:`calc(50% - ${gn/2}px)`,border:`${(gn-4)/2}px solid ${(r.vars||r).palette.primary.main}`,boxSizing:"content-box",variants:[{props:{hasSelected:!0},style:{backgroundColor:(r.vars||r).palette.primary.main}}]}));function Pp(r){const t=(0,q.useThemeProps)({props:r,name:"MuiClockPointer"}),{className:e,isInner:n,type:s,viewValue:o}=t,i=(0,W.A)(t,Fp),a=f.useRef(s);f.useEffect(()=>{a.current=s},[s]);const c=(0,F.A)({},t,{shouldAnimate:a.current!==s}),h=Tp(c),y=()=>{let D=360/(s==="hours"?12:60)*o;return s==="hours"&&o>12&&(D-=360),{height:Math.round((n?.26:.4)*cs),transform:`rotateZ(${D}deg)`}};return(0,V.jsx)(kp,(0,F.A)({style:y(),className:(0,vt.A)(e,h.root),ownerState:c},i,{children:(0,V.jsx)(Ip,{ownerState:c,className:h.thumb})}))}function Mp(r){return(0,yt.Ay)("MuiClock",r)}const Fm=(0,Dt.A)("MuiClock",["root","clock","wrapper","squareMask","pin","amButton","pmButton","meridiemText"]),Op=r=>{const{classes:t}=r,e={root:["root"],clock:["clock"],wrapper:["wrapper"],squareMask:["squareMask"],pin:["pin"],amButton:["amButton"],pmButton:["pmButton"],meridiemText:["meridiemText"]};return(0,mt.A)(e,Mp,t)},Np=(0,q.styled)("div",{name:"MuiClock",slot:"Root",overridesResolver:(r,t)=>t.root})(({theme:r})=>({display:"flex",justifyContent:"center",alignItems:"center",margin:r.spacing(2)})),Bp=(0,q.styled)("div",{name:"MuiClock",slot:"Clock",overridesResolver:(r,t)=>t.clock})({backgroundColor:"rgba(0,0,0,.07)",borderRadius:"50%",height:220,width:220,flexShrink:0,position:"relative",pointerEvents:"none"}),Lp=(0,q.styled)("div",{name:"MuiClock",slot:"Wrapper",overridesResolver:(r,t)=>t.wrapper})({"&:focus":{outline:"none"}}),Rp=(0,q.styled)("div",{name:"MuiClock",slot:"SquareMask",overridesResolver:(r,t)=>t.squareMask})({width:"100%",height:"100%",position:"absolute",pointerEvents:"auto",outline:0,touchAction:"none",userSelect:"none",variants:[{props:{disabled:!1},style:{"@media (pointer: fine)":{cursor:"pointer",borderRadius:"50%"},"&:active":{cursor:"move"}}}]}),_p=(0,q.styled)("div",{name:"MuiClock",slot:"Pin",overridesResolver:(r,t)=>t.pin})(({theme:r})=>({width:6,height:6,borderRadius:"50%",backgroundColor:(r.vars||r).palette.primary.main,position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"})),Vp=(0,q.styled)(Zn.A,{name:"MuiClock",slot:"AmButton",overridesResolver:(r,t)=>t.amButton})(({theme:r})=>({zIndex:1,position:"absolute",bottom:8,left:8,paddingLeft:4,paddingRight:4,width:gn,variants:[{props:{meridiemMode:"am"},style:{backgroundColor:(r.vars||r).palette.primary.main,color:(r.vars||r).palette.primary.contrastText,"&:hover":{backgroundColor:(r.vars||r).palette.primary.light}}}]})),$p=(0,q.styled)(Zn.A,{name:"MuiClock",slot:"PmButton",overridesResolver:(r,t)=>t.pmButton})(({theme:r})=>({zIndex:1,position:"absolute",bottom:8,right:8,paddingLeft:4,paddingRight:4,width:gn,variants:[{props:{meridiemMode:"pm"},style:{backgroundColor:(r.vars||r).palette.primary.main,color:(r.vars||r).palette.primary.contrastText,"&:hover":{backgroundColor:(r.vars||r).palette.primary.light}}}]})),Zo=(0,q.styled)(Fn.A,{name:"MuiClock",slot:"meridiemText",overridesResolver:(r,t)=>t.meridiemText})({overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"});function jp(r){const t=(0,q.useThemeProps)({props:r,name:"MuiClock"}),{ampm:e,ampmInClock:n,autoFocus:s,children:o,value:i,handleMeridiemChange:a,isTimeDisabled:c,meridiemMode:h,minutesStep:y=1,onChange:g,selectedId:D,type:T,viewValue:w,disabled:S=!1,readOnly:P,className:B}=t,R=t,K=ht(),Y=jt(),Z=f.useRef(!1),X=Op(R),z=c(w,T),G=!e&&T==="hours"&&(w<1||w>12),De=(Pe,Oe)=>{S||P||c(Pe,T)||g(Pe,Oe)},ee=(Pe,Oe)=>{let{offsetX:Je,offsetY:Xe}=Pe;if(Je===void 0){const Ye=Pe.target.getBoundingClientRect();Je=Pe.changedTouches[0].clientX-Ye.left,Xe=Pe.changedTouches[0].clientY-Ye.top}const Ee=T==="seconds"||T==="minutes"?wp(Je,Xe,y):Ep(Je,Xe,!!e);De(Ee,Oe)},de=Pe=>{Z.current=!0,ee(Pe,"shallow")},Se=Pe=>{Z.current&&(ee(Pe,"finish"),Z.current=!1)},pe=Pe=>{Pe.buttons>0&&ee(Pe.nativeEvent,"shallow")},Ae=Pe=>{Z.current&&(Z.current=!1),ee(Pe.nativeEvent,"finish")},oe=f.useMemo(()=>T==="hours"?!0:w%5===0,[T,w]),we=T==="minutes"?y:1,je=f.useRef(null);(0,bn.A)(()=>{s&&je.current.focus()},[s]);const Le=Pe=>{if(!Z.current)switch(Pe.key){case"Home":De(0,"partial"),Pe.preventDefault();break;case"End":De(T==="minutes"?59:23,"partial"),Pe.preventDefault();break;case"ArrowUp":De(w+we,"partial"),Pe.preventDefault();break;case"ArrowDown":De(w-we,"partial"),Pe.preventDefault();break;default:}};return(0,V.jsxs)(Np,{className:(0,vt.A)(B,X.root),children:[(0,V.jsxs)(Bp,{className:X.clock,children:[(0,V.jsx)(Rp,{onTouchMove:de,onTouchEnd:Se,onMouseUp:Ae,onMouseMove:pe,ownerState:{disabled:S},className:X.squareMask}),!z&&(0,V.jsxs)(f.Fragment,{children:[(0,V.jsx)(_p,{className:X.pin}),i!=null&&(0,V.jsx)(Pp,{type:T,viewValue:w,isInner:G,hasSelected:oe})]}),(0,V.jsx)(Lp,{"aria-activedescendant":D,"aria-label":Y.clockLabelText(T,i,K),ref:je,role:"listbox",onKeyDown:Le,tabIndex:0,className:X.wrapper,children:o})]}),e&&n&&(0,V.jsxs)(f.Fragment,{children:[(0,V.jsx)(Vp,{onClick:P?void 0:()=>a("am"),disabled:S||h===null,ownerState:R,className:X.amButton,title:hn(K,"am"),children:(0,V.jsx)(Zo,{variant:"caption",className:X.meridiemText,children:hn(K,"am")})}),(0,V.jsx)($p,{disabled:S||h===null,onClick:P?void 0:()=>a("pm"),ownerState:R,className:X.pmButton,title:hn(K,"pm"),children:(0,V.jsx)(Zo,{variant:"caption",className:X.meridiemText,children:hn(K,"pm")})})]})]})}function Wp(r){return(0,yt.Ay)("MuiClockNumber",r)}const Js=(0,Dt.A)("MuiClockNumber",["root","selected","disabled"]),Up=["className","disabled","index","inner","label","selected"],Hp=r=>{const{classes:t,selected:e,disabled:n}=r,s={root:["root",e&&"selected",n&&"disabled"]};return(0,mt.A)(s,Wp,t)},zp=(0,q.styled)("span",{name:"MuiClockNumber",slot:"Root",overridesResolver:(r,t)=>[t.root,{[`&.${Js.disabled}`]:t.disabled},{[`&.${Js.selected}`]:t.selected}]})(({theme:r})=>({height:gn,width:gn,position:"absolute",left:`calc((100% - ${gn}px) / 2)`,display:"inline-flex",justifyContent:"center",alignItems:"center",borderRadius:"50%",color:(r.vars||r).palette.text.primary,fontFamily:r.typography.fontFamily,"&:focused":{backgroundColor:(r.vars||r).palette.background.paper},[`&.${Js.selected}`]:{color:(r.vars||r).palette.primary.contrastText},[`&.${Js.disabled}`]:{pointerEvents:"none",color:(r.vars||r).palette.text.disabled},variants:[{props:{inner:!0},style:(0,F.A)({},r.typography.body2,{color:(r.vars||r).palette.text.secondary})}]}));function qo(r){const t=(0,q.useThemeProps)({props:r,name:"MuiClockNumber"}),{className:e,disabled:n,index:s,inner:o,label:i,selected:a}=t,c=(0,W.A)(t,Up),h=t,y=Hp(h),g=s%12/12*Math.PI*2-Math.PI/2,D=(cs-gn-2)/2*(o?.65:1),T=Math.round(Math.cos(g)*D),w=Math.round(Math.sin(g)*D);return(0,V.jsx)(zp,(0,F.A)({className:(0,vt.A)(e,y.root),"aria-disabled":n?!0:void 0,"aria-selected":a?!0:void 0,role:"option",style:{transform:`translate(${T}px, ${w+(cs-gn)/2}px`},ownerState:h},c,{children:i}))}const Jp=({ampm:r,value:t,getClockNumberText:e,isDisabled:n,selectedId:s,utils:o})=>{const i=t?o.getHours(t):null,a=[],c=r?1:0,h=r?12:23,y=g=>i===null?!1:r?g===12?i===12||i===0:i===g||i-12===g:i===g;for(let g=c;g<=h;g+=1){let D=g.toString();g===0&&(D="00");const T=!r&&(g===0||g>12);D=o.formatNumber(D);const w=y(g);a.push((0,V.jsx)(qo,{id:w?s:void 0,index:g,inner:T,selected:w,disabled:n(g),label:D,"aria-label":e(D)},g))}return a},ei=({utils:r,value:t,isDisabled:e,getClockNumberText:n,selectedId:s})=>{const o=r.formatNumber;return[[5,o("05")],[10,o("10")],[15,o("15")],[20,o("20")],[25,o("25")],[30,o("30")],[35,o("35")],[40,o("40")],[45,o("45")],[50,o("50")],[55,o("55")],[0,o("00")]].map(([i,a],c)=>{const h=i===t;return(0,V.jsx)(qo,{label:a,id:h?s:void 0,index:c+1,inner:!1,disabled:e(i),selected:h,"aria-label":n(a)},i)})},xr=({value:r,referenceDate:t,utils:e,props:n,timezone:s})=>{const o=f.useMemo(()=>$t.getInitialReferenceValue({value:r,utils:e,props:n,referenceDate:t,granularity:Ft.day,timezone:s,getTodayDate:()=>ps(e,s,"date")}),[]);return r!=null?r:o},Yp=["ampm","ampmInClock","autoFocus","slots","slotProps","value","defaultValue","referenceDate","disableIgnoringDatePartForTimeValidation","maxTime","minTime","disableFuture","disablePast","minutesStep","shouldDisableTime","showViewSwitcher","onChange","view","views","openTo","onViewChange","focusedView","onFocusedViewChange","className","disabled","readOnly","timezone"],Kp=r=>{const{classes:t}=r,e={root:["root"],arrowSwitcher:["arrowSwitcher"]};return(0,mt.A)(e,vp,t)},Gp=(0,q.styled)(Us,{name:"MuiTimeClock",slot:"Root",overridesResolver:(r,t)=>t.root})({display:"flex",flexDirection:"column",position:"relative"}),Qp=(0,q.styled)(Fo,{name:"MuiTimeClock",slot:"ArrowSwitcher",overridesResolver:(r,t)=>t.arrowSwitcher})({position:"absolute",right:12,top:15}),Xp=["hours","minutes"],Zp=f.forwardRef(function(t,e){const n=ht(),s=(0,q.useThemeProps)({props:t,name:"MuiTimeClock"}),{ampm:o=n.is12HourCycleInCurrentLocale(),ampmInClock:i=!1,autoFocus:a,slots:c,slotProps:h,value:y,defaultValue:g,referenceDate:D,disableIgnoringDatePartForTimeValidation:T=!1,maxTime:w,minTime:S,disableFuture:P,disablePast:B,minutesStep:R=1,shouldDisableTime:K,showViewSwitcher:Y,onChange:Z,view:X,views:z=Xp,openTo:G,onViewChange:De,focusedView:ee,onFocusedViewChange:de,className:Se,disabled:pe,readOnly:Ae,timezone:oe}=s,we=(0,W.A)(s,Yp),{value:je,handleValueChange:Le,timezone:Pe}=ns({name:"TimeClock",timezone:oe,value:y,defaultValue:g,onChange:Z,valueManager:$t}),Oe=xr({value:je,referenceDate:D,utils:n,props:s,timezone:Pe}),Je=jt(),Xe=_n(Pe),{view:Ee,setView:Ye,previousView:se,nextView:he,setValueAndGoToNextView:_e}=ms({view:X,views:z,openTo:G,onViewChange:De,onChange:Le,focusedView:ee,onFocusedViewChange:de}),{meridiemMode:Me,handleMeridiemChange:Ze}=cr(Oe,o,_e),He=f.useCallback((be,ke)=>{const xe=Qt(T,n),$e=ke==="hours"||ke==="minutes"&&z.includes("seconds"),Ge=({start:lt,end:Wt})=>!(S&&xe(S,Wt)||w&&xe(lt,w)||P&&xe(lt,Xe)||B&&xe(Xe,$e?Wt:lt)),nt=(lt,Wt=1)=>{if(lt%Wt!==0)return!1;if(K)switch(ke){case"hours":return!K(n.setHours(Oe,lt),"hours");case"minutes":return!K(n.setMinutes(Oe,lt),"minutes");case"seconds":return!K(n.setSeconds(Oe,lt),"seconds");default:return!1}return!0};switch(ke){case"hours":{const lt=at(be,Me,o),Wt=n.setHours(Oe,lt),Dn=n.setSeconds(n.setMinutes(Wt,0),0),Hn=n.setSeconds(n.setMinutes(Wt,59),59);return!Ge({start:Dn,end:Hn})||!nt(lt)}case"minutes":{const lt=n.setMinutes(Oe,be),Wt=n.setSeconds(lt,0),Dn=n.setSeconds(lt,59);return!Ge({start:Wt,end:Dn})||!nt(be,R)}case"seconds":{const lt=n.setSeconds(Oe,be);return!Ge({start:lt,end:lt})||!nt(be)}default:throw new Error("not supported")}},[o,Oe,T,w,Me,S,R,K,n,P,B,Xe,z]),tt=(0,qn.A)(),We=f.useMemo(()=>{switch(Ee){case"hours":{const be=(ke,xe)=>{const $e=at(ke,Me,o);_e(n.setHours(Oe,$e),xe,"hours")};return{onChange:be,viewValue:n.getHours(Oe),children:Jp({value:je,utils:n,ampm:o,onChange:be,getClockNumberText:Je.hoursClockNumberText,isDisabled:ke=>pe||He(ke,"hours"),selectedId:tt})}}case"minutes":{const be=n.getMinutes(Oe),ke=(xe,$e)=>{_e(n.setMinutes(Oe,xe),$e,"minutes")};return{viewValue:be,onChange:ke,children:ei({utils:n,value:be,onChange:ke,getClockNumberText:Je.minutesClockNumberText,isDisabled:xe=>pe||He(xe,"minutes"),selectedId:tt})}}case"seconds":{const be=n.getSeconds(Oe),ke=(xe,$e)=>{_e(n.setSeconds(Oe,xe),$e,"seconds")};return{viewValue:be,onChange:ke,children:ei({utils:n,value:be,onChange:ke,getClockNumberText:Je.secondsClockNumberText,isDisabled:xe=>pe||He(xe,"seconds"),selectedId:tt})}}default:throw new Error("You must provide the type for ClockView")}},[Ee,n,je,o,Je.hoursClockNumberText,Je.minutesClockNumberText,Je.secondsClockNumberText,Me,_e,Oe,He,tt,pe]),ne=s,Ce=Kp(ne);return(0,V.jsxs)(Gp,(0,F.A)({ref:e,className:(0,vt.A)(Ce.root,Se),ownerState:ne},we,{children:[(0,V.jsx)(jp,(0,F.A)({autoFocus:a!=null?a:!!ee,ampmInClock:i&&z.includes("hours"),value:je,type:Ee,ampm:o,minutesStep:R,isTimeDisabled:He,meridiemMode:Me,handleMeridiemChange:Ze,selectedId:tt,disabled:pe,readOnly:Ae},We)),Y&&(0,V.jsx)(Qp,{className:Ce.arrowSwitcher,slots:c,slotProps:h,onGoToPrevious:()=>Ye(se),isPreviousDisabled:!se,previousLabel:Je.openPreviousView,onGoToNext:()=>Ye(he),isNextDisabled:!he,nextLabel:Je.openNextView,ownerState:ne})]}))});var ti=J(25471),ni=J(80705);function qp(r){return(0,yt.Ay)("MuiDigitalClock",r)}const Tm=(0,Dt.A)("MuiDigitalClock",["root","list","item"]),eh=["ampm","timeStep","autoFocus","slots","slotProps","value","defaultValue","referenceDate","disableIgnoringDatePartForTimeValidation","maxTime","minTime","disableFuture","disablePast","minutesStep","shouldDisableTime","onChange","view","openTo","onViewChange","focusedView","onFocusedViewChange","className","disabled","readOnly","views","skipDisabled","timezone"],th=r=>{const{classes:t}=r,e={root:["root"],list:["list"],item:["item"]};return(0,mt.A)(e,qp,t)},nh=(0,q.styled)(Us,{name:"MuiDigitalClock",slot:"Root",overridesResolver:(r,t)=>t.root})({overflowY:"auto",width:"100%","@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"auto"},maxHeight:Zr,variants:[{props:{alreadyRendered:!0},style:{"@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"smooth"}}}]}),sh=(0,q.styled)(ni.A,{name:"MuiDigitalClock",slot:"List",overridesResolver:(r,t)=>t.list})({padding:0}),rh=(0,q.styled)(ti.A,{name:"MuiDigitalClock",slot:"Item",overridesResolver:(r,t)=>t.item})(({theme:r})=>({padding:"8px 16px",margin:"2px 4px","&:first-of-type":{marginTop:4},"&:hover":{backgroundColor:r.vars?`rgba(${r.vars.palette.primary.mainChannel} / ${r.vars.palette.action.hoverOpacity})`:(0,q.alpha)(r.palette.primary.main,r.palette.action.hoverOpacity)},"&.Mui-selected":{backgroundColor:(r.vars||r).palette.primary.main,color:(r.vars||r).palette.primary.contrastText,"&:focus-visible, &:hover":{backgroundColor:(r.vars||r).palette.primary.dark}},"&.Mui-focusVisible":{backgroundColor:r.vars?`rgba(${r.vars.palette.primary.mainChannel} / ${r.vars.palette.action.focusOpacity})`:(0,q.alpha)(r.palette.primary.main,r.palette.action.focusOpacity)}})),oh=f.forwardRef(function(t,e){var be;const n=ht(),s=f.useRef(null),o=(0,Yt.A)(e,s),i=(0,q.useThemeProps)({props:t,name:"MuiDigitalClock"}),{ampm:a=n.is12HourCycleInCurrentLocale(),timeStep:c=30,autoFocus:h,slots:y,slotProps:g,value:D,defaultValue:T,referenceDate:w,disableIgnoringDatePartForTimeValidation:S=!1,maxTime:P,minTime:B,disableFuture:R,disablePast:K,minutesStep:Y=1,shouldDisableTime:Z,onChange:X,view:z,openTo:G,onViewChange:De,focusedView:ee,onFocusedViewChange:de,className:Se,disabled:pe,readOnly:Ae,views:oe=["hours"],skipDisabled:we=!1,timezone:je}=i,Le=(0,W.A)(i,eh),{value:Pe,handleValueChange:Oe,timezone:Je}=ns({name:"DigitalClock",timezone:je,value:D,defaultValue:T,onChange:X,valueManager:$t}),Xe=jt(),Ee=_n(Je),Ye=f.useMemo(()=>(0,F.A)({},i,{alreadyRendered:!!s.current}),[i]),se=th(Ye),he=(be=y==null?void 0:y.digitalClockItem)!=null?be:rh,_e=(0,Ct.Q)({elementType:he,externalSlotProps:g==null?void 0:g.digitalClockItem,ownerState:{},className:se.item}),Me=xr({value:Pe,referenceDate:w,utils:n,props:i,timezone:Je}),Ze=(0,Ue.A)(ke=>Oe(ke,"finish","hours")),{setValueAndGoToNextView:He}=ms({view:z,views:oe,openTo:G,onViewChange:De,onChange:Ze,focusedView:ee,onFocusedViewChange:de}),tt=(0,Ue.A)(ke=>{He(ke,"finish")});f.useEffect(()=>{if(s.current===null)return;const ke=s.current.querySelector('[role="listbox"] [role="option"][tabindex="0"], [role="listbox"] [role="option"][aria-selected="true"]');if(!ke)return;const xe=ke.offsetTop;(h||ee)&&ke.focus(),s.current.scrollTop=xe-4});const We=f.useCallback(ke=>{const xe=Qt(S,n),$e=()=>!(B&&xe(B,ke)||P&&xe(ke,P)||R&&xe(ke,Ee)||K&&xe(Ee,ke)),Ge=()=>n.getMinutes(ke)%Y!==0?!1:Z?!Z(ke,"hours"):!0;return!$e()||!Ge()},[S,n,B,P,R,Ee,K,Y,Z]),ne=f.useMemo(()=>{const ke=n.startOfDay(Me);return[ke,...Array.from({length:Math.ceil(24*60/c)-1},(xe,$e)=>n.addMinutes(ke,c*($e+1)))]},[Me,c,n]),Ce=ne.findIndex(ke=>n.isEqual(ke,Me));return(0,V.jsx)(nh,(0,F.A)({ref:o,className:(0,vt.A)(se.root,Se),ownerState:Ye},Le,{children:(0,V.jsx)(sh,{role:"listbox","aria-label":Xe.timePickerToolbarTitle,className:se.list,children:ne.map((ke,xe)=>{if(we&&We(ke))return null;const $e=n.isEqual(ke,Pe),Ge=n.format(ke,a?"fullTime12h":"fullTime24h"),nt=Ce===xe||Ce===-1&&xe===0?0:-1;return(0,V.jsx)(he,(0,F.A)({onClick:()=>!Ae&&tt(ke),selected:$e,disabled:pe||We(ke),disableRipple:Ae,role:"option","aria-disabled":Ae,"aria-selected":$e,tabIndex:nt},_e,{children:Ge}),Ge)})})}))});function ih(r){return(0,yt.Ay)("MuiMultiSectionDigitalClock",r)}const km=(0,Dt.A)("MuiMultiSectionDigitalClock",["root"]);function ah(r){return(0,yt.Ay)("MuiMultiSectionDigitalClockSection",r)}const Im=(0,Dt.A)("MuiMultiSectionDigitalClockSection",["root","item"]),lh=["autoFocus","onChange","className","disabled","readOnly","items","active","slots","slotProps","skipDisabled"],ch=r=>{const{classes:t}=r,e={root:["root"],item:["item"]};return(0,mt.A)(e,ah,t)},uh=(0,q.styled)(ni.A,{name:"MuiMultiSectionDigitalClockSection",slot:"Root",overridesResolver:(r,t)=>t.root})(({theme:r})=>({maxHeight:Zr,width:56,padding:0,overflow:"hidden","@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"auto"},"@media (pointer: fine)":{"&:hover":{overflowY:"auto"}},"@media (pointer: none), (pointer: coarse)":{overflowY:"auto"},"&:not(:first-of-type)":{borderLeft:`1px solid ${(r.vars||r).palette.divider}`},"&::after":{display:"block",content:'""',height:"calc(100% - 40px - 6px)"},variants:[{props:{alreadyRendered:!0},style:{"@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"smooth"}}}]})),dh=(0,q.styled)(ti.A,{name:"MuiMultiSectionDigitalClockSection",slot:"Item",overridesResolver:(r,t)=>t.item})(({theme:r})=>({padding:8,margin:"2px 4px",width:ha,justifyContent:"center","&:first-of-type":{marginTop:4},"&:hover":{backgroundColor:r.vars?`rgba(${r.vars.palette.primary.mainChannel} / ${r.vars.palette.action.hoverOpacity})`:(0,q.alpha)(r.palette.primary.main,r.palette.action.hoverOpacity)},"&.Mui-selected":{backgroundColor:(r.vars||r).palette.primary.main,color:(r.vars||r).palette.primary.contrastText,"&:focus-visible, &:hover":{backgroundColor:(r.vars||r).palette.primary.dark}},"&.Mui-focusVisible":{backgroundColor:r.vars?`rgba(${r.vars.palette.primary.mainChannel} / ${r.vars.palette.action.focusOpacity})`:(0,q.alpha)(r.palette.primary.main,r.palette.action.focusOpacity)}})),ph=f.forwardRef(function(t,e){var X;const n=f.useRef(null),s=(0,Yt.A)(e,n),o=f.useRef(null),i=(0,q.useThemeProps)({props:t,name:"MuiMultiSectionDigitalClockSection"}),{autoFocus:a,onChange:c,className:h,disabled:y,readOnly:g,items:D,active:T,slots:w,slotProps:S,skipDisabled:P}=i,B=(0,W.A)(i,lh),R=f.useMemo(()=>(0,F.A)({},i,{alreadyRendered:!!n.current}),[i]),K=ch(R),Y=(X=w==null?void 0:w.digitalClockSectionItem)!=null?X:dh;f.useEffect(()=>{if(n.current===null)return;const z=n.current.querySelector('[role="option"][tabindex="0"], [role="option"][aria-selected="true"]');if(T&&a&&z&&z.focus(),!z||o.current===z)return;o.current=z;const G=z.offsetTop;n.current.scrollTop=G-4});const Z=D.findIndex(z=>z.isFocused(z.value));return(0,V.jsx)(uh,(0,F.A)({ref:s,className:(0,vt.A)(K.root,h),ownerState:R,autoFocusItem:a&&T,role:"listbox"},B,{children:D.map((z,G)=>{var pe;const De=(pe=z.isDisabled)==null?void 0:pe.call(z,z.value),ee=y||De;if(P&&ee)return null;const de=z.isSelected(z.value),Se=Z===G||Z===-1&&G===0?0:-1;return(0,V.jsx)(Y,(0,F.A)({onClick:()=>!g&&c(z.value),selected:de,disabled:ee,disableRipple:g,role:"option","aria-disabled":g||ee||void 0,"aria-label":z.ariaLabel,"aria-selected":de,tabIndex:Se,className:K.item},S==null?void 0:S.digitalClockSectionItem,{children:z.label}),z.label)})}))}),hh=({now:r,value:t,utils:e,ampm:n,isDisabled:s,resolveAriaLabel:o,timeStep:i,valueOrReferenceDate:a})=>{const c=t?e.getHours(t):null,h=[],y=(T,w)=>{const S=w!=null?w:c;return S===null?!1:n?T===12?S===12||S===0:S===T||S-12===T:S===T},g=T=>y(T,e.getHours(a)),D=n?11:23;for(let T=0;T<=D;T+=i){let w=e.format(e.setHours(r,T),n?"hours12h":"hours24h");const S=o(parseInt(w,10).toString());w=e.formatNumber(w),h.push({value:T,label:w,isSelected:y,isDisabled:s,isFocused:g,ariaLabel:S})}return h},si=({value:r,utils:t,isDisabled:e,timeStep:n,resolveLabel:s,resolveAriaLabel:o,hasValue:i=!0})=>{const a=h=>r===null?!1:i&&r===h,c=h=>r===h;return[...Array.from({length:Math.ceil(60/n)},(h,y)=>{const g=n*y;return{value:g,label:t.formatNumber(s(g)),isDisabled:e,isSelected:a,isFocused:c,ariaLabel:o(g.toString())}})]},mh=["ampm","timeSteps","autoFocus","slots","slotProps","value","defaultValue","referenceDate","disableIgnoringDatePartForTimeValidation","maxTime","minTime","disableFuture","disablePast","minutesStep","shouldDisableTime","onChange","view","views","openTo","onViewChange","focusedView","onFocusedViewChange","className","disabled","readOnly","skipDisabled","timezone"],fh=r=>{const{classes:t}=r,e={root:["root"]};return(0,mt.A)(e,ih,t)},gh=(0,q.styled)(Us,{name:"MuiMultiSectionDigitalClock",slot:"Root",overridesResolver:(r,t)=>t.root})(({theme:r})=>({display:"flex",flexDirection:"row",width:"100%",borderBottom:`1px solid ${(r.vars||r).palette.divider}`})),yh=f.forwardRef(function(t,e){const n=ht(),s=(0,cn.I)(),o=(0,q.useThemeProps)({props:t,name:"MuiMultiSectionDigitalClock"}),{ampm:i=n.is12HourCycleInCurrentLocale(),timeSteps:a,autoFocus:c,slots:h,slotProps:y,value:g,defaultValue:D,referenceDate:T,disableIgnoringDatePartForTimeValidation:w=!1,maxTime:S,minTime:P,disableFuture:B,disablePast:R,minutesStep:K=1,shouldDisableTime:Y,onChange:Z,view:X,views:z=["hours","minutes"],openTo:G,onViewChange:De,focusedView:ee,onFocusedViewChange:de,className:Se,disabled:pe,readOnly:Ae,skipDisabled:oe=!1,timezone:we}=o,je=(0,W.A)(o,mh),{value:Le,handleValueChange:Pe,timezone:Oe}=ns({name:"MultiSectionDigitalClock",timezone:we,value:g,defaultValue:D,onChange:Z,valueManager:$t}),Je=jt(),Xe=_n(Oe),Ee=f.useMemo(()=>(0,F.A)({hours:1,minutes:5,seconds:5},a),[a]),Ye=xr({value:Le,referenceDate:T,utils:n,props:o,timezone:Oe}),se=(0,Ue.A)((Ge,nt,lt)=>Pe(Ge,nt,lt)),he=f.useMemo(()=>!i||!z.includes("hours")||z.includes("meridiem")?z:[...z,"meridiem"],[i,z]),{view:_e,setValueAndGoToNextView:Me,focusedView:Ze}=ms({view:X,views:he,openTo:G,onViewChange:De,onChange:se,focusedView:ee,onFocusedViewChange:de}),He=(0,Ue.A)(Ge=>{Me(Ge,"finish","meridiem")}),{meridiemMode:tt,handleMeridiemChange:We}=cr(Ye,i,He,"finish"),ne=f.useCallback((Ge,nt)=>{const lt=Qt(w,n),Wt=nt==="hours"||nt==="minutes"&&he.includes("seconds"),Dn=({start:Bt,end:Kt})=>!(P&&lt(P,Kt)||S&&lt(Bt,S)||B&&lt(Bt,Xe)||R&&lt(Xe,Wt?Kt:Bt)),Hn=(Bt,Kt=1)=>{if(Bt%Kt!==0)return!1;if(Y)switch(nt){case"hours":return!Y(n.setHours(Ye,Bt),"hours");case"minutes":return!Y(n.setMinutes(Ye,Bt),"minutes");case"seconds":return!Y(n.setSeconds(Ye,Bt),"seconds");default:return!1}return!0};switch(nt){case"hours":{const Bt=at(Ge,tt,i),Kt=n.setHours(Ye,Bt),zn=n.setSeconds(n.setMinutes(Kt,0),0),Fr=n.setSeconds(n.setMinutes(Kt,59),59);return!Dn({start:zn,end:Fr})||!Hn(Bt)}case"minutes":{const Bt=n.setMinutes(Ye,Ge),Kt=n.setSeconds(Bt,0),zn=n.setSeconds(Bt,59);return!Dn({start:Kt,end:zn})||!Hn(Ge,K)}case"seconds":{const Bt=n.setSeconds(Ye,Ge);return!Dn({start:Bt,end:Bt})||!Hn(Ge)}default:throw new Error("not supported")}},[i,Ye,w,S,tt,P,K,Y,n,B,R,Xe,he]),Ce=f.useCallback(Ge=>{switch(Ge){case"hours":return{onChange:nt=>{const lt=at(nt,tt,i);Me(n.setHours(Ye,lt),"finish","hours")},items:hh({now:Xe,value:Le,ampm:i,utils:n,isDisabled:nt=>ne(nt,"hours"),timeStep:Ee.hours,resolveAriaLabel:Je.hoursClockNumberText,valueOrReferenceDate:Ye})};case"minutes":return{onChange:nt=>{Me(n.setMinutes(Ye,nt),"finish","minutes")},items:si({value:n.getMinutes(Ye),utils:n,isDisabled:nt=>ne(nt,"minutes"),resolveLabel:nt=>n.format(n.setMinutes(Xe,nt),"minutes"),timeStep:Ee.minutes,hasValue:!!Le,resolveAriaLabel:Je.minutesClockNumberText})};case"seconds":return{onChange:nt=>{Me(n.setSeconds(Ye,nt),"finish","seconds")},items:si({value:n.getSeconds(Ye),utils:n,isDisabled:nt=>ne(nt,"seconds"),resolveLabel:nt=>n.format(n.setSeconds(Xe,nt),"seconds"),timeStep:Ee.seconds,hasValue:!!Le,resolveAriaLabel:Je.secondsClockNumberText})};case"meridiem":{const nt=hn(n,"am"),lt=hn(n,"pm");return{onChange:We,items:[{value:"am",label:nt,isSelected:()=>!!Le&&tt==="am",isFocused:()=>!!Ye&&tt==="am",ariaLabel:nt},{value:"pm",label:lt,isSelected:()=>!!Le&&tt==="pm",isFocused:()=>!!Ye&&tt==="pm",ariaLabel:lt}]}}default:throw new Error(`Unknown view: ${Ge} found.`)}},[Xe,Le,i,n,Ee.hours,Ee.minutes,Ee.seconds,Je.hoursClockNumberText,Je.minutesClockNumberText,Je.secondsClockNumberText,tt,Me,Ye,ne,We]),be=f.useMemo(()=>{if(!s)return he;const nt=he.filter(lt=>lt!=="meridiem").toReversed();return he.includes("meridiem")&&nt.push("meridiem"),nt},[s,he]),ke=f.useMemo(()=>he.reduce((Ge,nt)=>(0,F.A)({},Ge,{[nt]:Ce(nt)}),{}),[he,Ce]),xe=o,$e=fh(xe);return(0,V.jsx)(gh,(0,F.A)({ref:e,className:(0,vt.A)($e.root,Se),ownerState:xe,role:"group"},je,{children:be.map(Ge=>(0,V.jsx)(ph,{items:ke[Ge].items,onChange:ke[Ge].onChange,active:_e===Ge,autoFocus:c!=null?c:Ze===Ge,disabled:pe,readOnly:Ae,slots:h,slotProps:y,skipDisabled:oe,"aria-label":Je.selectViewText(Ge)},Ge))}))}),Ar=({view:r,onViewChange:t,focusedView:e,onFocusedViewChange:n,views:s,value:o,defaultValue:i,referenceDate:a,onChange:c,className:h,classes:y,disableFuture:g,disablePast:D,minTime:T,maxTime:w,shouldDisableTime:S,minutesStep:P,ampm:B,ampmInClock:R,slots:K,slotProps:Y,readOnly:Z,disabled:X,sx:z,autoFocus:G,showViewSwitcher:De,disableIgnoringDatePartForTimeValidation:ee,timezone:de})=>(0,V.jsx)(Zp,{view:r,onViewChange:t,focusedView:e&&Ve(e)?e:null,onFocusedViewChange:n,views:s.filter(Ve),value:o,defaultValue:i,referenceDate:a,onChange:c,className:h,classes:y,disableFuture:g,disablePast:D,minTime:T,maxTime:w,shouldDisableTime:S,minutesStep:P,ampm:B,ampmInClock:R,slots:K,slotProps:Y,readOnly:Z,disabled:X,sx:z,autoFocus:G,showViewSwitcher:De,disableIgnoringDatePartForTimeValidation:ee,timezone:de}),Dh=({view:r,onViewChange:t,focusedView:e,onFocusedViewChange:n,views:s,value:o,defaultValue:i,referenceDate:a,onChange:c,className:h,classes:y,disableFuture:g,disablePast:D,minTime:T,maxTime:w,shouldDisableTime:S,minutesStep:P,ampm:B,slots:R,slotProps:K,readOnly:Y,disabled:Z,sx:X,autoFocus:z,disableIgnoringDatePartForTimeValidation:G,timeSteps:De,skipDisabled:ee,timezone:de})=>(0,V.jsx)(oh,{view:r,onViewChange:t,focusedView:e,onFocusedViewChange:n,views:s.filter(Ve),value:o,defaultValue:i,referenceDate:a,onChange:c,className:h,classes:y,disableFuture:g,disablePast:D,minTime:T,maxTime:w,shouldDisableTime:S,minutesStep:P,ampm:B,slots:R,slotProps:K,readOnly:Y,disabled:Z,sx:X,autoFocus:z,disableIgnoringDatePartForTimeValidation:G,timeStep:De==null?void 0:De.minutes,skipDisabled:ee,timezone:de}),ri=({view:r,onViewChange:t,focusedView:e,onFocusedViewChange:n,views:s,value:o,defaultValue:i,referenceDate:a,onChange:c,className:h,classes:y,disableFuture:g,disablePast:D,minTime:T,maxTime:w,shouldDisableTime:S,minutesStep:P,ampm:B,slots:R,slotProps:K,readOnly:Y,disabled:Z,sx:X,autoFocus:z,disableIgnoringDatePartForTimeValidation:G,timeSteps:De,skipDisabled:ee,timezone:de})=>(0,V.jsx)(yh,{view:r,onViewChange:t,focusedView:e,onFocusedViewChange:n,views:s.filter(Ve),value:o,defaultValue:i,referenceDate:a,onChange:c,className:h,classes:y,disableFuture:g,disablePast:D,minTime:T,maxTime:w,shouldDisableTime:S,minutesStep:P,ampm:B,slots:R,slotProps:K,readOnly:Y,disabled:Z,sx:X,autoFocus:z,disableIgnoringDatePartForTimeValidation:G,timeSteps:De,skipDisabled:ee,timezone:de}),Ch=null,Pm=(r,t)=>{let{views:e,format:n}=t,s=_objectWithoutPropertiesLoose(t,Ch);if(n)return n;const o=[],i=[];if(e.forEach(h=>{isTimeView(h)?i.push(h):o.push(h)}),i.length===0)return resolveDateFormat(r,_extends({views:o},s),!1);if(o.length===0)return resolveTimeFormat(r,_extends({views:i},s));const a=resolveTimeFormat(r,_extends({views:i},s));return`${resolveDateFormat(r,_extends({views:o},s),!1)} ${a}`},vh=(r,t,e)=>e?t.filter(n=>!et(n)||n==="hours"):r?[...t,"meridiem"]:t,bh=(r,t)=>{var e,n;return 24*60/(((e=r.hours)!=null?e:1)*((n=r.minutes)!=null?n:5))<=t};function xh({thresholdToRenderTimeInASingleColumn:r,ampm:t,timeSteps:e,views:n}){const s=r!=null?r:24,o=(0,F.A)({hours:1,minutes:5,seconds:5},e),i=bh(o,s);return{thresholdToRenderTimeInASingleColumn:s,timeSteps:o,shouldRenderTimeInASingleColumn:i,views:vh(t,n,i)}}const oi=f.forwardRef(function(t,e){var B,R,K,Y,Z,X;const n=jt(),s=ht(),o=Go(t,"MuiDesktopTimePicker"),{shouldRenderTimeInASingleColumn:i,views:a,timeSteps:c}=xh(o),h=i?Dh:ri,y=(0,F.A)({hours:h,minutes:h,seconds:h,meridiem:h},o.viewRenderers),g=(B=o.ampmInClock)!=null?B:!0,D=i?[]:["accept"],w=((R=y.hours)==null?void 0:R.name)===ri.name?a:a.filter(z=>z!=="meridiem"),S=(0,F.A)({},o,{ampmInClock:g,timeSteps:c,viewRenderers:y,format:vn(s,o),views:i?["hours"]:w,slots:(0,F.A)({field:Jo,openPickerIcon:Ia},o.slots),slotProps:(0,F.A)({},o.slotProps,{field:z=>{var G;return(0,F.A)({},(0,Gn.Y)((G=o.slotProps)==null?void 0:G.field,z),_s(o),{ref:e})},toolbar:(0,F.A)({hidden:!0,ampmInClock:g},(K=o.slotProps)==null?void 0:K.toolbar),actionBar:(0,F.A)({actions:D},(Y=o.slotProps)==null?void 0:Y.actionBar)})}),{renderPicker:P}=eo({props:S,valueManager:$t,valueType:"time",getOpenDialogAriaText:(X=(Z=S.localeText)==null?void 0:Z.openTimePickerDialogue)!=null?X:n.openTimePickerDialogue,validator:br});return P()});oi.propTypes={ampm:x().bool,ampmInClock:x().bool,autoFocus:x().bool,className:x().string,closeOnSelect:x().bool,defaultValue:x().object,disabled:x().bool,disableFuture:x().bool,disableIgnoringDatePartForTimeValidation:x().bool,disableOpenPicker:x().bool,disablePast:x().bool,enableAccessibleFieldDOMStructure:x().any,format:x().string,formatDensity:x().oneOf(["dense","spacious"]),inputRef:Qn,label:x().node,localeText:x().object,maxTime:x().object,minTime:x().object,minutesStep:x().number,name:x().string,onAccept:x().func,onChange:x().func,onClose:x().func,onError:x().func,onOpen:x().func,onSelectedSectionsChange:x().func,onViewChange:x().func,open:x().bool,openTo:x().oneOf(["hours","meridiem","minutes","seconds"]),orientation:x().oneOf(["landscape","portrait"]),readOnly:x().bool,reduceAnimations:x().bool,referenceDate:x().object,selectedSections:x().oneOfType([x().oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),x().number]),shouldDisableTime:x().func,skipDisabled:x().bool,slotProps:x().object,slots:x().object,sx:x().oneOfType([x().arrayOf(x().oneOfType([x().func,x().object,x().bool])),x().func,x().object]),thresholdToRenderTimeInASingleColumn:x().number,timeSteps:x().shape({hours:x().number,minutes:x().number,seconds:x().number}),timezone:x().string,value:x().object,view:x().oneOf(["hours","meridiem","minutes","seconds"]),viewRenderers:x().shape({hours:x().func,meridiem:x().func,minutes:x().func,seconds:x().func}),views:x().arrayOf(x().oneOf(["hours","minutes","seconds"]).isRequired)};const ii=f.forwardRef(function(t,e){var y,g,D,T;const n=jt(),s=ht(),o=Go(t,"MuiMobileTimePicker"),i=(0,F.A)({hours:Ar,minutes:Ar,seconds:Ar},o.viewRenderers),a=(y=o.ampmInClock)!=null?y:!1,c=(0,F.A)({},o,{ampmInClock:a,viewRenderers:i,format:vn(s,o),slots:(0,F.A)({field:Jo},o.slots),slotProps:(0,F.A)({},o.slotProps,{field:w=>{var S;return(0,F.A)({},(0,Gn.Y)((S=o.slotProps)==null?void 0:S.field,w),_s(o),{ref:e})},toolbar:(0,F.A)({hidden:!1,ampmInClock:a},(g=o.slotProps)==null?void 0:g.toolbar)})}),{renderPicker:h}=Io({props:c,valueManager:$t,valueType:"time",getOpenDialogAriaText:(T=(D=c.localeText)==null?void 0:D.openTimePickerDialogue)!=null?T:n.openTimePickerDialogue,validator:br});return h()});ii.propTypes={ampm:x().bool,ampmInClock:x().bool,autoFocus:x().bool,className:x().string,closeOnSelect:x().bool,defaultValue:x().object,disabled:x().bool,disableFuture:x().bool,disableIgnoringDatePartForTimeValidation:x().bool,disableOpenPicker:x().bool,disablePast:x().bool,enableAccessibleFieldDOMStructure:x().any,format:x().string,formatDensity:x().oneOf(["dense","spacious"]),inputRef:Qn,label:x().node,localeText:x().object,maxTime:x().object,minTime:x().object,minutesStep:x().number,name:x().string,onAccept:x().func,onChange:x().func,onClose:x().func,onError:x().func,onOpen:x().func,onSelectedSectionsChange:x().func,onViewChange:x().func,open:x().bool,openTo:x().oneOf(["hours","minutes","seconds"]),orientation:x().oneOf(["landscape","portrait"]),readOnly:x().bool,reduceAnimations:x().bool,referenceDate:x().object,selectedSections:x().oneOfType([x().oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),x().number]),shouldDisableTime:x().func,slotProps:x().object,slots:x().object,sx:x().oneOfType([x().arrayOf(x().oneOfType([x().func,x().object,x().bool])),x().func,x().object]),timezone:x().string,value:x().object,view:x().oneOf(["hours","minutes","seconds"]),viewRenderers:x().shape({hours:x().func,minutes:x().func,seconds:x().func}),views:x().arrayOf(x().oneOf(["hours","minutes","seconds"]).isRequired)};const Ah=["desktopModeMediaQuery"],wh=f.forwardRef(function(t,e){const n=(0,q.useThemeProps)({props:t,name:"MuiTimePicker"}),{desktopModeMediaQuery:s=Hr}=n,o=(0,W.A)(n,Ah);return(0,an.A)(s,{defaultMatches:!0})?(0,V.jsx)(oi,(0,F.A)({ref:e},o)):(0,V.jsx)(ii,(0,F.A)({ref:e},o))});class Eh extends v{componentDidMount(){super.componentDidMount();const t=v.getValue(this.props.data,this.props.attr);this.setState({value:t})}renderItem(t,e){const n=this.props.schema.returnFormat!=="HH:mm:ss",s=new Date(Date.parse(`Thu, 01 Jan 1970 ${this.state.value||"00:00:00"}`));return l().createElement(wh,{sx:o=>({width:"100%",borderBottom:`1px solid ${o.palette.text.primary}`,"& fieldset":{display:"none"},"& input":{padding:`${o.spacing(1.5)} 0 4px 0`},"& .MuiInputAdornment-root":{marginLeft:0,marginTop:1},"& label":{transform:"translate(0px, -9px) scale(0.75)"}}),ampm:this.props.systemConfig.dateFormat.includes("/"),timeSteps:this.props.schema.timeSteps||this.props.schema.timesteps||{hours:1,minutes:5,seconds:5},format:this.props.schema.format||"HH:mm:ss",disabled:!!e,value:s,onChange:o=>{let i;i=o instanceof Date?o.toTimeString().split(" ")[0]:o.toTimeString(),n&&(i=i.split(":").slice(0,2).join(":")),this.setState({value:i},()=>this.onChange(this.props.attr,this.state.value))},views:this.props.schema.views||["hours","minutes","seconds"],label:this.getText(this.props.schema.label)})}}function Sh(r,t){let e;return t&&r.substring(0,t.length)===t?e=r.substring(t.length+1):e=r,e=e.replace(/\./g,"/").replace(/_/g," "),e}class Fh extends v{componentDidMount(){var e;super.componentDidMount();const t=v.getValue(this.props.data,this.props.attr);if(!t&&((e=this.props.customObj)!=null&&e._id)){const n=Sh(this.props.customObj._id,`${this.props.adapterName}.${this.props.instance}`);this.setState({value:n})}else this.setState({value:t||""})}renderItem(t,e){return l().createElement(u.TextField,{variant:"standard",fullWidth:!0,inputProps:{maxLength:this.props.schema.maxLength||this.props.schema.max||void 0},value:this.state.value,error:!!t,disabled:e,placeholder:this.getText(this.props.schema.placeholder),label:this.getText(this.props.schema.label),helperText:this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation),onChange:n=>{const s=n.target.value;this.setState({value:s},()=>this.onChange(this.props.attr,s))}})}}const Th=Fh;class wr extends v{componentDidMount(){return ct(this,null,function*(){var e;Ut(wr.prototype,this,"componentDidMount").call(this);const t=yield this.props.socket.getObject("system.meta.uuid");this.setState({uuid:((e=t==null?void 0:t.native)==null?void 0:e.uuid)||"unknown"})})}renderItem(t,e){return l().createElement(u.TextField,{variant:"standard",fullWidth:!0,error:!!t,disabled:!!e,inputProps:{readOnly:!0},InputProps:{endAdornment:l().createElement(u.IconButton,{onClick:()=>{d.Utils.copyToClipboard(this.state.uuid),window.alert(d.I18n.t("ra_Copied %s",this.state.uuid))}},l().createElement(p.ContentCopy,null))},value:this.state.uuid||"",label:this.getText(this.props.schema.label)||d.I18n.t("ra_Serial number (UUID)"),helperText:this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)})}}const kh=wr,ai={icon:{width:16,height:16,marginRight:8}};class Ih extends v{componentDidMount(){super.componentDidMount(),this.props.socket.getUsers().then(t=>{const e={},n=d.I18n.getLanguage();this.props.schema.short?t.forEach(s=>{var o,i;return e[s._id]={color:(o=s.common)==null?void 0:o.color,icon:(i=s.common)==null?void 0:i.icon,name:d.Utils.getObjectNameFromObj(s,n)}}):t.forEach(s=>{var o,i;return e[s._id.replace(/^system\.user\./,"")]={color:(o=s.common)==null?void 0:o.color,icon:(i=s.common)==null?void 0:i.icon,name:d.Utils.getObjectNameFromObj(s,n)}}),this.setState({users:e})})}renderItem(t,e){var s,o;const n=v.getValue(this.props.data,this.props.attr);return l().createElement(u.FormControl,{variant:"standard",fullWidth:!0},this.state.users&&this.props.schema.label?l().createElement(u.InputLabel,null,this.getText(this.props.schema.label)):null,this.state.users?l().createElement(u.Select,{variant:"standard",error:!!t,disabled:!!e,value:n,renderValue:i=>{var a,c,h;return l().createElement("span",null,this.state.users&&((a=this.state.users[i])!=null&&a.icon)?l().createElement(d.Icon,{src:this.state.users&&((c=this.state.users[i])==null?void 0:c.icon),style:ai.icon}):null,this.state.users&&((h=this.state.users[i])==null?void 0:h.name)||i||"")},style:{color:this.state.users&&((s=this.state.users[n])==null?void 0:s.color)||void 0,backgroundColor:d.Utils.getInvertedColor(this.state.users&&((o=this.state.users[n])==null?void 0:o.color),this.props.themeType)},onChange:i=>this.onChange(this.props.attr,i.target.value)},this.state.users&&Object.keys(this.state.users).map(i=>l().createElement(u.MenuItem,{style:{color:this.state.users[i].color||void 0,backgroundColor:d.Utils.getInvertedColor(this.state.users[i].color,this.props.themeType)},key:i,value:i},this.state.users[i].icon?l().createElement(d.Icon,{src:this.state.users[i].icon,style:ai.icon}):null,this.state.users[i].name))):l().createElement(u.TextField,{variant:"standard",error:!!t,disabled:!!e,value:n,onChange:i=>this.onChange(this.props.attr,i.target.value),label:this.getText(this.props.schema.label)}),this.props.schema.help?l().createElement(u.FormHelperText,null,this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)):null)}}const Ph={accordion:m,alive:N,autocomplete:Q,autocompleteSendTo:H,certCollection:ye,certificate:Te,certificates:ce,checkbox:Zt,checkLicense:ut,chip:Yn,chips:Yn,color:ds,coordinates:On,cron:ue,custom:Kn,datePicker:Bu,deviceManager:Ru,divider:Wd,file:Xu,fileSelector:Oo,func:qu,header:Hd,image:rd,imageSendTo:sd,instance:od,interface:ad,ip:td,jsonEditor:hd,language:gd,license:Dd,number:vd,objectId:bd,password:Ad,pattern:Ed,port:Fd,room:kd,select:Md,selectSendTo:Bd,sendto:$o,sendTo:$o,setState:_d,slider:$d,staticImage:Jd,staticLink:Ho,staticText:Ho,table:Xd,text:qd,textSendTo:np,timePicker:Eh,topic:Th,uuid:kh,user:Ih},yn={fullWidth:{width:"100%"},paper:{margin:1,width:"auto !important",overflowY:"auto",paddingBottom:1},paperWithIcons:{height:"calc(100vh - 259px) !important"},paperWithoutIcons:{height:"calc(100vh - 235px) !important"},padding:{padding:"10px"},heading:{},primary:r=>({backgroundColor:r.palette.primary.main,color:r.palette.mode==="dark"?"inherit":"#FFF"}),secondary:r=>({backgroundColor:r.palette.secondary.main})};class Er extends v{componentDidMount(){super.componentDidMount(),this.props.schema&&this.props.schema.collapsable&&this.setState({expanded:(window._localStorage||window.localStorage).getItem(`${this.props.adapterName}.${this.props.attr}`)==="true"})}renderItems(t,e){return t?Object.keys(t).map(n=>{if(this.props.multiEdit&&t[n].noMultiEdit)return null;const s=t[n].type||"panel";let o;return s==="custom"?t[n].url?o=Kn:this.props.customs&&this.props.customs[t[n].component]?o=this.props.customs[t[n].component]:(console.error(`Cannot find custom component: ${t[n].component}`),o=v):s==="panel"?o=Er:o=Ph[s]||v,l().createElement(o,{key:`${n}_${this.props.index===void 0?"":this.props.index}`,index:this.props.index,changed:this.props.changed,arrayIndex:this.props.arrayIndex,globalData:this.props.globalData,onCommandRunning:this.props.onCommandRunning,commandRunning:this.props.commandRunning,style:yn.panel,socket:this.props.socket,adapterName:this.props.adapterName,instance:this.props.instance,common:this.props.common,customs:this.props.customs,alive:this.props.alive,themeType:this.props.themeType,themeName:this.props.themeName,theme:this.props.theme,data:this.props.data,originalData:this.props.originalData,systemConfig:this.props.systemConfig,onError:this.props.onError,onChange:this.props.onChange,multiEdit:this.props.multiEdit,dateFormat:this.props.dateFormat,isFloatComma:this.props.isFloatComma,disabled:e,imagePrefix:this.props.imagePrefix,changeLanguage:this.props.changeLanguage,forceUpdate:this.props.forceUpdate,registerOnForceUpdate:this.props.registerOnForceUpdate,customObj:this.props.customObj,instanceObj:this.props.instanceObj,custom:this.props.custom,schema:t[n],attr:n,table:this.props.table})}):null}render(){const t=this.props.schema;if(!t)return null;const{disabled:e,hidden:n}=this.calculate(t),s=this.props.schema.items,o=this.props.schema.style||{};if(n){if(t.hideOnlyControl){const a=l().createElement(u.Grid,{item:!0,xs:t.xs||void 0,lg:t.lg||void 0,md:t.md||void 0,sm:t.sm||void 0,sx:Be.getStyle(this.props.theme,{marginBottom:0,textAlign:"left"},o,this.props.themeType==="dark"&&t.darkStyle)});return t.newLine?l().createElement(l().Fragment,null,l().createElement("div",{style:{flexBasis:"100%",height:0}}),a):a}return null}if(this.props.table)return this.renderItems(s,e);if(this.props.custom)return l().createElement(u.Grid,{key:`${this.props.attr}_${this.props.index}`,container:!0,style:yn.fullWidth,spacing:2,sx:o},this.renderItems(s,e));let i;if(t.collapsable?i=l().createElement(u.Accordion,{key:`${this.props.attr}_${this.props.index}`,style:yn.fullWidth,expanded:!!this.state.expanded,onChange:()=>{(window._localStorage||window.localStorage).setItem(`${this.props.adapterName}.${this.props.attr}`,this.state.expanded?"false":"true"),this.setState({expanded:!this.state.expanded})}},l().createElement(u.AccordionSummary,{expandIcon:l().createElement(p.ExpandMore,null),sx:Be.getStyle(this.props.theme,o,this.props.themeType&&t.darkStyle,t.color==="primary"?yn.primary:t.color==="secondary"&&yn.secondary,{width:"100%"})},l().createElement(u.Typography,{style:yn.heading},this.getText(t.label))),l().createElement(u.AccordionDetails,null,l().createElement(u.Grid,{container:!0,spacing:2,sx:Rt(Re({},o),{width:"100%",padding:"10px"})},this.renderItems(s,e)))):i=l().createElement(u.Box,{component:"div",key:`${this.props.attr}_${this.props.index}`,className:this.props.className,sx:Be.getStyle(this.props.theme,this.props.style,o,{width:"100%"},this.props.isParentTab&&yn.paper,this.props.isParentTab&&(this.props.withIcons?yn.paperWithIcons:yn.paperWithoutIcons))},l().createElement(u.Grid,{container:!0,spacing:2,sx:Be.getStyle(this.props.theme,{width:"100%"},this.props.isParentTab&&yn.padding,this.props.schema.innerStyle)},this.renderItems(s,e))),!this.props.isParentTab){const a=l().createElement(u.Grid,{item:!0,title:this.getText(t.tooltip),xs:t.xs||void 0,lg:t.lg||void 0,md:t.md||void 0,sm:t.sm||void 0,sx:Re({marginBottom:0,textAlign:"left"},o)},i);return t.newLine?l().createElement(l().Fragment,null,l().createElement("div",{style:{flexBasis:"100%",height:0}}),a):a}return i}}const ws=Er,Ys={tabs:{height:"100%",width:"100%"},panel:{width:"100%",display:"block"},panelWithIcons:{height:"calc(100% - 72px)"},panelWithoutIcons:{height:"calc(100% - 48px)"}};class Mh extends v{constructor(t){super(t);let e=(window._localStorage||window.localStorage).getItem(`${this.props.dialogName||"App"}.${this.props.adapterName}`)||Object.keys(this.props.schema.items)[0];Object.keys(this.props.schema.items).includes(e)||(e=Object.keys(this.props.schema.items)[0]),Object.assign(this.state,{tab:e})}render(){const t=this.props.schema.items;let e=!1;return l().createElement("div",{style:Ys.tabs},l().createElement(u.Tabs,{variant:"scrollable",scrollButtons:"auto",style:this.props.schema.tabsStyle,value:this.state.tab,onChange:(n,s)=>{(window._localStorage||window.localStorage).setItem(`${this.props.dialogName||"App"}.${this.props.adapterName}`,s),this.setState({tab:s})}},Object.keys(t).map(n=>{let s;if(this.props.custom){if(this.executeCustom(t[n].hidden,this.props.data,this.props.customObj,this.props.instanceObj,this.props.index,this.props.globalData))return null;s=this.executeCustom(t[n].disabled,this.props.data,this.props.customObj,this.props.instanceObj,this.props.index,this.props.globalData)}else{if(this.execute(t[n].hidden,!1,this.props.data,this.props.index,this.props.globalData))return null;s=this.execute(t[n].disabled,!1,this.props.data,this.props.index,this.props.globalData)}const o=this.getIcon(t[n].icon);return e=e||!!o,l().createElement(u.Tab,{wrapped:!0,disabled:s,key:n,value:n,iconPosition:this.props.schema.iconPosition||"start",icon:o,label:this.getText(t[n].label)})})),l().createElement(ws,{isParentTab:!0,changed:this.props.changed,key:this.state.tab,index:1001,arrayIndex:this.props.arrayIndex,globalData:this.props.globalData,onCommandRunning:this.props.onCommandRunning,commandRunning:this.props.commandRunning,style:Re(Re({},Ys.panel),e?Ys.panelWithIcons:Ys.panelWithoutIcons),socket:this.props.socket,adapterName:this.props.adapterName,instance:this.props.instance,common:this.props.common,customs:this.props.customs,alive:this.props.alive,themeType:this.props.themeType,themeName:this.props.themeName,data:this.props.data,originalData:this.props.originalData,systemConfig:this.props.systemConfig,onError:this.props.onError,onChange:this.props.onChange,multiEdit:this.props.multiEdit,dateFormat:this.props.dateFormat,isFloatComma:this.props.isFloatComma,imagePrefix:this.props.imagePrefix,changeLanguage:this.props.changeLanguage,forceUpdate:this.props.forceUpdate,registerOnForceUpdate:this.props.registerOnForceUpdate,customObj:this.props.customObj,instanceObj:this.props.instanceObj,custom:this.props.custom,schema:t[this.state.tab],table:this.props.table,theme:this.props.theme,withIcons:e}))}}const Oh=Mh,Nh={root:{width:"100%",height:"100%"}};class Bh extends f.Component{constructor(e){super(e);Ne(this,"forceUpdateHandlers");Ne(this,"errorTimeout",null);Ne(this,"errorCached",null);Ne(this,"onCommandRunning",e=>this.setState({commandRunning:e}));Ne(this,"onAlive",(e,n)=>{!!(n!=null&&n.val)!==this.state.alive&&this.setState({alive:!!(n!=null&&n.val)})});Ne(this,"onChange",(e,n,s,o)=>{if(this.props.onValueChange)this.props.onValueChange(e,n,o),s&&s();else if(e&&this.props.onChange){const i={data:e};i.changed=JSON.stringify(e)!==this.state.originalData,this.setState(i,()=>{this.props.onChange(e,i.changed,o),s&&s()})}else o&&this.props.onChange(null,null,o)});Ne(this,"onError",(e,n)=>{this.errorCached=this.errorCached||JSON.parse(JSON.stringify(this.state.errors));const s=this.errorCached;n?s[e]=n:delete s[e],this.errorTimeout&&clearTimeout(this.errorTimeout),JSON.stringify(s)!==JSON.stringify(this.state.errors)?this.errorTimeout=setTimeout(()=>this.setState({errors:this.errorCached},()=>{this.errorTimeout=null,this.errorCached=null,this.props.onError(!!Object.keys(this.state.errors).length)}),50):this.errorCached=null});Ne(this,"changeLanguage",()=>{this.forceUpdate()});Ne(this,"forceAttrUpdate",(e,n)=>{Array.isArray(e)?e.forEach(s=>this.forceUpdateHandlers[s]&&this.forceUpdateHandlers[s](n)):this.forceUpdateHandlers[e]&&this.forceUpdateHandlers[e](n)});Ne(this,"registerOnForceUpdate",(e,n)=>{n?this.forceUpdateHandlers[e]=n:this.forceUpdateHandlers[e]&&delete this.forceUpdateHandlers[e]});this.state={originalData:JSON.stringify(this.props.data),changed:!1,errors:{},updateData:this.props.updateData||0,systemConfig:null,alive:!1,commandRunning:!1,schema:JSON.parse(JSON.stringify(this.props.schema)),data:null},this.forceUpdateHandlers={},this.buildDependencies(this.state.schema),this.readData()}static getDerivedStateFromProps(e,n){return e.updateData!==n.updateData?{updateData:e.updateData,originalData:JSON.stringify(e.data),schema:JSON.parse(JSON.stringify(e.schema))}:null}static loadI18n(e,n,s){return ct(this,null,function*(){if(n===!0||n&&typeof n=="string"){const o=d.I18n.getLanguage(),i=typeof n=="string"?n:"i18n";let a=yield e.fileExists(`${s}.admin`,`${i}/${o}.json`),c;if(a?c=`${i}/${o}.json`:(a=yield e.fileExists(`${s}.admin`,`${i}/${o}/translations.json`),a?c=`${i}/${o}/translations.json`:o!=="en"&&(a=yield e.fileExists(`${s}.admin`,`${i}/en.json`),a?c=`${i}/en.json`:(a=yield e.fileExists(`${s}.admin`,`${i}/en/translations.json`),a&&(c=`${i}/en/translations.json`)))),c){const h=yield e.readFile(`${s}.admin`,c);let y;h.file!==void 0?y=h.file:y=h;try{const g=JSON.parse(y);d.I18n.extendTranslations(g,o)}catch(g){return console.error(`Cannot parse language file "${s}.admin/${c}: ${g}`),""}return c}return console.warn(`Cannot find i18n for ${s} / ${c}`),""}return n&&typeof n=="object"&&d.I18n.extendTranslations(n),""})}readSettings(){return ct(this,null,function*(){if((this.props.custom||this.props.common)&&this.props.data)return;const e=yield this.props.socket.getObject(`system.adapter.${this.props.adapterName}.${this.props.instance}`);this.setState({data:this.props.data||e.native})})}readData(){this.readSettings().then(()=>this.props.socket.getCompactSystemConfig()).then(e=>this.props.socket.getState(`system.adapter.${this.props.adapterName}.${this.props.instance}.alive`).then(n=>{this.props.custom?this.setState({systemConfig:e.common,alive:!!(n&&n.val)}):this.setState({systemConfig:e.common,alive:!!(n&&n.val)},()=>this.props.socket.subscribeState(`system.adapter.${this.props.adapterName}.${this.props.instance}.alive`,this.onAlive))}))}flatten(e,n){return n=n||{},e.items&&Object.keys(e.items).forEach(s=>{n[s]=e.items[s],this.flatten(e.items[s],n)}),n}buildDependencies(e){const n=this.flatten(e);Object.keys(n).forEach(s=>{var o,i,a,c,h,y,g,D,T,w;(o=n[s].confirm)!=null&&o.alsoDependsOn&&((i=n[s].confirm)==null||i.alsoDependsOn.forEach(S=>{if(!n[S])console.error(`[JsonConfigComponent] Attribute ${S} does not exist!`),S.startsWith("data.")&&console.warn(`[JsonConfigComponent] please use "${S.replace(/^data\./,"")}" instead of "${S}"`);else{n[S].confirmDependsOn=n[S].confirmDependsOn||[];const P=Rt(Re({},n[s]),{attr:s});P.confirm&&(P.confirm.cancel="Undo"),n[S].confirmDependsOn.push(P)}})),(a=n[s].onChange)!=null&&a.alsoDependsOn&&((c=n[s].onChange)==null||c.alsoDependsOn.forEach(S=>{if(!n[S])console.error(`[JsonConfigComponent] Attribute ${S} does not exist!`),S.startsWith("data.")&&console.warn(`[JsonConfigComponent] please use "${S.replace(/^data\./,"")}" instead of "${S}"`);else{n[S].onChangeDependsOn=n[S].onChangeDependsOn||[];const P=Rt(Re({},n[s]),{attr:s});n[S].onChangeDependsOn.push(P)}})),(h=n[s].hidden)!=null&&h.alsoDependsOn&&((y=n[s].hidden)==null||y.alsoDependsOn.forEach(S=>{if(!n[S])console.error(`[JsonConfigComponent] Attribute ${S} does not exist!`),S.startsWith("data.")&&console.warn(`[JsonConfigComponent] please use "${S.replace(/^data\./,"")}" instead of "${S}"`);else{n[S].hiddenDependsOn=n[S].hiddenDependsOn||[];const P=Rt(Re({},n[s]),{attr:s});n[S].hiddenDependsOn.push(P)}})),(g=n[s].label)!=null&&g.alsoDependsOn&&((D=n[s].label)==null||D.alsoDependsOn.forEach(S=>{if(!n[S])console.error(`[JsonConfigComponent] Attribute ${S} does not exist!`),S.startsWith("data.")&&console.warn(`[JsonConfigComponent] please use "${S.replace(/^data\./,"")}" instead of "${S}"`);else{n[S].labelDependsOn=n[S].labelDependsOn||[];const P=Rt(Re({},n[s]),{attr:s});n[S].labelDependsOn.push(P)}})),(T=n[s].help)!=null&&T.alsoDependsOn&&((w=n[s].help)==null||w.alsoDependsOn.forEach(S=>{if(!n[S])console.error(`[JsonConfigComponent] Attribute ${S} does not exist!`),S.startsWith("data.")&&console.warn(`[JsonConfigComponent] please use "${S.replace(/^data\./,"")}" instead of "${S}"`);else{n[S].helpDependsOn=n[S].helpDependsOn||[];const P=Rt(Re({},n[s]),{attr:s});n[S].helpDependsOn.push(P)}}))})}renderItem(e){return e.type==="tabs"?l().createElement(Oh,{onCommandRunning:this.onCommandRunning,commandRunning:this.state.commandRunning,socket:this.props.socket,adapterName:this.props.adapterName,instance:this.props.instance,common:this.props.common,alive:this.state.alive,themeType:this.props.themeType,themeName:this.props.themeName,data:this.props.data,originalData:JSON.parse(this.state.originalData),schema:e,systemConfig:this.state.systemConfig,customs:this.props.customs,dateFormat:this.props.dateFormat,isFloatComma:this.props.isFloatComma,multiEdit:this.props.multiEdit,imagePrefix:this.props.imagePrefix,custom:this.props.custom,customObj:this.props.customObj,instanceObj:this.props.instanceObj,changeLanguage:this.changeLanguage,forceUpdate:this.forceAttrUpdate,registerOnForceUpdate:this.registerOnForceUpdate,onChange:this.onChange,changed:this.state.changed,onError:(n,s)=>this.onError(n,s),DeviceManager:this.props.DeviceManager,theme:this.props.theme}):e.type==="panel"||!e.type?l().createElement(ws,{index:1e3,isParentTab:!this.props.embedded,changed:this.state.changed,onCommandRunning:this.onCommandRunning,commandRunning:this.state.commandRunning,socket:this.props.socket,adapterName:this.props.adapterName,instance:this.props.instance,common:this.props.common,alive:this.state.alive,themeType:this.props.themeType,themeName:this.props.themeName,data:this.props.data,originalData:JSON.parse(this.state.originalData),schema:e,systemConfig:this.state.systemConfig,customs:this.props.customs,dateFormat:this.props.dateFormat,isFloatComma:this.props.isFloatComma,multiEdit:this.props.multiEdit,imagePrefix:this.props.imagePrefix,custom:this.props.custom,customObj:this.props.customObj,instanceObj:this.props.instanceObj,changeLanguage:this.changeLanguage,forceUpdate:this.forceAttrUpdate,registerOnForceUpdate:this.registerOnForceUpdate,onChange:this.onChange,onError:(n,s)=>this.onError(n,s),DeviceManager:this.props.DeviceManager,theme:this.props.theme}):null}render(){return this.state.systemConfig?l().createElement("div",{style:Re(Re(Re({},this.props.embedded?void 0:Nh.root),this.props.style),this.state.schema.style)},this.renderItem(this.state.schema)):l().createElement(u.LinearProgress,null)}}const Ks=Bh,Un={root:{width:"100%",height:"100%",overflow:"hidden",position:"relative"},scroll:{height:"calc(100% - 48px)",overflowY:"auto"},exportImportButtons:{position:"absolute",top:5,right:0,zIndex:3},button:{marginRight:"5px"},tooltip:{pointerEvents:"none"}};function Lh(r,t){let e="";for(let n=0;n<t.length;n++)e+=String.fromCharCode(r[n%r.length].charCodeAt(0)^t.charCodeAt(n));return e}function Rh(r,t){let e="";for(let n=0;n<t.length;n++)e+=String.fromCharCode(r[n%r.length].charCodeAt(0)^t.charCodeAt(n));return e}function _h(r,t){if(typeof t!="string")return t;if(!t.startsWith("$/aes-192-cbc:")||!/^[0-9a-f]{48}$/.test(r))return Lh(r,t);const e=t.split(":",3),n=window.CryptoJS.enc.Hex.parse(r),s=window.CryptoJS.enc.Hex.parse(e[1]),o=window.CryptoJS.lib.CipherParams.create({ciphertext:window.CryptoJS.enc.Hex.parse(e[2])}),i=window.CryptoJS.AES.decrypt(o,n,{iv:s});return window.CryptoJS.enc.Utf8.stringify(i)}function Vh(r,t,e){if(typeof t!="string")return t;if(!/^[0-9a-f]{48}$/.test(r))return Rh(r,t);let n;e?n=window.CryptoJS.enc.Hex.parse(e):n=window.CryptoJS.lib.WordArray.random(128/8);const s=window.CryptoJS.enc.Hex.parse(r),o=window.CryptoJS.AES.encrypt(t,s,{iv:n}).ciphertext;return`$/aes-192-cbc:${window.CryptoJS.enc.Hex.stringify(n)}:${o}`}function li(r,t){var e;return!t||!document.getElementById(t)?new Promise(n=>{const s=document.createElement("script");s.setAttribute("id",t),s.onload=n,s.src=r,document.getElementsByTagName("head")[0].appendChild(s)}):(e=document.getElementById(t))==null?void 0:e.onload}class Sr extends d.Router{constructor(e){super(e);Ne(this,"fileSubscribed",[]);Ne(this,"fileLangSubscribed","");Ne(this,"secret","");Ne(this,"handleFileSelect",e=>{const n=e.target.files[0];if(n){const s=new FileReader;s.onload=o=>ct(this,null,function*(){if(!o.target)return;const i=o.target.result;try{const a=JSON.parse(i);this.setState({data:a,changed:JSON.stringify(a)!==JSON.stringify(this.state.originalData)})}catch(a){window.alert(d.I18n.t("[JsonConfig] Failed to parse JSON file"))}}),s.readAsText(n)}else window.alert(d.I18n.t("[JsonConfig] Failed to open JSON File"))});Ne(this,"onFileChange",(e,n,s)=>ct(this,null,function*(){var o;if(e===`${this.props.adapterName}.admin`&&s){if(n===this.fileLangSubscribed)try{yield Ks.loadI18n(this.props.socket,(o=this.state.schema)==null?void 0:o.i18n,this.props.adapterName),this.setState({hash:`${this.state.hash}1`})}catch(i){}else if(this.fileSubscribed.includes(n))try{const i=yield this.getConfigFile(this.fileSubscribed[0]);this.setState({schema:i,hash:I()(JSON.stringify(i))})}catch(i){}}}));this.state={updateData:0,changed:!1,confirmDialog:!1,theme:(0,d.Theme)(e.themeName),saveConfigDialog:!1,hash:"_"},this.getInstanceObject().then(n=>this.getConfigFile().then(s=>Ks.loadI18n(this.props.socket,s==null?void 0:s.i18n,this.props.adapterName).then(o=>{o&&(this.fileLangSubscribed||(this.fileLangSubscribed=o,this.props.socket.subscribeFiles(`${this.props.adapterName}.admin`,this.fileLangSubscribed,this.onFileChange))),n?this.setState({schema:s,data:n.native,common:n.common,hash:I()(JSON.stringify(s))}):window.alert(`Instance system.adapter.${this.props.adapterName}.${this.props.instance} not found!`)})))}componentWillUnmount(){return ct(this,null,function*(){Ut(Sr.prototype,this,"componentWillUnmount").call(this),this.fileSubscribed.length&&(this.props.socket.unsubscribeFiles(`${this.props.adapterName}.admin`,this.fileSubscribed,this.onFileChange),this.fileSubscribed=[]),this.fileLangSubscribed&&(this.props.socket.unsubscribeFiles(`${this.props.adapterName}.admin`,this.fileLangSubscribed,this.onFileChange),this.fileLangSubscribed="")})}getExportImportButtons(){return l().createElement("div",{style:Un.exportImportButtons},l().createElement(u.Tooltip,{title:this.props.t("Import settings from JSON file"),componentsProps:{popper:{sx:Un.tooltip}}},l().createElement(u.Fab,{size:"small",sx:{"&.MuiFab-root":Un.button},onClick:()=>{const e=document.createElement("input");e.setAttribute("type","file"),e.setAttribute("id","files"),e.setAttribute("opacity",0),e.addEventListener("change",n=>this.handleFileSelect(n),!1),e.click()}},l().createElement(p.Publish,null))),l().createElement(u.Tooltip,{title:this.props.t("Export setting to JSON file"),componentsProps:{popper:{sx:Un.tooltip}}},l().createElement(u.Fab,{size:"small",sx:{"&.MuiFab-root":Un.button},onClick:()=>{this.state.data&&Be.generateFile(`${this.props.adapterName}.${this.props.instance}.json`,this.state.data)}},l().createElement(p.Publish,{style:{transform:"rotate(180deg)"}}))))}getInstanceObject(){return ct(this,null,function*(){var e;try{const n=yield this.props.socket.getObject(`system.adapter.${this.props.adapterName}.${this.props.instance}`);if(Array.isArray(n.encryptedNative)){const s=yield this.props.socket.getSystemConfig();return yield li("../../lib/js/crypto-js/crypto-js.js","crypto-js"),this.secret=s.native.secret,(e=n.encryptedNative)==null||e.forEach(o=>{n.native[o]&&(n.native[o]=_h(this.secret,n.native[o]))}),n}return n}catch(n){window.alert(`[JsonConfig] Cannot read instance object: ${n}`)}return null})}renderConfirmDialog(){return this.state.confirmDialog?l().createElement(d.Confirm,{title:d.I18n.t("ra_Please confirm"),text:d.I18n.t("ra_Some data are not stored. Discard?"),ok:d.I18n.t("ra_Discard"),cancel:d.I18n.t("ra_Cancel"),onClose:e=>this.setState({confirmDialog:!1},()=>e&&d.Router.doNavigate(null))}):null}scanForInclude(e,n){return ct(this,null,function*(){if(typeof e["#include"]=="string"){const o=yield this._getConfigFile(e["#include"],[...n]);return delete e["#include"],o&&(e=Re(Re({},e),o)),e}const s=Object.keys(e);for(let o=0;o<s.length;o++)typeof e[s[o]]=="object"&&(e[s[o]]=yield this.scanForInclude(e[s[o]],n));return e})}getConfigFile(e){return ct(this,null,function*(){return this._getConfigFile(e)})}_getConfigFile(e,n){return ct(this,null,function*(){if(e=e||"jsonConfig.json5",n=n||[],n.includes(e))return window.alert(`[JsonConfig] Circular reference in file: ${e} => ${n.join(" => ")}`),null;n.push(e);try{(yield this.props.socket.fileExists(`${this.props.adapterName}.admin`,e))||(e="jsonConfig.json");const o=yield this.props.socket.readFile(`${this.props.adapterName}.admin`,e);let i="",a="";if(o.file!==void 0&&(a=o.file),typeof a=="string")i=a;else if(a.type==="Buffer"){let c="";const h=new Uint8Array(a.data),y=h.byteLength;for(let g=0;g<y;g++)c+=String.fromCharCode(h[g]);i=c}this.fileSubscribed.includes(e)||(this.fileSubscribed.push(e),yield this.props.socket.subscribeFiles(`${this.props.adapterName}.admin`,e,this.onFileChange));try{return yield this.scanForInclude(b().parse(i),n)}catch(c){window.alert("[JsonConfig] Cannot parse json5 config!"),console.log(c)}}catch(s){!this.state.schema&&window.alert(`[JsonConfig] Cannot read file "${e}: ${s}`)}return null})}renderSaveConfigDialog(){return this.state.saveConfigDialog?l().createElement(d.Confirm,{title:d.I18n.t("ra_Please confirm"),text:d.I18n.t("Save configuration?"),ok:d.I18n.t("ra_Save"),cancel:d.I18n.t("ra_Cancel"),onClose:e=>this.setState({saveConfigDialog:!1},()=>e&&this.onSave(!0))}):null}findAttr(e,n){if(n=n||this.state.schema,n!=null&&n.items){if(e in n.items)return n.items[e];for(const s of Object.values(n.items)){const o=this.findAttr(e,s);if(o)return o}}return null}postProcessing(e,n,s){if(s=s||this.state.schema,!e){console.error(`Data is empty in postProcessing: ${n}, ${JSON.stringify(s)}`);return}const o=e[n];if(s.items)if(s.type==="table"){const i=o;if(!Array.isArray(i))return;for(const a of i)for(const c of s.items)this.postProcessing(a,c.attr,c)}else for(const[i,a]of Object.entries(s.items)){if(a.type==="panel"||a.type==="tabs"||a.type==="accordion")return;this.postProcessing(e,i,a)}else if(n&&typeof o=="string")if(s.type==="text")s.trim!==!1&&(e[n]=o.trim());else if(s.type==="ip")e[n]=o.trim();else if(s.type==="number"){const i=parseFloat(o.toString().replace(",","."));s.min!==void 0&&i<s.min?e[n]=s.min:s.max!==void 0&&i>s.max?e[n]=s.max:e[n]=i}else if(s.type==="port"){const i=parseInt(o.toString(),10);s.min!==void 0&&i<s.min?e[n]=s.min:s.max!==void 0&&i>s.max&&(e[n]=s.max),e[n]!==0&&i<20?e[n]=20:i>65535?e[n]=65535:e[n]=i}else s.type==="checkbox"&&(e[n]=e[n]===!0||e[n]==="true"||e[n]==="on"||e[n]===1||e[n]==="1")}onSave(e,n){return ct(this,null,function*(){if(e){const s=yield this.getInstanceObject();if(!s){console.error("Something went wrong: may be no connection?"),window.alert("Something went wrong: may be no connection?");return}if(!this.state.data||!this.state.schema)return;const o={};for(const a of Object.keys(this.state.data)){const c=this.findAttr(a);(!c||!c.doNotSave)&&!a.startsWith("_")?v.setValue(s.native,a,this.state.data[a]):(v.setValue(s.native,a,null),o[a]=this.state.data[a])}try{const a=JSON.parse(JSON.stringify(s));if(Array.isArray(a.encryptedNative)){yield li("../../lib/js/crypto-js/crypto-js.js","crypto-js");for(const c of a.encryptedNative)a.native[c]&&(a.native[c]=Vh(this.secret,a.native[c]))}yield this.props.socket.setObject(a._id,a)}catch(a){window.alert(`[JsonConfig] Cannot set object: ${a}`)}const i=Re(Re({},s.native),o);console.log(i),this.setState({changed:!1,data:i,updateData:this.state.updateData+1,originalData:i},()=>n&&d.Router.doNavigate(null))}else this.state.changed?this.setState({confirmDialog:!0}):d.Router.doNavigate(null)})}componentDidUpdate(e,n){n.changed!==this.state.changed&&this.props.configStored(!this.state.changed)}componentDidMount(){return ct(this,null,function*(){const e=`${window.location.protocol}//${window.location.host}${window.location.pathname}validate_config/${this.props.adapterName}`;console.log(`fetch ${e}`),yield fetch(e)})}render(){return!this.state.data||!this.state.schema?l().createElement(u.LinearProgress,null):l().createElement("div",{style:Un.root},this.renderConfirmDialog(),this.getExportImportButtons(),this.renderSaveConfigDialog(),l().createElement(Ks,{key:this.state.hash,style:Un.scroll,socket:this.props.socket,themeName:this.props.themeName,themeType:this.props.themeType,adapterName:this.props.adapterName,instance:this.props.instance,isFloatComma:this.props.isFloatComma,dateFormat:this.props.dateFormat,schema:this.state.schema,common:this.state.common,data:this.state.data,updateData:this.state.updateData,onError:e=>this.setState({error:e}),onChange:(e,n,s)=>{s&&this.state.error&&(window.alert(d.I18n.t("Cannot save configuration because of error in configuration")),s=!1),s&&!this.state.changed&&!n&&(s=!1),e?this.setState({data:e,changed:n,saveConfigDialog:s}):s!==void 0&&this.setState({saveConfigDialog:s})},DeviceManager:this.props.DeviceManager,theme:this.state.theme}),l().createElement(d.SaveCloseButtons,{isIFrame:!1,dense:!0,paddingLeft:0,newReact:!0,theme:this.state.theme,noTextOnButtons:this.props.width==="xs"||this.props.width==="sm"||this.props.width==="md",changed:!!(this.state.error||this.state.changed),error:!!this.state.error,onSave:e=>this.onSave(!0,e),onClose:()=>this.onSave(!1)}))}}const $h=Sr},82292:(le,Ie,J)=>{le=J.nmd(le),ace.define("ace/snippets",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter","ace/lib/lang","ace/range","ace/range_list","ace/keyboard/hash_handler","ace/tokenizer","ace/clipboard","ace/editor"],function(f,l,E){"use strict";function b(m){var A=new Date().toLocaleString("en-us",m);return A.length==1?"0"+A:A}var k=f("./lib/dom"),I=f("./lib/oop"),u=f("./lib/event_emitter").EventEmitter,p=f("./lib/lang"),d=f("./range").Range,j=f("./range_list").RangeList,ie=f("./keyboard/hash_handler").HashHandler,ge=f("./tokenizer").Tokenizer,Fe=f("./clipboard"),ae={CURRENT_WORD:function(m){return m.session.getTextRange(m.session.getWordRange())},SELECTION:function(m,A,C){var N=m.session.getTextRange();return C?N.replace(/\n\r?([ \t]*\S)/g,`
`+C+"$1"):N},CURRENT_LINE:function(m){return m.session.getLine(m.getCursorPosition().row)},PREV_LINE:function(m){return m.session.getLine(m.getCursorPosition().row-1)},LINE_INDEX:function(m){return m.getCursorPosition().row},LINE_NUMBER:function(m){return m.getCursorPosition().row+1},SOFT_TABS:function(m){return m.session.getUseSoftTabs()?"YES":"NO"},TAB_SIZE:function(m){return m.session.getTabSize()},CLIPBOARD:function(m){return Fe.getText&&Fe.getText()},FILENAME:function(m){return/[^/\\]*$/.exec(this.FILEPATH(m))[0]},FILENAME_BASE:function(m){return/[^/\\]*$/.exec(this.FILEPATH(m))[0].replace(/\.[^.]*$/,"")},DIRECTORY:function(m){return this.FILEPATH(m).replace(/[^/\\]*$/,"")},FILEPATH:function(m){return"/not implemented.txt"},WORKSPACE_NAME:function(){return"Unknown"},FULLNAME:function(){return"Unknown"},BLOCK_COMMENT_START:function(m){var A=m.session.$mode||{};return A.blockComment&&A.blockComment.start||""},BLOCK_COMMENT_END:function(m){var A=m.session.$mode||{};return A.blockComment&&A.blockComment.end||""},LINE_COMMENT:function(m){var A=m.session.$mode||{};return A.lineCommentStart||""},CURRENT_YEAR:b.bind(null,{year:"numeric"}),CURRENT_YEAR_SHORT:b.bind(null,{year:"2-digit"}),CURRENT_MONTH:b.bind(null,{month:"numeric"}),CURRENT_MONTH_NAME:b.bind(null,{month:"long"}),CURRENT_MONTH_NAME_SHORT:b.bind(null,{month:"short"}),CURRENT_DATE:b.bind(null,{day:"2-digit"}),CURRENT_DAY_NAME:b.bind(null,{weekday:"long"}),CURRENT_DAY_NAME_SHORT:b.bind(null,{weekday:"short"}),CURRENT_HOUR:b.bind(null,{hour:"2-digit",hour12:!1}),CURRENT_MINUTE:b.bind(null,{minute:"2-digit"}),CURRENT_SECOND:b.bind(null,{second:"2-digit"})};ae.SELECTED_TEXT=ae.SELECTION;var me=function(){function m(){this.snippetMap={},this.snippetNameMap={},this.variables=ae}return m.prototype.getTokenizer=function(){return m.$tokenizer||this.createTokenizer()},m.prototype.createTokenizer=function(){function A(O){return O=O.substr(1),/^\d+$/.test(O)?[{tabstopId:parseInt(O,10)}]:[{text:O}]}function C(O){return"(?:[^\\\\"+O+"]|\\\\.)"}var N={regex:"/("+C("/")+"+)/",onMatch:function(O,Q,te){var H=te[0];return H.fmtString=!0,H.guard=O.slice(1,-1),H.flag="",""},next:"formatString"};return m.$tokenizer=new ge({start:[{regex:/\\./,onMatch:function(O,Q,te){var H=O[1];return(H=="}"&&te.length||"`$\\".indexOf(H)!=-1)&&(O=H),[O]}},{regex:/}/,onMatch:function(O,Q,te){return[te.length?te.shift():O]}},{regex:/\$(?:\d+|\w+)/,onMatch:A},{regex:/\$\{[\dA-Z_a-z]+/,onMatch:function(O,Q,te){var H=A(O.substr(1));return te.unshift(H[0]),H},next:"snippetVar"},{regex:/\n/,token:"newline",merge:!1}],snippetVar:[{regex:"\\|"+C("\\|")+"*\\|",onMatch:function(O,Q,te){var H=O.slice(1,-1).replace(/\\[,|\\]|,/g,function($){return $.length==2?$[1]:"\0"}).split("\0").map(function($){return{value:$}});return te[0].choices=H,[H[0]]},next:"start"},N,{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"start"}],formatString:[{regex:/:/,onMatch:function(O,Q,te){return te.length&&te[0].expectElse?(te[0].expectElse=!1,te[0].ifEnd={elseEnd:te[0]},[te[0].ifEnd]):":"}},{regex:/\\./,onMatch:function(O,Q,te){var H=O[1];return H=="}"&&te.length||"`$\\".indexOf(H)!=-1?O=H:H=="n"?O=`
`:H=="t"?O="	":"ulULE".indexOf(H)!=-1&&(O={changeCase:H,local:H>"a"}),[O]}},{regex:"/\\w*}",onMatch:function(O,Q,te){var H=te.shift();return H&&(H.flag=O.slice(1,-1)),this.next=H&&H.tabstopId?"start":"",[H||O]},next:"start"},{regex:/\$(?:\d+|\w+)/,onMatch:function(O,Q,te){return[{text:O.slice(1)}]}},{regex:/\${\w+/,onMatch:function(O,Q,te){var H={text:O.slice(2)};return te.unshift(H),[H]},next:"formatStringVar"},{regex:/\n/,token:"newline",merge:!1},{regex:/}/,onMatch:function(O,Q,te){var H=te.shift();return this.next=H&&H.tabstopId?"start":"",[H||O]},next:"start"}],formatStringVar:[{regex:/:\/\w+}/,onMatch:function(O,Q,te){var H=te[0];return H.formatFunction=O.slice(2,-1),[te.shift()]},next:"formatString"},N,{regex:/:[\?\-+]?/,onMatch:function(O,Q,te){O[1]=="+"&&(te[0].ifEnd=te[0]),O[1]=="?"&&(te[0].expectElse=!0)},next:"formatString"},{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"formatString"}]}),m.$tokenizer},m.prototype.tokenizeTmSnippet=function(A,C){return this.getTokenizer().getLineTokens(A,C).tokens.map(function(N){return N.value||N})},m.prototype.getVariableValue=function(A,C,N){if(/^\d+$/.test(C))return(this.variables.__||{})[C]||"";if(/^[A-Z]\d+$/.test(C))return(this.variables[C[0]+"__"]||{})[C.substr(1)]||"";if(C=C.replace(/^TM_/,""),!this.variables.hasOwnProperty(C))return"";var O=this.variables[C];return typeof O=="function"&&(O=this.variables[C](A,C,N)),O==null?"":O},m.prototype.tmStrFormat=function(A,C,N){if(!C.fmt)return A;var O=C.flag||"",Q=C.guard;Q=new RegExp(Q,O.replace(/[^gim]/g,""));var te=typeof C.fmt=="string"?this.tokenizeTmSnippet(C.fmt,"formatString"):C.fmt,H=this,$=A.replace(Q,function(){var U=H.variables.__;H.variables.__=[].slice.call(arguments);for(var ue=H.resolveVariables(te,N),Ke="E",Te=0;Te<ue.length;Te++){var qe=ue[Te];if(typeof qe=="object")if(ue[Te]="",qe.changeCase&&qe.local){var st=ue[Te+1];st&&typeof st=="string"&&(qe.changeCase=="u"?ue[Te]=st[0].toUpperCase():ue[Te]=st[0].toLowerCase(),ue[Te+1]=st.substr(1))}else qe.changeCase&&(Ke=qe.changeCase);else Ke=="U"?ue[Te]=qe.toUpperCase():Ke=="L"&&(ue[Te]=qe.toLowerCase())}return H.variables.__=U,ue.join("")});return $},m.prototype.tmFormatFunction=function(A,C,N){return C.formatFunction=="upcase"?A.toUpperCase():C.formatFunction=="downcase"?A.toLowerCase():A},m.prototype.resolveVariables=function(A,C){function N(Ke){var Te=A.indexOf(Ke,H+1);Te!=-1&&(H=Te)}for(var O=[],Q="",te=!0,H=0;H<A.length;H++){var $=A[H];if(typeof $=="string"){O.push($),$==`
`?(te=!0,Q=""):te&&(Q=/^\t*/.exec($)[0],te=/\S/.test($));continue}if($){if(te=!1,$.fmtString){var U=A.indexOf($,H+1);U==-1&&(U=A.length),$.fmt=A.slice(H+1,U),H=U}if($.text){var ue=this.getVariableValue(C,$.text,Q)+"";$.fmtString&&(ue=this.tmStrFormat(ue,$,C)),$.formatFunction&&(ue=this.tmFormatFunction(ue,$,C)),ue&&!$.ifEnd?(O.push(ue),N($)):!ue&&$.ifEnd&&N($.ifEnd)}else $.elseEnd?N($.elseEnd):($.tabstopId!=null||$.changeCase!=null)&&O.push($)}}return O},m.prototype.getDisplayTextForSnippet=function(A,C){var N=Be.call(this,A,C);return N.text},m.prototype.insertSnippetForSelection=function(A,C,N){N===void 0&&(N={});var O=Be.call(this,A,C,N),Q=A.getSelectionRange(),te=A.session.replace(Q,O.text),H=new Qe(A),$=A.inVirtualSelectionMode&&A.selection.index;H.addTabstops(O.tabstops,Q.start,te,$)},m.prototype.insertSnippet=function(A,C,N){N===void 0&&(N={});var O=this;if(A.inVirtualSelectionMode)return O.insertSnippetForSelection(A,C,N);A.forEachSelection(function(){O.insertSnippetForSelection(A,C,N)},null,{keepOrder:!0}),A.tabstopManager&&A.tabstopManager.tabNext()},m.prototype.$getScope=function(A){var C=A.session.$mode.$id||"";if(C=C.split("/").pop(),C==="html"||C==="php"){C==="php"&&!A.session.$mode.inlinePhp&&(C="html");var N=A.getCursorPosition(),O=A.session.getState(N.row);typeof O=="object"&&(O=O[0]),O.substring&&(O.substring(0,3)=="js-"?C="javascript":O.substring(0,4)=="css-"?C="css":O.substring(0,4)=="php-"&&(C="php"))}return C},m.prototype.getActiveScopes=function(A){var C=this.$getScope(A),N=[C],O=this.snippetMap;return O[C]&&O[C].includeScopes&&N.push.apply(N,O[C].includeScopes),N.push("_"),N},m.prototype.expandWithTab=function(A,C){var N=this,O=A.forEachSelection(function(){return N.expandSnippetForSelection(A,C)},null,{keepOrder:!0});return O&&A.tabstopManager&&A.tabstopManager.tabNext(),O},m.prototype.expandSnippetForSelection=function(A,C){var N=A.getCursorPosition(),O=A.session.getLine(N.row),Q=O.substring(0,N.column),te=O.substr(N.column),H=this.snippetMap,$;return this.getActiveScopes(A).some(function(U){var ue=H[U];return ue&&($=this.findMatchingSnippet(ue,Q,te)),!!$},this),$?(C&&C.dryRun||(A.session.doc.removeInLine(N.row,N.column-$.replaceBefore.length,N.column+$.replaceAfter.length),this.variables.M__=$.matchBefore,this.variables.T__=$.matchAfter,this.insertSnippetForSelection(A,$.content),this.variables.M__=this.variables.T__=null),!0):!1},m.prototype.findMatchingSnippet=function(A,C,N){for(var O=A.length;O--;){var Q=A[O];if(!(Q.startRe&&!Q.startRe.test(C))&&!(Q.endRe&&!Q.endRe.test(N))&&!(!Q.startRe&&!Q.endRe))return Q.matchBefore=Q.startRe?Q.startRe.exec(C):[""],Q.matchAfter=Q.endRe?Q.endRe.exec(N):[""],Q.replaceBefore=Q.triggerRe?Q.triggerRe.exec(C)[0]:"",Q.replaceAfter=Q.endTriggerRe?Q.endTriggerRe.exec(N)[0]:"",Q}},m.prototype.register=function(A,C){function N(U){return U&&!/^\^?\(.*\)\$?$|^\\b$/.test(U)&&(U="(?:"+U+")"),U||""}function O(U,ue,Ke){return U=N(U),ue=N(ue),Ke?(U=ue+U,U&&U[U.length-1]!="$"&&(U+="$")):(U+=ue,U&&U[0]!="^"&&(U="^"+U)),new RegExp(U)}function Q(U){U.scope||(U.scope=C||"_"),C=U.scope,te[C]||(te[C]=[],H[C]={});var ue=H[C];if(U.name){var Ke=ue[U.name];Ke&&$.unregister(Ke),ue[U.name]=U}te[C].push(U),U.prefix&&(U.tabTrigger=U.prefix),!U.content&&U.body&&(U.content=Array.isArray(U.body)?U.body.join(`
`):U.body),U.tabTrigger&&!U.trigger&&(!U.guard&&/^\w/.test(U.tabTrigger)&&(U.guard="\\b"),U.trigger=p.escapeRegExp(U.tabTrigger)),!(!U.trigger&&!U.guard&&!U.endTrigger&&!U.endGuard)&&(U.startRe=O(U.trigger,U.guard,!0),U.triggerRe=new RegExp(U.trigger),U.endRe=O(U.endTrigger,U.endGuard,!0),U.endTriggerRe=new RegExp(U.endTrigger))}var te=this.snippetMap,H=this.snippetNameMap,$=this;A||(A=[]),Array.isArray(A)?A.forEach(Q):Object.keys(A).forEach(function(U){Q(A[U])}),this._signal("registerSnippets",{scope:C})},m.prototype.unregister=function(A,C){function N(te){var H=Q[te.scope||C];if(H&&H[te.name]){delete H[te.name];var $=O[te.scope||C],U=$&&$.indexOf(te);U>=0&&$.splice(U,1)}}var O=this.snippetMap,Q=this.snippetNameMap;A.content?N(A):Array.isArray(A)&&A.forEach(N)},m.prototype.parseSnippetFile=function(A){A=A.replace(/\r/g,"");for(var C=[],N={},O=/^#.*|^({[\s\S]*})\s*$|^(\S+) (.*)$|^((?:\n*\t.*)+)/gm,Q;Q=O.exec(A);){if(Q[1])try{N=JSON.parse(Q[1]),C.push(N)}catch(U){}if(Q[4])N.content=Q[4].replace(/^\t/gm,""),C.push(N),N={};else{var te=Q[2],H=Q[3];if(te=="regex"){var $=/\/((?:[^\/\\]|\\.)*)|$/g;N.guard=$.exec(H)[1],N.trigger=$.exec(H)[1],N.endTrigger=$.exec(H)[1],N.endGuard=$.exec(H)[1]}else te=="snippet"?(N.tabTrigger=H.match(/^\S*/)[0],N.name||(N.name=H)):te&&(N[te]=H)}}return C},m.prototype.getSnippetByName=function(A,C){var N=this.snippetNameMap,O;return this.getActiveScopes(C).some(function(Q){var te=N[Q];return te&&(O=te[A]),!!O},this),O},m}();I.implement(me.prototype,u);var Be=function(m,A,C){function N(ut){for(var It=[],Zt=0;Zt<ut.length;Zt++){var wt=ut[Zt];if(typeof wt=="object"){if(ue[wt.tabstopId])continue;var An=ut.lastIndexOf(wt,Zt-1);wt=It[An]||{tabstopId:wt.tabstopId}}It[Zt]=wt}return It}C===void 0&&(C={});var O=m.getCursorPosition(),Q=m.session.getLine(O.row),te=m.session.getTabString(),H=Q.match(/^\s*/)[0];O.column<H.length&&(H=H.slice(0,O.column)),A=A.replace(/\r/g,"");var $=this.tokenizeTmSnippet(A);$=this.resolveVariables($,m),$=$.map(function(ut){return ut==`
`&&!C.excludeExtraIndent?ut+H:typeof ut=="string"?ut.replace(/\t/g,te):ut});var U=[];$.forEach(function(ut,It){if(typeof ut=="object"){var Zt=ut.tabstopId,wt=U[Zt];if(wt||(wt=U[Zt]=[],wt.index=Zt,wt.value="",wt.parents={}),wt.indexOf(ut)===-1){ut.choices&&!wt.choices&&(wt.choices=ut.choices),wt.push(ut);var An=$.indexOf(ut,It+1);if(An!==-1){var wn=$.slice(It+1,An),Pn=wn.some(function(Et){return typeof Et=="object"});Pn&&!wt.value?wt.value=wn:wn.length&&(!wt.value||typeof wt.value!="string")&&(wt.value=wn.join(""))}}}}),U.forEach(function(ut){ut.length=0});for(var ue={},Ke=0;Ke<$.length;Ke++){var Te=$[Ke];if(typeof Te=="object"){var qe=Te.tabstopId,st=U[qe],ce=$.indexOf(Te,Ke+1);if(ue[qe]){ue[qe]===Te&&(delete ue[qe],Object.keys(ue).forEach(function(ut){st.parents[ut]=!0}));continue}ue[qe]=Te;var ve=st.value;typeof ve!="string"?ve=N(ve):Te.fmt&&(ve=this.tmStrFormat(ve,Te,m)),$.splice.apply($,[Ke+1,Math.max(0,ce-Ke)].concat(ve,Te)),st.indexOf(Te)===-1&&st.push(Te)}}var ye=0,fe=0,kt="";return $.forEach(function(ut){if(typeof ut=="string"){var It=ut.split(`
`);It.length>1?(fe=It[It.length-1].length,ye+=It.length-1):fe+=ut.length,kt+=ut}else ut&&(ut.start?ut.end={row:ye,column:fe}:ut.start={row:ye,column:fe})}),{text:kt,tabstops:U,tokens:$}},Qe=function(){function m(A){if(this.index=0,this.ranges=[],this.tabstops=[],A.tabstopManager)return A.tabstopManager;A.tabstopManager=this,this.$onChange=this.onChange.bind(this),this.$onChangeSelection=p.delayedCall(this.onChangeSelection.bind(this)).schedule,this.$onChangeSession=this.onChangeSession.bind(this),this.$onAfterExec=this.onAfterExec.bind(this),this.attach(A)}return m.prototype.attach=function(A){this.$openTabstops=null,this.selectedTabstop=null,this.editor=A,this.session=A.session,this.editor.on("change",this.$onChange),this.editor.on("changeSelection",this.$onChangeSelection),this.editor.on("changeSession",this.$onChangeSession),this.editor.commands.on("afterExec",this.$onAfterExec),this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)},m.prototype.detach=function(){this.tabstops.forEach(this.removeTabstopMarkers,this),this.ranges.length=0,this.tabstops.length=0,this.selectedTabstop=null,this.editor.off("change",this.$onChange),this.editor.off("changeSelection",this.$onChangeSelection),this.editor.off("changeSession",this.$onChangeSession),this.editor.commands.off("afterExec",this.$onAfterExec),this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.tabstopManager=null,this.session=null,this.editor=null},m.prototype.onChange=function(A){for(var C=A.action[0]=="r",N=this.selectedTabstop||{},O=N.parents||{},Q=this.tabstops.slice(),te=0;te<Q.length;te++){var H=Q[te],$=H==N||O[H.index];if(H.rangeList.$bias=$?0:1,A.action=="remove"&&H!==N){var U=H.parents&&H.parents[N.index],ue=H.rangeList.pointIndex(A.start,U);ue=ue<0?-ue-1:ue+1;var Ke=H.rangeList.pointIndex(A.end,U);Ke=Ke<0?-Ke-1:Ke-1;for(var Te=H.rangeList.ranges.slice(ue,Ke),qe=0;qe<Te.length;qe++)this.removeRange(Te[qe])}H.rangeList.$onChange(A)}var st=this.session;!this.$inChange&&C&&st.getLength()==1&&!st.getValue()&&this.detach()},m.prototype.updateLinkedFields=function(){var A=this.selectedTabstop;if(!(!A||!A.hasLinkedRanges||!A.firstNonLinked)){this.$inChange=!0;for(var C=this.session,N=C.getTextRange(A.firstNonLinked),O=0;O<A.length;O++){var Q=A[O];if(Q.linked){var te=Q.original,H=l.snippetManager.tmStrFormat(N,te,this.editor);C.replace(Q,H)}}this.$inChange=!1}},m.prototype.onAfterExec=function(A){A.command&&!A.command.readOnly&&this.updateLinkedFields()},m.prototype.onChangeSelection=function(){if(this.editor){for(var A=this.editor.selection.lead,C=this.editor.selection.anchor,N=this.editor.selection.isEmpty(),O=0;O<this.ranges.length;O++)if(!this.ranges[O].linked){var Q=this.ranges[O].contains(A.row,A.column),te=N||this.ranges[O].contains(C.row,C.column);if(Q&&te)return}this.detach()}},m.prototype.onChangeSession=function(){this.detach()},m.prototype.tabNext=function(A){var C=this.tabstops.length,N=this.index+(A||1);N=Math.min(Math.max(N,1),C),N==C&&(N=0),this.selectTabstop(N),this.updateTabstopMarkers(),N===0&&this.detach()},m.prototype.selectTabstop=function(A){this.$openTabstops=null;var C=this.tabstops[this.index];if(C&&this.addTabstopMarkers(C),this.index=A,C=this.tabstops[this.index],!(!C||!C.length)){this.selectedTabstop=C;var N=C.firstNonLinked||C;if(C.choices&&(N.cursor=N.start),this.editor.inVirtualSelectionMode)this.editor.selection.fromOrientedRange(N);else{var O=this.editor.multiSelect;O.toSingleRange(N);for(var Q=0;Q<C.length;Q++)C.hasLinkedRanges&&C[Q].linked||O.addRange(C[Q].clone(),!0)}this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler),this.selectedTabstop&&this.selectedTabstop.choices&&this.editor.execCommand("startAutocomplete",{matches:this.selectedTabstop.choices})}},m.prototype.addTabstops=function(A,C,N){var O=this.useLink||!this.editor.getOption("enableMultiselect");if(this.$openTabstops||(this.$openTabstops=[]),!A[0]){var Q=d.fromPoints(N,N);L(Q.start,C),L(Q.end,C),A[0]=[Q],A[0].index=0}var te=this.index,H=[te+1,0],$=this.ranges,U=this.snippetId=(this.snippetId||0)+1;A.forEach(function(ue,Ke){var Te=this.$openTabstops[Ke]||ue;Te.snippetId=U;for(var qe=0;qe<ue.length;qe++){var st=ue[qe],ce=d.fromPoints(st.start,st.end||st.start);v(ce.start,C),v(ce.end,C),ce.original=st,ce.tabstop=Te,$.push(ce),Te!=ue?Te.unshift(ce):Te[qe]=ce,st.fmtString||Te.firstNonLinked&&O?(ce.linked=!0,Te.hasLinkedRanges=!0):Te.firstNonLinked||(Te.firstNonLinked=ce)}Te.firstNonLinked||(Te.hasLinkedRanges=!1),Te===ue&&(H.push(Te),this.$openTabstops[Ke]=Te),this.addTabstopMarkers(Te),Te.rangeList=Te.rangeList||new j,Te.rangeList.$bias=0,Te.rangeList.addList(Te)},this),H.length>2&&(this.tabstops.length&&H.push(H.splice(2,1)[0]),this.tabstops.splice.apply(this.tabstops,H))},m.prototype.addTabstopMarkers=function(A){var C=this.session;A.forEach(function(N){N.markerId||(N.markerId=C.addMarker(N,"ace_snippet-marker","text"))})},m.prototype.removeTabstopMarkers=function(A){var C=this.session;A.forEach(function(N){C.removeMarker(N.markerId),N.markerId=null})},m.prototype.updateTabstopMarkers=function(){if(this.selectedTabstop){var A=this.selectedTabstop.snippetId;this.selectedTabstop.index===0&&A--,this.tabstops.forEach(function(C){C.snippetId===A?this.addTabstopMarkers(C):this.removeTabstopMarkers(C)},this)}},m.prototype.removeRange=function(A){var C=A.tabstop.indexOf(A);C!=-1&&A.tabstop.splice(C,1),C=this.ranges.indexOf(A),C!=-1&&this.ranges.splice(C,1),C=A.tabstop.rangeList.ranges.indexOf(A),C!=-1&&A.tabstop.splice(C,1),this.session.removeMarker(A.markerId),A.tabstop.length||(C=this.tabstops.indexOf(A.tabstop),C!=-1&&this.tabstops.splice(C,1),this.tabstops.length||this.detach())},m}();Qe.prototype.keyboardHandler=new ie,Qe.prototype.keyboardHandler.bindKeys({Tab:function(m){l.snippetManager&&l.snippetManager.expandWithTab(m)||(m.tabstopManager.tabNext(1),m.renderer.scrollCursorIntoView())},"Shift-Tab":function(m){m.tabstopManager.tabNext(-1),m.renderer.scrollCursorIntoView()},Esc:function(m){m.tabstopManager.detach()}});var v=function(m,A){m.row==0&&(m.column+=A.column),m.row+=A.row},L=function(m,A){m.row==A.row&&(m.column-=A.column),m.row-=A.row};k.importCssString(`
.ace_snippet-marker {
    -moz-box-sizing: border-box;
    box-sizing: border-box;
    background: rgba(194, 193, 208, 0.09);
    border: 1px dotted rgba(211, 208, 235, 0.62);
    position: absolute;
}`,"snippets.css",!1),l.snippetManager=new me;var M=f("./editor").Editor;(function(){this.insertSnippet=function(m,A){return l.snippetManager.insertSnippet(this,m,A)},this.expandSnippet=function(m){return l.snippetManager.expandWithTab(this,m)}}).call(M.prototype)}),ace.define("ace/autocomplete/popup",["require","exports","module","ace/virtual_renderer","ace/editor","ace/range","ace/lib/event","ace/lib/lang","ace/lib/dom","ace/config","ace/lib/useragent"],function(f,l,E){"use strict";var b=f("../virtual_renderer").VirtualRenderer,k=f("../editor").Editor,I=f("../range").Range,u=f("../lib/event"),p=f("../lib/lang"),d=f("../lib/dom"),j=f("../config").nls,ie=f("./../lib/useragent"),ge=function(v){return"suggest-aria-id:".concat(v)},Fe=ie.isSafari?"menu":"listbox",ae=ie.isSafari?"menuitem":"option",me=ie.isSafari?"aria-current":"aria-selected",Be=function(v){var L=new b(v);L.$maxLines=4;var M=new k(L);return M.setHighlightActiveLine(!1),M.setShowPrintMargin(!1),M.renderer.setShowGutter(!1),M.renderer.setHighlightGutterLine(!1),M.$mouseHandler.$focusTimeout=0,M.$highlightTagPending=!0,M},Qe=function(){function v(L){var M=d.createElement("div"),m=Be(M);L&&L.appendChild(M),M.style.display="none",m.renderer.content.style.cursor="default",m.renderer.setStyle("ace_autocomplete"),m.renderer.$textLayer.element.setAttribute("role",Fe),m.renderer.$textLayer.element.setAttribute("aria-roledescription",j("autocomplete.popup.aria-roledescription","Autocomplete suggestions")),m.renderer.$textLayer.element.setAttribute("aria-label",j("autocomplete.popup.aria-label","Autocomplete suggestions")),m.renderer.textarea.setAttribute("aria-hidden","true"),m.setOption("displayIndentGuides",!1),m.setOption("dragDelay",150);var A=function(){};m.focus=A,m.$isFocused=!0,m.renderer.$cursorLayer.restartTimer=A,m.renderer.$cursorLayer.element.style.opacity="0",m.renderer.$maxLines=8,m.renderer.$keepTextAreaAtCursor=!1,m.setHighlightActiveLine(!1),m.session.highlight(""),m.session.$searchHighlight.clazz="ace_highlight-marker",m.on("mousedown",function($){var U=$.getDocumentPosition();m.selection.moveToPosition(U),O.start.row=O.end.row=U.row,$.stop()});var C,N=new I(-1,0,-1,1/0),O=new I(-1,0,-1,1/0);O.id=m.session.addMarker(O,"ace_active-line","fullLine"),m.setSelectOnHover=function($){$?N.id&&(m.session.removeMarker(N.id),N.id=null):N.id=m.session.addMarker(N,"ace_line-hover","fullLine")},m.setSelectOnHover(!1),m.on("mousemove",function($){if(!C){C=$;return}if(!(C.x==$.x&&C.y==$.y)){C=$,C.scrollTop=m.renderer.scrollTop,m.isMouseOver=!0;var U=C.getDocumentPosition().row;N.start.row!=U&&(N.id||m.setRow(U),te(U))}}),m.renderer.on("beforeRender",function(){if(C&&N.start.row!=-1){C.$pos=null;var $=C.getDocumentPosition().row;N.id||m.setRow($),te($,!0)}}),m.renderer.on("afterRender",function(){var $=m.getRow(),U=m.renderer.$textLayer,ue=U.element.childNodes[$-U.config.firstRow],Ke=document.activeElement;if(ue!==m.selectedNode&&m.selectedNode&&(d.removeCssClass(m.selectedNode,"ace_selected"),Ke.removeAttribute("aria-activedescendant"),m.selectedNode.removeAttribute(me),m.selectedNode.removeAttribute("id")),m.selectedNode=ue,ue){d.addCssClass(ue,"ace_selected");var Te=ge($);ue.id=Te,U.element.setAttribute("aria-activedescendant",Te),Ke.setAttribute("aria-activedescendant",Te),ue.setAttribute("role",ae),ue.setAttribute("aria-roledescription",j("autocomplete.popup.item.aria-roledescription","item")),ue.setAttribute("aria-label",m.getData($).caption||m.getData($).value),ue.setAttribute("aria-setsize",m.data.length),ue.setAttribute("aria-posinset",$+1),ue.setAttribute("aria-describedby","doc-tooltip"),ue.setAttribute(me,"true")}});var Q=function(){te(-1)},te=function($,U){$!==N.start.row&&(N.start.row=N.end.row=$,U||m.session._emit("changeBackMarker"),m._emit("changeHoverMarker"))};m.getHoveredRow=function(){return N.start.row},u.addListener(m.container,"mouseout",function(){m.isMouseOver=!1,Q()}),m.on("hide",Q),m.on("changeSelection",Q),m.session.doc.getLength=function(){return m.data.length},m.session.doc.getLine=function($){var U=m.data[$];return typeof U=="string"?U:U&&U.value||""};var H=m.session.bgTokenizer;return H.$tokenizeRow=function($){function U(ut,It){ut&&Ke.push({type:(ue.className||"")+(It||""),value:ut})}var ue=m.data[$],Ke=[];if(!ue)return Ke;typeof ue=="string"&&(ue={value:ue});for(var Te=ue.caption||ue.value||ue.name,qe=Te.toLowerCase(),st=(m.filterText||"").toLowerCase(),ce=0,ve=0,ye=0;ye<=st.length;ye++)if(ye!=ve&&(ue.matchMask&1<<ye||ye==st.length)){var fe=st.slice(ve,ye);ve=ye;var kt=qe.indexOf(fe,ce);if(kt==-1)continue;U(Te.slice(ce,kt),""),ce=kt+fe.length,U(Te.slice(kt,ce),"completion-highlight")}return U(Te.slice(ce,Te.length),""),Ke.push({type:"completion-spacer",value:" "}),ue.meta&&Ke.push({type:"completion-meta",value:ue.meta}),ue.message&&Ke.push({type:"completion-message",value:ue.message}),Ke},H.$updateOnChange=A,H.start=A,m.session.$computeWidth=function(){return this.screenWidth=0},m.isOpen=!1,m.isTopdown=!1,m.autoSelect=!0,m.filterText="",m.isMouseOver=!1,m.data=[],m.setData=function($,U){m.filterText=U||"",m.setValue(p.stringRepeat(`
`,$.length),-1),m.data=$||[],m.setRow(0)},m.getData=function($){return m.data[$]},m.getRow=function(){return O.start.row},m.setRow=function($){$=Math.max(this.autoSelect?0:-1,Math.min(this.data.length-1,$)),O.start.row!=$&&(m.selection.clearSelection(),O.start.row=O.end.row=$||0,m.session._emit("changeBackMarker"),m.moveCursorTo($||0,0),m.isOpen&&m._signal("select"))},m.on("changeSelection",function(){m.isOpen&&m.setRow(m.selection.lead.row),m.renderer.scrollCursorIntoView()}),m.hide=function(){this.container.style.display="none",m.anchorPos=null,m.anchor=null,m.isOpen&&(m.isOpen=!1,this._signal("hide"))},m.tryShow=function($,U,ue,Ke){if(!Ke&&m.isOpen&&m.anchorPos&&m.anchor&&m.anchorPos.top===$.top&&m.anchorPos.left===$.left&&m.anchor===ue)return!0;var Te=this.container,qe=window.innerHeight,st=window.innerWidth,ce=this.renderer,ve=ce.$maxLines*U*1.4,ye={top:0,bottom:0,left:0},fe=qe-$.top-3*this.$borderSize-U,kt=$.top-3*this.$borderSize;ue||(kt<=fe||fe>=ve?ue="bottom":ue="top"),ue==="top"?(ye.bottom=$.top-this.$borderSize,ye.top=ye.bottom-ve):ue==="bottom"&&(ye.top=$.top+U+this.$borderSize,ye.bottom=ye.top+ve);var ut=ye.top>=0&&ye.bottom<=qe;if(!Ke&&!ut)return!1;ut?ce.$maxPixelHeight=null:ue==="top"?ce.$maxPixelHeight=kt:ce.$maxPixelHeight=fe,ue==="top"?(Te.style.top="",Te.style.bottom=qe-ye.bottom+"px",m.isTopdown=!1):(Te.style.top=ye.top+"px",Te.style.bottom="",m.isTopdown=!0),Te.style.display="";var It=$.left;return It+Te.offsetWidth>st&&(It=st-Te.offsetWidth),Te.style.left=It+"px",Te.style.right="",m.isOpen||(m.isOpen=!0,this._signal("show"),C=null),m.anchorPos=$,m.anchor=ue,!0},m.show=function($,U,ue){this.tryShow($,U,ue?"bottom":void 0,!0)},m.goTo=function($){var U=this.getRow(),ue=this.session.getLength()-1;switch($){case"up":U=U<=0?ue:U-1;break;case"down":U=U>=ue?-1:U+1;break;case"start":U=0;break;case"end":U=ue}this.setRow(U)},m.getTextLeftOffset=function(){return this.$borderSize+this.renderer.$padding+this.$imageSize},m.$imageSize=0,m.$borderSize=1,m}return v}();d.importCssString(`
.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {
    background-color: #CAD6FA;
    z-index: 1;
}
.ace_dark.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {
    background-color: #3a674e;
}
.ace_editor.ace_autocomplete .ace_line-hover {
    border: 1px solid #abbffe;
    margin-top: -1px;
    background: rgba(233,233,253,0.4);
    position: absolute;
    z-index: 2;
}
.ace_dark.ace_editor.ace_autocomplete .ace_line-hover {
    border: 1px solid rgba(109, 150, 13, 0.8);
    background: rgba(58, 103, 78, 0.62);
}
.ace_completion-meta {
    opacity: 0.5;
    margin-left: 0.9em;
}
.ace_completion-message {
    margin-left: 0.9em;
    color: blue;
}
.ace_editor.ace_autocomplete .ace_completion-highlight{
    color: #2d69c7;
}
.ace_dark.ace_editor.ace_autocomplete .ace_completion-highlight{
    color: #93ca12;
}
.ace_editor.ace_autocomplete {
    width: 300px;
    z-index: 200000;
    border: 1px lightgray solid;
    position: fixed;
    box-shadow: 2px 3px 5px rgba(0,0,0,.2);
    line-height: 1.4;
    background: #fefefe;
    color: #111;
}
.ace_dark.ace_editor.ace_autocomplete {
    border: 1px #484747 solid;
    box-shadow: 2px 3px 5px rgba(0, 0, 0, 0.51);
    line-height: 1.4;
    background: #25282c;
    color: #c1c1c1;
}
.ace_autocomplete .ace_text-layer  {
    width: calc(100% - 8px);
}
.ace_autocomplete .ace_line {
    display: flex;
    align-items: center;
}
.ace_autocomplete .ace_line > * {
    min-width: 0;
    flex: 0 0 auto;
}
.ace_autocomplete .ace_line .ace_ {
    flex: 0 1 auto;
    overflow: hidden;
    text-overflow: ellipsis;
}
.ace_autocomplete .ace_completion-spacer {
    flex: 1;
}
.ace_autocomplete.ace_loading:after  {
    content: "";
    position: absolute;
    top: 0px;
    height: 2px;
    width: 8%;
    background: blue;
    z-index: 100;
    animation: ace_progress 3s infinite linear;
    animation-delay: 300ms;
    transform: translateX(-100%) scaleX(1);
}
@keyframes ace_progress {
    0% { transform: translateX(-100%) scaleX(1) }
    50% { transform: translateX(625%) scaleX(2) } 
    100% { transform: translateX(1500%) scaleX(3) } 
}
@media (prefers-reduced-motion) {
    .ace_autocomplete.ace_loading:after {
        transform: translateX(625%) scaleX(2);
        animation: none;
     }
}
`,"autocompletion.css",!1),l.AcePopup=Qe,l.$singleLineEditor=Be,l.getAriaId=ge}),ace.define("ace/autocomplete/inline_screenreader",["require","exports","module"],function(f,l,E){"use strict";var b=function(){function k(I){this.editor=I,this.screenReaderDiv=document.createElement("div"),this.screenReaderDiv.classList.add("ace_screenreader-only"),this.editor.container.appendChild(this.screenReaderDiv)}return k.prototype.setScreenReaderContent=function(I){for(!this.popup&&this.editor.completer&&this.editor.completer.popup&&(this.popup=this.editor.completer.popup,this.popup.renderer.on("afterRender",function(){var p=this.popup.getRow(),d=this.popup.renderer.$textLayer,j=d.element.childNodes[p-d.config.firstRow];if(j){for(var ie="doc-tooltip ",ge=0;ge<this._lines.length;ge++)ie+="ace-inline-screenreader-line-".concat(ge," ");j.setAttribute("aria-describedby",ie)}}.bind(this)));this.screenReaderDiv.firstChild;)this.screenReaderDiv.removeChild(this.screenReaderDiv.firstChild);this._lines=I.split(/\r\n|\r|\n/);var u=this.createCodeBlock();this.screenReaderDiv.appendChild(u)},k.prototype.destroy=function(){this.screenReaderDiv.remove()},k.prototype.createCodeBlock=function(){var I=document.createElement("pre");I.setAttribute("id","ace-inline-screenreader");for(var u=0;u<this._lines.length;u++){var p=document.createElement("code");p.setAttribute("id","ace-inline-screenreader-line-".concat(u));var d=document.createTextNode(this._lines[u]);p.appendChild(d),I.appendChild(p)}return I},k}();l.AceInlineScreenReader=b}),ace.define("ace/autocomplete/inline",["require","exports","module","ace/snippets","ace/autocomplete/inline_screenreader"],function(f,l,E){"use strict";var b=f("../snippets").snippetManager,k=f("./inline_screenreader").AceInlineScreenReader,I=function(){function u(){this.editor=null}return u.prototype.show=function(p,d,j){if(j=j||"",p&&this.editor&&this.editor!==p&&(this.hide(),this.editor=null,this.inlineScreenReader=null),!p||!d)return!1;this.inlineScreenReader||(this.inlineScreenReader=new k(p));var ie=d.snippet?b.getDisplayTextForSnippet(p,d.snippet):d.value;return d.hideInlinePreview||!ie||!ie.startsWith(j)?!1:(this.editor=p,this.inlineScreenReader.setScreenReaderContent(ie),ie=ie.slice(j.length),ie===""?p.removeGhostText():p.setGhostText(ie),!0)},u.prototype.isOpen=function(){return this.editor?!!this.editor.renderer.$ghostText:!1},u.prototype.hide=function(){return this.editor?(this.editor.removeGhostText(),!0):!1},u.prototype.destroy=function(){this.hide(),this.editor=null,this.inlineScreenReader&&(this.inlineScreenReader.destroy(),this.inlineScreenReader=null)},u}();l.AceInline=I}),ace.define("ace/autocomplete/util",["require","exports","module"],function(f,l,E){"use strict";l.parForEach=function(k,I,u){var p=0,d=k.length;d===0&&u();for(var j=0;j<d;j++)I(k[j],function(ie,ge){p++,p===d&&u(ie,ge)})};var b=/[a-zA-Z_0-9\$\-\u00A2-\u2000\u2070-\uFFFF]/;l.retrievePrecedingIdentifier=function(k,I,u){u=u||b;for(var p=[],d=I-1;d>=0&&u.test(k[d]);d--)p.push(k[d]);return p.reverse().join("")},l.retrieveFollowingIdentifier=function(k,I,u){u=u||b;for(var p=[],d=I;d<k.length&&u.test(k[d]);d++)p.push(k[d]);return p},l.getCompletionPrefix=function(k){var I=k.getCursorPosition(),u=k.session.getLine(I.row),p;return k.completers.forEach(function(d){d.identifierRegexps&&d.identifierRegexps.forEach(function(j){!p&&j&&(p=this.retrievePrecedingIdentifier(u,I.column,j))}.bind(this))}.bind(this)),p||this.retrievePrecedingIdentifier(u,I.column)},l.triggerAutocomplete=function(k,u){var u=u==null?k.session.getPrecedingCharacter():u;return k.completers.some(function(p){if(p.triggerCharacters&&Array.isArray(p.triggerCharacters))return p.triggerCharacters.includes(u)})}}),ace.define("ace/autocomplete",["require","exports","module","ace/keyboard/hash_handler","ace/autocomplete/popup","ace/autocomplete/inline","ace/autocomplete/popup","ace/autocomplete/util","ace/lib/lang","ace/lib/dom","ace/snippets","ace/config","ace/lib/event","ace/lib/scroll"],function(f,l,E){"use strict";var b=f("./keyboard/hash_handler").HashHandler,k=f("./autocomplete/popup").AcePopup,I=f("./autocomplete/inline").AceInline,u=f("./autocomplete/popup").getAriaId,p=f("./autocomplete/util"),d=f("./lib/lang"),j=f("./lib/dom"),ie=f("./snippets").snippetManager,ge=f("./config"),Fe=f("./lib/event"),ae=f("./lib/scroll").preventParentScroll,me=function(L,M){M.completer&&M.completer.destroy()},Be=function(){function L(){this.autoInsert=!1,this.autoSelect=!0,this.autoShown=!1,this.exactMatch=!1,this.inlineEnabled=!1,this.keyboardHandler=new b,this.keyboardHandler.bindKeys(this.commands),this.parentNode=null,this.setSelectOnHover=!1,this.hasSeen=new Set,this.showLoadingState=!1,this.stickySelectionDelay=500,this.blurListener=this.blurListener.bind(this),this.changeListener=this.changeListener.bind(this),this.mousedownListener=this.mousedownListener.bind(this),this.mousewheelListener=this.mousewheelListener.bind(this),this.onLayoutChange=this.onLayoutChange.bind(this),this.changeTimer=d.delayedCall(function(){this.updateCompletions(!0)}.bind(this)),this.tooltipTimer=d.delayedCall(this.updateDocTooltip.bind(this),50),this.popupTimer=d.delayedCall(this.$updatePopupPosition.bind(this),50),this.stickySelectionTimer=d.delayedCall(function(){this.stickySelection=!0}.bind(this),this.stickySelectionDelay),this.$firstOpenTimer=d.delayedCall(function(){var M=this.completionProvider&&this.completionProvider.initialPosition;this.autoShown||this.popup&&this.popup.isOpen||!M||this.editor.completers.length===0||(this.completions=new v(L.completionsForLoading),this.openPopup(this.editor,M.prefix,!1),this.popup.renderer.setStyle("ace_loading",!0))}.bind(this),this.stickySelectionDelay)}return Object.defineProperty(L,"completionsForLoading",{get:function(){return[{caption:ge.nls("autocomplete.loading","Loading..."),value:""}]},enumerable:!1,configurable:!0}),L.prototype.$init=function(){return this.popup=new k(this.parentNode||document.body||document.documentElement),this.popup.on("click",function(M){this.insertMatch(),M.stop()}.bind(this)),this.popup.focus=this.editor.focus.bind(this.editor),this.popup.on("show",this.$onPopupShow.bind(this)),this.popup.on("hide",this.$onHidePopup.bind(this)),this.popup.on("select",this.$onPopupChange.bind(this)),Fe.addListener(this.popup.container,"mouseout",this.mouseOutListener.bind(this)),this.popup.on("changeHoverMarker",this.tooltipTimer.bind(null,null)),this.popup.renderer.on("afterRender",this.$onPopupRender.bind(this)),this.popup},L.prototype.$initInline=function(){if(!(!this.inlineEnabled||this.inlineRenderer))return this.inlineRenderer=new I,this.inlineRenderer},L.prototype.getPopup=function(){return this.popup||this.$init()},L.prototype.$onHidePopup=function(){this.inlineRenderer&&this.inlineRenderer.hide(),this.hideDocTooltip(),this.stickySelectionTimer.cancel(),this.popupTimer.cancel(),this.stickySelection=!1},L.prototype.$seen=function(M){!this.hasSeen.has(M)&&M&&M.completer&&M.completer.onSeen&&typeof M.completer.onSeen=="function"&&(M.completer.onSeen(this.editor,M),this.hasSeen.add(M))},L.prototype.$onPopupChange=function(M){if(this.inlineRenderer&&this.inlineEnabled){var m=M?null:this.popup.getData(this.popup.getRow());if(this.$updateGhostText(m),this.popup.isMouseOver&&this.setSelectOnHover){this.tooltipTimer.call(null,null);return}this.popupTimer.schedule(),this.tooltipTimer.schedule()}else this.popupTimer.call(null,null),this.tooltipTimer.call(null,null)},L.prototype.$updateGhostText=function(M){var m=this.base.row,A=this.base.column,C=this.editor.getCursorPosition().column,N=this.editor.session.getLine(m).slice(A,C);this.inlineRenderer.show(this.editor,M,N)?this.$seen(M):this.inlineRenderer.hide()},L.prototype.$onPopupRender=function(){var M=this.inlineRenderer&&this.inlineEnabled;if(this.completions&&this.completions.filtered&&this.completions.filtered.length>0)for(var m=this.popup.getFirstVisibleRow();m<=this.popup.getLastVisibleRow();m++){var A=this.popup.getData(m);A&&(!M||A.hideInlinePreview)&&this.$seen(A)}},L.prototype.$onPopupShow=function(M){this.$onPopupChange(M),this.stickySelection=!1,this.stickySelectionDelay>=0&&this.stickySelectionTimer.schedule(this.stickySelectionDelay)},L.prototype.observeLayoutChanges=function(){if(!(this.$elements||!this.editor)){window.addEventListener("resize",this.onLayoutChange,{passive:!0}),window.addEventListener("wheel",this.mousewheelListener);for(var M=this.editor.container.parentNode,m=[];M;)m.push(M),M.addEventListener("scroll",this.onLayoutChange,{passive:!0}),M=M.parentNode;this.$elements=m}},L.prototype.unObserveLayoutChanges=function(){var M=this;window.removeEventListener("resize",this.onLayoutChange,{passive:!0}),window.removeEventListener("wheel",this.mousewheelListener),this.$elements&&this.$elements.forEach(function(m){m.removeEventListener("scroll",M.onLayoutChange,{passive:!0})}),this.$elements=null},L.prototype.onLayoutChange=function(){if(!this.popup.isOpen)return this.unObserveLayoutChanges();this.$updatePopupPosition(),this.updateDocTooltip()},L.prototype.$updatePopupPosition=function(){var M=this.editor,m=M.renderer,A=m.layerConfig.lineHeight,C=m.$cursorLayer.getPixelPosition(this.base,!0);C.left-=this.popup.getTextLeftOffset();var N=M.container.getBoundingClientRect();C.top+=N.top-m.layerConfig.offset,C.left+=N.left-M.renderer.scrollLeft,C.left+=m.gutterWidth;var O={top:C.top,left:C.left};m.$ghostText&&m.$ghostTextWidget&&this.base.row===m.$ghostText.position.row&&(O.top+=m.$ghostTextWidget.el.offsetHeight);var Q=M.container.getBoundingClientRect().bottom-A,te=Q<O.top?{top:Q,left:O.left}:O;this.popup.tryShow(te,A,"bottom")||this.popup.tryShow(C,A,"top")||this.popup.show(C,A)},L.prototype.openPopup=function(M,m,A){this.$firstOpenTimer.cancel(),this.popup||this.$init(),this.inlineEnabled&&!this.inlineRenderer&&this.$initInline(),this.popup.autoSelect=this.autoSelect,this.popup.setSelectOnHover(this.setSelectOnHover);var C=this.popup.getRow(),N=this.popup.data[C];this.popup.setData(this.completions.filtered,this.completions.filterText),this.editor.textInput.setAriaOptions&&this.editor.textInput.setAriaOptions({activeDescendant:u(this.popup.getRow()),inline:this.inlineEnabled}),M.keyBinding.addKeyboardHandler(this.keyboardHandler);var O;this.stickySelection&&(O=this.popup.data.indexOf(N)),(!O||O===-1)&&(O=0),this.popup.setRow(this.autoSelect?O:-1),O===C&&N!==this.completions.filtered[O]&&this.$onPopupChange();var Q=this.inlineRenderer&&this.inlineEnabled;if(O===C&&Q){var te=this.popup.getData(this.popup.getRow());this.$updateGhostText(te)}A||(this.popup.setTheme(M.getTheme()),this.popup.setFontSize(M.getFontSize()),this.$updatePopupPosition(),this.tooltipNode&&this.updateDocTooltip()),this.changeTimer.cancel(),this.observeLayoutChanges()},L.prototype.detach=function(){this.editor&&(this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.off("changeSelection",this.changeListener),this.editor.off("blur",this.blurListener),this.editor.off("mousedown",this.mousedownListener),this.editor.off("mousewheel",this.mousewheelListener)),this.$firstOpenTimer.cancel(),this.changeTimer.cancel(),this.hideDocTooltip(),this.completionProvider&&this.completionProvider.detach(),this.popup&&this.popup.isOpen&&this.popup.hide(),this.popup&&this.popup.renderer&&this.popup.renderer.off("afterRender",this.$onPopupRender),this.base&&this.base.detach(),this.activated=!1,this.completionProvider=this.completions=this.base=null,this.unObserveLayoutChanges()},L.prototype.changeListener=function(M){var m=this.editor.selection.lead;(m.row!=this.base.row||m.column<this.base.column)&&this.detach(),this.activated?this.changeTimer.schedule():this.detach()},L.prototype.blurListener=function(M){var m=document.activeElement,A=this.editor.textInput.getElement(),C=M.relatedTarget&&this.tooltipNode&&this.tooltipNode.contains(M.relatedTarget),N=this.popup&&this.popup.container;m!=A&&m.parentNode!=N&&!C&&m!=this.tooltipNode&&M.relatedTarget!=A&&this.detach()},L.prototype.mousedownListener=function(M){this.detach()},L.prototype.mousewheelListener=function(M){this.popup&&!this.popup.isMouseOver&&this.detach()},L.prototype.mouseOutListener=function(M){this.popup.isOpen&&this.$updatePopupPosition()},L.prototype.goTo=function(M){this.popup.goTo(M)},L.prototype.insertMatch=function(M,m){if(M||(M=this.popup.getData(this.popup.getRow())),!M)return!1;if(M.value==="")return this.detach();var A=this.completions,C=this.getCompletionProvider().insertMatch(this.editor,M,A.filterText,m);return this.completions==A&&this.detach(),C},L.prototype.showPopup=function(M,m){this.editor&&this.detach(),this.activated=!0,this.editor=M,M.completer!=this&&(M.completer&&M.completer.detach(),M.completer=this),M.on("changeSelection",this.changeListener),M.on("blur",this.blurListener),M.on("mousedown",this.mousedownListener),M.on("mousewheel",this.mousewheelListener),this.updateCompletions(!1,m)},L.prototype.getCompletionProvider=function(M){return this.completionProvider||(this.completionProvider=new Qe(M)),this.completionProvider},L.prototype.gatherCompletions=function(M,m){return this.getCompletionProvider().gatherCompletions(M,m)},L.prototype.updateCompletions=function(M,m){if(M&&this.base&&this.completions){var C=this.editor.getCursorPosition(),N=this.editor.session.getTextRange({start:this.base,end:C});if(N==this.completions.filterText)return;if(this.completions.setFilter(N),!this.completions.filtered.length)return this.detach();if(this.completions.filtered.length==1&&this.completions.filtered[0].value==N&&!this.completions.filtered[0].snippet)return this.detach();this.openPopup(this.editor,N,M);return}if(m&&m.matches){var C=this.editor.getSelectionRange().start;return this.base=this.editor.session.doc.createAnchor(C.row,C.column),this.base.$insertRight=!0,this.completions=new v(m.matches),this.getCompletionProvider().completions=this.completions,this.openPopup(this.editor,"",M)}var A=this.editor.getSession(),C=this.editor.getCursorPosition(),N=p.getCompletionPrefix(this.editor);this.base=A.doc.createAnchor(C.row,C.column-N.length),this.base.$insertRight=!0;var O={exactMatch:this.exactMatch,ignoreCaption:this.ignoreCaption};this.getCompletionProvider({prefix:N,pos:C}).provideCompletions(this.editor,O,function(Q,te,H){var $=te.filtered,U=p.getCompletionPrefix(this.editor);if(this.$firstOpenTimer.cancel(),H){if(!$.length){var ue=!this.autoShown&&this.emptyMessage;if(typeof ue=="function"&&(ue=this.emptyMessage(U)),ue){var Ke=[{caption:ue,value:""}];this.completions=new v(Ke),this.openPopup(this.editor,U,M),this.popup.renderer.setStyle("ace_loading",!1),this.popup.renderer.setStyle("ace_empty-message",!0);return}return this.detach()}if($.length==1&&$[0].value==U&&!$[0].snippet)return this.detach();if(this.autoInsert&&!this.autoShown&&$.length==1)return this.insertMatch($[0])}this.completions=!H&&this.showLoadingState?new v(L.completionsForLoading.concat($),te.filterText):te,this.openPopup(this.editor,U,M),this.popup.renderer.setStyle("ace_empty-message",!1),this.popup.renderer.setStyle("ace_loading",!H)}.bind(this)),this.showLoadingState&&!this.autoShown&&(!this.popup||!this.popup.isOpen)&&this.$firstOpenTimer.delay(this.stickySelectionDelay/2)},L.prototype.cancelContextMenu=function(){this.editor.$mouseHandler.cancelContextMenu()},L.prototype.updateDocTooltip=function(){var M=this.popup,m=this.completions.filtered,A=m&&(m[M.getHoveredRow()]||m[M.getRow()]),C=null;if(!A||!this.editor||!this.popup.isOpen)return this.hideDocTooltip();for(var N=this.editor.completers.length,O=0;O<N;O++){var Q=this.editor.completers[O];if(Q.getDocTooltip&&A.completerId===Q.id){C=Q.getDocTooltip(A);break}}if(!C&&typeof A!="string"&&(C=A),typeof C=="string"&&(C={docText:C}),!C||!C.docHTML&&!C.docText)return this.hideDocTooltip();this.showDocTooltip(C)},L.prototype.showDocTooltip=function(M){this.tooltipNode||(this.tooltipNode=j.createElement("div"),this.tooltipNode.style.margin="0",this.tooltipNode.style.pointerEvents="auto",this.tooltipNode.style.overscrollBehavior="contain",this.tooltipNode.tabIndex=-1,this.tooltipNode.onblur=this.blurListener.bind(this),this.tooltipNode.onclick=this.onTooltipClick.bind(this),this.tooltipNode.id="doc-tooltip",this.tooltipNode.setAttribute("role","tooltip"),this.tooltipNode.addEventListener("wheel",ae));var m=this.editor.renderer.theme;this.tooltipNode.className="ace_tooltip ace_doc-tooltip "+(m.isDark?"ace_dark ":"")+(m.cssClass||"");var A=this.tooltipNode;M.docHTML?A.innerHTML=M.docHTML:M.docText&&(A.textContent=M.docText),A.parentNode||this.popup.container.appendChild(this.tooltipNode);var C=this.popup,N=C.container.getBoundingClientRect();A.style.top=C.container.style.top,A.style.bottom=C.container.style.bottom,A.style.display="block",window.innerWidth-N.right<320?N.left<320?C.isTopdown?(A.style.top=N.bottom+"px",A.style.left=N.left+"px",A.style.right="",A.style.bottom=""):(A.style.top=C.container.offsetTop-A.offsetHeight+"px",A.style.left=N.left+"px",A.style.right="",A.style.bottom=""):(A.style.right=window.innerWidth-N.left+"px",A.style.left=""):(A.style.left=N.right+1+"px",A.style.right="")},L.prototype.hideDocTooltip=function(){if(this.tooltipTimer.cancel(),!!this.tooltipNode){var M=this.tooltipNode;!this.editor.isFocused()&&document.activeElement==M&&this.editor.focus(),this.tooltipNode=null,M.parentNode&&M.parentNode.removeChild(M)}},L.prototype.onTooltipClick=function(M){for(var m=M.target;m&&m!=this.tooltipNode;){if(m.nodeName=="A"&&m.href){m.rel="noreferrer",m.target="_blank";break}m=m.parentNode}},L.prototype.destroy=function(){if(this.detach(),this.popup){this.popup.destroy();var M=this.popup.container;M&&M.parentNode&&M.parentNode.removeChild(M)}this.editor&&this.editor.completer==this&&(this.editor.off("destroy",me),this.editor.completer=null),this.inlineRenderer=this.popup=this.editor=null},L}();Be.prototype.commands={Up:function(L){L.completer.goTo("up")},Down:function(L){L.completer.goTo("down")},"Ctrl-Up|Ctrl-Home":function(L){L.completer.goTo("start")},"Ctrl-Down|Ctrl-End":function(L){L.completer.goTo("end")},Esc:function(L){L.completer.detach()},Return:function(L){return L.completer.insertMatch()},"Shift-Return":function(L){L.completer.insertMatch(null,{deleteSuffix:!0})},Tab:function(L){var M=L.completer.insertMatch();if(M||L.tabstopManager)return M;L.completer.goTo("down")},Backspace:function(L){L.execCommand("backspace");var M=p.getCompletionPrefix(L);!M&&L.completer&&L.completer.detach()},PageUp:function(L){L.completer.popup.gotoPageUp()},PageDown:function(L){L.completer.popup.gotoPageDown()}},Be.for=function(L){return L.completer instanceof Be||(L.completer&&(L.completer.destroy(),L.completer=null),ge.get("sharedPopups")?(Be.$sharedInstance||(Be.$sharedInstance=new Be),L.completer=Be.$sharedInstance):(L.completer=new Be,L.once("destroy",me))),L.completer},Be.startCommand={name:"startAutocomplete",exec:function(L,M){var m=Be.for(L);m.autoInsert=!1,m.autoSelect=!0,m.autoShown=!1,m.showPopup(L,M),m.cancelContextMenu()},bindKey:"Ctrl-Space|Ctrl-Shift-Space|Alt-Space"};var Qe=function(){function L(M){this.initialPosition=M,this.active=!0}return L.prototype.insertByIndex=function(M,m,A){return!this.completions||!this.completions.filtered?!1:this.insertMatch(M,this.completions.filtered[m],A)},L.prototype.insertMatch=function(M,m,A){if(!m)return!1;if(M.startOperation({command:{name:"insertMatch"}}),m.completer&&m.completer.insertMatch)m.completer.insertMatch(M,m);else{if(!this.completions)return!1;var C=this.completions.filterText.length,N=0;if(m.range&&m.range.start.row===m.range.end.row&&(C-=this.initialPosition.prefix.length,C+=this.initialPosition.pos.column-m.range.start.column,N+=m.range.end.column-this.initialPosition.pos.column),C||N){var O;M.selection.getAllRanges?O=M.selection.getAllRanges():O=[M.getSelectionRange()];for(var Q=0,te;te=O[Q];Q++)te.start.column-=C,te.end.column+=N,M.session.remove(te)}m.snippet?ie.insertSnippet(M,m.snippet):this.$insertString(M,m),m.completer&&m.completer.onInsert&&typeof m.completer.onInsert=="function"&&m.completer.onInsert(M,m),m.command&&m.command==="startAutocomplete"&&M.execCommand(m.command)}return M.endOperation(),!0},L.prototype.$insertString=function(M,m){var A=m.value||m;M.execCommand("insertstring",A)},L.prototype.gatherCompletions=function(M,m){var A=M.getSession(),C=M.getCursorPosition(),N=p.getCompletionPrefix(M),O=[];this.completers=M.completers;var Q=M.completers.length;return M.completers.forEach(function(te,H){te.getCompletions(M,A,C,N,function($,U){te.hideInlinePreview&&(U=U.map(function(ue){return Object.assign(ue,{hideInlinePreview:te.hideInlinePreview})})),!$&&U&&(O=O.concat(U)),m(null,{prefix:p.getCompletionPrefix(M),matches:O,finished:--Q===0})})}),!0},L.prototype.provideCompletions=function(M,m,A){var C=function(te){var H=te.prefix,$=te.matches;this.completions=new v($),m.exactMatch&&(this.completions.exactMatch=!0),m.ignoreCaption&&(this.completions.ignoreCaption=!0),this.completions.setFilter(H),(te.finished||this.completions.filtered.length)&&A(null,this.completions,te.finished)}.bind(this),N=!0,O=null;if(this.gatherCompletions(M,function(te,H){if(this.active){te&&(A(te,[],!0),this.detach());var $=H.prefix;if($.indexOf(H.prefix)===0){if(N){O=H;return}C(H)}}}.bind(this)),N=!1,O){var Q=O;O=null,C(Q)}},L.prototype.detach=function(){this.active=!1,this.completers&&this.completers.forEach(function(M){typeof M.cancel=="function"&&M.cancel()})},L}(),v=function(){function L(M,m){this.all=M,this.filtered=M,this.filterText=m||"",this.exactMatch=!1,this.ignoreCaption=!1}return L.prototype.setFilter=function(M){if(M.length>this.filterText&&M.lastIndexOf(this.filterText,0)===0)var m=this.filtered;else var m=this.all;this.filterText=M,m=this.filterCompletions(m,this.filterText),m=m.sort(function(C,N){return N.exactMatch-C.exactMatch||N.$score-C.$score||(C.caption||C.value).localeCompare(N.caption||N.value)});var A=null;m=m.filter(function(C){var N=C.snippet||C.caption||C.value;return N===A?!1:(A=N,!0)}),this.filtered=m},L.prototype.filterCompletions=function(M,m){var A=[],C=m.toUpperCase(),N=m.toLowerCase();e:for(var O=0,Q;Q=M[O];O++){var te=!this.ignoreCaption&&Q.caption||Q.value||Q.snippet;if(te){var H=-1,$=0,U=0,ue,Ke;if(this.exactMatch){if(m!==te.substr(0,m.length))continue e}else{var Te=te.toLowerCase().indexOf(N);if(Te>-1)U=Te;else for(var qe=0;qe<m.length;qe++){var st=te.indexOf(N[qe],H+1),ce=te.indexOf(C[qe],H+1);if(ue=st>=0&&(ce<0||st<ce)?st:ce,ue<0)continue e;Ke=ue-H-1,Ke>0&&(H===-1&&(U+=10),U+=Ke,$|=1<<qe),H=ue}}Q.matchMask=$,Q.exactMatch=U?0:1,Q.$score=(Q.score||0)-U,A.push(Q)}}return A},L}();l.Autocomplete=Be,l.CompletionProvider=Qe,l.FilteredList=v}),ace.define("ace/autocomplete/text_completer",["require","exports","module","ace/range"],function(f,l,E){function b(p,d){var j=p.getTextRange(I.fromPoints({row:0,column:0},d));return j.split(u).length-1}function k(p,d){var j=b(p,d),ie=p.getValue().split(u),ge=Object.create(null),Fe=ie[j];return ie.forEach(function(ae,me){if(!(!ae||ae===Fe)){var Be=Math.abs(j-me),Qe=ie.length-Be;ge[ae]?ge[ae]=Math.max(Qe,ge[ae]):ge[ae]=Qe}}),ge}var I=f("../range").Range,u=/[^a-zA-Z_0-9\$\-\u00C0-\u1FFF\u2C00-\uD7FF\w]+/;l.getCompletions=function(p,d,j,ie,ge){var Fe=k(d,j),ae=Object.keys(Fe);ge(null,ae.map(function(me){return{caption:me,value:me,score:Fe[me],meta:"local"}}))}}),ace.define("ace/ext/language_tools",["require","exports","module","ace/snippets","ace/autocomplete","ace/config","ace/lib/lang","ace/autocomplete/util","ace/autocomplete/text_completer","ace/editor","ace/config"],function(f,l,E){"use strict";var b=f("../snippets").snippetManager,k=f("../autocomplete").Autocomplete,I=f("../config"),u=f("../lib/lang"),p=f("../autocomplete/util"),d=f("../autocomplete/text_completer"),j={getCompletions:function(C,N,O,Q,te){if(N.$mode.completer)return N.$mode.completer.getCompletions(C,N,O,Q,te);var H=C.session.getState(O.row),$=N.$mode.getCompletions(H,N,O,Q);$=$.map(function(U){return U.completerId=j.id,U}),te(null,$)},id:"keywordCompleter"},ie=function(C){var N={};return C.replace(/\${(\d+)(:(.*?))?}/g,function(O,Q,te,H){return N[Q]=H||""}).replace(/\$(\d+?)/g,function(O,Q){return N[Q]})},ge={getCompletions:function(C,N,O,Q,te){var H=[],$=N.getTokenAt(O.row,O.column);$&&$.type.match(/(tag-name|tag-open|tag-whitespace|attribute-name|attribute-value)\.xml$/)?H.push("html-tag"):H=b.getActiveScopes(C);var U=b.snippetMap,ue=[];H.forEach(function(Ke){for(var Te=U[Ke]||[],qe=Te.length;qe--;){var st=Te[qe],ce=st.name||st.tabTrigger;ce&&ue.push({caption:ce,snippet:st.content,meta:st.tabTrigger&&!st.name?st.tabTrigger+"\u21E5 ":"snippet",completerId:ge.id})}},this),te(null,ue)},getDocTooltip:function(C){C.snippet&&!C.docHTML&&(C.docHTML=["<b>",u.escapeHTML(C.caption),"</b>","<hr></hr>",u.escapeHTML(ie(C.snippet))].join(""))},id:"snippetCompleter"},Fe=[ge,d,j];l.setCompleters=function(C){Fe.length=0,C&&Fe.push.apply(Fe,C)},l.addCompleter=function(C){Fe.push(C)},l.textCompleter=d,l.keyWordCompleter=j,l.snippetCompleter=ge;var ae={name:"expandSnippet",exec:function(C){return b.expandWithTab(C)},bindKey:"Tab"},me=function(C,N){Be(N.session.$mode)},Be=function(C){typeof C=="string"&&(C=I.$modes[C]),C&&(b.files||(b.files={}),Qe(C.$id,C.snippetFileId),C.modes&&C.modes.forEach(Be))},Qe=function(C,N){!N||!C||b.files[C]||(b.files[C]={},I.loadModule(N,function(O){O&&(b.files[C]=O,!O.snippets&&O.snippetText&&(O.snippets=b.parseSnippetFile(O.snippetText)),b.register(O.snippets||[],O.scope),O.includeScopes&&(b.snippetMap[O.scope].includeScopes=O.includeScopes,O.includeScopes.forEach(function(Q){Be("ace/mode/"+Q)})))}))},v=function(C){var N=C.editor,O=N.completer&&N.completer.activated;if(C.command.name==="backspace")O&&!p.getCompletionPrefix(N)&&N.completer.detach();else if(C.command.name==="insertstring"&&!O){L=C;var Q=C.editor.$liveAutocompletionDelay;Q?M.delay(Q):m(C)}},L,M=u.delayedCall(function(){m(L)},0),m=function(C){var N=C.editor,O=p.getCompletionPrefix(N),Q=C.args,te=p.triggerAutocomplete(N,Q);if(O&&O.length>=N.$liveAutocompletionThreshold||te){var H=k.for(N);H.autoShown=!0,H.showPopup(N)}},A=f("../editor").Editor;f("../config").defineOptions(A.prototype,"editor",{enableBasicAutocompletion:{set:function(C){C?(this.completers||(this.completers=Array.isArray(C)?C:Fe),this.commands.addCommand(k.startCommand)):this.commands.removeCommand(k.startCommand)},value:!1},enableLiveAutocompletion:{set:function(C){C?(this.completers||(this.completers=Array.isArray(C)?C:Fe),this.commands.on("afterExec",v)):this.commands.off("afterExec",v)},value:!1},liveAutocompletionDelay:{initialValue:0},liveAutocompletionThreshold:{initialValue:0},enableSnippets:{set:function(C){C?(this.commands.addCommand(ae),this.on("changeMode",me),me(null,this)):(this.commands.removeCommand(ae),this.off("changeMode",me))},value:!1}})}),function(){ace.require(["ace/ext/language_tools"],function(f){le&&(le.exports=f)})}()},97726:(le,Ie,J)=>{le=J.nmd(le),ace.define("ace/mode/json_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(f,l,E){"use strict";var b=f("../lib/oop"),k=f("./text_highlight_rules").TextHighlightRules,I=function(){this.$rules={start:[{token:"variable",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]\\s*(?=:)'},{token:"string",regex:'"',next:"string"},{token:"constant.numeric",regex:"0[xX][0-9a-fA-F]+\\b"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:"constant.language.boolean",regex:"(?:true|false)\\b"},{token:"text",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"comment",regex:"\\/\\/.*$"},{token:"comment.start",regex:"\\/\\*",next:"comment"},{token:"paren.lparen",regex:"[[({]"},{token:"paren.rparen",regex:"[\\])}]"},{token:"punctuation.operator",regex:/[,]/},{token:"text",regex:"\\s+"}],string:[{token:"constant.language.escape",regex:/\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|["\\\/bfnrt])/},{token:"string",regex:'"|$',next:"start"},{defaultToken:"string"}],comment:[{token:"comment.end",regex:"\\*\\/",next:"start"},{defaultToken:"comment"}]}};b.inherits(I,k),l.JsonHighlightRules=I}),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(f,l,E){"use strict";var b=f("../range").Range,k=function(){};(function(){this.checkOutdent=function(I,u){return/^\s+$/.test(I)?/^\s*\}/.test(u):!1},this.autoOutdent=function(I,u){var p=I.getLine(u),d=p.match(/^(\s*\})/);if(!d)return 0;var j=d[1].length,ie=I.findMatchingBracket({row:u,column:j});if(!ie||ie.row==u)return 0;var ge=this.$getIndent(I.getLine(ie.row));I.replace(new b(u,0,u,j-1),ge)},this.$getIndent=function(I){return I.match(/^\s*/)[0]}}).call(k.prototype),l.MatchingBraceOutdent=k}),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(f,l,E){"use strict";var b=f("../../lib/oop"),k=f("../../range").Range,I=f("./fold_mode").FoldMode,u=l.FoldMode=function(p){p&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+p.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+p.end)))};b.inherits(u,I),function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(p,d,j){var ie=p.getLine(j);if(this.singleLineBlockCommentRe.test(ie)&&!this.startRegionRe.test(ie)&&!this.tripleStarBlockCommentRe.test(ie))return"";var ge=this._getFoldWidgetBase(p,d,j);return!ge&&this.startRegionRe.test(ie)?"start":ge},this.getFoldWidgetRange=function(p,d,j,ie){var ge=p.getLine(j);if(this.startRegionRe.test(ge))return this.getCommentRegionBlock(p,ge,j);var me=ge.match(this.foldingStartMarker);if(me){var Fe=me.index;if(me[1])return this.openingBracketBlock(p,me[1],j,Fe);var ae=p.getCommentFoldRange(j,Fe+me[0].length,1);return ae&&!ae.isMultiLine()&&(ie?ae=this.getSectionRange(p,j):d!="all"&&(ae=null)),ae}if(d!=="markbegin"){var me=ge.match(this.foldingStopMarker);if(me){var Fe=me.index+me[0].length;return me[1]?this.closingBracketBlock(p,me[1],j,Fe):p.getCommentFoldRange(j,Fe,-1)}}},this.getSectionRange=function(p,d){var j=p.getLine(d),ie=j.search(/\S/),ge=d,Fe=j.length;d+=1;for(var ae=d,me=p.getLength();++d<me;){j=p.getLine(d);var Be=j.search(/\S/);if(Be!==-1){if(ie>Be)break;var Qe=this.getFoldWidgetRange(p,"all",d);if(Qe){if(Qe.start.row<=ge)break;if(Qe.isMultiLine())d=Qe.end.row;else if(ie==Be)break}ae=d}}return new k(ge,Fe,ae,p.getLine(ae).length)},this.getCommentRegionBlock=function(p,d,j){for(var ie=d.search(/\s*$/),ge=p.getLength(),Fe=j,ae=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,me=1;++j<ge;){d=p.getLine(j);var Be=ae.exec(d);if(Be&&(Be[1]?me--:me++,!me))break}var Qe=j;if(Qe>Fe)return new k(Fe,ie,Qe,d.length)}}.call(u.prototype)}),ace.define("ace/mode/json",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/json_highlight_rules","ace/mode/matching_brace_outdent","ace/mode/folding/cstyle","ace/worker/worker_client"],function(f,l,E){"use strict";var b=f("../lib/oop"),k=f("./text").Mode,I=f("./json_highlight_rules").JsonHighlightRules,u=f("./matching_brace_outdent").MatchingBraceOutdent,p=f("./folding/cstyle").FoldMode,d=f("../worker/worker_client").WorkerClient,j=function(){this.HighlightRules=I,this.$outdent=new u,this.$behaviour=this.$defaultBehaviour,this.foldingRules=new p};b.inherits(j,k),function(){this.lineCommentStart="//",this.blockComment={start:"/*",end:"*/"},this.getNextLineIndent=function(ie,ge,Fe){var ae=this.$getIndent(ge);if(ie=="start"){var me=ge.match(/^.*[\{\(\[]\s*$/);me&&(ae+=Fe)}return ae},this.checkOutdent=function(ie,ge,Fe){return this.$outdent.checkOutdent(ge,Fe)},this.autoOutdent=function(ie,ge,Fe){this.$outdent.autoOutdent(ge,Fe)},this.createWorker=function(ie){var ge=new d(["ace"],"ace/mode/json_worker","JsonWorker");return ge.attachToDocument(ie.getDocument()),ge.on("annotate",function(Fe){ie.setAnnotations(Fe.data)}),ge.on("terminate",function(){ie.clearAnnotations()}),ge},this.$id="ace/mode/json"}.call(j.prototype),l.Mode=j}),function(){ace.require(["ace/mode/json"],function(f){le&&(le.exports=f)})}()},44210:(le,Ie,J)=>{le=J.nmd(le),ace.define("ace/theme/chrome-css",["require","exports","module"],function(f,l,E){E.exports=`.ace-chrome .ace_gutter {
  background: #ebebeb;
  color: #333;
  overflow : hidden;
}

.ace-chrome .ace_print-margin {
  width: 1px;
  background: #e8e8e8;
}

.ace-chrome {
  background-color: #FFFFFF;
  color: black;
}

.ace-chrome .ace_cursor {
  color: black;
}

.ace-chrome .ace_invisible {
  color: rgb(191, 191, 191);
}

.ace-chrome .ace_constant.ace_buildin {
  color: rgb(88, 72, 246);
}

.ace-chrome .ace_constant.ace_language {
  color: rgb(88, 92, 246);
}

.ace-chrome .ace_constant.ace_library {
  color: rgb(6, 150, 14);
}

.ace-chrome .ace_invalid {
  background-color: rgb(153, 0, 0);
  color: white;
}

.ace-chrome .ace_fold {
}

.ace-chrome .ace_support.ace_function {
  color: rgb(60, 76, 114);
}

.ace-chrome .ace_support.ace_constant {
  color: rgb(6, 150, 14);
}

.ace-chrome .ace_support.ace_type,
.ace-chrome .ace_support.ace_class
.ace-chrome .ace_support.ace_other {
  color: rgb(109, 121, 222);
}

.ace-chrome .ace_variable.ace_parameter {
  font-style:italic;
  color:#FD971F;
}
.ace-chrome .ace_keyword.ace_operator {
  color: rgb(104, 118, 135);
}

.ace-chrome .ace_comment {
  color: #236e24;
}

.ace-chrome .ace_comment.ace_doc {
  color: #236e24;
}

.ace-chrome .ace_comment.ace_doc.ace_tag {
  color: #236e24;
}

.ace-chrome .ace_constant.ace_numeric {
  color: rgb(0, 0, 205);
}

.ace-chrome .ace_variable {
  color: rgb(49, 132, 149);
}

.ace-chrome .ace_xml-pe {
  color: rgb(104, 104, 91);
}

.ace-chrome .ace_entity.ace_name.ace_function {
  color: #0000A2;
}


.ace-chrome .ace_heading {
  color: rgb(12, 7, 255);
}

.ace-chrome .ace_list {
  color:rgb(185, 6, 144);
}

.ace-chrome .ace_marker-layer .ace_selection {
  background: rgb(181, 213, 255);
}

.ace-chrome .ace_marker-layer .ace_step {
  background: rgb(252, 255, 0);
}

.ace-chrome .ace_marker-layer .ace_stack {
  background: rgb(164, 229, 101);
}

.ace-chrome .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid rgb(192, 192, 192);
}

.ace-chrome .ace_marker-layer .ace_active-line {
  background: rgba(0, 0, 0, 0.07);
}

.ace-chrome .ace_gutter-active-line {
    background-color : #dcdcdc;
}

.ace-chrome .ace_marker-layer .ace_selected-word {
  background: rgb(250, 250, 255);
  border: 1px solid rgb(200, 200, 250);
}

.ace-chrome .ace_storage,
.ace-chrome .ace_keyword,
.ace-chrome .ace_meta.ace_tag {
  color: rgb(147, 15, 128);
}

.ace-chrome .ace_string.ace_regex {
  color: rgb(255, 0, 0)
}

.ace-chrome .ace_string {
  color: #1A1AA6;
}

.ace-chrome .ace_entity.ace_other.ace_attribute-name {
  color: #994409;
}

.ace-chrome .ace_indent-guide {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;
}
  
.ace-chrome .ace_indent-guide-active {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;
}
`}),ace.define("ace/theme/chrome",["require","exports","module","ace/theme/chrome-css","ace/lib/dom"],function(f,l,E){l.isDark=!1,l.cssClass="ace-chrome",l.cssText=f("./chrome-css");var b=f("../lib/dom");b.importCssString(l.cssText,l.cssClass,!1)}),function(){ace.require(["ace/theme/chrome"],function(f){le&&(le.exports=f)})}()},9285:(le,Ie,J)=>{le=J.nmd(le),ace.define("ace/theme/clouds_midnight-css",["require","exports","module"],function(f,l,E){E.exports=`.ace-clouds-midnight .ace_gutter {
  background: #232323;
  color: #929292
}

.ace-clouds-midnight .ace_print-margin {
  width: 1px;
  background: #232323
}

.ace-clouds-midnight {
  background-color: #191919;
  color: #929292
}

.ace-clouds-midnight .ace_cursor {
  color: #7DA5DC
}

.ace-clouds-midnight .ace_marker-layer .ace_selection {
  background: #000000
}

.ace-clouds-midnight.ace_multiselect .ace_selection.ace_start {
  box-shadow: 0 0 3px 0px #191919;
}

.ace-clouds-midnight .ace_marker-layer .ace_step {
  background: rgb(102, 82, 0)
}

.ace-clouds-midnight .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid #BFBFBF
}

.ace-clouds-midnight .ace_marker-layer .ace_active-line {
  background: rgba(215, 215, 215, 0.031)
}

.ace-clouds-midnight .ace_gutter-active-line {
  background-color: rgba(215, 215, 215, 0.031)
}

.ace-clouds-midnight .ace_marker-layer .ace_selected-word {
  border: 1px solid #000000
}

.ace-clouds-midnight .ace_invisible {
  color: #666
}

.ace-clouds-midnight .ace_keyword,
.ace-clouds-midnight .ace_meta,
.ace-clouds-midnight .ace_support.ace_constant.ace_property-value {
  color: #927C5D
}

.ace-clouds-midnight .ace_keyword.ace_operator {
  color: #4B4B4B
}

.ace-clouds-midnight .ace_keyword.ace_other.ace_unit {
  color: #366F1A
}

.ace-clouds-midnight .ace_constant.ace_language {
  color: #39946A
}

.ace-clouds-midnight .ace_constant.ace_numeric {
  color: #46A609
}

.ace-clouds-midnight .ace_constant.ace_character.ace_entity {
  color: #A165AC
}

.ace-clouds-midnight .ace_invalid {
  color: #FFFFFF;
  background-color: #E92E2E
}

.ace-clouds-midnight .ace_fold {
  background-color: #927C5D;
  border-color: #929292
}

.ace-clouds-midnight .ace_storage,
.ace-clouds-midnight .ace_support.ace_class,
.ace-clouds-midnight .ace_support.ace_function,
.ace-clouds-midnight .ace_support.ace_other,
.ace-clouds-midnight .ace_support.ace_type {
  color: #E92E2E
}

.ace-clouds-midnight .ace_string {
  color: #5D90CD
}

.ace-clouds-midnight .ace_comment {
  color: #3C403B
}

.ace-clouds-midnight .ace_entity.ace_name.ace_tag,
.ace-clouds-midnight .ace_entity.ace_other.ace_attribute-name {
  color: #606060
}

.ace-clouds-midnight .ace_indent-guide {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWNgYGBgYHB3d/8PAAOIAdULw8qMAAAAAElFTkSuQmCC) right repeat-y
}

.ace-clouds-midnight .ace_indent-guide-active {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQIW2PQ1dX9zzBz5sz/ABCcBFFentLlAAAAAElFTkSuQmCC) right repeat-y;
}
`}),ace.define("ace/theme/clouds_midnight",["require","exports","module","ace/theme/clouds_midnight-css","ace/lib/dom"],function(f,l,E){l.isDark=!0,l.cssClass="ace-clouds-midnight",l.cssText=f("./clouds_midnight-css");var b=f("../lib/dom");b.importCssString(l.cssText,l.cssClass,!1)}),function(){ace.require(["ace/theme/clouds_midnight"],function(f){le&&(le.exports=f)})}()},51197:function(){"no use strict";(function(le){function Ie(l,E){for(var b=l,k="";b;){var I=E[b];if(typeof I=="string")return I+k;if(I)return I.location.replace(/\/*$/,"/")+(k||I.main||I.name);if(I===!1)return"";var u=b.lastIndexOf("/");if(u===-1)break;k=b.substr(u)+k,b=b.slice(0,u)}return l}if(!(typeof le.window!="undefined"&&le.document)&&!(le.require&&le.define)){le.console||(le.console=function(){var l=Array.prototype.slice.call(arguments,0);postMessage({type:"log",data:l})},le.console.error=le.console.warn=le.console.log=le.console.trace=le.console),le.window=le,le.ace=le,le.onerror=function(l,E,b,k,I){postMessage({type:"error",data:{message:l,data:I&&I.data,file:E,line:b,col:k,stack:I&&I.stack}})},le.normalizeModule=function(l,E){if(E.indexOf("!")!==-1){var b=E.split("!");return le.normalizeModule(l,b[0])+"!"+le.normalizeModule(l,b[1])}if(E.charAt(0)=="."){var k=l.split("/").slice(0,-1).join("/");for(E=(k?k+"/":"")+E;E.indexOf(".")!==-1&&I!=E;){var I=E;E=E.replace(/^\.\//,"").replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}}return E},le.require=function(l,E){if(E||(E=l,l=null),!E.charAt)throw new Error("worker.js require() accepts only (parentId, id) as arguments");E=le.normalizeModule(l,E);var b=le.require.modules[E];if(b)return b.initialized||(b.initialized=!0,b.exports=b.factory().exports),b.exports;if(!le.require.tlns)return console.log("unable to load "+E);var k=Ie(E,le.require.tlns);return k.slice(-3)!=".js"&&(k+=".js"),le.require.id=E,le.require.modules[E]={},importScripts(k),le.require(l,E)},le.require.modules={},le.require.tlns={},le.define=function(l,E,b){if(arguments.length==2?(b=E,typeof l!="string"&&(E=l,l=le.require.id)):arguments.length==1&&(b=l,E=[],l=le.require.id),typeof b!="function"){le.require.modules[l]={exports:b,initialized:!0};return}E.length||(E=["require","exports","module"]);var k=function(I){return le.require(l,I)};le.require.modules[l]={exports:{},factory:function(){var I=this,u=b.apply(this,E.slice(0,b.length).map(function(p){switch(p){case"require":return k;case"exports":return I.exports;case"module":return I;default:return k(p)}}));return u&&(I.exports=u),I}}},le.define.amd={},le.require.tlns={},le.initBaseUrls=function(l){for(var E in l)this.require.tlns[E]=l[E]},le.initSender=function(){var l=le.require("ace/lib/event_emitter").EventEmitter,E=le.require("ace/lib/oop"),b=function(){};return function(){E.implement(this,l),this.callback=function(k,I){postMessage({type:"call",id:I,data:k})},this.emit=function(k,I){postMessage({type:"event",name:k,data:I})}}.call(b.prototype),new b};var J=le.main=null,f=le.sender=null;le.onmessage=function(l){var E=l.data;if(E.event&&f)f._signal(E.event,E.data);else if(E.command)if(J[E.command])J[E.command].apply(J,E.args);else{if(!le[E.command])throw new Error("Unknown command:"+E.command);le[E.command].apply(le,E.args)}else if(E.init){le.initBaseUrls(E.tlns),f=le.sender=le.initSender();var b=this.require(E.module)[E.classname];J=le.main=new b(f)}}}})(this),ace.define("ace/lib/oop",[],function(le,Ie,J){"use strict";Ie.inherits=function(f,l){f.super_=l,f.prototype=Object.create(l.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}})},Ie.mixin=function(f,l){for(var E in l)f[E]=l[E];return f},Ie.implement=function(f,l){Ie.mixin(f,l)}}),ace.define("ace/apply_delta",[],function(le,Ie,J){"use strict";function f(b,k){throw console.log("Invalid Delta:",b),"Invalid Delta: "+k}function l(b,k){return k.row>=0&&k.row<b.length&&k.column>=0&&k.column<=b[k.row].length}function E(b,k){k.action!="insert"&&k.action!="remove"&&f(k,"delta.action must be 'insert' or 'remove'"),k.lines instanceof Array||f(k,"delta.lines must be an Array"),(!k.start||!k.end)&&f(k,"delta.start/end must be an present");var I=k.start;l(b,k.start)||f(k,"delta.start must be contained in document");var u=k.end;k.action=="remove"&&!l(b,u)&&f(k,"delta.end must contained in document for 'remove' actions");var p=u.row-I.row,d=u.column-(p==0?I.column:0);(p!=k.lines.length-1||k.lines[p].length!=d)&&f(k,"delta.range must match delta lines")}Ie.applyDelta=function(b,k,I){var u=k.start.row,p=k.start.column,d=b[u]||"";switch(k.action){case"insert":var j=k.lines;if(j.length===1)b[u]=d.substring(0,p)+k.lines[0]+d.substring(p);else{var ie=[u,1].concat(k.lines);b.splice.apply(b,ie),b[u]=d.substring(0,p)+b[u],b[u+k.lines.length-1]+=d.substring(p)}break;case"remove":var ge=k.end.column,Fe=k.end.row;u===Fe?b[u]=d.substring(0,p)+d.substring(ge):b.splice(u,Fe-u+1,d.substring(0,p)+b[Fe].substring(ge))}}}),ace.define("ace/lib/event_emitter",[],function(le,Ie,J){"use strict";var f={},l=function(){this.propagationStopped=!0},E=function(){this.defaultPrevented=!0};f._emit=f._dispatchEvent=function(b,k){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var I=this._eventRegistry[b]||[],u=this._defaultHandlers[b];if(!(!I.length&&!u)){(typeof k!="object"||!k)&&(k={}),k.type||(k.type=b),k.stopPropagation||(k.stopPropagation=l),k.preventDefault||(k.preventDefault=E),I=I.slice();for(var p=0;p<I.length&&(I[p](k,this),!k.propagationStopped);p++);if(u&&!k.defaultPrevented)return u(k,this)}},f._signal=function(b,k){var I=(this._eventRegistry||{})[b];if(I){I=I.slice();for(var u=0;u<I.length;u++)I[u](k,this)}},f.once=function(b,k){var I=this;if(this.on(b,function u(){I.off(b,u),k.apply(null,arguments)}),!k)return new Promise(function(u){k=u})},f.setDefaultHandler=function(b,k){var I=this._defaultHandlers;if(I||(I=this._defaultHandlers={_disabled_:{}}),I[b]){var u=I[b],p=I._disabled_[b];p||(I._disabled_[b]=p=[]),p.push(u);var d=p.indexOf(k);d!=-1&&p.splice(d,1)}I[b]=k},f.removeDefaultHandler=function(b,k){var I=this._defaultHandlers;if(I){var u=I._disabled_[b];if(I[b]==k)u&&this.setDefaultHandler(b,u.pop());else if(u){var p=u.indexOf(k);p!=-1&&u.splice(p,1)}}},f.on=f.addEventListener=function(b,k,I){this._eventRegistry=this._eventRegistry||{};var u=this._eventRegistry[b];return u||(u=this._eventRegistry[b]=[]),u.indexOf(k)==-1&&u[I?"unshift":"push"](k),k},f.off=f.removeListener=f.removeEventListener=function(b,k){this._eventRegistry=this._eventRegistry||{};var I=this._eventRegistry[b];if(I){var u=I.indexOf(k);u!==-1&&I.splice(u,1)}},f.removeAllListeners=function(b){b||(this._eventRegistry=this._defaultHandlers=void 0),this._eventRegistry&&(this._eventRegistry[b]=void 0),this._defaultHandlers&&(this._defaultHandlers[b]=void 0)},Ie.EventEmitter=f}),ace.define("ace/range",[],function(le,Ie,J){"use strict";var f=function(){function l(E,b,k,I){this.start={row:E,column:b},this.end={row:k,column:I}}return l.prototype.isEqual=function(E){return this.start.row===E.start.row&&this.end.row===E.end.row&&this.start.column===E.start.column&&this.end.column===E.end.column},l.prototype.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},l.prototype.contains=function(E,b){return this.compare(E,b)==0},l.prototype.compareRange=function(E){var b,k=E.end,I=E.start;return b=this.compare(k.row,k.column),b==1?(b=this.compare(I.row,I.column),b==1?2:b==0?1:0):b==-1?-2:(b=this.compare(I.row,I.column),b==-1?-1:b==1?42:0)},l.prototype.comparePoint=function(E){return this.compare(E.row,E.column)},l.prototype.containsRange=function(E){return this.comparePoint(E.start)==0&&this.comparePoint(E.end)==0},l.prototype.intersects=function(E){var b=this.compareRange(E);return b==-1||b==0||b==1},l.prototype.isEnd=function(E,b){return this.end.row==E&&this.end.column==b},l.prototype.isStart=function(E,b){return this.start.row==E&&this.start.column==b},l.prototype.setStart=function(E,b){typeof E=="object"?(this.start.column=E.column,this.start.row=E.row):(this.start.row=E,this.start.column=b)},l.prototype.setEnd=function(E,b){typeof E=="object"?(this.end.column=E.column,this.end.row=E.row):(this.end.row=E,this.end.column=b)},l.prototype.inside=function(E,b){return this.compare(E,b)==0?!(this.isEnd(E,b)||this.isStart(E,b)):!1},l.prototype.insideStart=function(E,b){return this.compare(E,b)==0?!this.isEnd(E,b):!1},l.prototype.insideEnd=function(E,b){return this.compare(E,b)==0?!this.isStart(E,b):!1},l.prototype.compare=function(E,b){return!this.isMultiLine()&&E===this.start.row?b<this.start.column?-1:b>this.end.column?1:0:E<this.start.row?-1:E>this.end.row?1:this.start.row===E?b>=this.start.column?0:-1:this.end.row===E?b<=this.end.column?0:1:0},l.prototype.compareStart=function(E,b){return this.start.row==E&&this.start.column==b?-1:this.compare(E,b)},l.prototype.compareEnd=function(E,b){return this.end.row==E&&this.end.column==b?1:this.compare(E,b)},l.prototype.compareInside=function(E,b){return this.end.row==E&&this.end.column==b?1:this.start.row==E&&this.start.column==b?-1:this.compare(E,b)},l.prototype.clipRows=function(E,b){if(this.end.row>b)var k={row:b+1,column:0};else if(this.end.row<E)var k={row:E,column:0};if(this.start.row>b)var I={row:b+1,column:0};else if(this.start.row<E)var I={row:E,column:0};return l.fromPoints(I||this.start,k||this.end)},l.prototype.extend=function(E,b){var k=this.compare(E,b);if(k==0)return this;if(k==-1)var I={row:E,column:b};else var u={row:E,column:b};return l.fromPoints(I||this.start,u||this.end)},l.prototype.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},l.prototype.isMultiLine=function(){return this.start.row!==this.end.row},l.prototype.clone=function(){return l.fromPoints(this.start,this.end)},l.prototype.collapseRows=function(){return this.end.column==0?new l(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new l(this.start.row,0,this.end.row,0)},l.prototype.toScreenRange=function(E){var b=E.documentToScreenPosition(this.start),k=E.documentToScreenPosition(this.end);return new l(b.row,b.column,k.row,k.column)},l.prototype.moveBy=function(E,b){this.start.row+=E,this.start.column+=b,this.end.row+=E,this.end.column+=b},l}();f.fromPoints=function(l,E){return new f(l.row,l.column,E.row,E.column)},f.comparePoints=function(l,E){return l.row-E.row||l.column-E.column},Ie.Range=f}),ace.define("ace/anchor",[],function(le,Ie,J){"use strict";function f(I,u,p){var d=p?I.column<=u.column:I.column<u.column;return I.row<u.row||I.row==u.row&&d}function l(I,u,p){var d=I.action=="insert",j=(d?1:-1)*(I.end.row-I.start.row),ie=(d?1:-1)*(I.end.column-I.start.column),ge=I.start,Fe=d?ge:I.end;return f(u,ge,p)?{row:u.row,column:u.column}:f(Fe,u,!p)?{row:u.row+j,column:u.column+(u.row==Fe.row?ie:0)}:{row:ge.row,column:ge.column}}var E=le("./lib/oop"),b=le("./lib/event_emitter").EventEmitter,k=function(){function I(u,p,d){this.$onChange=this.onChange.bind(this),this.attach(u),typeof p!="number"?this.setPosition(p.row,p.column):this.setPosition(p,d)}return I.prototype.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},I.prototype.getDocument=function(){return this.document},I.prototype.onChange=function(u){if(!(u.start.row==u.end.row&&u.start.row!=this.row)&&!(u.start.row>this.row)){var p=l(u,{row:this.row,column:this.column},this.$insertRight);this.setPosition(p.row,p.column,!0)}},I.prototype.setPosition=function(u,p,d){var j;if(d?j={row:u,column:p}:j=this.$clipPositionToDocument(u,p),!(this.row==j.row&&this.column==j.column)){var ie={row:this.row,column:this.column};this.row=j.row,this.column=j.column,this._signal("change",{old:ie,value:j})}},I.prototype.detach=function(){this.document.off("change",this.$onChange)},I.prototype.attach=function(u){this.document=u||this.document,this.document.on("change",this.$onChange)},I.prototype.$clipPositionToDocument=function(u,p){var d={};return u>=this.document.getLength()?(d.row=Math.max(0,this.document.getLength()-1),d.column=this.document.getLine(d.row).length):u<0?(d.row=0,d.column=0):(d.row=u,d.column=Math.min(this.document.getLine(d.row).length,Math.max(0,p))),p<0&&(d.column=0),d},I}();k.prototype.$insertRight=!1,E.implement(k.prototype,b),Ie.Anchor=k}),ace.define("ace/document",[],function(le,Ie,J){"use strict";var f=le("./lib/oop"),l=le("./apply_delta").applyDelta,E=le("./lib/event_emitter").EventEmitter,b=le("./range").Range,k=le("./anchor").Anchor,I=function(){function u(p){this.$lines=[""],p.length===0?this.$lines=[""]:Array.isArray(p)?this.insertMergedLines({row:0,column:0},p):this.insert({row:0,column:0},p)}return u.prototype.setValue=function(p){var d=this.getLength()-1;this.remove(new b(0,0,d,this.getLine(d).length)),this.insert({row:0,column:0},p||"")},u.prototype.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},u.prototype.createAnchor=function(p,d){return new k(this,p,d)},u.prototype.$detectNewLine=function(p){var d=p.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=d?d[1]:`
`,this._signal("changeNewLineMode")},u.prototype.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return`\r
`;case"unix":return`
`;default:return this.$autoNewLine||`
`}},u.prototype.setNewLineMode=function(p){this.$newLineMode!==p&&(this.$newLineMode=p,this._signal("changeNewLineMode"))},u.prototype.getNewLineMode=function(){return this.$newLineMode},u.prototype.isNewLine=function(p){return p==`\r
`||p=="\r"||p==`
`},u.prototype.getLine=function(p){return this.$lines[p]||""},u.prototype.getLines=function(p,d){return this.$lines.slice(p,d+1)},u.prototype.getAllLines=function(){return this.getLines(0,this.getLength())},u.prototype.getLength=function(){return this.$lines.length},u.prototype.getTextRange=function(p){return this.getLinesForRange(p).join(this.getNewLineCharacter())},u.prototype.getLinesForRange=function(p){var d;if(p.start.row===p.end.row)d=[this.getLine(p.start.row).substring(p.start.column,p.end.column)];else{d=this.getLines(p.start.row,p.end.row),d[0]=(d[0]||"").substring(p.start.column);var j=d.length-1;p.end.row-p.start.row==j&&(d[j]=d[j].substring(0,p.end.column))}return d},u.prototype.insertLines=function(p,d){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(p,d)},u.prototype.removeLines=function(p,d){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(p,d)},u.prototype.insertNewLine=function(p){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(p,["",""])},u.prototype.insert=function(p,d){return this.getLength()<=1&&this.$detectNewLine(d),this.insertMergedLines(p,this.$split(d))},u.prototype.insertInLine=function(p,d){var j=this.clippedPos(p.row,p.column),ie=this.pos(p.row,p.column+d.length);return this.applyDelta({start:j,end:ie,action:"insert",lines:[d]},!0),this.clonePos(ie)},u.prototype.clippedPos=function(p,d){var j=this.getLength();p===void 0?p=j:p<0?p=0:p>=j&&(p=j-1,d=void 0);var ie=this.getLine(p);return d==null&&(d=ie.length),d=Math.min(Math.max(d,0),ie.length),{row:p,column:d}},u.prototype.clonePos=function(p){return{row:p.row,column:p.column}},u.prototype.pos=function(p,d){return{row:p,column:d}},u.prototype.$clipPosition=function(p){var d=this.getLength();return p.row>=d?(p.row=Math.max(0,d-1),p.column=this.getLine(d-1).length):(p.row=Math.max(0,p.row),p.column=Math.min(Math.max(p.column,0),this.getLine(p.row).length)),p},u.prototype.insertFullLines=function(p,d){p=Math.min(Math.max(p,0),this.getLength());var j=0;p<this.getLength()?(d=d.concat([""]),j=0):(d=[""].concat(d),p--,j=this.$lines[p].length),this.insertMergedLines({row:p,column:j},d)},u.prototype.insertMergedLines=function(p,d){var j=this.clippedPos(p.row,p.column),ie={row:j.row+d.length-1,column:(d.length==1?j.column:0)+d[d.length-1].length};return this.applyDelta({start:j,end:ie,action:"insert",lines:d}),this.clonePos(ie)},u.prototype.remove=function(p){var d=this.clippedPos(p.start.row,p.start.column),j=this.clippedPos(p.end.row,p.end.column);return this.applyDelta({start:d,end:j,action:"remove",lines:this.getLinesForRange({start:d,end:j})}),this.clonePos(d)},u.prototype.removeInLine=function(p,d,j){var ie=this.clippedPos(p,d),ge=this.clippedPos(p,j);return this.applyDelta({start:ie,end:ge,action:"remove",lines:this.getLinesForRange({start:ie,end:ge})},!0),this.clonePos(ie)},u.prototype.removeFullLines=function(p,d){p=Math.min(Math.max(0,p),this.getLength()-1),d=Math.min(Math.max(0,d),this.getLength()-1);var j=d==this.getLength()-1&&p>0,ie=d<this.getLength()-1,ge=j?p-1:p,Fe=j?this.getLine(ge).length:0,ae=ie?d+1:d,me=ie?0:this.getLine(ae).length,Be=new b(ge,Fe,ae,me),Qe=this.$lines.slice(p,d+1);return this.applyDelta({start:Be.start,end:Be.end,action:"remove",lines:this.getLinesForRange(Be)}),Qe},u.prototype.removeNewLine=function(p){p<this.getLength()-1&&p>=0&&this.applyDelta({start:this.pos(p,this.getLine(p).length),end:this.pos(p+1,0),action:"remove",lines:["",""]})},u.prototype.replace=function(p,d){if(p instanceof b||(p=b.fromPoints(p.start,p.end)),d.length===0&&p.isEmpty())return p.start;if(d==this.getTextRange(p))return p.end;this.remove(p);var j;return d?j=this.insert(p.start,d):j=p.start,j},u.prototype.applyDeltas=function(p){for(var d=0;d<p.length;d++)this.applyDelta(p[d])},u.prototype.revertDeltas=function(p){for(var d=p.length-1;d>=0;d--)this.revertDelta(p[d])},u.prototype.applyDelta=function(p,d){var j=p.action=="insert";(j?p.lines.length<=1&&!p.lines[0]:!b.comparePoints(p.start,p.end))||(j&&p.lines.length>2e4?this.$splitAndapplyLargeDelta(p,2e4):(l(this.$lines,p,d),this._signal("change",p)))},u.prototype.$safeApplyDelta=function(p){var d=this.$lines.length;(p.action=="remove"&&p.start.row<d&&p.end.row<d||p.action=="insert"&&p.start.row<=d)&&this.applyDelta(p)},u.prototype.$splitAndapplyLargeDelta=function(p,d){for(var j=p.lines,ie=j.length-d+1,ge=p.start.row,Fe=p.start.column,ae=0,me=0;ae<ie;ae=me){me+=d-1;var Be=j.slice(ae,me);Be.push(""),this.applyDelta({start:this.pos(ge+ae,Fe),end:this.pos(ge+me,Fe=0),action:p.action,lines:Be},!0)}p.lines=j.slice(ae),p.start.row=ge+ae,p.start.column=Fe,this.applyDelta(p,!0)},u.prototype.revertDelta=function(p){this.$safeApplyDelta({start:this.clonePos(p.start),end:this.clonePos(p.end),action:p.action=="insert"?"remove":"insert",lines:p.lines.slice()})},u.prototype.indexToPosition=function(p,d){for(var j=this.$lines||this.getAllLines(),ie=this.getNewLineCharacter().length,ge=d||0,Fe=j.length;ge<Fe;ge++)if(p-=j[ge].length+ie,p<0)return{row:ge,column:p+j[ge].length+ie};return{row:Fe-1,column:p+j[Fe-1].length+ie}},u.prototype.positionToIndex=function(p,d){for(var j=this.$lines||this.getAllLines(),ie=this.getNewLineCharacter().length,ge=0,Fe=Math.min(p.row,j.length),ae=d||0;ae<Fe;++ae)ge+=j[ae].length+ie;return ge+p.column},u.prototype.$split=function(p){return p.split(/\r\n|\r|\n/)},u}();I.prototype.$autoNewLine="",I.prototype.$newLineMode="auto",f.implement(I.prototype,E),Ie.Document=I}),ace.define("ace/lib/deep_copy",[],function(le,Ie,J){Ie.deepCopy=function f(l){if(typeof l!="object"||!l)return l;var E;if(Array.isArray(l)){E=[];for(var b=0;b<l.length;b++)E[b]=f(l[b]);return E}if(Object.prototype.toString.call(l)!=="[object Object]")return l;E={};for(var b in l)E[b]=f(l[b]);return E}}),ace.define("ace/lib/lang",[],function(le,Ie,J){"use strict";Ie.last=function(E){return E[E.length-1]},Ie.stringReverse=function(E){return E.split("").reverse().join("")},Ie.stringRepeat=function(E,b){for(var k="";b>0;)b&1&&(k+=E),(b>>=1)&&(E+=E);return k};var f=/^\s\s*/,l=/\s\s*$/;Ie.stringTrimLeft=function(E){return E.replace(f,"")},Ie.stringTrimRight=function(E){return E.replace(l,"")},Ie.copyObject=function(E){var b={};for(var k in E)b[k]=E[k];return b},Ie.copyArray=function(E){for(var b=[],k=0,I=E.length;k<I;k++)E[k]&&typeof E[k]=="object"?b[k]=this.copyObject(E[k]):b[k]=E[k];return b},Ie.deepCopy=le("./deep_copy").deepCopy,Ie.arrayToMap=function(E){for(var b={},k=0;k<E.length;k++)b[E[k]]=1;return b},Ie.createMap=function(E){var b=Object.create(null);for(var k in E)b[k]=E[k];return b},Ie.arrayRemove=function(E,b){for(var k=0;k<=E.length;k++)b===E[k]&&E.splice(k,1)},Ie.escapeRegExp=function(E){return E.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},Ie.escapeHTML=function(E){return(""+E).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},Ie.getMatchOffsets=function(E,b){var k=[];return E.replace(b,function(I){k.push({offset:arguments[arguments.length-2],length:I.length})}),k},Ie.deferredCall=function(E){var b=null,k=function(){b=null,E()},I=function(u){return I.cancel(),b=setTimeout(k,u||0),I};return I.schedule=I,I.call=function(){return this.cancel(),E(),I},I.cancel=function(){return clearTimeout(b),b=null,I},I.isPending=function(){return b},I},Ie.delayedCall=function(E,b){var k=null,I=function(){k=null,E()},u=function(p){k==null&&(k=setTimeout(I,p||b))};return u.delay=function(p){k&&clearTimeout(k),k=setTimeout(I,p||b)},u.schedule=u,u.call=function(){this.cancel(),E()},u.cancel=function(){k&&clearTimeout(k),k=null},u.isPending=function(){return k},u},Ie.supportsLookbehind=function(){try{new RegExp("(?<=.)")}catch(E){return!1}return!0},Ie.skipEmptyMatch=function(E,b,k){return k&&E.codePointAt(b)>65535?2:1}}),ace.define("ace/worker/mirror",[],function(le,Ie,J){"use strict";var f=le("../document").Document,l=le("../lib/lang"),E=Ie.Mirror=function(b){this.sender=b;var k=this.doc=new f(""),I=this.deferredUpdate=l.delayedCall(this.onUpdate.bind(this)),u=this;b.on("change",function(p){var d=p.data;if(d[0].start)k.applyDeltas(d);else for(var j=0;j<d.length;j+=2){var ie,ge;if(Array.isArray(d[j+1])?ie={action:"insert",start:d[j],lines:d[j+1]}:ie={action:"remove",start:d[j],end:d[j+1]},(ie.action=="insert"?ie.start:ie.end).row>=k.$lines.length)throw ge=new Error("Invalid delta"),ge.data={path:u.$path,linesLength:k.$lines.length,start:ie.start,end:ie.end},ge;k.applyDelta(ie,!0)}if(u.$timeout)return I.schedule(u.$timeout);u.onUpdate()})};(function(){this.$timeout=500,this.setTimeout=function(b){this.$timeout=b},this.setValue=function(b){this.doc.setValue(b),this.deferredUpdate.schedule(this.$timeout)},this.getValue=function(b){this.sender.callback(this.doc.getValue(),b)},this.onUpdate=function(){},this.isPending=function(){return this.deferredUpdate.isPending()}}).call(E.prototype)}),ace.define("ace/mode/json/json_parse",[],function(le,Ie,J){"use strict";var f,l,E={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},b,k=function(ae){throw{name:"SyntaxError",message:ae,at:f,text:b}},I=function(ae){return ae&&ae!==l&&k("Expected '"+ae+"' instead of '"+l+"'"),l=b.charAt(f),f+=1,l},u=function(){var ae,me="";for(l==="-"&&(me="-",I("-"));l>="0"&&l<="9";)me+=l,I();if(l===".")for(me+=".";I()&&l>="0"&&l<="9";)me+=l;if(l==="e"||l==="E")for(me+=l,I(),(l==="-"||l==="+")&&(me+=l,I());l>="0"&&l<="9";)me+=l,I();if(ae=+me,!isNaN(ae))return ae;k("Bad number")},p=function(){var ae,me,Be="",Qe;if(l==='"')for(;I();){if(l==='"')return I(),Be;if(l==="\\")if(I(),l==="u"){for(Qe=0,me=0;me<4&&(ae=parseInt(I(),16),!!isFinite(ae));me+=1)Qe=Qe*16+ae;Be+=String.fromCharCode(Qe)}else{if(typeof E[l]!="string")break;Be+=E[l]}else{if(l==`
`||l=="\r")break;Be+=l}}k("Bad string")},d=function(){for(;l&&l<=" ";)I()},j=function(){switch(l){case"t":return I("t"),I("r"),I("u"),I("e"),!0;case"f":return I("f"),I("a"),I("l"),I("s"),I("e"),!1;case"n":return I("n"),I("u"),I("l"),I("l"),null}k("Unexpected '"+l+"'")},ie,ge=function(){var ae=[];if(l==="["){if(I("["),d(),l==="]")return I("]"),ae;for(;l;){if(ae.push(ie()),d(),l==="]")return I("]"),ae;I(","),d()}}k("Bad array")},Fe=function(){var ae,me={};if(l==="{"){if(I("{"),d(),l==="}")return I("}"),me;for(;l;){if(ae=p(),d(),I(":"),Object.hasOwnProperty.call(me,ae)&&k('Duplicate key "'+ae+'"'),me[ae]=ie(),d(),l==="}")return I("}"),me;I(","),d()}}k("Bad object")};return ie=function(){switch(d(),l){case"{":return Fe();case"[":return ge();case'"':return p();case"-":return u();default:return l>="0"&&l<="9"?u():j()}},function(ae,me){var Be;return b=ae,f=0,l=" ",Be=ie(),d(),l&&k("Syntax error"),typeof me=="function"?function Qe(v,L){var M,m,A=v[L];if(A&&typeof A=="object")for(M in A)Object.hasOwnProperty.call(A,M)&&(m=Qe(A,M),m!==void 0?A[M]=m:delete A[M]);return me.call(v,L,A)}({"":Be},""):Be}}),ace.define("ace/mode/json_worker",[],function(le,Ie,J){"use strict";var f=le("../lib/oop"),l=le("../worker/mirror").Mirror,E=le("./json/json_parse"),b=Ie.JsonWorker=function(k){l.call(this,k),this.setTimeout(200)};f.inherits(b,l),function(){this.onUpdate=function(){var k=this.doc.getValue(),I=[];try{k&&E(k)}catch(p){var u=this.doc.indexToPosition(p.at-1);I.push({row:u.row,column:u.column,text:p.message,type:"error"})}this.sender.emit("annotate",I)}}.call(b.prototype)})},57051:function(le,Ie,J){(function(f,l){le.exports=Ie=l()})(this,function(){var f=f||function(l,E){var b;if(typeof window!="undefined"&&window.crypto&&(b=window.crypto),typeof self!="undefined"&&self.crypto&&(b=self.crypto),typeof globalThis!="undefined"&&globalThis.crypto&&(b=globalThis.crypto),!b&&typeof window!="undefined"&&window.msCrypto&&(b=window.msCrypto),!b&&typeof J.g!="undefined"&&J.g.crypto&&(b=J.g.crypto),!b)try{b=J(50477)}catch(v){}var k=function(){if(b){if(typeof b.getRandomValues=="function")try{return b.getRandomValues(new Uint32Array(1))[0]}catch(v){}if(typeof b.randomBytes=="function")try{return b.randomBytes(4).readInt32LE()}catch(v){}}throw new Error("Native crypto module could not be used to get secure random number.")},I=Object.create||function(){function v(){}return function(L){var M;return v.prototype=L,M=new v,v.prototype=null,M}}(),u={},p=u.lib={},d=p.Base=function(){return{extend:function(v){var L=I(this);return v&&L.mixIn(v),(!L.hasOwnProperty("init")||this.init===L.init)&&(L.init=function(){L.$super.init.apply(this,arguments)}),L.init.prototype=L,L.$super=this,L},create:function(){var v=this.extend();return v.init.apply(v,arguments),v},init:function(){},mixIn:function(v){for(var L in v)v.hasOwnProperty(L)&&(this[L]=v[L]);v.hasOwnProperty("toString")&&(this.toString=v.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),j=p.WordArray=d.extend({init:function(v,L){v=this.words=v||[],L!=E?this.sigBytes=L:this.sigBytes=v.length*4},toString:function(v){return(v||ge).stringify(this)},concat:function(v){var L=this.words,M=v.words,m=this.sigBytes,A=v.sigBytes;if(this.clamp(),m%4)for(var C=0;C<A;C++){var N=M[C>>>2]>>>24-C%4*8&255;L[m+C>>>2]|=N<<24-(m+C)%4*8}else for(var O=0;O<A;O+=4)L[m+O>>>2]=M[O>>>2];return this.sigBytes+=A,this},clamp:function(){var v=this.words,L=this.sigBytes;v[L>>>2]&=4294967295<<32-L%4*8,v.length=l.ceil(L/4)},clone:function(){var v=d.clone.call(this);return v.words=this.words.slice(0),v},random:function(v){for(var L=[],M=0;M<v;M+=4)L.push(k());return new j.init(L,v)}}),ie=u.enc={},ge=ie.Hex={stringify:function(v){for(var L=v.words,M=v.sigBytes,m=[],A=0;A<M;A++){var C=L[A>>>2]>>>24-A%4*8&255;m.push((C>>>4).toString(16)),m.push((C&15).toString(16))}return m.join("")},parse:function(v){for(var L=v.length,M=[],m=0;m<L;m+=2)M[m>>>3]|=parseInt(v.substr(m,2),16)<<24-m%8*4;return new j.init(M,L/2)}},Fe=ie.Latin1={stringify:function(v){for(var L=v.words,M=v.sigBytes,m=[],A=0;A<M;A++){var C=L[A>>>2]>>>24-A%4*8&255;m.push(String.fromCharCode(C))}return m.join("")},parse:function(v){for(var L=v.length,M=[],m=0;m<L;m++)M[m>>>2]|=(v.charCodeAt(m)&255)<<24-m%4*8;return new j.init(M,L)}},ae=ie.Utf8={stringify:function(v){try{return decodeURIComponent(escape(Fe.stringify(v)))}catch(L){throw new Error("Malformed UTF-8 data")}},parse:function(v){return Fe.parse(unescape(encodeURIComponent(v)))}},me=p.BufferedBlockAlgorithm=d.extend({reset:function(){this._data=new j.init,this._nDataBytes=0},_append:function(v){typeof v=="string"&&(v=ae.parse(v)),this._data.concat(v),this._nDataBytes+=v.sigBytes},_process:function(v){var L,M=this._data,m=M.words,A=M.sigBytes,C=this.blockSize,N=C*4,O=A/N;v?O=l.ceil(O):O=l.max((O|0)-this._minBufferSize,0);var Q=O*C,te=l.min(Q*4,A);if(Q){for(var H=0;H<Q;H+=C)this._doProcessBlock(m,H);L=m.splice(0,Q),M.sigBytes-=te}return new j.init(L,te)},clone:function(){var v=d.clone.call(this);return v._data=this._data.clone(),v},_minBufferSize:0}),Be=p.Hasher=me.extend({cfg:d.extend(),init:function(v){this.cfg=this.cfg.extend(v),this.reset()},reset:function(){me.reset.call(this),this._doReset()},update:function(v){return this._append(v),this._process(),this},finalize:function(v){v&&this._append(v);var L=this._doFinalize();return L},blockSize:512/32,_createHelper:function(v){return function(L,M){return new v.init(M).finalize(L)}},_createHmacHelper:function(v){return function(L,M){return new Qe.HMAC.init(v,M).finalize(L)}}}),Qe=u.algo={};return u}(Math);return f})},91778:function(le,Ie,J){(function(f,l){le.exports=Ie=l(J(57051))})(this,function(f){return function(l){var E=f,b=E.lib,k=b.WordArray,I=b.Hasher,u=E.algo,p=[];(function(){for(var ae=0;ae<64;ae++)p[ae]=l.abs(l.sin(ae+1))*4294967296|0})();var d=u.MD5=I.extend({_doReset:function(){this._hash=new k.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(ae,me){for(var Be=0;Be<16;Be++){var Qe=me+Be,v=ae[Qe];ae[Qe]=(v<<8|v>>>24)&16711935|(v<<24|v>>>8)&4278255360}var L=this._hash.words,M=ae[me+0],m=ae[me+1],A=ae[me+2],C=ae[me+3],N=ae[me+4],O=ae[me+5],Q=ae[me+6],te=ae[me+7],H=ae[me+8],$=ae[me+9],U=ae[me+10],ue=ae[me+11],Ke=ae[me+12],Te=ae[me+13],qe=ae[me+14],st=ae[me+15],ce=L[0],ve=L[1],ye=L[2],fe=L[3];ce=j(ce,ve,ye,fe,M,7,p[0]),fe=j(fe,ce,ve,ye,m,12,p[1]),ye=j(ye,fe,ce,ve,A,17,p[2]),ve=j(ve,ye,fe,ce,C,22,p[3]),ce=j(ce,ve,ye,fe,N,7,p[4]),fe=j(fe,ce,ve,ye,O,12,p[5]),ye=j(ye,fe,ce,ve,Q,17,p[6]),ve=j(ve,ye,fe,ce,te,22,p[7]),ce=j(ce,ve,ye,fe,H,7,p[8]),fe=j(fe,ce,ve,ye,$,12,p[9]),ye=j(ye,fe,ce,ve,U,17,p[10]),ve=j(ve,ye,fe,ce,ue,22,p[11]),ce=j(ce,ve,ye,fe,Ke,7,p[12]),fe=j(fe,ce,ve,ye,Te,12,p[13]),ye=j(ye,fe,ce,ve,qe,17,p[14]),ve=j(ve,ye,fe,ce,st,22,p[15]),ce=ie(ce,ve,ye,fe,m,5,p[16]),fe=ie(fe,ce,ve,ye,Q,9,p[17]),ye=ie(ye,fe,ce,ve,ue,14,p[18]),ve=ie(ve,ye,fe,ce,M,20,p[19]),ce=ie(ce,ve,ye,fe,O,5,p[20]),fe=ie(fe,ce,ve,ye,U,9,p[21]),ye=ie(ye,fe,ce,ve,st,14,p[22]),ve=ie(ve,ye,fe,ce,N,20,p[23]),ce=ie(ce,ve,ye,fe,$,5,p[24]),fe=ie(fe,ce,ve,ye,qe,9,p[25]),ye=ie(ye,fe,ce,ve,C,14,p[26]),ve=ie(ve,ye,fe,ce,H,20,p[27]),ce=ie(ce,ve,ye,fe,Te,5,p[28]),fe=ie(fe,ce,ve,ye,A,9,p[29]),ye=ie(ye,fe,ce,ve,te,14,p[30]),ve=ie(ve,ye,fe,ce,Ke,20,p[31]),ce=ge(ce,ve,ye,fe,O,4,p[32]),fe=ge(fe,ce,ve,ye,H,11,p[33]),ye=ge(ye,fe,ce,ve,ue,16,p[34]),ve=ge(ve,ye,fe,ce,qe,23,p[35]),ce=ge(ce,ve,ye,fe,m,4,p[36]),fe=ge(fe,ce,ve,ye,N,11,p[37]),ye=ge(ye,fe,ce,ve,te,16,p[38]),ve=ge(ve,ye,fe,ce,U,23,p[39]),ce=ge(ce,ve,ye,fe,Te,4,p[40]),fe=ge(fe,ce,ve,ye,M,11,p[41]),ye=ge(ye,fe,ce,ve,C,16,p[42]),ve=ge(ve,ye,fe,ce,Q,23,p[43]),ce=ge(ce,ve,ye,fe,$,4,p[44]),fe=ge(fe,ce,ve,ye,Ke,11,p[45]),ye=ge(ye,fe,ce,ve,st,16,p[46]),ve=ge(ve,ye,fe,ce,A,23,p[47]),ce=Fe(ce,ve,ye,fe,M,6,p[48]),fe=Fe(fe,ce,ve,ye,te,10,p[49]),ye=Fe(ye,fe,ce,ve,qe,15,p[50]),ve=Fe(ve,ye,fe,ce,O,21,p[51]),ce=Fe(ce,ve,ye,fe,Ke,6,p[52]),fe=Fe(fe,ce,ve,ye,C,10,p[53]),ye=Fe(ye,fe,ce,ve,U,15,p[54]),ve=Fe(ve,ye,fe,ce,m,21,p[55]),ce=Fe(ce,ve,ye,fe,H,6,p[56]),fe=Fe(fe,ce,ve,ye,st,10,p[57]),ye=Fe(ye,fe,ce,ve,Q,15,p[58]),ve=Fe(ve,ye,fe,ce,Te,21,p[59]),ce=Fe(ce,ve,ye,fe,N,6,p[60]),fe=Fe(fe,ce,ve,ye,ue,10,p[61]),ye=Fe(ye,fe,ce,ve,A,15,p[62]),ve=Fe(ve,ye,fe,ce,$,21,p[63]),L[0]=L[0]+ce|0,L[1]=L[1]+ve|0,L[2]=L[2]+ye|0,L[3]=L[3]+fe|0},_doFinalize:function(){var ae=this._data,me=ae.words,Be=this._nDataBytes*8,Qe=ae.sigBytes*8;me[Qe>>>5]|=128<<24-Qe%32;var v=l.floor(Be/4294967296),L=Be;me[(Qe+64>>>9<<4)+15]=(v<<8|v>>>24)&16711935|(v<<24|v>>>8)&4278255360,me[(Qe+64>>>9<<4)+14]=(L<<8|L>>>24)&16711935|(L<<24|L>>>8)&4278255360,ae.sigBytes=(me.length+1)*4,this._process();for(var M=this._hash,m=M.words,A=0;A<4;A++){var C=m[A];m[A]=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360}return M},clone:function(){var ae=I.clone.call(this);return ae._hash=this._hash.clone(),ae}});function j(ae,me,Be,Qe,v,L,M){var m=ae+(me&Be|~me&Qe)+v+M;return(m<<L|m>>>32-L)+me}function ie(ae,me,Be,Qe,v,L,M){var m=ae+(me&Qe|Be&~Qe)+v+M;return(m<<L|m>>>32-L)+me}function ge(ae,me,Be,Qe,v,L,M){var m=ae+(me^Be^Qe)+v+M;return(m<<L|m>>>32-L)+me}function Fe(ae,me,Be,Qe,v,L,M){var m=ae+(Be^(me|~Qe))+v+M;return(m<<L|m>>>32-L)+me}E.MD5=I._createHelper(d),E.HmacMD5=I._createHmacHelper(d)}(Math),f.MD5})},85589:function(le){(function(Ie,J){le.exports=J()})(this,function(){"use strict";function Ie(_,re){return re={exports:{}},_(re,re.exports),re.exports}var J=Ie(function(_){var re=_.exports=typeof window!="undefined"&&window.Math==Math?window:typeof self!="undefined"&&self.Math==Math?self:Function("return this")();typeof __g=="number"&&(__g=re)}),f=Ie(function(_){var re=_.exports={version:"2.6.5"};typeof __e=="number"&&(__e=re)}),l=f.version,E=function(_){return typeof _=="object"?_!==null:typeof _=="function"},b=function(_){if(!E(_))throw TypeError(_+" is not an object!");return _},k=function(_){try{return!!_()}catch(re){return!0}},I=!k(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7}),u=J.document,p=E(u)&&E(u.createElement),d=function(_){return p?u.createElement(_):{}},j=!I&&!k(function(){return Object.defineProperty(d("div"),"a",{get:function(){return 7}}).a!=7}),ie=function(_,re){if(!E(_))return _;var ze,Ve;if(re&&typeof(ze=_.toString)=="function"&&!E(Ve=ze.call(_))||typeof(ze=_.valueOf)=="function"&&!E(Ve=ze.call(_))||!re&&typeof(ze=_.toString)=="function"&&!E(Ve=ze.call(_)))return Ve;throw TypeError("Can't convert object to primitive value")},ge=Object.defineProperty,Fe=I?Object.defineProperty:function(re,ze,Ve){if(b(re),ze=ie(ze,!0),b(Ve),j)try{return ge(re,ze,Ve)}catch(et){}if("get"in Ve||"set"in Ve)throw TypeError("Accessors not supported!");return"value"in Ve&&(re[ze]=Ve.value),re},ae={f:Fe},me=function(_,re){return{enumerable:!(_&1),configurable:!(_&2),writable:!(_&4),value:re}},Be=I?function(_,re,ze){return ae.f(_,re,me(1,ze))}:function(_,re,ze){return _[re]=ze,_},Qe={}.hasOwnProperty,v=function(_,re){return Qe.call(_,re)},L=0,M=Math.random(),m=function(_){return"Symbol(".concat(_===void 0?"":_,")_",(++L+M).toString(36))},A=!1,C=Ie(function(_){var re="__core-js_shared__",ze=J[re]||(J[re]={});(_.exports=function(Ve,et){return ze[Ve]||(ze[Ve]=et!==void 0?et:{})})("versions",[]).push({version:f.version,mode:A?"pure":"global",copyright:"\xA9 2019 Denis Pushkarev (zloirock.ru)"})}),N=C("native-function-to-string",Function.toString),O=Ie(function(_){var re=m("src"),ze="toString",Ve=(""+N).split(ze);f.inspectSource=function(et){return N.call(et)},(_.exports=function(et,dt,at,Vt){var Pt=typeof at=="function";Pt&&(v(at,"name")||Be(at,"name",dt)),et[dt]!==at&&(Pt&&(v(at,re)||Be(at,re,et[dt]?""+et[dt]:Ve.join(String(dt)))),et===J?et[dt]=at:Vt?et[dt]?et[dt]=at:Be(et,dt,at):(delete et[dt],Be(et,dt,at)))})(Function.prototype,ze,function(){return typeof this=="function"&&this[re]||N.call(this)})}),Q=function(_){if(typeof _!="function")throw TypeError(_+" is not a function!");return _},te=function(_,re,ze){if(Q(_),re===void 0)return _;switch(ze){case 1:return function(Ve){return _.call(re,Ve)};case 2:return function(Ve,et){return _.call(re,Ve,et)};case 3:return function(Ve,et,dt){return _.call(re,Ve,et,dt)}}return function(){return _.apply(re,arguments)}},H="prototype",$=function(_,re,ze){var Ve=_&$.F,et=_&$.G,dt=_&$.S,at=_&$.P,Vt=_&$.B,Pt=et?J:dt?J[re]||(J[re]={}):(J[re]||{})[H],Qt=et?f:f[re]||(f[re]={}),vn=Qt[H]||(Qt[H]={}),Ft,en,Mt,Sn;et&&(ze=re);for(Ft in ze)en=!Ve&&Pt&&Pt[Ft]!==void 0,Mt=(en?Pt:ze)[Ft],Sn=Vt&&en?te(Mt,J):at&&typeof Mt=="function"?te(Function.call,Mt):Mt,Pt&&O(Pt,Ft,Mt,_&$.U),Qt[Ft]!=Mt&&Be(Qt,Ft,Sn),at&&vn[Ft]!=Mt&&(vn[Ft]=Mt)};J.core=f,$.F=1,$.G=2,$.S=4,$.P=8,$.B=16,$.W=32,$.U=64,$.R=128;var U=$,ue=Math.ceil,Ke=Math.floor,Te=function(_){return isNaN(_=+_)?0:(_>0?Ke:ue)(_)},qe=function(_){if(_==null)throw TypeError("Can't call method on  "+_);return _},st=function(_){return function(re,ze){var Ve=String(qe(re)),et=Te(ze),dt=Ve.length,at,Vt;return et<0||et>=dt?_?"":void 0:(at=Ve.charCodeAt(et),at<55296||at>56319||et+1===dt||(Vt=Ve.charCodeAt(et+1))<56320||Vt>57343?_?Ve.charAt(et):at:_?Ve.slice(et,et+2):(at-55296<<10)+(Vt-56320)+65536)}},ce=st(!1);U(U.P,"String",{codePointAt:function(re){return ce(this,re)}});var ve=f.String.codePointAt,ye=Math.max,fe=Math.min,kt=function(_,re){return _=Te(_),_<0?ye(_+re,0):fe(_,re)},ut=String.fromCharCode,It=String.fromCodePoint;U(U.S+U.F*(!!It&&It.length!=1),"String",{fromCodePoint:function(re){for(var ze=arguments,Ve=[],et=arguments.length,dt=0,at;et>dt;){if(at=+ze[dt++],kt(at,1114111)!==at)throw RangeError(at+" is not a valid code point");Ve.push(at<65536?ut(at):ut(((at-=65536)>>10)+55296,at%1024+56320))}return Ve.join("")}});var Zt=f.String.fromCodePoint,wt=/[\u1680\u2000-\u200A\u202F\u205F\u3000]/,An=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]/,wn=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09FC\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF9\u1D00-\u1DF9\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDE00-\uDE3E\uDE47\uDE50-\uDE83\uDE86-\uDE99\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4A\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/,Pn={Space_Separator:wt,ID_Start:An,ID_Continue:wn},Et={isSpaceSeparator:function(re){return typeof re=="string"&&Pn.Space_Separator.test(re)},isIdStartChar:function(re){return typeof re=="string"&&(re>="a"&&re<="z"||re>="A"&&re<="Z"||re==="$"||re==="_"||Pn.ID_Start.test(re))},isIdContinueChar:function(re){return typeof re=="string"&&(re>="a"&&re<="z"||re>="A"&&re<="Z"||re>="0"&&re<="9"||re==="$"||re==="_"||re==="\u200C"||re==="\u200D"||Pn.ID_Continue.test(re))},isDigit:function(re){return typeof re=="string"&&/[0-9]/.test(re)},isHexDigit:function(re){return typeof re=="string"&&/[0-9A-Fa-f]/.test(re)}},us,Ot,rn,Jn,pn,qt,Nt,Yn,Mn,Gs=function(re,ze){us=String(re),Ot="start",rn=[],Jn=0,pn=1,qt=0,Nt=void 0,Yn=void 0,Mn=void 0;do Nt=Kn(),Qn[Ot]();while(Nt.type!=="eof");return typeof ze=="function"?ds({"":Mn},"",ze):Mn};function ds(_,re,ze){var Ve=_[re];if(Ve!=null&&typeof Ve=="object")if(Array.isArray(Ve))for(var et=0;et<Ve.length;et++){var dt=String(et),at=ds(Ve,dt,ze);at===void 0?delete Ve[dt]:Object.defineProperty(Ve,dt,{value:at,writable:!0,enumerable:!0,configurable:!0})}else for(var Vt in Ve){var Pt=ds(Ve,Vt,ze);Pt===void 0?delete Ve[Vt]:Object.defineProperty(Ve,Vt,{value:Pt,writable:!0,enumerable:!0,configurable:!0})}return ze.call(_,re,Ve)}var ot,rt,On,on,pt;function Kn(){for(ot="default",rt="",On=!1,on=1;;){pt=F();var _=Fs[ot]();if(_)return _}}function F(){if(us[Jn])return String.fromCodePoint(us.codePointAt(Jn))}function W(){var _=F();return _===`
`?(pn++,qt=0):_?qt+=_.length:qt++,_&&(Jn+=_.length),_}var Fs={default:function(){switch(pt){case"	":case"\v":case"\f":case" ":case"\xA0":case"\uFEFF":case`
`:case"\r":case"\u2028":case"\u2029":W();return;case"/":W(),ot="comment";return;case void 0:return W(),x("eof")}if(Et.isSpaceSeparator(pt)){W();return}return Fs[Ot]()},comment:function(){switch(pt){case"*":W(),ot="multiLineComment";return;case"/":W(),ot="singleLineComment";return}throw ft(W())},multiLineComment:function(){switch(pt){case"*":W(),ot="multiLineCommentAsterisk";return;case void 0:throw ft(W())}W()},multiLineCommentAsterisk:function(){switch(pt){case"*":W();return;case"/":W(),ot="default";return;case void 0:throw ft(W())}W(),ot="multiLineComment"},singleLineComment:function(){switch(pt){case`
`:case"\r":case"\u2028":case"\u2029":W(),ot="default";return;case void 0:return W(),x("eof")}W()},value:function(){switch(pt){case"{":case"[":return x("punctuator",W());case"n":return W(),an("ull"),x("null",null);case"t":return W(),an("rue"),x("boolean",!0);case"f":return W(),an("alse"),x("boolean",!1);case"-":case"+":W()==="-"&&(on=-1),ot="sign";return;case".":rt=W(),ot="decimalPointLeading";return;case"0":rt=W(),ot="zero";return;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":rt=W(),ot="decimalInteger";return;case"I":return W(),an("nfinity"),x("numeric",1/0);case"N":return W(),an("aN"),x("numeric",NaN);case'"':case"'":On=W()==='"',rt="",ot="string";return}throw ft(W())},identifierNameStartEscape:function(){if(pt!=="u")throw ft(W());W();var re=Ts();switch(re){case"$":case"_":break;default:if(!Et.isIdStartChar(re))throw ks();break}rt+=re,ot="identifierName"},identifierName:function(){switch(pt){case"$":case"_":case"\u200C":case"\u200D":rt+=W();return;case"\\":W(),ot="identifierNameEscape";return}if(Et.isIdContinueChar(pt)){rt+=W();return}return x("identifier",rt)},identifierNameEscape:function(){if(pt!=="u")throw ft(W());W();var re=Ts();switch(re){case"$":case"_":case"\u200C":case"\u200D":break;default:if(!Et.isIdContinueChar(re))throw ks();break}rt+=re,ot="identifierName"},sign:function(){switch(pt){case".":rt=W(),ot="decimalPointLeading";return;case"0":rt=W(),ot="zero";return;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":rt=W(),ot="decimalInteger";return;case"I":return W(),an("nfinity"),x("numeric",on*(1/0));case"N":return W(),an("aN"),x("numeric",NaN)}throw ft(W())},zero:function(){switch(pt){case".":rt+=W(),ot="decimalPoint";return;case"e":case"E":rt+=W(),ot="decimalExponent";return;case"x":case"X":rt+=W(),ot="hexadecimal";return}return x("numeric",on*0)},decimalInteger:function(){switch(pt){case".":rt+=W(),ot="decimalPoint";return;case"e":case"E":rt+=W(),ot="decimalExponent";return}if(Et.isDigit(pt)){rt+=W();return}return x("numeric",on*Number(rt))},decimalPointLeading:function(){if(Et.isDigit(pt)){rt+=W(),ot="decimalFraction";return}throw ft(W())},decimalPoint:function(){switch(pt){case"e":case"E":rt+=W(),ot="decimalExponent";return}if(Et.isDigit(pt)){rt+=W(),ot="decimalFraction";return}return x("numeric",on*Number(rt))},decimalFraction:function(){switch(pt){case"e":case"E":rt+=W(),ot="decimalExponent";return}if(Et.isDigit(pt)){rt+=W();return}return x("numeric",on*Number(rt))},decimalExponent:function(){switch(pt){case"+":case"-":rt+=W(),ot="decimalExponentSign";return}if(Et.isDigit(pt)){rt+=W(),ot="decimalExponentInteger";return}throw ft(W())},decimalExponentSign:function(){if(Et.isDigit(pt)){rt+=W(),ot="decimalExponentInteger";return}throw ft(W())},decimalExponentInteger:function(){if(Et.isDigit(pt)){rt+=W();return}return x("numeric",on*Number(rt))},hexadecimal:function(){if(Et.isHexDigit(pt)){rt+=W(),ot="hexadecimalInteger";return}throw ft(W())},hexadecimalInteger:function(){if(Et.isHexDigit(pt)){rt+=W();return}return x("numeric",on*Number(rt))},string:function(){switch(pt){case"\\":W(),rt+=q();return;case'"':if(On)return W(),x("string",rt);rt+=W();return;case"'":if(!On)return W(),x("string",rt);rt+=W();return;case`
`:case"\r":throw ft(W());case"\u2028":case"\u2029":Jt(pt);break;case void 0:throw ft(W())}rt+=W()},start:function(){switch(pt){case"{":case"[":return x("punctuator",W())}ot="value"},beforePropertyName:function(){switch(pt){case"$":case"_":rt=W(),ot="identifierName";return;case"\\":W(),ot="identifierNameStartEscape";return;case"}":return x("punctuator",W());case'"':case"'":On=W()==='"',ot="string";return}if(Et.isIdStartChar(pt)){rt+=W(),ot="identifierName";return}throw ft(W())},afterPropertyName:function(){if(pt===":")return x("punctuator",W());throw ft(W())},beforePropertyValue:function(){ot="value"},afterPropertyValue:function(){switch(pt){case",":case"}":return x("punctuator",W())}throw ft(W())},beforeArrayValue:function(){if(pt==="]")return x("punctuator",W());ot="value"},afterArrayValue:function(){switch(pt){case",":case"]":return x("punctuator",W())}throw ft(W())},end:function(){throw ft(W())}};function x(_,re){return{type:_,value:re,line:pn,column:qt}}function an(_){for(var re=0,ze=_;re<ze.length;re+=1){var Ve=ze[re],et=F();if(et!==Ve)throw ft(W());W()}}function q(){var _=F();switch(_){case"b":return W(),"\b";case"f":return W(),"\f";case"n":return W(),`
`;case"r":return W(),"\r";case"t":return W(),"	";case"v":return W(),"\v";case"0":if(W(),Et.isDigit(F()))throw ft(W());return"\0";case"x":return W(),Gn();case"u":return W(),Ts();case`
`:case"\u2028":case"\u2029":return W(),"";case"\r":return W(),F()===`
`&&W(),"";case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":throw ft(W());case void 0:throw ft(W())}return W()}function Gn(){var _="",re=F();if(!Et.isHexDigit(re)||(_+=W(),re=F(),!Et.isHexDigit(re)))throw ft(W());return _+=W(),String.fromCodePoint(parseInt(_,16))}function Ts(){for(var _="",re=4;re-- >0;){var ze=F();if(!Et.isHexDigit(ze))throw ft(W());_+=W()}return String.fromCodePoint(parseInt(_,16))}var Qn={start:function(){if(Nt.type==="eof")throw Gt();zt()},beforePropertyName:function(){switch(Nt.type){case"identifier":case"string":Yn=Nt.value,Ot="afterPropertyName";return;case"punctuator":Nn();return;case"eof":throw Gt()}},afterPropertyName:function(){if(Nt.type==="eof")throw Gt();Ot="beforePropertyValue"},beforePropertyValue:function(){if(Nt.type==="eof")throw Gt();zt()},beforeArrayValue:function(){if(Nt.type==="eof")throw Gt();if(Nt.type==="punctuator"&&Nt.value==="]"){Nn();return}zt()},afterPropertyValue:function(){if(Nt.type==="eof")throw Gt();switch(Nt.value){case",":Ot="beforePropertyName";return;case"}":Nn()}},afterArrayValue:function(){if(Nt.type==="eof")throw Gt();switch(Nt.value){case",":Ot="beforeArrayValue";return;case"]":Nn()}},end:function(){}};function zt(){var _;switch(Nt.type){case"punctuator":switch(Nt.value){case"{":_={};break;case"[":_=[];break}break;case"null":case"boolean":case"numeric":case"string":_=Nt.value;break}if(Mn===void 0)Mn=_;else{var re=rn[rn.length-1];Array.isArray(re)?re.push(_):Object.defineProperty(re,Yn,{value:_,writable:!0,enumerable:!0,configurable:!0})}if(_!==null&&typeof _=="object")rn.push(_),Array.isArray(_)?Ot="beforeArrayValue":Ot="beforePropertyName";else{var ze=rn[rn.length-1];ze==null?Ot="end":Array.isArray(ze)?Ot="afterArrayValue":Ot="afterPropertyValue"}}function Nn(){rn.pop();var _=rn[rn.length-1];_==null?Ot="end":Array.isArray(_)?Ot="afterArrayValue":Ot="afterPropertyValue"}function ft(_){return En(_===void 0?"JSON5: invalid end of input at "+pn+":"+qt:"JSON5: invalid character '"+Is(_)+"' at "+pn+":"+qt)}function Gt(){return En("JSON5: invalid end of input at "+pn+":"+qt)}function ks(){return qt-=5,En("JSON5: invalid identifier character at "+pn+":"+qt)}function Jt(_){console.warn("JSON5: '"+Is(_)+"' in strings is not valid ECMAScript; consider escaping")}function Is(_){var re={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"};if(re[_])return re[_];if(_<" "){var ze=_.charCodeAt(0).toString(16);return"\\x"+("00"+ze).substring(ze.length)}return _}function En(_){var re=new SyntaxError(_);return re.lineNumber=pn,re.columnNumber=qt,re}var ps=function(re,ze,Ve){var et=[],dt="",at,Vt,Pt="",Qt;if(ze!=null&&typeof ze=="object"&&!Array.isArray(ze)&&(Ve=ze.space,Qt=ze.quote,ze=ze.replacer),typeof ze=="function")Vt=ze;else if(Array.isArray(ze)){at=[];for(var vn=0,Ft=ze;vn<Ft.length;vn+=1){var en=Ft[vn],Mt=void 0;typeof en=="string"?Mt=en:(typeof en=="number"||en instanceof String||en instanceof Number)&&(Mt=String(en)),Mt!==void 0&&at.indexOf(Mt)<0&&at.push(Mt)}}return Ve instanceof Number?Ve=Number(Ve):Ve instanceof String&&(Ve=String(Ve)),typeof Ve=="number"?Ve>0&&(Ve=Math.min(10,Math.floor(Ve)),Pt="          ".substr(0,Ve)):typeof Ve=="string"&&(Pt=Ve.substr(0,10)),Sn("",{"":re});function Sn(gt,_t){var it=_t[gt];switch(it!=null&&(typeof it.toJSON5=="function"?it=it.toJSON5(gt):typeof it.toJSON=="function"&&(it=it.toJSON(gt))),Vt&&(it=Vt.call(_t,gt,it)),it instanceof Number?it=Number(it):it instanceof String?it=String(it):it instanceof Boolean&&(it=it.valueOf()),it){case null:return"null";case!0:return"true";case!1:return"false"}if(typeof it=="string")return Bn(it,!1);if(typeof it=="number")return String(it);if(typeof it=="object")return Array.isArray(it)?Ms(it):Xs(it)}function Bn(gt){for(var _t={"'":.1,'"':.2},it={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"},St="",Ht=0;Ht<gt.length;Ht++){var Lt=gt[Ht];switch(Lt){case"'":case'"':_t[Lt]++,St+=Lt;continue;case"\0":if(Et.isDigit(gt[Ht+1])){St+="\\x00";continue}}if(it[Lt]){St+=it[Lt];continue}if(Lt<" "){var mn=Lt.charCodeAt(0).toString(16);St+="\\x"+("00"+mn).substring(mn.length);continue}St+=Lt}var tn=Qt||Object.keys(_t).reduce(function(fn,ln){return _t[fn]<_t[ln]?fn:ln});return St=St.replace(new RegExp(tn,"g"),it[tn]),tn+St+tn}function Xs(gt){if(et.indexOf(gt)>=0)throw TypeError("Converting circular structure to JSON5");et.push(gt);var _t=dt;dt=dt+Pt;for(var it=at||Object.keys(gt),St=[],Ht=0,Lt=it;Ht<Lt.length;Ht+=1){var mn=Lt[Ht],tn=Sn(mn,gt);if(tn!==void 0){var fn=Xn(mn)+":";Pt!==""&&(fn+=" "),fn+=tn,St.push(fn)}}var ln;if(St.length===0)ln="{}";else{var Ln;if(Pt==="")Ln=St.join(","),ln="{"+Ln+"}";else{var Os=`,
`+dt;Ln=St.join(Os),ln=`{
`+dt+Ln+`,
`+_t+"}"}}return et.pop(),dt=_t,ln}function Xn(gt){if(gt.length===0)return Bn(gt,!0);var _t=String.fromCodePoint(gt.codePointAt(0));if(!Et.isIdStartChar(_t))return Bn(gt,!0);for(var it=_t.length;it<gt.length;it++)if(!Et.isIdContinueChar(String.fromCodePoint(gt.codePointAt(it))))return Bn(gt,!0);return gt}function Ms(gt){if(et.indexOf(gt)>=0)throw TypeError("Converting circular structure to JSON5");et.push(gt);var _t=dt;dt=dt+Pt;for(var it=[],St=0;St<gt.length;St++){var Ht=Sn(String(St),gt);it.push(Ht!==void 0?Ht:"null")}var Lt;if(it.length===0)Lt="[]";else if(Pt===""){var mn=it.join(",");Lt="["+mn+"]"}else{var tn=`,
`+dt,fn=it.join(tn);Lt=`[
`+dt+fn+`,
`+_t+"]"}return et.pop(),dt=_t,Lt}},hn={parse:Gs,stringify:ps},Qs=hn,Ps=Qs;return Ps})}}]);

//# sourceMappingURL=vendors-node_modules_iobroker_json-config_build_index_js.033761ae.chunk.js.map