var wf=Object.defineProperty,Cf=Object.defineProperties;var Sf=Object.getOwnPropertyDescriptors;var Uo=Object.getOwnPropertySymbols,Ef=Object.getPrototypeOf,Df=Object.prototype.hasOwnProperty,Af=Object.prototype.propertyIsEnumerable,xf=Reflect.get;var fi=Math.pow,lr=(X,j,L)=>j in X?wf(X,j,{enumerable:!0,configurable:!0,writable:!0,value:L}):X[j]=L,Yt=(X,j)=>{for(var L in j||(j={}))Df.call(j,L)&&lr(X,L,j[L]);if(Uo)for(var L of Uo(j))Af.call(j,L)&&lr(X,L,j[L]);return X},zn=(X,j)=>Cf(X,Sf(j));var $t=(X,j,L)=>(lr(X,typeof j!="symbol"?j+"":j,L),L);var Wn=(X,j,L)=>xf(Ef(X),L,j);var Nt=(X,j,L)=>new Promise((M,h)=>{var F=D=>{try{d(L.next(D))}catch(r){h(r)}},b=D=>{try{d(L.throw(D))}catch(r){h(r)}},d=D=>D.done?M(D.value):Promise.resolve(D.value).then(F,b);d((L=L.apply(X,j)).next())});(self.webpackChunkiobroker_admin_component_backitup=self.webpackChunkiobroker_admin_component_backitup||[]).push([["vendors-node_modules_iobroker_adapter-react-v5_assets_devices_parseNames_d_ts-node_modules_io-1d9f06"],{58263:(X,j,L)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const M=L(4817);j.default=M.AdminConnection},10712:function(X,j,L){"use strict";var M=this&&this.__createBinding||(Object.create?function(c,p,w,E){E===void 0&&(E=w);var k=Object.getOwnPropertyDescriptor(p,w);(!k||("get"in k?!p.__esModule:k.writable||k.configurable))&&(k={enumerable:!0,get:function(){return p[w]}}),Object.defineProperty(c,E,k)}:function(c,p,w,E){E===void 0&&(E=w),c[E]=p[w]}),h=this&&this.__setModuleDefault||(Object.create?function(c,p){Object.defineProperty(c,"default",{enumerable:!0,value:p})}:function(c,p){c.default=p}),F=this&&this.__importStar||function(c){if(c&&c.__esModule)return c;var p={};if(c!=null)for(var w in c)w!=="default"&&Object.prototype.hasOwnProperty.call(c,w)&&M(p,c,w);return h(p,c),p},b=this&&this.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(j,"__esModule",{value:!0});const d=F(L(28437)),D=L(55385),r=L(70143),e=L(67085),s=L(21839),t=b(L(42854)),i=b(L(96808)),n=c=>({color:{width:36,height:14,borderRadius:2},delButton:{marginTop:16},swatch:{marginTop:16,padding:5,background:c.palette.background.paper,borderRadius:1,boxShadow:"0 0 0 1px rgba(0,0,0,.1)",display:"inline-block",cursor:"pointer",verticalAlign:"middle"},swatchDisabled:{opacity:.5,cursor:"default"},popover:{backgroundColor:"#00000000",textAlign:"right"},popoverList:{padding:0},closeButton:{backgroundColor:`${c.palette.background.paper} !important`,borderRadius:"0 0 25% 25%","&:hover":{backgroundColor:`${c.palette.secondary.main} !important`}},cover:{position:"fixed",top:0,right:0,bottom:0,left:0},textDense:{marginTop:0,marginBottom:0},picker:{background:`${c.palette.background.paper} !important`},iconButton:{width:16,height:16},button:{width:32,height:32,minWidth:32,minHeight:32}});class o extends d.Component{constructor(p){super(p),this.handleClick=w=>{this.setState({displayColorPicker:!this.state.displayColorPicker,anchorEl:this.state.displayColorPicker?null:w.currentTarget})},this.handleClose=()=>{this.setState({displayColorPicker:!1,anchorEl:null})},this.handleChange=w=>{this.setState({color:w},()=>this.props.onChange&&this.props.onChange(o.getColor(w)))},this.state={displayColorPicker:!1,color:this.props.value||this.props.color||"",anchorEl:null}}static getColor(p,w){if(p&&typeof p=="object"){const E=p;if(E.rgb)return w?`#${E.rgb.r.toString(16).padStart(2,"0")}${E.rgb.g.toString(16).padStart(2,"0")}${E.rgb.b.toString(16).padStart(2,"0")}`:`rgba(${E.rgb.r},${E.rgb.g},${E.rgb.b},${E.rgb.a})`;const k=p;return w?`#${k.r.toString(16).padStart(2,"0")}${k.g.toString(16).padStart(2,"0")}${k.b.toString(16).padStart(2,"0")}`:`rgba(${k.r},${k.g},${k.b},${k.a})`}return w?o.rgb2hex(p||""):p||""}static rgb2hex(p){const w=p.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i);if(w){const E=parseInt(w[1],10).toString(16).padStart(2,"0"),k=parseInt(w[2],10).toString(16).padStart(2,"0"),f=parseInt(w[3],10).toString(16).padStart(2,"0");return(w==null?void 0:w.length)===4?`#${E}${k}${f}`:p}return p}componentDidUpdate(p,w){const E=o.getColor(this.props.color||this.props.value||"");E!==w.color&&this.setState({color:E})}renderCustomPalette(){return this.props.customPalette?d.default.createElement("div",{style:{width:"100%",display:"flex",flexWrap:"wrap"}},this.props.customPalette.map(p=>d.default.createElement(e.Button,{className:this.props.classes.button,key:p,onClick:()=>{this.handleChange(p),setTimeout(()=>this.handleClose(),300)}},d.default.createElement("div",{className:this.props.classes.iconButton,style:{background:p}})))):null}render(){const p=Object.assign({},this.props.style||{});p.position="relative";const{color:w}=this.state;return d.default.createElement("div",{style:p,className:this.props.className||""},this.props.noInputField?null:d.default.createElement(e.TextField,{disabled:this.props.disabled,variant:"standard",id:"ar_color_picker_name",style:w?{width:"calc(100% - 80px)"}:{width:"calc(100% - 56px)",marginRight:8},label:this.props.label||this.props.name||"color",value:w||"",margin:"dense",classes:{root:this.props.classes.textDense},onChange:E=>this.handleChange(E.target.value)}),!this.props.noInputField&&w?d.default.createElement(e.IconButton,{disabled:this.props.disabled,onClick:()=>this.handleChange(""),size:"small",className:this.props.classes.delButton,style:w?{}:{opacity:0,cursor:"default"}},d.default.createElement(s.Delete,null)):null,d.default.createElement("div",{className:i.default.clsx(this.props.classes.swatch,this.props.disabled&&this.props.classes.swatchDisabled),onClick:E=>!this.props.disabled&&this.handleClick(E),title:t.default.t("ra_Select color"),style:{background:w?void 0:"transparent",border:w?void 0:"1px dashed #ccc",boxSizing:"border-box",marginTop:this.props.noInputField?0:void 0}},d.default.createElement("div",{className:this.props.classes.color,style:{background:o.getColor(w),width:this.props.noInputField?this.props.barWidth||16:this.props.barWidth||void 0}})),this.state.displayColorPicker&&!this.props.disabled?d.default.createElement(e.Menu,{classes:{paper:this.props.classes.popover,list:this.props.classes.popoverList},anchorEl:this.state.anchorEl,open:!0,onClose:()=>this.handleClose()},d.default.createElement(D.ChromePicker,{className:this.props.classes.picker,color:this.state.color||void 0,onChangeComplete:E=>this.handleChange(E.rgb),styles:{default:{picker:{backgroundColor:"#112233"}}}}),w&&this.props.noInputField?d.default.createElement(e.IconButton,{className:this.props.classes.closeButton,onClick:()=>this.handleChange("")},d.default.createElement(s.Delete,null)):null,d.default.createElement(e.IconButton,{className:this.props.classes.closeButton,onClick:()=>this.handleClose()},d.default.createElement(s.Close,null)),this.renderCustomPalette()):null)}}j.default=(0,r.withStyles)(n)(o)},43021:function(X,j,L){"use strict";var M=this&&this.__createBinding||(Object.create?function(w,E,k,f){f===void 0&&(f=k);var C=Object.getOwnPropertyDescriptor(E,k);(!C||("get"in C?!E.__esModule:C.writable||C.configurable))&&(C={enumerable:!0,get:function(){return E[k]}}),Object.defineProperty(w,f,C)}:function(w,E,k,f){f===void 0&&(f=k),w[f]=E[k]}),h=this&&this.__setModuleDefault||(Object.create?function(w,E){Object.defineProperty(w,"default",{enumerable:!0,value:E})}:function(w,E){w.default=E}),F=this&&this.__importStar||function(w){if(w&&w.__esModule)return w;var E={};if(w!=null)for(var k in w)k!=="default"&&Object.prototype.hasOwnProperty.call(w,k)&&M(E,w,k);return h(E,w),E},b=this&&this.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(j,"__esModule",{value:!0});const d=F(L(28437)),D=L(70143),r=L(67085),e=b(L(42854)),s=b(L(81997)),t={mainDiv:{width:"100%",height:"100%"},periodSelect:{display:"block",width:200},slider:{marginTop:20,display:"block",width:"100%"},tabContent:{padding:20,height:"calc(100% - 240px)",overflow:"auto"},numberButton:{padding:4,minWidth:40,margin:5},numberButtonBreak:{display:"block"},appBar:{color:"white"}},i=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],n=["January","February","March","April","May","June","July","August","September","October","November","December"];function o(w,E){let k=[];if(w==="*"){if(E===24||E===60||E===7)for(let C=0;C<E;C++)k.push(C);else for(let C=1;C<=E;C++)k.push(C);return k}const f=(w||"").toString().split(",");for(let C=0;C<f.length;C++){if(!f[C].trim().length)continue;const g=f[C].trim().split("-");if(g.length>1){const m=parseInt(g[1],10);for(let S=parseInt(g[0],10);S<=m;S++)k.push(S)}else k.push(parseInt(f[C],10))}k.sort();for(let C=k.length-1;C>=0;C--)k[C]===k[C+1]&&k.splice(C+1,1);return k}function c(w,E){if(typeof w!="object"&&(w=[w]),w.length===E)return"*";const k=[];if(!w.length)return"-";w=w.map(g=>parseInt(g,10)),w.sort((g,m)=>g-m);let f=w[0],C=w[0];for(let g=1;g<w.length;g++)w[g]-1!==parseInt(w[g-1],10)&&(f===C?k.push(f):C-1===f?k.push(`${f},${C}`):k.push(`${f}-${C}`),f=w[g]),C=w[g];return f===C?k.push(f):C-1===f?k.push(`${f},${C}`):k.push(`${f}-${C}`),k.join(",")}class p extends d.Component{constructor(E){super(E);let k=typeof this.props.cronExpression=="string"?this.props.cronExpression.replace(/^["']/,"").replace(/["']\n?$/,""):"";k[0]==="{"&&(k="");const f=p.cron2state(k||"* * * * *");this.state={extended:!1,tab:f.seconds!==!1?1:0,cron:p.state2cron(f),modes:{seconds:null,minutes:null,hours:null,dates:null,months:null,dow:null}},Object.assign(this.state,f),this.state.cron!==this.props.cronExpression&&setTimeout(()=>this.props.onChange&&this.props.onChange(this.state.cron),100)}static cron2state(E){E=E.replace(/['"]/g,"").trim();const k=E.split(" ").map(C=>C.trim());let f;return k.length===6?f={seconds:k[0]||"*",minutes:k[1]||"*",hours:k[2]||"*",dates:k[3]||"*",months:k[4]||"*",dow:k[5]||"*"}:f={seconds:!1,minutes:k[0]||"*",hours:k[1]||"*",dates:k[2]||"*",months:k[3]||"*",dow:k[4]||"*"},f}static state2cron(E){let k=`${E.minutes} ${E.hours} ${E.dates} ${E.months} ${E.dow}`;return E.seconds!==!1&&(k=`${E.seconds} ${k}`),k}recalcCron(){const E=p.state2cron(this.state);E!==this.state.cron&&this.setState({cron:E},()=>this.props.onChange&&this.props.onChange(this.state.cron))}onChange(E){E!==this.state.cron&&(this.setState({cron:E}),this.props.onChange&&this.props.onChange(E))}onToggle(E,k,f){if(E===!0)this.setCronAttr(k,"*");else if(E===!1)f===60||f===24?this.setCronAttr(k,"0"):this.setCronAttr(k,"1");else{const C=o(this.state[k],f),g=C.indexOf(E);g!==-1?C.splice(g,1):(C.push(E),C.sort()),this.setCronAttr(k,c(C,f))}}getDigitsSelector(E,k){let f=[];if(k===7)f=[1,2,3,4,5,6,0];else if(k===60||k===24)for(let g=0;g<k;g++)f.push(g);else for(let g=1;g<=k;g++)f.push(g);const C=o(this.state[E],k);return[d.default.createElement(r.Button,{key:"removeall",variant:"outlined",className:this.props.classes.numberButton,color:"primary",onClick:()=>this.onToggle(!1,E,k)},e.default.t("ra_Deselect all")),d.default.createElement(r.Button,{key:"addall",variant:"contained",className:this.props.classes.numberButton,color:"secondary",onClick:()=>this.onToggle(!0,E,k)},e.default.t("ra_Select all")),d.default.createElement("div",{key:"all"},f.map(g=>[k===7&&g===4||k===12&&g===7||k===31&&!((g-1)%10)||k===60&&g&&!(g%10)||k===24&&g&&!(g%6)?d.default.createElement("div",{key:`allInner${g}`,style:{width:"100%"}}):null,d.default.createElement(r.Button,{key:`_${g}`,variant:C.indexOf(g)!==-1?"contained":"outlined",className:this.props.classes.numberButton,color:C.indexOf(g)!==-1?"secondary":"primary",onClick:()=>this.onToggle(g,E,k)},k===7?e.default.t(i[g]):k===12?n[g-1]:g)]))]}getPeriodsTab(E,k){let f=this.state[E],C=f==="*",g=f==null?!1:f.toString().includes("/"),m;if(this.state.modes[E]===null){m=C?"every":g?"everyN":"specific";const A=JSON.parse(JSON.stringify(this.state.modes));return A[E]=m,setTimeout(()=>this.setState({modes:A},()=>this.recalcCron()),100),null}C=this.state.modes[E]==="every",g=this.state.modes[E]==="everyN",m=this.state.modes[E];let S=1;return g&&f&&(S=parseInt(f.replace("*/",""),10)||1),d.default.createElement("div",null,d.default.createElement(r.Select,{variant:"standard",className:this.props.classes.periodSelect,style:{verticalAlign:"bottom"},value:m,onChange:A=>{const R=JSON.parse(JSON.stringify(this.state.modes));if(R[E]=A.target.value,A.target.value==="every")this.setCronAttr(E,"*",R);else if(A.target.value==="everyN"){const P=parseInt((this.state[E]||"").toString().replace("*/",""),10)||1;this.setCronAttr(E,`*/${P}`,R)}else if(A.target.value==="specific"){let P=parseInt((this.state[E]||"").toString().split(",")[0],10)||0;!P&&(E==="months"||E==="dates")&&(P=1),this.setCronAttr(E,c(P,k),R)}}},d.default.createElement(r.MenuItem,{key:"every",value:"every"},e.default.t(`sc_every_${E}`)),d.default.createElement(r.MenuItem,{key:"everyN",value:"everyN"},e.default.t(`sc_everyN_${E}`)),d.default.createElement(r.MenuItem,{key:"specific",value:"specific"},e.default.t(`sc_specific_${E}`))),g&&!1,g&&d.default.createElement(r.TextField,{variant:"standard",key:"interval",label:e.default.t(`sc_${E}`),value:S,inputProps:{min:1,max:k},onChange:A=>{this.setState({[E]:`*/${A.target.value}`},()=>this.recalcCron())},InputLabelProps:{shrink:!0},type:"number",margin:"normal"}),!C&&!g&&this.getDigitsSelector(E,k))}static convertCronToText(E,k){return E.split(" ").includes("-")?e.default.t("ra_Invalid CRON"):(0,s.default)(E,k)}setCronAttr(E,k,f){f?E==="seconds"?this.setState({seconds:k,modes:f},()=>this.recalcCron()):E==="minutes"?this.setState({minutes:k,modes:f},()=>this.recalcCron()):E==="hours"?this.setState({hours:k,modes:f},()=>this.recalcCron()):E==="dates"?this.setState({dates:k,modes:f},()=>this.recalcCron()):E==="months"?this.setState({months:k,modes:f},()=>this.recalcCron()):E==="dow"?this.setState({dow:k,modes:f},()=>this.recalcCron()):this.setState({modes:f},()=>this.recalcCron()):E==="seconds"?this.setState({seconds:k},()=>this.recalcCron()):E==="minutes"?this.setState({minutes:k},()=>this.recalcCron()):E==="hours"?this.setState({hours:k},()=>this.recalcCron()):E==="dates"?this.setState({dates:k},()=>this.recalcCron()):E==="months"?this.setState({months:k},()=>this.recalcCron()):E==="dow"&&this.setState({dow:k},()=>this.recalcCron())}render(){const E=this.state.seconds!==!1?this.state.tab:this.state.tab+1;return d.default.createElement("div",{className:this.props.classes.mainDiv},d.default.createElement("div",{style:{paddingLeft:8,width:"100%"}},d.default.createElement(r.TextField,{variant:"standard",style:{width:"100%"},value:this.state.cron,disabled:!0})),d.default.createElement("div",{style:{paddingLeft:8,width:"100%",height:60}},p.convertCronToText(this.state.cron,this.props.language||"en")),d.default.createElement(r.FormControlLabel,{control:d.default.createElement(r.Checkbox,{checked:!!this.state.seconds,onChange:k=>this.setState({seconds:k.target.checked?"*":!1},()=>this.recalcCron())}),label:e.default.t("ra_use seconds")}),d.default.createElement(r.AppBar,{position:"static",classes:{root:this.props.classes.appBar},color:"secondary"},d.default.createElement(r.Tabs,{value:this.state.tab,className:this.props.classes.appBar,color:"secondary",onChange:(k,f)=>this.setState({tab:f})},this.state.seconds!==!1&&d.default.createElement(r.Tab,{id:"sc_seconds",label:e.default.t("sc_seconds")}),d.default.createElement(r.Tab,{id:"minutes",label:e.default.t("sc_minutes")}),d.default.createElement(r.Tab,{id:"hours",label:e.default.t("sc_hours")}),d.default.createElement(r.Tab,{id:"dates",label:e.default.t("sc_dates")}),d.default.createElement(r.Tab,{id:"months",label:e.default.t("sc_months")}),d.default.createElement(r.Tab,{id:"dow",label:e.default.t("sc_dows")}))),E===0&&d.default.createElement("div",{className:this.props.classes.tabContent},this.getPeriodsTab("seconds",60)),E===1&&d.default.createElement("div",{className:this.props.classes.tabContent},this.getPeriodsTab("minutes",60)),E===2&&d.default.createElement("div",{className:this.props.classes.tabContent},this.getPeriodsTab("hours",24)),E===3&&d.default.createElement("div",{className:this.props.classes.tabContent},this.getPeriodsTab("dates",31)),E===4&&d.default.createElement("div",{className:this.props.classes.tabContent},this.getPeriodsTab("months",12)),E===5&&d.default.createElement("div",{className:this.props.classes.tabContent},this.getPeriodsTab("dow",7)))}}j.default=(0,D.withStyles)(t)(p)},93497:function(X,j,L){"use strict";var M=this&&this.__createBinding||(Object.create?function(o,c,p,w){w===void 0&&(w=p);var E=Object.getOwnPropertyDescriptor(c,p);(!E||("get"in E?!c.__esModule:E.writable||E.configurable))&&(E={enumerable:!0,get:function(){return c[p]}}),Object.defineProperty(o,w,E)}:function(o,c,p,w){w===void 0&&(w=p),o[w]=c[p]}),h=this&&this.__setModuleDefault||(Object.create?function(o,c){Object.defineProperty(o,"default",{enumerable:!0,value:c})}:function(o,c){o.default=c}),F=this&&this.__importStar||function(o){if(o&&o.__esModule)return o;var c={};if(o!=null)for(var p in o)p!=="default"&&Object.prototype.hasOwnProperty.call(o,p)&&M(c,o,p);return h(c,o),c},b=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(j,"__esModule",{value:!0});const d=F(L(28437)),D=L(70143),r=L(67085),e=L(21839),s=b(L(96808)),t=b(L(42854)),i=o=>({modalDialog:{minWidth:400,maxWidth:800},overflowHidden:{display:"flex",overflow:"hidden"},titleIcon:{marginRight:5},content:{fontSize:16},languageButton:{position:"absolute",right:o.spacing(1),top:o.spacing(1)},languageButtonActive:{color:o.palette.primary.main}}),n=o=>{const{open:c,toggleTranslation:p,noTranslation:w,title:E,fullWidth:k,help:f,maxWidth:C,progress:g,icon:m,applyDisabled:S,applyButton:A,classes:R,onClose:P,children:W,titleButtonApply:_,titleButtonClose:T,onApply:N,textInput:V,defaultValue:K,overflowHidden:I}=o,[q,U]=(0,d.useState)(K||"");(0,d.useEffect)(()=>{U(K||"")},[K]);let J=null;return m&&(J=m),d.default.createElement(r.Dialog,{open:c,maxWidth:C||"md",fullWidth:!!k,disableEscapeKeyDown:!1,onClose:P,classes:{paper:R.modalDialog}},E&&d.default.createElement(r.DialogTitle,null,m?d.default.createElement(J,{className:R.titleIcon}):null,E,t.default.getLanguage()!=="en"&&p?d.default.createElement(r.IconButton,{size:"large",className:s.default.clsx(R.languageButton,w&&R.languageButtonActive),onClick:()=>p(),title:t.default.t("Disable/Enable translation")},d.default.createElement(e.Language,null)):null),d.default.createElement(r.DialogContent,{className:s.default.clsx(I?R.overflowHidden:null,R.content),style:{paddingTop:8}},V&&d.default.createElement(r.TextField,{autoComplete:"off",fullWidth:!0,autoFocus:!0,variant:"outlined",size:"medium",multiline:!0,value:q,onChange:Q=>U(Q.target.value)}),W,f?d.default.createElement("div",null,f):null),d.default.createElement(r.DialogActions,null,A!==!1&&d.default.createElement(r.Button,{startIcon:d.default.createElement(e.Check,null),disabled:g||S&&K===q,onClick:()=>N(V?q:""),variant:"contained",color:"primary"},t.default.t(_||"ra_Ok")),d.default.createElement(r.Button,{color:"grey",onClick:P,disabled:g,variant:"contained",startIcon:d.default.createElement(e.Close,null)},t.default.t(T||"ra_Cancel"))))};j.default=(0,D.withStyles)(i)(n)},10927:function(X,j,L){"use strict";var M=this&&this.__createBinding||(Object.create?function(q,U,J,Q){Q===void 0&&(Q=J);var ee=Object.getOwnPropertyDescriptor(U,J);(!ee||("get"in ee?!U.__esModule:ee.writable||ee.configurable))&&(ee={enumerable:!0,get:function(){return U[J]}}),Object.defineProperty(q,Q,ee)}:function(q,U,J,Q){Q===void 0&&(Q=J),q[Q]=U[J]}),h=this&&this.__setModuleDefault||(Object.create?function(q,U){Object.defineProperty(q,"default",{enumerable:!0,value:U})}:function(q,U){q.default=U}),F=this&&this.__importStar||function(q){if(q&&q.__esModule)return q;var U={};if(q!=null)for(var J in q)J!=="default"&&Object.prototype.hasOwnProperty.call(q,J)&&M(U,q,J);return h(U,q),U},b=this&&this.__importDefault||function(q){return q&&q.__esModule?q:{default:q}};Object.defineProperty(j,"__esModule",{value:!0});const d=F(L(28437)),D=L(70143),r=b(L(72589)),e=L(67085),s=L(21839),t=b(L(74732)),i=b(L(96808)),n=b(L(30819)),o=b(L(56232)),c=b(L(57572)),p=b(L(20340)),w=b(L(71778)),E=b(L(82216)),k=b(L(13129)),f=F(L(83221)),C=32,g=32,m=120,S=64,A="Not found",R={all:s.InsertDriveFile,images:s.Image,code:s.Code,txt:s.FontDownload,audio:s.AudioFile,video:s.Videocam},P=q=>({dialog:{height:`calc(100% - ${q.mixins.toolbar.minHeight}px)`},root:{width:"100%",overflow:"hidden",height:"100%",position:"relative"},filesDiv:{width:`calc(100% - ${q.spacing(2)})`,overflowX:"hidden",overflowY:"auto",padding:q.spacing(1)},filesDivHint:{position:"absolute",bottom:0,left:20,opacity:.7,fontStyle:"italic",fontSize:12},filesDivTable:{height:`calc(100% - ${48+parseInt(q.spacing(1),10)}px)`},filesDivTile:{height:`calc(100% - ${48*2+parseInt(q.spacing(1),10)}px)`,display:"flex",alignContent:"flex-start",alignItems:"stretch",flexWrap:"wrap",flex:`0 0 ${S}px`},itemTile:{position:"relative",userSelect:"none",cursor:"pointer",height:m,width:S,display:"inline-block",textAlign:"center",opacity:.1,transition:"opacity 1s",margin:4,"&:hover":{background:q.palette.secondary.light,color:i.default.invertColor(q.palette.secondary.main,!0)}},itemNameFolderTile:{fontWeight:"bold"},itemNameTile:{width:"100%",height:32,overflow:"hidden",textOverflow:"ellipsis",fontSize:12,textAlign:"center",wordBreak:"break-all"},itemFolderIconTile:{width:"100%",height:m-32-16-8,display:"block",paddingLeft:8,color:q.palette.secondary.main||"#fbff7d"},itemFolderIconBack:{position:"absolute",top:22,left:18,zIndex:1,color:q.palette.mode==="dark"?"#FFF":"#000"},itemSizeTile:{width:"100%",height:16,textAlign:"center",fontSize:10},itemImageTile:{width:"calc(100% - 8px)",height:m-32-16-8,margin:4,display:"block",textAlign:"center",objectFit:"contain"},itemIconTile:{width:"100%",height:m-32-16-8,display:"block",objectFit:"contain"},itemSelected:{background:q.palette.primary.main,color:i.default.invertColor(q.palette.primary.main,!0)},itemTable:{userSelect:"none",cursor:"pointer",height:C,display:"inline-flex",lineHeight:`${C}px`,"&:hover":{background:q.palette.secondary.light,color:i.default.invertColor(q.palette.secondary.main,!0)}},itemNameTable:{display:"inline-block",paddingLeft:10,fontSize:"1rem",verticalAlign:"top",flexGrow:1},itemNameFolderTable:{fontWeight:"bold"},itemSizeTable:{display:"inline-block",width:60,verticalAlign:"top",textAlign:"right",whiteSpace:"nowrap"},itemAccessTable:{verticalAlign:"top",width:60,textAlign:"right",paddingRight:5,display:"flex",justifyContent:"center"},itemImageTable:{display:"inline-block",width:30,marginTop:1,objectFit:"contain",maxHeight:30},itemNoImageTable:{marginTop:6},itemIconTable:{display:"inline-block",marginTop:1,width:30,height:30},itemFolderTable:{},itemFolderTemp:{opacity:.4},itemFolderIconTable:{marginTop:1,marginLeft:q.spacing(1),display:"inline-block",width:30,height:30,color:q.palette.secondary.main||"#fbff7d"},itemDownloadButtonTable:{display:"inline-block",width:g,height:C,minWidth:g,verticalAlign:"middle",textAlign:"center",padding:0,borderRadius:g/2,"&:hover":{backgroundColor:q.palette.mode==="dark"?"rgba(255, 255, 255, 0.08)":"rgba(0, 0, 0, 0.08)"},"& span":{paddingTop:9},"& svg":{width:14,height:14,fontSize:"1rem",marginTop:-3,verticalAlign:"middle",color:q.palette.mode==="dark"?"#EEE":"#111"}},itemDownloadEmptyTable:{display:"inline-block",width:g,height:C,minWidth:g,padding:0},itemAclButtonTable:{width:g,height:C,minWidth:g,verticalAlign:"top",padding:0,fontSize:12,display:"flex"},itemDeleteButtonTable:{display:"inline-block",width:g,height:C,minWidth:g,verticalAlign:"top",padding:0,"& svg":{width:18,height:18,fontSize:"1.5rem"}},uploadDiv:{top:0,zIndex:1,bottom:0,left:0,right:0,position:"absolute",opacity:.9,textAlign:"center",background:"#FFFFFF"},uploadDivDragging:{opacity:1},uploadCenterDiv:{margin:20,border:"3px dashed grey",borderRadius:30,width:"calc(100% - 40px)",height:"calc(100% - 40px)",position:"relative",color:q.palette.mode==="dark"?"#222":"#CCC",display:"flex",alignItems:"center",justifyContent:"center"},uploadCenterIcon:{width:"25%",height:"25%"},uploadCenterText:{fontSize:24,fontWeight:"bold"},uploadCloseButton:{zIndex:2,position:"absolute",top:30,right:30},uploadCenterTextAndIcon:{position:"absolute",height:"30%",width:"100%",margin:"auto",opacity:.3},menuButtonExpertActive:{color:"#c00000"},menuButtonRestrictActive:{color:"#c05000"},pathDiv:{display:"flex",width:`calc(100% - ${q.spacing(2)})`,marginLeft:q.spacing(1),marginRight:q.spacing(1),textOverflow:"clip",overflow:"hidden",whiteSpace:"nowrap",backgroundColor:q.palette.secondary.main},pathDivInput:{width:"100%"},pathDivBreadcrumbDir:{paddingLeft:2,paddingRight:2,cursor:"pointer","&:hover":{background:q.palette.primary.main}},backgroundImageLight:{background:"white"},backgroundImageDark:{background:"black"},backgroundImageColored:{background:"silver"},"@media screen and (max-width: 500px)":{itemNameTable:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",textAlign:"end",direction:"rtl"}},specialFolder:{color:q.palette.mode==="dark"?"#229b0f":"#5dd300"}}),W="0_userdata.0";function _(q){const U=(q||"").split("/");return U.length&&U.pop(),U.join("/")}function T(q){const U=i.default.getFileExtension(q);return!!(U!=null&&U.toLowerCase().match(/[a-z]+/)&&U.length<5)}const N="Table",V="Tile";function K(q,U){return q.folder&&U.folder?q.name>U.name?1:q.name<U.name?-1:0:q.folder?-1:U.folder||q.name>U.name?1:q.name<U.name?-1:0}class I extends d.Component{constructor(U){super(U),this.limitToObjectID=null,this.limitToPath=null,this.lastSelect=null,this.setOpacityTimer=null,this.cacheFoldersTimeout=null,this.foldersLoading=null,this.cacheFolders=null,this.onFileChange=(_e,Je,Be)=>{const He=`${_e}/${Je}`,Xe=He.lastIndexOf("/"),Ue=He.substring(0,Xe);console.log(`File changed ${He}[${Be}]`),this.state.folders[Ue]&&(this._tempTimeout[Ue]&&clearTimeout(this._tempTimeout[Ue]),this._tempTimeout[Ue]=setTimeout(()=>{delete this._tempTimeout[Ue],this.browseFolder(Ue,null,!1,!0).then(rt=>this.setState({folders:rt}))},300))},this.setStateBackgroundImage=()=>{const _e=["light","dark","colored","delete"];this.setState(({backgroundImage:Je})=>_e.indexOf(Je)!==-1&&_e.length-1!==_e.indexOf(Je)?((window._localStorage||window.localStorage).setItem("files.backgroundImage",_e[_e.indexOf(Je)+1]),{backgroundImage:_e[_e.indexOf(Je)+1]}):((window._localStorage||window.localStorage).setItem("files.backgroundImage",_e[0]),{backgroundImage:_e[0]}))},this.getClassBackgroundImage=()=>{switch(this.state.backgroundImage){case"light":return this.props.classes.backgroundImageLight;case"dark":return this.props.classes.backgroundImageDark;case"colored":return this.props.classes.backgroundImageColored;case"delete":return null;default:return null}};const J=(window._localStorage||window.localStorage).getItem("files.expanded")||"[]";if(this.props.limitPath){const _e=this.props.limitPath.split("/");this.limitToObjectID=_e[0],this.limitToPath=_e.length?_e.length===1&&_e[0]===""?null:_e.join("/"):null,this.limitToPath&&this.limitToPath.endsWith("/")&&this.limitToPath.substring(0,this.limitToPath.length-1)}let Q;try{Q=JSON.parse(J),this.limitToPath&&(Q=Q.filter(_e=>{var Je;return _e.startsWith(`${this.limitToPath}/`)||_e===this.limitToPath||((Je=this.limitToPath)===null||Je===void 0?void 0:Je.startsWith(`${_e}/`))}))}catch(_e){Q=[]}let ee;this.props.showViewTypeButton?ee=(window._localStorage||window.localStorage).getItem("files.viewType")||N:ee=N;let se=this.props.selected||(window._localStorage||window.localStorage).getItem("files.selected")||W,ue;if(U.restrictToFolder){se=U.restrictToFolder,ue=U.restrictToFolder;const _e=U.restrictToFolder.split("/");Q=[];let Je="";for(let Be=0;Be<_e.length;Be++)Je+=(Je?"/":"")+_e[Be],Q.push(Je)}else Array.isArray(se)&&(se=se[0]),T(se)?ue=_(se):ue=se;const xe=(window._localStorage||window.localStorage).getItem("files.backgroundImage")||null;this.state={viewType:ee,folders:{},filterEmpty:(window._localStorage||window.localStorage).getItem("files.empty")!=="false",expanded:Q,currentDir:ue,expertMode:!!U.expertMode,addFolder:!1,uploadFile:!1,deleteItem:"",viewer:"",formatEditFile:"",path:se,selected:se,errorText:"",modalEditOfAccess:!1,backgroundImage:xe,queueLength:0,loadAllFolders:!1,fileErrors:[],filterByType:U.filterByType||window.localStorage.getItem("files.filterByType")||"",showTypesMenu:null,restrictToFolder:U.restrictToFolder||"",pathFocus:!1},this.imagePrefix=this.props.imagePrefix||"./files/",this.levelPadding=this.props.levelPadding||20,this.mounted=!0,this.suppressDeleteConfirm=0,this.browseList=[],this.browseListRunning=!1,this.initialReadFinished=!1,this.supportSubscribes=null,this._tempTimeout={}}static getDerivedStateFromProps(U,J){return U.expertMode!==void 0&&U.expertMode!==J.expertMode?{expertMode:U.expertMode,loadAllFolders:!0}:null}loadFolders(){return Nt(this,null,function*(){this.initialReadFinished=!1;let U=yield this.browseFolder("/");this.state.viewType===N?U=yield this.browseFolders([...this.state.expanded],U):this.state.currentDir&&this.state.currentDir!=="/"&&(!this.limitToObjectID||this.state.currentDir.startsWith(this.limitToObjectID))&&(U=yield this.browseFolder(this.state.currentDir,U)),this.setState({folders:U},()=>{if(this.state.viewType===N&&!this.findItem(this.state.selected)){const J=this.state.selected.split("/");for(;J.length&&!this.findItem(J.join("/"));)J.pop();let Q;J.length?Q=J.join("/"):Q=W,this.setState({selected:Q,path:Q,pathFocus:!1},()=>this.scrollToSelected())}else this.scrollToSelected();this.initialReadFinished=!0})})}scrollToSelected(){if(this.mounted){const U=document.getElementById(this.state.selected);U&&U.scrollIntoView()}}componentDidMount(){return Nt(this,null,function*(){this.mounted=!0,this.loadFolders().catch(U=>console.error(`Cannot load folders: ${U}`)),this.supportSubscribes=yield this.props.socket.checkFeatureSupported("BINARY_STATE_EVENT"),this.supportSubscribes&&(yield this.props.socket.subscribeFiles("*","*",this.onFileChange))})}componentWillUnmount(){this.supportSubscribes&&this.props.socket.unsubscribeFiles("*","*",this.onFileChange),this.mounted=!1,this.browseList=null,this.browseListRunning=!1,Object.values(this._tempTimeout).forEach(U=>U&&clearTimeout(U)),this._tempTimeout={}}browseFoldersCb(U,J,Q){if(!(U!=null&&U.length))Q(J);else{const ee=U.shift();ee?this.browseFolder(ee,J).catch(se=>console.error(`Cannot read folder ${ee}: ${se}`)).then(()=>{setTimeout(()=>this.browseFoldersCb(U,J,Q),0)}):setTimeout(()=>this.browseFoldersCb(U,J,Q),0)}}browseFolders(U,J){let Q;return J?Q=J:(Q={},Object.keys(this.state.folders).forEach(ee=>Q[ee]=this.state.folders[ee])),U!=null&&U.length?new Promise(ee=>{this.browseFoldersCb(U,Q,ee)}):Promise.resolve(Q)}readDirSerial(U,J){return new Promise((Q,ee)=>{this.browseList&&(this.browseList.push({resolve:Q,reject:ee,adapter:U,relPath:J}),!this.browseListRunning&&this.processBrowseList())})}processBrowseList(U=0){!this.browseListRunning&&this.browseList&&this.browseList.length&&(this.browseListRunning=!0,this.browseList.length>10?this.browseList.length%10||this.setState({queueLength:this.browseList.length}):this.setState({queueLength:this.browseList.length}),this.browseList[0].processing=!0,this.props.socket.readDir(this.browseList[0].adapter,this.browseList[0].relPath).then(J=>{if(this.browseList){const Q=this.browseList.shift();if(Q){const ee=Q.resolve;Q.resolve=null,Q.reject=null,Q.adapter=null,Q.relPath=null,ee&&ee(J),this.browseListRunning=!1,this.browseList.length?U<5?this.processBrowseList(U+1):setTimeout(()=>this.processBrowseList(0),0):this.setState({queueLength:0})}else this.setState({queueLength:0})}}).catch(J=>{if(this.browseList){const Q=this.browseList.shift();if(Q){const ee=Q.reject;Q.resolve=null,Q.reject=null,Q.adapter=null,Q.relPath=null,ee&&ee(J),this.browseListRunning=!1,this.browseList.length?U<5?this.processBrowseList(U+1):setTimeout(()=>this.processBrowseList(0),0):this.setState({queueLength:0})}else this.setState({queueLength:0})}}))}browseFolder(U,J,Q,ee){return Nt(this,null,function*(){let se;if(J?se=J:(se={},Object.keys(this.state.folders).forEach(He=>{se[He]=this.state.folders[He]})),se[U]&&!ee)return Q?Promise.resolve(se):new Promise((He,Xe)=>{Promise.all(se[U].filter(Ue=>Ue.folder).map(Ue=>this.browseFolder(Ue.id,se,!0).catch(()=>{}))).then(()=>He(se)).catch(Ue=>Xe(Ue))});if(!U||U==="/"){try{let He=yield this.props.socket.readMetaItems();const Xe=[];let Ue=null;if(this.state.restrictToFolder){const St=this.state.restrictToFolder.split("/")[0];He=He.filter(kt=>kt._id===St)}else this.state.expertMode||(He=He.filter(St=>!St._id.endsWith(".admin")));const rt=He.findIndex(St=>St._id==="system.meta.uuid");if(rt!==-1&&He.splice(rt,1),He.forEach(St=>{if(this.limitToObjectID&&this.limitToObjectID!==St._id)return;const kt={id:St._id,name:St._id,title:St.common&&St.common.name||St._id,meta:!0,from:St.from,ts:St.ts,color:St.common&&St.common.color,icon:St.common&&St.common.icon,folder:!0,acl:St.acl,level:0};kt.id===W?Ue=kt:Xe.push(kt)}),Xe.sort((St,kt)=>St.id>kt.id?1:St.id<kt.id?-1:0),(!this.limitToObjectID||this.limitToObjectID===W)&&Ue&&Xe.unshift(Ue),se[U||"/"]=Xe,!Q)return Promise.all(Xe.filter(St=>St.folder).map(St=>this.browseFolder(St.id,se,!0).catch(()=>{}))).then(()=>se)}catch(He){this.initialReadFinished&&window.alert(`Cannot read meta items: ${He}`),se[U||"/"]=[]}return se}const ue=U.split("/"),xe=ue.length,_e=ue.shift(),Je=ue.join("/"),Be=yield this.readDirSerial(_e||"",Je);try{const He=[];if(Be.forEach(Xe=>{var Ue;const rt={id:`${U}/${Xe.file}`,ext:i.default.getFileExtension(Xe.file),folder:Xe.isDir,name:Xe.file,size:(Ue=Xe.stats)===null||Ue===void 0?void 0:Ue.size,modified:Xe.modifiedAt,acl:Xe.acl,level:xe};this.state.restrictToFolder?(rt.folder&&(rt.id.startsWith(`${this.state.restrictToFolder}/`)||rt.id===this.state.restrictToFolder||this.state.restrictToFolder.startsWith(`${rt.id}/`))||rt.id.startsWith(`${this.state.restrictToFolder}/`))&&He.push(rt):this.limitToPath?(rt.folder&&(rt.id.startsWith(`${this.limitToPath}/`)||rt.id===this.limitToPath||this.limitToPath.startsWith(`${rt.id}/`))||rt.id.startsWith(`${this.limitToPath}/`))&&He.push(rt):He.push(rt)}),He.sort(K),se[U]=He,!Q)return Promise.all(He.filter(Xe=>Xe.folder).map(Xe=>this.browseFolder(Xe.id,se,!0))).then(()=>se)}catch(He){this.initialReadFinished&&window.alert(`Cannot read ${_e}${Je?`/${Je}`:""}: ${He}`),se[U]=[]}return se})}toggleFolder(U,J){J==null||J.stopPropagation();const Q=[...this.state.expanded],ee=Q.indexOf(U.id);ee===-1?(Q.push(U.id),Q.sort(),(window._localStorage||window.localStorage).setItem("files.expanded",JSON.stringify(Q)),U.temp?this.setState({expanded:Q}):this.browseFolder(U.id).then(se=>this.setState({expanded:Q,folders:se})).catch(se=>window.alert(se===A?this.props.t('ra_Cannot find "%s"',U.id):this.props.t('ra_Cannot read "%s"',U.id)))):(Q.splice(ee,1),(window._localStorage||window.localStorage).setItem("files.expanded",JSON.stringify(Q)),this.setState({expanded:Q}))}changeFolder(U,J){U&&U.stopPropagation(),this.lastSelect=Date.now();let Q=J||_(this.state.currentDir);return Q==="/"&&(Q=""),(window._localStorage||window.localStorage).setItem("files.currentDir",Q),J&&U&&(U.altKey||U.shiftKey||U.ctrlKey||U.metaKey)?this.setState({selected:Q}):Q&&!this.state.folders[Q]?this.browseFolder(Q).then(ee=>this.setState({folders:ee,path:Q,currentDir:Q,selected:Q,pathFocus:!1},()=>this.props.onSelect&&this.props.onSelect(""))):this.setState({currentDir:Q,selected:Q,path:Q,pathFocus:!1},()=>this.props.onSelect&&this.props.onSelect(""))}select(U,J,Q){J&&J.stopPropagation(),this.lastSelect=Date.now(),(window._localStorage||window.localStorage).setItem("files.selected",U),this.setState({selected:U,path:U,pathFocus:!1},()=>{if(this.props.onSelect){const ee=i.default.getFileExtension(U);(!this.props.filterFiles||ee&&this.props.filterFiles.includes(ee))&&(!this.state.filterByType||ee&&f.EXTENSIONS[this.state.filterByType].includes(ee))?this.props.onSelect(U,!1,!!this.state.folders[U]):this.props.onSelect("")}Q&&Q()})}getText(U){if(U)return typeof U=="object"?U[this.props.lang]||U.en||void 0:U}renderFolder(U,J){if(this.state.viewType===N&&this.state.filterEmpty&&(!this.state.folders[U.id]||!this.state.folders[U.id].length)&&U.id!==W&&!U.temp)return null;const Q=J?p.default:c.default,ee=this.state.viewType===N?U.level*this.levelPadding:0,se=U.name===W,ue=se||U.name==="vis.0"||U.name==="vis-2.0";return d.default.createElement("div",{key:U.id,id:U.id,style:this.state.viewType===N?{marginLeft:ee,width:`calc(100% - ${ee}px`}:{},onClick:xe=>this.state.viewType===N?this.select(U.id,xe):this.changeFolder(xe,U.id),onDoubleClick:xe=>this.state.viewType===N&&this.toggleFolder(U,xe),title:this.getText(U.title),className:i.default.clsx("browserItem",this.props.classes[`item${this.state.viewType}`],this.props.classes[`itemFolder${this.state.viewType}`],this.state.selected===U.id&&this.props.classes.itemSelected,U.temp&&this.props.classes.itemFolderTemp)},d.default.createElement(Q,{className:i.default.clsx(this.props.classes[`itemFolderIcon${this.state.viewType}`],ue&&this.props.classes.specialFolder),onClick:this.state.viewType===N?xe=>this.toggleFolder(U,xe):void 0}),d.default.createElement("div",{className:i.default.clsx(this.props.classes[`itemName${this.state.viewType}`],this.props.classes[`itemNameFolder${this.state.viewType}`])},se?this.props.t("ra_User files"):U.name),d.default.createElement(e.Hidden,{smDown:!0},d.default.createElement("div",{className:this.props.classes[`itemSize${this.state.viewType}`]},this.state.viewType===N&&this.state.folders[U.id]?this.state.folders[U.id].length:"")),d.default.createElement(e.Hidden,{smDown:!0},this.state.viewType===N&&this.props.expertMode?this.formatAcl(U.acl):null),d.default.createElement(e.Hidden,{smDown:!0},this.state.viewType===N&&this.props.expertMode?d.default.createElement("div",{className:this.props.classes[`itemDeleteButton${this.state.viewType}`]}):null),this.state.viewType===N&&this.props.allowDownload?d.default.createElement("div",{className:this.props.classes[`itemDownloadEmpty${this.state.viewType}`]}):null,this.state.viewType===N&&this.props.allowDelete&&this.state.folders[U.id]&&this.state.folders[U.id].length?d.default.createElement(e.IconButton,{"aria-label":"delete",onClick:xe=>{xe.stopPropagation(),this.suppressDeleteConfirm>Date.now()?this.deleteItem(U.id):this.setState({deleteItem:U.id})},className:this.props.classes[`itemDeleteButton${this.state.viewType}`],size:"large"},d.default.createElement(s.Delete,{fontSize:"small"})):this.state.viewType===N&&this.props.allowDelete?d.default.createElement("div",{className:this.props.classes[`itemDeleteButton${this.state.viewType}`]}):null)}renderBackFolder(){return d.default.createElement("div",{key:this.state.currentDir,id:this.state.currentDir,onClick:U=>this.changeFolder(U),title:this.props.t("ra_Back to %s",_(this.state.currentDir)),className:i.default.clsx("browserItem",this.props.classes[`item${this.state.viewType}`],this.props.classes[`itemFolder${this.state.viewType}`])},d.default.createElement(c.default,{className:this.props.classes[`itemFolderIcon${this.state.viewType}`]}),d.default.createElement(s.ArrowBack,{className:this.props.classes.itemFolderIconBack}),d.default.createElement("div",{className:i.default.clsx(this.props.classes[`itemName${this.state.viewType}`],this.props.classes[`itemNameFolder${this.state.viewType}`])},".."))}formatSize(U){return d.default.createElement("div",{className:this.props.classes[`itemSize${this.state.viewType}`]},U||U===0?i.default.formatBytes(U):"")}formatAcl(U){const J=U&&(U.permissions||U.file);let Q;return J?Q=J.toString(16).padStart(3,"0"):Q="",d.default.createElement("div",{className:this.props.classes[`itemAccess${this.state.viewType}`]},this.props.modalEditOfAccessControl?d.default.createElement(e.IconButton,{size:"large",onClick:()=>this.setState({modalEditOfAccess:!0}),className:this.props.classes[`itemAclButton${this.state.viewType}`]},Q||"---"):Q||"---")}getFileIcon(U){switch(U){case"json":case"json5":return d.default.createElement(s.Bookmark,{className:this.props.classes[`itemIcon${this.state.viewType}`]});case"css":return d.default.createElement(s.BookmarkBorder,{className:this.props.classes[`itemIcon${this.state.viewType}`]});case"js":case"ts":return d.default.createElement(s.Code,{className:this.props.classes[`itemIcon${this.state.viewType}`]});case"html":case"md":return d.default.createElement(s.Description,{className:this.props.classes[`itemIcon${this.state.viewType}`]});case"mp3":case"ogg":case"wav":case"m4a":case"mp4":case"flac":return d.default.createElement(s.MusicNote,{className:this.props.classes[`itemIcon${this.state.viewType}`]});default:return d.default.createElement(s.InsertDriveFile,{className:this.props.classes[`itemIcon${this.state.viewType}`]})}}static getEditFile(U){switch(U){case"json":case"json5":case"js":case"html":case"txt":case"css":case"log":return!0;default:return!1}}renderFile(U){const J=this.state.viewType===N?U.level*this.levelPadding:0,Q=i.default.getFileExtension(U.name);return d.default.createElement("div",{key:U.id,id:U.id,onDoubleClick:ee=>{ee.stopPropagation(),this.props.onSelect?(!this.props.filterFiles||U.ext&&this.props.filterFiles.includes(U.ext))&&(!this.state.filterByType||U.ext&&f.EXTENSIONS[this.state.filterByType].includes(U.ext))&&this.props.onSelect(U.id,!0,!!this.state.folders[U.id]):this.setState({viewer:this.imagePrefix+U.id,formatEditFile:Q})},onClick:ee=>this.select(U.id,ee),style:this.state.viewType===N?{marginLeft:J,width:`calc(100% - ${J}px)`}:{},className:i.default.clsx("browserItem",this.props.classes[`item${this.state.viewType}`],this.props.classes[`itemFile${this.state.viewType}`],this.state.selected===U.id&&this.props.classes.itemSelected)},Q&&f.EXTENSIONS.images.includes(Q)?this.state.fileErrors.includes(U.id)?d.default.createElement(w.default,{className:i.default.clsx(this.props.classes[`itemImage${this.state.viewType}`],this.getClassBackgroundImage(),this.props.classes[`itemNoImage${this.state.viewType}`])}):d.default.createElement(E.default,{onError:ee=>{ee.target.onerror=null;const se=[...this.state.fileErrors];se.includes(U.id)||(se.push(U.id),this.setState({fileErrors:se}))},className:i.default.clsx(this.props.classes[`itemImage${this.state.viewType}`],this.getClassBackgroundImage()),src:this.imagePrefix+U.id,alt:U.name}):this.getFileIcon(Q),d.default.createElement("div",{className:this.props.classes[`itemName${this.state.viewType}`]},U.name),d.default.createElement(e.Hidden,{smDown:!0},this.formatSize(U.size)),d.default.createElement(e.Hidden,{smDown:!0},this.state.viewType===N&&this.props.expertMode?this.formatAcl(U.acl):null),d.default.createElement(e.Hidden,{smDown:!0},this.state.viewType===N&&this.props.expertMode&&I.getEditFile(Q)?d.default.createElement(e.IconButton,{"aria-label":"edit",onClick:ee=>{ee.stopPropagation(),this.props.onSelect?(!this.props.filterFiles||U.ext&&this.props.filterFiles.includes(U.ext))&&(!this.state.filterByType||U.ext&&f.EXTENSIONS[this.state.filterByType].includes(U.ext))&&this.props.onSelect(U.id,!0,!!this.state.folders[U.id]):this.setState({viewer:this.imagePrefix+U.id,formatEditFile:Q})},className:this.props.classes[`itemDeleteButton${this.state.viewType}`],size:"large"},d.default.createElement(s.Edit,{fontSize:"small"})):d.default.createElement("div",{className:this.props.classes[`itemDeleteButton${this.state.viewType}`]})),this.state.viewType===N&&this.props.allowDownload?d.default.createElement("a",{className:i.default.clsx("MuiButtonBase-root","MuiIconButton-root","MuiIconButton-sizeLarge",this.props.classes.itemDownloadButtonTable),tabIndex:0,download:U.id,href:this.imagePrefix+U.id,onClick:ee=>{ee.stopPropagation()}},d.default.createElement(s.SaveAlt,null)):null,this.state.viewType===N&&this.props.allowDelete&&U.id!=="vis.0/"&&U.id!=="vis-2.0/"&&U.id!==W?d.default.createElement(e.IconButton,{"aria-label":"delete",onClick:ee=>{ee.stopPropagation(),this.suppressDeleteConfirm>Date.now()?this.deleteItem(U.id):this.setState({deleteItem:U.id})},className:this.props.classes[`itemDeleteButton${this.state.viewType}`],size:"large"},d.default.createElement(s.Delete,{fontSize:"small"})):this.state.viewType===N&&this.props.allowDelete?d.default.createElement("div",{className:this.props.classes[`itemDeleteButton${this.state.viewType}`]}):null)}renderItems(U){if(this.state.folders&&this.state.folders[U]){if(this.state.viewType===V){const Q=[];return U&&U!=="/"&&Q.push(this.renderBackFolder()),this.state.folders[U].forEach(ee=>{ee.folder?Q.push(this.renderFolder(ee)):(!this.props.filterFiles||ee.ext&&this.props.filterFiles.includes(ee.ext))&&(!this.state.filterByType||ee.ext&&f.EXTENSIONS[this.state.filterByType].includes(ee.ext))&&Q.push(this.renderFile(ee))}),Q}const J=[];return this.state.folders[U].forEach(Q=>{if(Q.folder){const ee=this.state.expanded.includes(Q.id),se=this.renderFolder(Q,ee);if(Array.isArray(se)?se.forEach(ue=>J.push(ue)):J.push(se),this.state.folders[Q.id]&&ee){const ue=this.renderItems(Q.id);Array.isArray(ue)?ue.forEach(xe=>J.push(xe)):J.push(ue)}}else(!this.props.filterFiles||Q.ext&&this.props.filterFiles.includes(Q.ext))&&(!this.state.filterByType||Q.ext&&f.EXTENSIONS[this.state.filterByType].includes(Q.ext))&&J.push(this.renderFile(Q))}),J}return d.default.createElement("div",{style:{position:"relative"}},d.default.createElement(e.CircularProgress,{key:U,color:"secondary",size:24}),d.default.createElement("div",{style:{position:"absolute",zIndex:2,top:4,width:24,textAlign:"center"}},this.state.queueLength))}renderToolbar(){const U=this.props.showTypeSelector?R[this.state.filterByType||"all"]||R.all:null,J=this.findFirstFolder(this.state.selected);return d.default.createElement(e.Toolbar,{key:"toolbar",variant:"dense"},this.props.allowNonRestricted&&this.props.restrictToFolder?d.default.createElement(e.IconButton,{edge:"start",title:this.state.restrictToFolder?this.props.t("ra_Show all folders"):this.props.t("ra_Restrict to folder"),className:i.default.clsx(this.props.classes.menuButton,this.state.restrictToFolder&&this.props.classes.menuButtonRestrictActive),"aria-label":"restricted to folder",onClick:()=>this.setState({restrictToFolder:(this.state.restrictToFolder?"":this.props.restrictToFolder)||"",loadAllFolders:!0}),size:"small"},d.default.createElement(s.FolderSpecial,{fontSize:"small"})):null,this.props.showExpertButton?d.default.createElement(e.IconButton,{edge:"start",title:this.props.t("ra_Toggle expert mode"),className:i.default.clsx(this.props.classes.menuButton,this.state.expertMode&&this.props.classes.menuButtonExpertActive),"aria-label":"expert mode",onClick:()=>this.setState({expertMode:!this.state.expertMode}),size:"small"},d.default.createElement(o.default,null)):null,this.props.showViewTypeButton?d.default.createElement(e.IconButton,{edge:"start",title:this.props.t("ra_Toggle view mode"),className:this.props.classes.menuButton,"aria-label":"view mode",onClick:()=>{const Q=this.state.viewType===N?V:N;(window._localStorage||window.localStorage).setItem("files.viewType",Q);let ee=this.state.selected;T(ee)&&(ee=_(ee)),this.setState({viewType:Q,currentDir:ee},()=>{this.state.viewType===N&&this.scrollToSelected()})},size:"small"},this.state.viewType!==N?d.default.createElement(s.List,{fontSize:"small"}):d.default.createElement(s.ViewModule,{fontSize:"small"})):null,d.default.createElement(e.IconButton,{edge:"start",title:this.props.t("ra_Hide empty folders"),className:this.props.classes.menuButton,color:this.state.filterEmpty?"secondary":"inherit","aria-label":"filter empty",onClick:()=>{(window._localStorage||window.localStorage).setItem("file.empty",!this.state.filterEmpty),this.setState({filterEmpty:!this.state.filterEmpty})},size:"small"},d.default.createElement(s.FolderOpen,{fontSize:"small"})),d.default.createElement(e.IconButton,{edge:"start",title:this.props.t("ra_Reload files"),className:this.props.classes.menuButton,color:"inherit","aria-label":"reload files",onClick:()=>this.setState({folders:{}},()=>this.loadFolders()),size:"small"},d.default.createElement(s.Refresh,{fontSize:"small"})),this.props.allowCreateFolder?d.default.createElement(e.IconButton,{edge:"start",disabled:!this.state.selected||!J||!!this.limitToPath&&!this.state.selected.startsWith(`${this.limitToPath}/`)&&this.limitToPath!==this.state.selected,title:this.props.t("ra_Create folder"),className:this.props.classes.menuButton,color:"inherit","aria-label":"add folder",onClick:()=>this.setState({addFolder:!0}),size:"small"},d.default.createElement(s.CreateNewFolder,{fontSize:"small"})):null,this.props.allowUpload?d.default.createElement(e.IconButton,{edge:"start",disabled:!this.state.selected||!J||!!this.limitToPath&&!this.state.selected.startsWith(`${this.limitToPath}/`)&&this.limitToPath!==this.state.selected,title:this.props.t("ra_Upload file"),className:this.props.classes.menuButton,color:"inherit","aria-label":"upload file",onClick:()=>this.setState({uploadFile:!0}),size:"small"},d.default.createElement(s.Publish,{fontSize:"small"})):null,this.props.showTypeSelector?d.default.createElement(e.Tooltip,{title:this.props.t("ra_Filter files")},d.default.createElement(e.IconButton,{size:"small",onClick:Q=>this.setState({showTypesMenu:Q.target})},d.default.createElement(U,{fontSize:"small"}))):null,this.state.showTypesMenu?d.default.createElement(e.Menu,{open:!0,anchorEl:this.state.showTypesMenu,onClose:()=>this.setState({showTypesMenu:null})},Object.keys(R).map(Q=>{const ee=R[Q];return d.default.createElement(e.MenuItem,{key:Q,selected:this.state.filterByType===Q,onClick:()=>{Q==="all"?((window._localStorage||window.localStorage).removeItem("files.filterByType"),this.setState({filterByType:"",showTypesMenu:null})):((window._localStorage||window.localStorage).setItem("files.filterByType",Q),this.setState({filterByType:Q,showTypesMenu:null}))}},d.default.createElement(e.ListItemIcon,null,d.default.createElement(ee,{fontSize:"small"})),d.default.createElement(e.ListItemText,null,this.props.t(`ra_fileType_${Q}`)))})):null,d.default.createElement(e.Tooltip,{title:this.props.t("ra_Background image")},d.default.createElement(e.IconButton,{color:"inherit",edge:"start",className:this.props.classes.menuButton,onClick:this.setStateBackgroundImage,size:"small"},d.default.createElement(s.Brightness6,{fontSize:"small"}))),this.state.viewType!==N&&this.props.allowDelete?d.default.createElement(e.Tooltip,{title:this.props.t("ra_Delete")},d.default.createElement("span",null,d.default.createElement(e.IconButton,{"aria-label":"delete",disabled:!this.state.selected||this.state.selected==="vis.0/"||this.state.selected==="vis-2.0/"||this.state.selected===W,color:"inherit",edge:"start",className:this.props.classes.menuButton,onClick:Q=>{Q.stopPropagation(),this.suppressDeleteConfirm>Date.now()?this.deleteItem(this.state.selected):this.setState({deleteItem:this.state.selected})},size:"small"},d.default.createElement(s.Delete,{fontSize:"small"})))):null)}findItem(U,J){if(J=J||this.state.folders,!J)return null;const Q=U.split("/");Q.pop();const ee=Q.join("/")||"/";return J[ee]?J[ee].find(se=>se.id===U):null}renderInputDialog(){if(this.state.addFolder){const U=this.findFirstFolder(this.state.selected);return U?d.default.createElement(n.default,{key:"inputDialog",applyText:this.props.t("ra_Create"),cancelText:this.props.t("ra_Cancel"),titleText:this.props.t("ra_Create new folder in %s",this.state.selected),promptText:this.props.t("ra_If no file will be created in the folder, it will disappear after the browser closed"),labelText:this.props.t("ra_Folder name"),verify:J=>this.state.folders[U].find(Q=>Q.name===J)?"":this.props.t("ra_Duplicate name"),onClose:J=>{if(J){const Q={};Object.keys(this.state.folders).forEach(xe=>Q[xe]=this.state.folders[xe]);const ee=this.findItem(U),se=`${U}/${J}`;Q[U].push({id:se,level:((ee==null?void 0:ee.level)||0)+1,name:J,folder:!0,temp:!0}),Q[U].sort(K),Q[se]=[];const ue=[...this.state.expanded];ue.includes(U)||(ue.push(U),ue.sort()),(window._localStorage||window.localStorage).setItem("files.expanded",JSON.stringify(ue)),this.setState({addFolder:!1,folders:Q,expanded:ue},()=>this.select(se))}else this.setState({addFolder:!1})},replace:J=>J.replace(/[^-_\w]/,"_")}):(window.alert(this.props.t("ra_Invalid parent folder!")),null)}return null}componentDidUpdate(){this.setOpacityTimer&&clearTimeout(this.setOpacityTimer),this.setOpacityTimer=setTimeout(()=>{this.setOpacityTimer=null;const U=window.document.getElementsByClassName("browserItem");for(let J=0;J<U.length;J++)U[J].style.opacity="1"},100)}uploadFile(U,J){return Nt(this,null,function*(){const Q=U.split("/"),ee=Q.shift();try{return yield this.props.socket.writeFile64(ee||"",Q.join("/"),J)}catch(se){return window.alert(`Cannot write file: ${se}`)}})}findFirstFolder(U){let J=U;const Q=this.findItem(J);if(Q&&!Q.folder){const ee=J.split("/");for(ee.pop(),J="";ee.length;){const se=this.findItem(ee.join("/"));if(se!=null&&se.folder){J=ee.join("/");break}ee.pop()}if(!ee.length)return null}return J}renderUpload(){return this.state.uploadFile?[d.default.createElement(e.Fab,{key:"close",color:"primary","aria-label":"close",className:this.props.classes.uploadCloseButton,onClick:()=>this.setState({uploadFile:!1})},d.default.createElement(s.Close,null)),d.default.createElement(r.default,{key:"dropzone",onDragEnter:()=>this.setState({uploadFile:"dragging"}),onDragLeave:()=>this.setState({uploadFile:!0}),onDrop:U=>{let J=U.length;U.forEach(Q=>{const ee=new FileReader;ee.onabort=()=>console.log("file reading was aborted"),ee.onerror=()=>console.log("file reading has failed"),ee.onload=()=>{const se=this.findFirstFolder(this.state.selected);if(!se)window.alert(this.props.t("ra_Invalid parent folder!"));else{const ue=`${se}/${Q.name}`;this.uploadFile(ue,ee.result).then(()=>{--J||this.setState({uploadFile:!1},()=>{if(this.supportSubscribes){const xe=[...this.state.expanded];xe.includes(se)||(xe.push(se),xe.sort(),(window._localStorage||window.localStorage).setItem("files.expanded",JSON.stringify(xe))),this.setState({expanded:xe},()=>this.select(ue))}else setTimeout(()=>this.browseFolder(se,null,!1,!0).then(xe=>{const _e=[...this.state.expanded];_e.includes(se)||(_e.push(se),_e.sort(),(window._localStorage||window.localStorage).setItem("files.expanded",JSON.stringify(_e))),this.setState({folders:xe,expanded:_e},()=>this.select(ue))}),500)})})}},ee.readAsArrayBuffer(Q)})}},({getRootProps:U,getInputProps:J})=>d.default.createElement("div",Object.assign({className:i.default.clsx(this.props.classes.uploadDiv,this.state.uploadFile==="dragging"&&this.props.classes.uploadDivDragging)},U()),d.default.createElement("input",Object.assign({},J())),d.default.createElement("div",{className:this.props.classes.uploadCenterDiv},d.default.createElement("div",{className:this.props.classes.uploadCenterTextAndIcon},d.default.createElement(s.Publish,{className:this.props.classes.uploadCenterIcon}),d.default.createElement("div",{className:this.props.classes.uploadCenterText},this.state.uploadFile==="dragging"?this.props.t("ra_Drop file here"):this.props.t("ra_Place your files here or click here to open the browse dialog"))))))]:null}deleteRecursive(U){const J=this.findItem(U);if(J!=null&&J.folder)return(this.state.folders[U]?Promise.all(this.state.folders[U].map(se=>this.deleteRecursive(se.id))):Promise.resolve()).then(()=>{if(J.level>=1){const se=U.split("/"),ue=se.shift();this.props.socket.deleteFolder(ue||"",se.join("/")).then(()=>{const xe=JSON.parse(JSON.stringify(this.state.folders));delete xe[J.id];const _e=_(J.id),Je=xe[_e];if(Je){const Be=Je.findIndex(He=>He.id===J.id);Be!==-1&&Je.splice(Be,1),this.select(_e,null,()=>this.setState({folders:xe}))}})}});const Q=U.split("/"),ee=Q.shift();return Q.length?this.props.socket.deleteFile(ee||"",Q.join("/")).catch(se=>window.alert(`Cannot delete file: ${se}`)):Promise.resolve()}deleteItem(U){U=U||this.state.deleteItem,this.setState({deleteItem:""},()=>this.deleteRecursive(U).then(()=>{const J={},Q=this.state.expanded.indexOf(U);if(Q!==-1){const ee=[...this.state.expanded];ee.splice(Q,1),(window._localStorage||window.localStorage).setItem("files.expanded",JSON.stringify(ee)),J.expanded=ee}if(this.state.selected===U){const ee=this.state.selected.split("/");ee.pop(),J.selected=ee.join("/")}if(this.supportSubscribes)this.setState(J);else{const ee=this.findFirstFolder(U),se={};Object.keys(this.state.folders).forEach(ue=>{ue!==ee&&!ue.startsWith(`${ee}/`)&&(se[ue]=this.state.folders[ue])}),J.folders=se,this.setState(J,()=>setTimeout(()=>{this.browseFolders([...this.state.expanded],se).then(ue=>this.setState({folders:ue}))},200))}}))}renderDeleteDialog(){return this.state.deleteItem?d.default.createElement(e.Dialog,{key:"deleteDialog",open:!0,onClose:()=>this.setState({deleteItem:""}),"aria-labelledby":"ar_dialog_file_delete_title"},d.default.createElement(e.DialogTitle,{id:"ar_dialog_file_delete_title"},this.props.t("ra_Confirm deletion of %s",this.state.deleteItem.split("/").pop())),d.default.createElement(e.DialogContent,null,d.default.createElement(e.DialogContentText,null,this.props.t("ra_Are you sure?"))),d.default.createElement(e.DialogActions,null,d.default.createElement(e.Button,{color:"grey",variant:"contained",onClick:()=>{this.suppressDeleteConfirm=Date.now()+6e4*5,this.deleteItem("")}},this.props.t("ra_Delete (no confirm for 5 mins)")),d.default.createElement(e.Button,{variant:"contained",onClick:()=>this.deleteItem(""),color:"primary",autoFocus:!0},this.props.t("ra_Delete")),d.default.createElement(e.Button,{variant:"contained",onClick:()=>this.setState({deleteItem:""}),color:"grey"},this.props.t("ra_Cancel")))):!1}renderViewDialog(){return this.state.viewer?d.default.createElement(f.default,{supportSubscribes:this.supportSubscribes,key:this.state.viewer,href:this.state.viewer,formatEditFile:this.state.formatEditFile,themeType:this.props.themeType,setStateBackgroundImage:this.setStateBackgroundImage,getClassBackgroundImage:this.getClassBackgroundImage,t:this.props.t,socket:this.props.socket,lang:this.props.lang,expertMode:this.state.expertMode,onClose:()=>this.setState({viewer:"",formatEditFile:""})}):null}renderError(){return this.state.errorText?d.default.createElement(t.default,{key:"errorDialog",text:this.state.errorText,onClose:()=>this.setState({errorText:""})}):null}updateItemsAcl(U){this.cacheFolders=this.cacheFolders||JSON.parse(JSON.stringify(this.state.folders));let J;U.forEach(Q=>{const ee=this.findItem(Q.id,this.cacheFolders);ee&&JSON.stringify(ee.acl)!==JSON.stringify(Q.acl)&&(ee.acl=Q.acl,J=!0)}),J&&(this.cacheFoldersTimeout&&clearTimeout(this.cacheFoldersTimeout),this.cacheFoldersTimeout=setTimeout(()=>{this.cacheFoldersTimeout=null;const Q=this.cacheFolders||{};this.cacheFolders=null,this.setState({folders:Q})},200))}changeToPath(){setTimeout(()=>{if(this.state.path!==this.state.selected&&(!this.lastSelect||Date.now()-this.lastSelect>100)){let U=this.state.path;T(this.state.path)&&(U=_(this.state.path)),new Promise(J=>{this.state.folders[U]?J(!0):this.browseFolder(U).then(Q=>this.setState({folders:Q},()=>J(!0))).catch(Q=>this.setState({errorText:Q===A?this.props.t('ra_Cannot find "%s"',U):this.props.t('ra_Cannot read "%s"',U)}))}).then(J=>J&&this.setState({selected:this.state.path,currentDir:U,pathFocus:!1}))}else(!this.lastSelect||Date.now()-this.lastSelect>100)&&this.setState({pathFocus:!1})},100)}renderBreadcrumb(){const U=this.state.currentDir.startsWith("/")?this.state.currentDir.split("/"):`/${this.state.currentDir}`.split("/"),J=[];return d.default.createElement(e.Breadcrumbs,{style:{paddingLeft:8}},U.map((Q,ee)=>{Q&&J.push(Q);const se=J.join("/");return ee<U.length-1?d.default.createElement("div",{key:`${this.state.selected}_${ee}`,className:this.props.classes.pathDivBreadcrumbDir,onClick:ue=>this.changeFolder(ue,se||"/")},Q||this.props.t("ra_Root")):d.default.createElement("div",{className:this.props.classes.pathDivBreadcrumbSelected,key:`${this.state.selected}_${ee}`,onClick:()=>this.setState({pathFocus:!0})},Q)}))}renderPath(){return d.default.createElement("div",{key:"path",className:this.props.classes.pathDiv},this.state.pathFocus?d.default.createElement(e.Input,{value:this.state.path,onKeyDown:U=>{U.key==="Enter"?this.changeToPath():U.key==="Escape"&&this.setState({pathFocus:!1})},endAdornment:d.default.createElement(e.IconButton,{size:"small",onClick:()=>this.changeToPath()},d.default.createElement(s.KeyboardReturn,null)),onBlur:()=>this.changeToPath(),onChange:U=>this.setState({path:U.target.value}),className:this.props.classes.pathDivInput}):this.renderBreadcrumb())}render(){return this.props.ready?(this.state.loadAllFolders&&!this.foldersLoading&&(this.foldersLoading=!0,setTimeout(()=>{this.setState({loadAllFolders:!1,folders:{}},()=>{this.foldersLoading=!1,this.loadFolders().catch(U=>console.error(`Cannot load folders: ${U}`))})},300)),d.default.createElement("div",{style:this.props.style,className:i.default.clsx(this.props.classes.root,this.props.className)},this.props.showToolbar?this.renderToolbar():null,this.state.viewType===V?this.renderPath():null,d.default.createElement("div",{className:i.default.clsx(this.props.classes.filesDiv,this.props.classes[`filesDiv${this.state.viewType}`]),onClick:U=>{this.state.viewType!==N&&(this.state.selected!==(this.state.currentDir||"/")?this.changeFolder(U,this.state.currentDir||"/"):U.stopPropagation())}},this.state.viewType===N?this.renderItems("/"):this.renderItems(this.state.currentDir||"/"),this.state.viewType!==N?d.default.createElement("div",{className:this.props.classes.filesDivHint},this.props.t("ra_select_folder_hint")):null),this.props.allowUpload?this.renderInputDialog():null,this.props.allowUpload?this.renderUpload():null,this.props.allowDelete?this.renderDeleteDialog():null,this.props.allowView?this.renderViewDialog():null,this.state.modalEditOfAccess&&this.props.modalEditOfAccessControl?this.props.modalEditOfAccessControl(this):null,this.renderError())):d.default.createElement(e.LinearProgress,null)}}j.default=(0,k.default)()((0,D.withStyles)(P)(I))},83221:function(X,j,L){"use strict";var M=this&&this.__createBinding||(Object.create?function(E,k,f,C){C===void 0&&(C=f);var g=Object.getOwnPropertyDescriptor(k,f);(!g||("get"in g?!k.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return k[f]}}),Object.defineProperty(E,C,g)}:function(E,k,f,C){C===void 0&&(C=f),E[C]=k[f]}),h=this&&this.__setModuleDefault||(Object.create?function(E,k){Object.defineProperty(E,"default",{enumerable:!0,value:k})}:function(E,k){E.default=k}),F=this&&this.__importStar||function(E){if(E&&E.__esModule)return E;var k={};if(E!=null)for(var f in E)f!=="default"&&Object.prototype.hasOwnProperty.call(E,f)&&M(k,E,f);return h(k,E),k},b=this&&this.__importDefault||function(E){return E&&E.__esModule?E:{default:E}};Object.defineProperty(j,"__esModule",{value:!0}),j.EXTENSIONS=void 0;const d=F(L(28437)),D=L(70143),r=L(67085),e=L(27639),s=L(21839),t=b(L(71778)),i=b(L(13129)),n=b(L(96808)),o=b(L(82216)),c={dialog:{height:"100%"},paper:{height:"calc(100% - 64px)"},content:{textAlign:"center"},textarea:{width:"100%",height:"100%"},img:{width:"auto",height:"calc(100% - 5px)",objectFit:"contain"},dialogTitle:{justifyContent:"space-between",display:"flex"}};j.EXTENSIONS={images:["png","jpg","svg","jpeg","bmp","gif","apng","avif","webp"],code:["js","json","json5","md"],txt:["log","txt","html","css","xml","ics"],audio:["mp3","wav","ogg","acc"],video:["mp4","mov","avi"]};function p(E,k){let f="";const C=new Uint8Array(E),g=C.byteLength;for(let m=0;m<g&&(k||m<50);m++)f+=String.fromCharCode(C[m]);return window.btoa(f)}class w extends d.Component{constructor(k){super(k),this.timeout=null,this.onFileChanged=(C,g,m)=>{this.state.changed||(this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout(()=>{this.timeout=null,m===null?window.alert("Show file was deleted!"):this.state.text!==null||this.state.code!==null?this.readFile():this.setState({forceUpdate:Date.now()})},300))},this.writeFile64=()=>{};const f=n.default.getFileExtension(k.href);this.state={text:null,code:null,ext:f,editing:!1,editingValue:null,copyPossible:!!f&&(j.EXTENSIONS.code.includes(f)||j.EXTENSIONS.txt.includes(f)),forceUpdate:Date.now(),changed:!1,imgError:!1}}readFile(){if(this.props.href){const k=this.props.href.split("/");k.splice(0,2);const f=k[0],C=k.splice(1).join("/");this.props.socket.readFile(f,C).then(g=>{let m="";g.file!==void 0&&(m=g.file);const S={copyPossible:this.state.copyPossible,ext:this.state.ext};if(g.type==="Buffer")if(C.toLowerCase().endsWith(".json5")){S.ext="json5",S.copyPossible=!0;try{m=atob(p(g.data,!0))}catch(A){console.error("Cannot convert base64 to string"),m=""}}else{const A=n.default.detectMimeType(p(g.data));A&&(S.ext=A,S.copyPossible=j.EXTENSIONS.code.includes(A)||j.EXTENSIONS.txt.includes(A))}S.copyPossible&&(S.ext&&j.EXTENSIONS.txt.includes(S.ext)?(S.text=m,S.editingValue=m):S.ext&&j.EXTENSIONS.code.includes(S.ext)&&(S.code=m,S.editingValue=m)),this.setState(S)}).catch(g=>window.alert(`Cannot read file: ${g}`))}}componentDidMount(){this.readFile();const k=this.props.href.split("/");k.splice(0,2);const f=k[0],C=k.splice(1).join("/");this.props.supportSubscribes&&this.props.socket.subscribeFiles(f,C,this.onFileChanged)}componentWillUnmount(){this.timeout&&clearTimeout(this.timeout);const k=this.props.href.split("/");k.splice(0,2);const f=k[0],C=k.splice(1).join("/");this.props.supportSubscribes&&this.props.socket.subscribeFiles(f,C,this.onFileChanged)}static getEditFile(k){switch(k){case"json":return"json";case"json5":return"json5";case"js":return"javascript";case"html":return"html";case"txt":return"html";default:return"text"}}getContent(){return this.state.ext&&j.EXTENSIONS.images.includes(this.state.ext)?this.state.imgError?d.default.createElement(t.default,{className:n.default.clsx(this.props.classes.img,this.props.getClassBackgroundImage())}):d.default.createElement(o.default,{onError:k=>{k.target.onerror=null,this.setState({imgError:!0})},className:n.default.clsx(this.props.classes.img,this.props.getClassBackgroundImage()),src:`${this.props.href}?ts=${this.state.forceUpdate}`,alt:this.props.href}):this.state.code!==null||this.state.text!==null||this.state.editing?d.default.createElement(r.TextField,{variant:"standard",className:this.props.classes.textarea,multiline:!0,inputProps:{readOnly:!this.state.editing},value:this.state.editingValue||this.state.code||this.state.text,InputProps:{readOnly:!this.state.editing}}):null}render(){return d.default.createElement(r.Dialog,{classes:{scrollPaper:this.props.classes.dialog,paper:this.props.classes.paper},scroll:"paper",open:!!this.props.href,onClose:()=>this.props.onClose(),fullWidth:!0,maxWidth:"xl","aria-labelledby":"ar_dialog_file_view_title"},d.default.createElement("div",{className:this.props.classes.dialogTitle},d.default.createElement(r.DialogTitle,{id:"ar_dialog_file_view_title"},`${this.props.t(this.state.editing?"Edit":"View")}: ${this.props.href}`),this.state.ext&&j.EXTENSIONS.images.includes(this.state.ext)&&d.default.createElement("div",null,d.default.createElement(r.IconButton,{size:"large",color:"inherit",onClick:this.props.setStateBackgroundImage},d.default.createElement(s.Brightness6,null)))),d.default.createElement(r.DialogContent,{className:this.props.classes.content},this.getContent()),d.default.createElement(r.DialogActions,null,this.state.copyPossible?d.default.createElement(r.Button,{color:"grey",onClick:k=>{k.stopPropagation(),k.preventDefault(),n.default.copyToClipboard(this.state.text||this.state.code||"")},startIcon:d.default.createElement(e.FaCopy,null)},this.props.t("Copy content")):null,this.state.editing?d.default.createElement(r.Button,{color:"grey",disabled:this.state.editingValue===this.state.code||this.state.editingValue===this.state.text,variant:"contained",onClick:this.writeFile64,startIcon:d.default.createElement(s.Save,null)},this.props.t("Save")):null,d.default.createElement(r.Button,{variant:"contained",onClick:()=>this.props.onClose(),color:"primary",startIcon:d.default.createElement(s.Close,null)},this.props.t("Close"))))}}j.default=(0,i.default)()((0,D.withStyles)(c)(w))},82216:function(X,j,L){"use strict";var M=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(j,"__esModule",{value:!0}),j.getSelectIdIcon=j.getSystemIcon=void 0;const h=M(L(28437)),F=M(L(62975)),b=L(21839),d=M(L(89646)),D=M(L(96808));function r(n){let o;const c=n==null?void 0:n._id;return c?(c.startsWith("_design/")||c==="system"?o=h.default.createElement(b.SettingsApplications,{className:"iconOwn"}):c==="0_userdata"||c==="0_userdata.0"?o=h.default.createElement(b.Photo,{className:"iconOwn"}):c==="alias"||c==="alias.0"?o=h.default.createElement(d.default,{className:"iconOwn"}):c==="system.adapter"?o=h.default.createElement(b.SettingsApplications,{className:"iconOwn"}):c==="system.group"?o=h.default.createElement(b.SupervisedUserCircle,{className:"iconOwn"}):c==="system.user"?o=h.default.createElement(b.PersonOutlined,{className:"iconOwn"}):c==="system.host"?o=h.default.createElement(b.Router,{className:"iconOwn"}):c.endsWith(".connection")||c.endsWith(".connected")?o=h.default.createElement(b.Wifi,{className:"iconOwn"}):c.endsWith(".info")?o=h.default.createElement(b.Info,{className:"iconOwn"}):(n==null?void 0:n.type)==="meta"&&(o=h.default.createElement(b.Description,{className:"iconOwn"})),o||null):null}j.getSystemIcon=r;function e(n,o){o=o||".";let c="";const p=n==null?void 0:n.common;if(p){const w=p.icon;if(w)if(w.startsWith("data:image/"))c=w;else if(w.includes(".")){let E;n.type==="instance"||n.type==="adapter"?c=`${o}/adapter/${p.name}/${w}`:n._id&&n._id.startsWith("system.adapter.")?(E=n._id.split(".",3),w[0]==="/"?E[2]+=w:E[2]+=`/${w}`,c=`${o}/adapter/${E[2]}`):(E=n._id.split(".",2),w[0]==="/"?E[0]+=w:E[0]+=`/${w}`,c=`${o}/adapter/${E[0]}`)}else return null}return c||null}j.getSelectIdIcon=e;const s=window.location.hostname.includes("iobroker.in"),t=window.location.pathname.substring(0,window.location.pathname.lastIndexOf("/")+1),i=n=>{var o,c,p;if(n.src){if(typeof n.src=="string"){if(n.src.length<3)return h.default.createElement("span",{title:n.title||void 0,style:Object.assign({height:27,marginTop:-8},n.styleUTF8||n.style),className:D.default.clsx(n.className,"iconOwn")},n.src);if(n.src.startsWith("data:image/svg"))return h.default.createElement(F.default,{title:n.title||void 0,src:n.src,className:D.default.clsx(n.className,"iconOwn"),width:((o=n.style)===null||o===void 0?void 0:o.width)||28,height:((c=n.style)===null||c===void 0?void 0:c.height)||((p=n.style)===null||p===void 0?void 0:p.width)||28,style:n.style||{}});if(s&&!n.src.startsWith("http://")&&!n.src.startsWith("https://")){let w=n.src;return w.startsWith("./")?w=t+w.substring(2):w.startsWith("/")||(w=t+w),h.default.createElement("img",{title:n.title||void 0,style:n.style||{},className:D.default.clsx(n.className,"iconOwn"),src:`https://remote-files.iobroker.in${w}`,alt:n.alt||void 0,ref:n.ref,onError:E=>{n.onError&&n.onError(E)}})}return h.default.createElement("img",{title:n.title||void 0,style:n.style||{},className:D.default.clsx(n.className,"iconOwn"),src:n.src,alt:n.alt||void 0,ref:n.ref,onError:n.onError})}return n.src}return null};j.default=i},80754:function(X,j,L){"use strict";var M=this&&this.__createBinding||(Object.create?function(p,w,E,k){k===void 0&&(k=E);var f=Object.getOwnPropertyDescriptor(w,E);(!f||("get"in f?!w.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return w[E]}}),Object.defineProperty(p,k,f)}:function(p,w,E,k){k===void 0&&(k=E),p[k]=w[E]}),h=this&&this.__setModuleDefault||(Object.create?function(p,w){Object.defineProperty(p,"default",{enumerable:!0,value:w})}:function(p,w){p.default=w}),F=this&&this.__importStar||function(p){if(p&&p.__esModule)return p;var w={};if(p!=null)for(var E in p)E!=="default"&&Object.prototype.hasOwnProperty.call(p,E)&&M(w,p,E);return h(w,p),w},b=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(j,"__esModule",{value:!0});const d=F(L(28437)),D=L(72589),r=L(70143),e=L(67085),s=L(21839),t=b(L(99405)),i=b(L(82216)),n=b(L(42854)),o=b(L(96808)),c=p=>{var w,E;const k=p.icon,C=(0,r.makeStyles)(()=>({formContainer:{display:"flex",justifyContent:"left",alignItems:"center"},formControl:{display:"flex",padding:24,flexGrow:1e3},divContainer:{width:56,height:32,whiteSpace:"nowrap",lineHeight:"32px",marginRight:8},dragField:{textAlign:"center",display:"table",minHeight:90,width:"calc(100% - 60px)",border:"2px dashed #777",borderRadius:10,padding:4},formIcon:{margin:10,opacity:.6},text:{display:"table-cell",verticalAlign:"middle"}}))(),g=(0,d.useCallback)(R=>{const P=new FileReader;P.addEventListener("load",()=>p.onChange(P.result),!1),R[0]&&P.readAsDataURL(R[0])},[]),{getRootProps:m,getInputProps:S,isDragActive:A}=(0,D.useDropzone)({onDrop:g});return d.default.createElement("div",{className:C.formContainer},k?d.default.createElement(k,{className:C.formIcon}):null,d.default.createElement(e.FormControl,{variant:"standard",className:C.formControl,style:{padding:3}},d.default.createElement(e.InputLabel,{shrink:!0,classes:{root:(w=p.customClasses)===null||w===void 0?void 0:w.label}},p.label),d.default.createElement("div",{className:C.formContainer},p.value?d.default.createElement("div",{className:C.divContainer},d.default.createElement(i.default,{className:o.default.clsx(p.previewClassName,(E=p.customClasses)===null||E===void 0?void 0:E.icon),src:p.value}),!p.disabled&&d.default.createElement(e.IconButton,{style:{verticalAlign:"top"},title:n.default.t("ra_Clear icon"),size:"small",onClick:()=>p.onChange("")},d.default.createElement(s.Clear,null))):!p.disabled&&d.default.createElement(t.default,{icons:p.icons,onlyRooms:p.onlyRooms,onlyDevices:p.onlyDevices,onSelect:R=>p.onChange(R),t:n.default.t,lang:n.default.getLanguage()}),!p.disabled&&d.default.createElement("div",Object.assign({},m(),{className:C.dragField,style:A?{backgroundColor:"rgba(0, 255, 0, 0.1)"}:{cursor:"pointer"}}),d.default.createElement("input",Object.assign({},S())),A?d.default.createElement("span",{className:C.text},n.default.t("ra_Drop the files here...")):d.default.createElement("span",{className:C.text},n.default.t("ra_Drag 'n' drop some files here, or click to select files"))))))};j.default=c},99405:function(X,j,L){"use strict";var M=this&&this.__createBinding||(Object.create?function(o,c,p,w){w===void 0&&(w=p);var E=Object.getOwnPropertyDescriptor(c,p);(!E||("get"in E?!c.__esModule:E.writable||E.configurable))&&(E={enumerable:!0,get:function(){return c[p]}}),Object.defineProperty(o,w,E)}:function(o,c,p,w){w===void 0&&(w=p),o[w]=c[p]}),h=this&&this.__setModuleDefault||(Object.create?function(o,c){Object.defineProperty(o,"default",{enumerable:!0,value:c})}:function(o,c){o.default=c}),F=this&&this.__importStar||function(o){if(o&&o.__esModule)return o;var c={};if(o!=null)for(var p in o)p!=="default"&&Object.prototype.hasOwnProperty.call(o,p)&&M(c,o,p);return h(c,o),c},b=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(j,"__esModule",{value:!0});const d=F(L(28437)),D=L(67085),r=L(21839),e=b(L(82216)),s=b(L(96808)),t=[{_id:"hood",name:{en:"Hood",ru:"\u0412\u044B\u0442\u044F\u0436\u043A\u0430",de:"Abzugshaube",fr:"Capot",it:"Cappe",nl:"Hood",pl:"Okapy",pt:"Hood",es:"Campana","zh-cn":"\u62BD\u6CB9\u70DF\u673A"},icon:"Hoods.svg"},{_id:"alarm_system",name:{en:"Alarm System",ru:"\u0421\u0438\u0433\u043D\u0430\u043B\u0438\u0437\u0430\u0446\u0438\u044F",de:"Alarmanlage",fr:"Syst\xE8mes D'Alarme",it:"Sistemi Di Allarme",nl:"Alarm Systems",pl:"Systemy Alarmowe",pt:"Sistemas De Alarme",es:"Sistemas De Alarma","zh-cn":"\u62A5\u8B66\u7CFB\u7EDF"},icon:"Alarm Systems.svg"},{_id:"battery_status",name:{en:"Battery Status",ru:"\u0417\u0430\u0440\u044F\u0434 \u0431\u0430\u0442\u0430\u0440\u0435\u0438",de:"Batteriestatus",fr:"\xC9tat De La Batterie",it:"Stato Della Batteria",nl:"Batterij Status",pl:"Stan Baterii",pt:"Estado Da Bateria",es:"Estado De La Bater\xEDa","zh-cn":"\u7535\u6C60\u72B6\u6001"},icon:"Battery Status.svg"},{_id:"lighting",name:{en:"Lighting",ru:"\u0421\u0432\u0435\u0442\u0438\u043B\u044C\u043D\u0438\u043A",de:"Beleuchtung",fr:"\xC9clairages",it:"Illuminazione",nl:"Verlichting",pl:"Oprawy O\u015Bwietleniowe",pt:"Ilumina\xE7\xF5es",es:"Iluminaciones","zh-cn":"\u7167\u660E"},icon:"Lightings.svg"},{_id:"shading",name:{en:"Shading",ru:"\u0417\u0430\u0442\u0435\u043D\u0435\u043D\u0438\u0435",de:"Beschattungen",fr:"Ombres",it:"Ombreggiatura",nl:"Shading",pl:"Zacienienie",pt:"Shading",es:"Sombreado","zh-cn":"\u5E95\u7EB9"},icon:"Shading.svg"},{_id:"irrigation",name:{en:"Irrigation",ru:"\u041E\u0440\u043E\u0448\u0435\u043D\u0438\u0435",de:"Bew\xE4sserung",fr:"Irrigation",it:"Irrigazione",nl:"Irrigatie",pl:"Nawadnianie",pt:"Irriga\xE7\xE3o",es:"Irrigaci\xF3n","zh-cn":"\u704C\u6E89"},icon:"Irrigation.svg"},{_id:"iron",name:{en:"Iron",ru:"\u0423\u0442\u044E\u0433",de:"B\xFCgeleisen",fr:"Le Fer",it:"Ferro",nl:"Ijzer",pl:"\u017Belazo",pt:"Ferro",es:"Hierro","zh-cn":"\u94C1"},icon:"Iron.svg"},{_id:"computer",name:{en:"Computer",ru:"\u041A\u043E\u043C\u043F\u044C\u044E\u0442\u0435\u0440",de:"Rechner",fr:"L'Ordinateur",it:"Computer",nl:"Computer",pl:"Komputer",pt:"Computador",es:"Ordenador","zh-cn":"\u7535\u8111"},icon:"Computer.svg"},{_id:"ceiling_spotlight",name:{en:"Ceiling Spotlight",ru:"\u041F\u043E\u0442\u043E\u043B\u043E\u0447\u043D\u044B\u0439 \u043F\u0440\u043E\u0436\u0435\u043A\u0442\u043E\u0440",de:"Deckenspot",fr:"Plafond Spotlight",it:"Faretti A Soffitto",nl:"Plafond Spotlight",pl:"Reflektory Sufitowe",pt:"Tecto Foco",es:"Focos De Techo","zh-cn":"\u5929\u82B1\u5C04\u706F"},icon:"Ceiling Spotlights.svg"},{_id:"printer",name:{en:"Printer",de:"Drucker",ru:"\u041F\u0440\u0438\u043D\u0442\u0435\u0440",pt:"Impressora",nl:"Printer",fr:"Imprimante",it:"Stampante",es:"Impresora",pl:"Drukarka","zh-cn":"\u6253\u5370\u673A"},icon:"Printer.svg"},{_id:"power_consumption",name:{en:"Power Consumption",ru:"\u041F\u043E\u0442\u0440\u0435\u0431\u043B\u044F\u0435\u043C\u0430\u044F \u043C\u043E\u0449\u043D\u043E\u0441\u0442\u044C",de:"Stromverbrauch",fr:"Consommation D'\xC9nergie",it:"Consumo Di Energia",nl:"Energieverbruik",pl:"Pob\xF3r Energii",pt:"Consumo De Energia",es:"El Consumo De Energ\xEDa","zh-cn":"\u80FD\u91CF\u6D88\u8017"},icon:"Power Consumption.svg"},{_id:"window",name:{en:"Window",ru:"\u041E\u043A\u043D\u043E",de:"Fenster",fr:"La Fen\xEAtre",it:"Finestra",nl:"Venster",pl:"Okno",pt:"Janela",es:"Ventana","zh-cn":"\u7A97\u6237"},icon:"Window.svg"},{_id:"garage_door",name:{en:"Garage Door",ru:"\u0413\u0430\u0440\u0430\u0436\u043D\u044B\u0435 \u0412\u043E\u0440\u043E\u0442\u0430",de:"Garagentor",fr:"Portes De Garage",it:"Garage Door",nl:"Garage Door",pl:"Bramy Gara\u017Cowe",pt:"Portas De Garagem",es:"Las Puertas De Garaje","zh-cn":"\u8F66\u5E93\u95E8"},icon:"Garage Doors.svg"},{_id:"hairdryer",name:{en:"Hairdryer",ru:"\u0424\u0435\u043D",de:"Haartrockner",fr:"S\xE8che-Cheveux",it:"Asciugacapelli",nl:"Haardroger",pl:"Suszarka Do W\u0142os\xF3w",pt:"Secador De Cabelo",es:"Secador De Pelo","zh-cn":"\u7535\u5439\u98CE"},icon:"Hairdryer.svg"},{_id:"hanging_lamp",name:{en:"Hanging Lamp",ru:"\u041F\u043E\u0434\u0432\u0435\u0441\u043D\u043E\u0439 \u0441\u0432\u0435\u0442\u0438\u043B\u044C\u043D\u0438\u043A",de:"H\xE4ngelampe",fr:"Lampes Suspendues",it:"Lampade A Sospensione",nl:"Opknoping Lampen",pl:"Lampy Wisz\u0105ce",pt:"L\xE2mpadas De Suspens\xE3o",es:"L\xE1mparas Colgantes","zh-cn":"\u6302\u706F"},icon:"Hanging Lamps.svg"},{_id:"doorstep",name:{en:"Enterance",ru:"\u0412\u0445\u043E\u0434\u043D\u0430\u044F \u0434\u0432\u0435\u0440\u044C",de:"Haust\xFCr",fr:"Seuil De Porte",it:"Gradino Della Porta",nl:"Drempel",pl:"Pr\xF3g",pt:"Porta",es:"Pelda\xF1o","zh-cn":"\u95E8\u9636"},icon:"Doorstep.svg"},{_id:"hot_water",name:{en:"Hot Water",ru:"\u0413\u043E\u0440\u044F\u0447\u0430\u044F \u0432\u043E\u0434\u0430",de:"Hei\xDFwasser",fr:"Eau Chaude",it:"Acqua Calda",nl:"Heet Water",pl:"Gor\u0105ca Woda",pt:"\xC1gua Quente",es:"Agua Caliente","zh-cn":"\u70ED\u6C34"},icon:"Hot Water.svg"},{_id:"heating",name:{en:"Heating",ru:"\u041E\u0442\u043E\u043F\u043B\u0435\u043D\u0438\u0435",de:"Heizung",fr:"Chauffe-Eau",it:"Riscaldatore",nl:"Verwarmer",pl:"Podgrzewacz",pt:"Aquecedor",es:"Calentador","zh-cn":"\u52A0\u70ED\u5668"},icon:"Heater.svg"},{_id:"stove",name:{en:"Stove",ru:"\u041F\u0435\u0447\u044C",de:"Herd",fr:"Le Fourneau",it:"Stufa",nl:"Fornuis",pl:"Kuchenka",pt:"Forno",es:"Cocina","zh-cn":"\u706B\u7089"},icon:"Stove.svg"},{_id:"louvre",name:{en:"Louvre",ru:"\u0416\u0430\u043B\u044E\u0437\u0438",de:"Jalousie",fr:"Persienne",it:"Persiana Di Ventilazione",nl:"Louvre",pl:"\u017Baluzja",pt:"Trapeira",es:"Lumbrera","zh-cn":"\u5362\u6D6E\u5BAB"},icon:"Louvre.svg"},{_id:"coffee_maker",name:{en:"Coffee Maker",ru:"\u041A\u043E\u0444\u0435\u0432\u0430\u0440\u043A\u0430",de:"Kaffemaschine",fr:"Cafeti\xE8re",it:"Macchine Da Caff\xE8",nl:"Koffie Maker",pl:"Ekspresy Do Kawy",pt:"Cafeteira",es:"Cafetera","zh-cn":"\u5496\u5561\u58F6"},icon:"Coffee Makers.svg"},{_id:"cold_water",name:{en:"Cold Water",ru:"\u0425\u043E\u043B\u043E\u0434\u043D\u0430\u044F \u0432\u043E\u0434\u0430",de:"Kaltwasser",fr:"Eau Froide",it:"Acqua Fredda",nl:"Koud Water",pl:"Zimna Woda",pt:"\xC1gua Fria",es:"Agua Fr\xEDa","zh-cn":"\u51B7\u6C34"},icon:"Cold Water.svg"},{_id:"climate",name:{en:"Climate",ru:"\u041A\u043B\u0438\u043C\u0430\u0442",de:"Klima",fr:"Climat",it:"Clima",nl:"Klimaat",pl:"Klimat",pt:"Clima",es:"Clima","zh-cn":"\u6C14\u5019"},icon:"Climate.svg"},{_id:"speaker",name:{en:"Speaker",ru:"\u0417\u0432\u0443\u043A\u043E\u0432\u0430\u044F \u0441\u0438\u0441\u0442\u0435\u043C\u0430",de:"Lautsprecher",fr:"Orateur",it:"Altoparlante",nl:"Spreker",pl:"G\u0142o\u015Bnik",pt:"Palestrante",es:"Altavoz","zh-cn":"\u626C\u58F0\u5668"},icon:"Speaker.svg"},{_id:"led_strip",name:{en:"Led Strip",ru:"\u0421\u0432\u0435\u0442\u043E\u0434\u0438\u043E\u0434\u043D\u0430\u044F \u043B\u0435\u043D\u0442\u0430",de:"LED Leiste",fr:"Led Strip",it:"Led Strip",nl:"Loden Strip",pl:"Pasek Ledowy",pt:"Led Faixa",es:"Tira Llevada","zh-cn":"\u706F\u5E26"},icon:"Led Strip.svg"},{_id:"light",name:{en:"Light",ru:"\u0421\u0432\u0435\u0442",de:"Licht",fr:"Lumi\xE8re",it:"Leggero",nl:"Licht",pl:"Lekki",pt:"Luz",es:"Luz","zh-cn":"\u5149"},icon:"Light.svg"},{_id:"fan",name:{en:"Fan",ru:"\u0412\u0435\u043D\u0442\u0438\u043B\u044F\u0442\u043E\u0440",de:"L\xFCfter",fr:"Ventilateur",it:"Fan",nl:"Ventilator",pl:"Wentylator",pt:"Ventilador",es:"Ventilador","zh-cn":"\u6247\u5B50"},icon:"Fan.svg"},{_id:"humidity",name:{en:"Humidity",ru:"\u0412\u043B\u0430\u0436\u043D\u043E\u0441\u0442\u044C",de:"Luftfeuchtigkeit",fr:"Humidit\xE9",it:"Umidit\xE0",nl:"Vochtigheid",pl:"Wilgotno\u015B\u0107",pt:"Umidade",es:"Humedad","zh-cn":"\u6E7F\u5EA6"},icon:"Humidity.svg"},{_id:"ventilation",name:{en:"Ventilation",ru:"\u0412\u0435\u043D\u0442\u0438\u043B\u044F\u0446\u0438\u044F",de:"L\xFCftung",fr:"Ventilation",it:"Ventilazione",nl:"Ventilatie",pl:"Wentylacja",pt:"Ventila\xE7\xE3o",es:"Ventilaci\xF3n","zh-cn":"\u901A\u98CE"},icon:"Ventilation.svg"},{_id:"chandelier",name:{en:"Chandelier",ru:"\u041B\u044E\u0441\u0442\u0440\u0430",de:"Kronleuchter",fr:"Lustre",it:"Lampadario",nl:"Kroonluchter",pl:"\u017Byrandol",pt:"Lustre",es:"Candelabro","zh-cn":"\u679D\u5F62\u540A\u706F"},icon:"Chandelier.svg"},{_id:"awning",name:{en:"Awning",ru:"\u041C\u0430\u0440\u043A\u0438\u0437\u0430",de:"Markise",fr:"Auvents",it:"Tende",nl:"Luifels",pl:"Okrycia",pt:"Toldos",es:"Toldos","zh-cn":"\u906E\u9633\u7BF7"},icon:"Awnings.svg"},{_id:"music",name:{en:"Music",ru:"\u041C\u0443\u0437\u044B\u043A\u0430",de:"Musik",fr:"Musique",it:"Musica",nl:"Muziek",pl:"Muzyka",pt:"M\xFAsica",es:"M\xFAsica","zh-cn":"\u97F3\u4E50"},icon:"Music.svg"},{_id:"people",name:{en:"People",ru:"\u041B\u044E\u0434\u0438",de:"Personen",fr:"Gens",it:"Persone",nl:"Mensen",pl:"Ludzie",pt:"Pessoas",es:"Personas","zh-cn":"\u4EBA\u4EEC"},icon:"People.svg"},{_id:"pool",name:{en:"Pool",ru:"\u0411\u0430\u0441\u0441\u0435\u0439\u043D",de:"Pool",fr:"Piscine",it:"Piscina",nl:"Zwembad",pl:"Basen",pt:"Piscina",es:"Piscina","zh-cn":"\u6C34\u6C60"},icon:"Pool.svg"},{_id:"pump",name:{en:"Pump",ru:"\u041D\u0430\u0441\u043E\u0441",de:"Pumpe",fr:"Pompe",it:"Pompa",nl:"Pomp",pl:"Pompa",pt:"Bombear",es:"Bomba","zh-cn":"\u6CF5"},icon:"Pump.svg"},{_id:"outdoor_blinds",name:{en:"Outdoor Blinds",ru:"\u0412\u043D\u0435\u0449\u0433\u0442\u0435 \u0436\u0430\u043B\u044E\u0437\u0438",de:"Raffstore",fr:"Volets",it:"Tende Da Esterni",nl:"Outdoor Blinds",pl:"Rolety Zewn\u0119trzne",pt:"Estores Exteriores",es:"Persianas Exteriores","zh-cn":"\u5BA4\u5916\u767E\u53F6\u7A97"},icon:"Outdoor Blinds.svg"},{_id:"mowing_machine",name:{en:"Mowing Machine",ru:"\u0413\u0430\u0437\u043E\u043D\u043E\u043A\u043E\u0441\u0438\u043B\u043A\u0430",de:"Rasenm\xE4her",fr:"Machine De Fauchage",it:"Macchina Di Falciatura",nl:"Maaimachine",pl:"Kosiarka",pt:"Ro\xE7ada M\xE1quina",es:"Segadora","zh-cn":"\u5272\u8349\u673A"},icon:"Mowing Machine.svg"},{_id:"receiver",name:{en:"Receiver",ru:"\u041F\u0440\u0438\u0441\u0442\u0430\u0432\u043A\u0430",de:"Receiver",fr:"Destinataire",it:"Ricevitore",nl:"Ontvanger",pl:"Odbiorca",pt:"Recebedor",es:"Receptor","zh-cn":"\u63A5\u6536\u8005"},icon:"Receiver.svg"},{_id:"shutters",name:{en:"Shutters",ru:"\u0421\u0442\u0430\u0432\u043D\u0438",de:"Rollladen",fr:"Volets",it:"Persiane",nl:"Shutters",pl:"\u017Baluzje",pt:"Persianas",es:"Persianas","zh-cn":"\u767E\u53F6\u7A97"},icon:"Shutters.svg"},{_id:"smoke_detector",name:{en:"Smoke detector",de:"Rauchmelder",ru:"\u0414\u0435\u0442\u0435\u043A\u0442\u043E\u0440 \u0434\u044B\u043C\u0430",pt:"Detector de fuma\xE7a",nl:"Rookdetector",fr:"D\xE9tecteur de fum\xE9e",it:"Rilevatore di fumo",es:"Detector de humo",pl:"Wykrywacz dymu","zh-cn":"\u70DF\u96FE\u63A2\u6D4B\u5668"},icon:"SmokeDetector.svg"},{_id:"lock",name:{en:"Lock",ru:"\u0417\u0430\u043C\u043E\u043A",de:"Schlo\xDF",fr:"Fermer \xC0 Cl\xE9",it:"Serratura",nl:"Slot",pl:"Zamek",pt:"Trancar",es:"Cerrar Con Llave","zh-cn":"\u9501"},icon:"Lock.svg"},{_id:"security",name:{en:"Security",ru:"\u0411\u0435\u0437\u043E\u043F\u0430\u0441\u043D\u043E\u0441\u0442\u044C",de:"Sicherheit",fr:"S\xE9curit\xE9",it:"Sicurezza",nl:"Veiligheid",pl:"Bezpiecze\u0144stwo",pt:"Seguran\xE7a",es:"Seguridad","zh-cn":"\u5B89\u5168"},icon:"Security.svg"},{_id:"dishwasher",name:{en:"Dishwasher",ru:"\u041F\u043E\u0441\u0443\u0434\u043E\u043C\u043E\u0435\u0447\u043D\u0430\u044F \u043C\u0430\u0448\u0438\u043D\u0430",de:"Sp\xFClmaschine",fr:"Lave-Vaisselles",it:"Lavastoviglie",nl:"Vaatwassers",pl:"Zmywarki",pt:"M\xE1quinas De Lavar Lou\xE7a",es:"Lavaplatos","zh-cn":"\u6D17\u7897\u673A"},icon:"Dishwashers.svg"},{_id:"vacuum_cleaner",name:{en:"Vacuum Cleaner",ru:"\u041F\u044B\u043B\u0435\u0441\u043E\u0441",de:"Staubsauger",fr:"Aspirateur",it:"Aspirapolvere",nl:"Stofzuiger",pl:"Odkurzacz",pt:"Aspirador De P\xF3",es:"Aspiradora","zh-cn":"\u5438\u5C18\u5668"},icon:"Vacuum Cleaner.svg"},{_id:"socket",name:{en:"Socket",ru:"\u0420\u043E\u0437\u0435\u0442\u043A\u0430",de:"Steckdose",fr:"Prise",it:"Socket",nl:"Socket",pl:"Gniazdka",pt:"Tomada",es:"Z\xF3calo","zh-cn":"\u5957\u63A5\u5B57"},icon:"Sockets.svg"},{_id:"floor_lamp",name:{en:"Floor Lamp",ru:"\u0422\u043E\u0440\u0448\u0435\u0440",de:"Stehlampe",fr:"Lampes Pour Plancher",it:"Lampade A Stelo",nl:"Vloerlampen",pl:"Lampy Pod\u0142ogowe",pt:"L\xE2mpadas Ch\xE3o",es:"L\xE1mparas De Pie","zh-cn":"\u843D\u5730\u706F"},icon:"Floor Lamps.svg"},{_id:"power_consumption",name:{en:"Power Consumption",ru:"\u041F\u043E\u0442\u0440\u0435\u0431\u043B\u044F\u0435\u043C\u0430\u044F \u043C\u043E\u0449\u043D\u043E\u0441\u0442\u044C",de:"Stromverbrauch",fr:"Consommation D'\xC9nergie",it:"Consumo Di Energia",nl:"Energieverbruik",pl:"Pob\xF3r Energii",pt:"Consumo De Energia",es:"El Consumo De Energ\xEDa","zh-cn":"\u80FD\u91CF\u6D88\u8017"},icon:"Power Consumption.svg"},{_id:"temperature_sensor",name:{en:"Temperature Sensor",ru:"\u0422\u0435\u043C\u043F\u0435\u0440\u0430\u0442\u0443\u0440\u043D\u044B\u0439 \u0434\u0430\u0442\u0447\u0438\u043A",de:"Temperatur-Sensor",fr:"Capteur De Temp\xE9rature",it:"Sensori Di Temperatura",nl:"Temperatuursensor",pl:"Czujniki Temperatury",pt:"Sensores De Temperatura",es:"Sensores De Temperatura","zh-cn":"\u6E29\u5EA6\u4F20\u611F\u5668"},icon:"Temperature Sensors.svg"},{_id:"table_lamp",name:{en:"Table Lamp",ru:"\u041D\u0430\u0441\u0442\u043E\u043B\u044C\u043D\u0430\u044F \u043B\u0430\u043C\u043F\u0430",de:"Tischlampe",fr:"Lampe De Chevet",it:"Lampade Da Tavolo",nl:"Tafellampen",pl:"Lampy Sto\u0142owe",pt:"L\xE2mpadas De Mesa",es:"L\xE1mparas De Mesa","zh-cn":"\u53F0\u706F"},icon:"Table Lamps.svg"},{_id:"gate",name:{en:"Gate",ru:"\u0412\u043E\u0440\u043E\u0442\u0430",de:"Tor",fr:"Porte",it:"Gate",nl:"Gate",pl:"Bramy",pt:"Port\xF5es",es:"Puertas","zh-cn":"\u76D6\u8328"},icon:"Gates.svg"},{_id:"dryer",name:{en:"Dryer",ru:"\u0421\u0443\u0448\u0438\u043B\u043A\u0430",de:"Trockner",fr:"S\xE9choir",it:"Asciugatrice",nl:"Droger",pl:"Suszarka",pt:"Secador",es:"Secadora","zh-cn":"\u70D8\u5E72\u673A"},icon:"Dryer.svg"},{_id:"door",name:{en:"Door",ru:"\u0414\u0432\u0435\u0440\u044C",de:"T\xFCr",fr:"Des Portes",it:"Porte",nl:"Deuren",pl:"Drzwi",pt:"Portas",es:"Puertas","zh-cn":"\u95E8"},icon:"Doors.svg"},{_id:"tv",name:{en:"Tv",ru:"\u0422\u0435\u043B\u0435\u0432\u0438\u0437\u043E\u0440",de:"TV",fr:"La T\xE9l\xE9",it:"Tv",nl:"Tv",pl:"Telewizja",pt:"Televis\xE3o",es:"Televisor","zh-cn":"\u7535\u89C6"},icon:"Tv.svg"},{_id:"consumption",name:{en:"Consumption",ru:"\u041F\u043E\u0442\u0440\u0435\u0431\u043B\u0435\u043D\u0438\u0435",de:"Verbrauch",fr:"Consommation",it:"Consumo",nl:"Consumptie",pl:"Konsumpcja",pt:"Consumo",es:"Consumo","zh-cn":"\u6D88\u8D39"},icon:"Consumption.svg"},{_id:"amplifier",name:{en:"Amplifier",ru:"\u0423\u0441\u0438\u043B\u0438\u0442\u0435\u043B\u044C \u0437\u0432\u0443\u043A\u0430",de:"Verst\xE4rker",fr:"Amplificateur",it:"Amplificatore",nl:"Versterker",pl:"Wzmacniacz",pt:"Amplificador",es:"Amplificador","zh-cn":"\u653E\u5927\u5668"},icon:"Amplifier.svg"},{_id:"curtains",name:{en:"Curtains",ru:"\u0428\u0442\u043E\u0440\u044B",de:"Vorh\xE4nge",fr:"Des Rideaux",it:"Le Tende",nl:"Gordijnen",pl:"Zas\u0142ony",pt:"Cortinas",es:"Cortinas","zh-cn":"\u7A97\u5E18"},icon:"Curtains.svg"},{_id:"sconce",name:{en:"Sconce",ru:"\u041D\u0430\u0441\u0442\u0435\u043D\u043D\u044B\u0439 \u0441\u0432\u0435\u0442\u0438\u043B\u044C\u043D\u0438\u043A",de:"Wandlampe",fr:"Sconce",it:"Sconce",nl:"Sconce",pl:"Kinkiety",pt:"Arandelas",es:"Los Apliques","zh-cn":"\u58C1\u706F"},icon:"Sconces.svg"},{_id:"washing_machine",name:{en:"Washing Machine",ru:"\u0421\u0442\u0438\u0440\u0430\u043B\u044C\u043D\u0430\u044F \u043C\u0430\u0448\u0438\u043D\u0430",de:"Waschmaschine",fr:"Machines \xC0 Laver",it:"Lavatrici",nl:"Wasmachines",pl:"Pralki",pt:"M\xE1quinas De Lavar Roupas",es:"Lavadoras","zh-cn":"\u6D17\u8863\u673A"},icon:"Washing Machines.svg"},{_id:"water",name:{en:"Water",ru:"\u0412\u043E\u0434\u0430",de:"Wasser",fr:"L'Eau",it:"Acqua",nl:"Water",pl:"Woda",pt:"\xC1gua",es:"Agua","zh-cn":"\u6C34"},icon:"Water.svg"},{_id:"water_heater",name:{en:"Water Heater",ru:"\u041D\u0430\u0433\u0440\u0435\u0432\u0430\u0442\u0435\u043B\u044C \u0432\u043E\u0434\u044B",de:"Wasserkocher",fr:"Chauffe-Eau",it:"Scaldabagno",nl:"Waterkoker",pl:"Podgrzewacz Wody",pt:"Aquecedor De \xC1gua",es:"Calentador De Agua","zh-cn":"\u70ED\u6C34\u5668"},icon:"Water Heater.svg"},{_id:"water_consumption",name:{en:"Water Consumption",ru:"\u041F\u043E\u0442\u0440\u0435\u0431\u043B\u0435\u043D\u0438\u0435 \u0432\u043E\u0434\u044B",de:"Wasserverbrauch",fr:"Consommation D'Eau",it:"Consumo D'Acqua",nl:"Waterverbruik",pl:"Konsumpcja Wody",pt:"Consumo De \xC1gua",es:"Consumo De Agua","zh-cn":"\u8017\u6C34\u91CF"},icon:"Water Consumption.svg"},{_id:"weather",name:{en:"Weather",ru:"\u041F\u043E\u0433\u043E\u0434\u0430",de:"Wetter",fr:"La M\xE9t\xE9o",it:"Tempo Metereologico",nl:"Weer",pl:"Pogoda",pt:"Clima",es:"Tiempo","zh-cn":"\u5929\u6C14"},icon:"Weather.svg"}],i=[{_id:"storeroom",name:{en:"Storeroom",ru:"\u041A\u043B\u0430\u0434\u043E\u0432\u0430\u044F",de:"Abstellraum",fr:"D\xE9barras",it:"Dispensa",nl:"Bergplaats",pl:"Magazyn",pt:"Despensa",es:"Trastero","zh-cn":"\u5E93\u623F"},icon:"Storeroom.svg"},{_id:"second_floor",name:{en:"Second floor",ru:"\u0412\u0442\u043E\u0440\u043E\u0439 \u044D\u0442\u0430\u0436",de:"Erster OG",pt:"Primeiro andar",nl:"Eerste verdieping",fr:"Premier \xE9tage",it:"Primo piano",es:"Primer piso",pl:"Pierwsze pi\u0119tro","zh-cn":"\u7B2C\u4E00\u5C42"},icon:"Second Floor.svg"},{_id:"dressing_room",name:{en:"Dressing Room",ru:"\u0413\u0430\u0440\u0434\u0435\u0440\u043E\u0431\u043D\u0430\u044F",de:"Ankleide",fr:"Vestiaire",it:"Camerino",nl:"Kleedkamer",pl:"Przebieralnia",pt:"Provador",es:"Vestidor","zh-cn":"\u66F4\u8863\u5BA4"},icon:"Dressing Room.svg"},{_id:"workspace",name:{en:"Workspace",ru:"\u0420\u0430\u0431\u043E\u0447\u0430\u044F \u0421\u0440\u0435\u0434\u0430",de:"Arbeitszimmer",fr:"Espace De Travail",it:"Area Di Lavoro",nl:"Workspace",pl:"Workspace",pt:"\xC1rea De Trabalho",es:"Espacio De Trabajo","zh-cn":"\u5DE5\u4F5C\u533A"},icon:"Workspace.svg"},{_id:"driveway",name:{en:"Driveway",ru:"\u0414\u043E\u0440\u043E\u0433\u0430",de:"Auffahrt",fr:"All\xE9e",it:"Viale",nl:"Pad",pl:"Podjazd",pt:"Entrada Da Garagem",es:"Entrada De Coches","zh-cn":"\u8F66\u9053"},icon:"Driveway.svg"},{_id:"outdoors",name:{en:"Outdoors",ru:"\u041D\u0430 \u0423\u043B\u0438\u0446\u0435",de:"Au\xDFenbereich",fr:"En Plein Air",it:"All'Aperto",nl:"Buitenshuis",pl:"Na Dworze",pt:"Ao Ar Livre",es:"Al Aire Libre","zh-cn":"\u6237\u5916"},icon:"Outdoors.svg"},{_id:"bathroom",name:{en:"Bathroom",ru:"\u0412\u0430\u043D\u043D\u0430\u044F \u041A\u043E\u043C\u043D\u0430\u0442\u0430",de:"Badezimmer",fr:"Salle De Bains",it:"Bagno",nl:"Badkamer",pl:"\u0141azienka",pt:"Banheiro",es:"Ba\xF1o","zh-cn":"\u6D74\u5BA4"},icon:"Bathroom.svg"},{_id:"balcony",name:{en:"Balcony",ru:"\u0411\u0430\u043B\u043A\u043E\u043D",de:"Balkon",fr:"Balcon",it:"Balcone",nl:"Balkon",pl:"Balkon",pt:"Sacada",es:"Balc\xF3n","zh-cn":"\u9633\u53F0"},icon:"Balcony.svg"},{_id:"office",name:{en:"Office",ru:"\u041E\u0444\u0438\u0441",de:"Office",fr:"Bureau",it:"Ufficio",nl:"Kantoor",pl:"Gabinet",pt:"Escrit\xF3rio",es:"Oficina","zh-cn":"\u529E\u516C\u5BA4"},icon:"Office.svg"},{_id:"carport",name:{en:"Carport",ru:"\u041D\u0430\u0432\u0435\u0441",de:"Carport",fr:"Carport",it:"Posto Auto Coperto",nl:"Carport",pl:"Wiata",pt:"Telheiro",es:"Cochera","zh-cn":"\u8F66\u68DA"},icon:"Carport.svg"},{_id:"attic",name:{en:"Attic",ru:"\u0427\u0435\u0440\u0434\u0430\u043A",de:"Dachgeschoss",fr:"Grenier",it:"Attico",nl:"Zolder",pl:"Poddasze",pt:"S\xF3t\xE3o",es:"\xC1tico","zh-cn":"\u9601\u697C"},icon:"Attic.svg"},{_id:"hall",name:{en:"Hall",ru:"\u0417\u0430\u043B",de:"Diele",fr:"Salle",it:"Sala",nl:"Hal",pl:"Sala",pt:"Corredor",es:"Sala","zh-cn":"\u5927\u5385"},icon:"Hall.svg"},{_id:"entrance",name:{en:"Entrance",ru:"\u0412\u0445\u043E\u0434",de:"Eingang",fr:"Entr\xE9e",it:"Ingresso",nl:"Ingang",pl:"Wej\u015Bcie",pt:"Entrada",es:"Entrada","zh-cn":"\u5165\u53E3"},icon:"Entrance.svg"},{_id:"ground_floor",name:{en:"Ground Floor",ru:"\u041F\u0435\u0440\u0432\u044B\u0439 \u042D\u0442\u0430\u0436",de:"Erdgeschoss",fr:"Rez-De-Chauss\xE9e",it:"Piano Terra",nl:"Begane Grond",pl:"Parter",pt:"T\xE9rreo",es:"Planta Baja","zh-cn":"\u4E00\u697C"},icon:"Ground Floor.svg"},{_id:"dining_area",name:{en:"Dining Area",ru:"\u0421\u0442\u043E\u043B\u043E\u0432\u0430\u044F",de:"Essbereich",fr:"Salle \xC0 Manger",it:"Zona Pranzo",nl:"Eethoek",pl:"Jadalnia",pt:"\xC1rea De Refei\xE7\xF5es",es:"Comedor","zh-cn":"\u7528\u9910\u533A"},icon:"Dining Area.svg"},{_id:"dining_room",name:{en:"Dining Room",ru:"\u0421\u0442\u043E\u043B\u043E\u0432\u0430\u044F",de:"Esszimmer",fr:"Salle \xC0 Manger",it:"Sala Da Pranzo",nl:"Eetkamer",pl:"Jadalnia",pt:"Sala De Jantar",es:"Comedor","zh-cn":"\u996D\u5385"},icon:"Dining Room.svg"},{_id:"gym",name:{en:"Gym",ru:"\u0421\u043F\u043E\u0440\u0442\u0437\u0430\u043B",de:"Fitnessraum",fr:"Gym",it:"Palestra",nl:"Sportschool",pl:"Si\u0142ownia",pt:"Gin\xE1sio",es:"Gimnasio","zh-cn":"\u5065\u8EAB\u623F"},icon:"Gym.svg"},{_id:"gallery",name:{en:"Gallery",ru:"\u0413\u0430\u043B\u0435\u0440\u0435\u044F",de:"Galerie",fr:"Galerie",it:"Galleria",nl:"Galerij",pl:"Galeria",pt:"Galeria",es:"Galer\xEDa","zh-cn":"\u753B\u5ECA"},icon:"Gallery.svg"},{_id:"garage",name:{en:"Garage",ru:"\u0413\u0430\u0440\u0430\u0436",de:"Garage",fr:"Garage",it:"Box Auto",nl:"Garage",pl:"Gara\u017C",pt:"Garagem",es:"Garaje","zh-cn":"\u8F66\u5E93"},icon:"Garage.svg"},{_id:"wardrobe",name:{en:"Wardrobe",ru:"\u0413\u0430\u0440\u0434\u0435\u0440\u043E\u0431",de:"Garderobe",fr:"Penderie",it:"Armadio",nl:"Garderobe",pl:"Szafa",pt:"Guarda Roupa",es:"Armario","zh-cn":"\u8863\u67DC"},icon:"Wardrobe.svg"},{_id:"garden",name:{en:"Garden",ru:"\u0421\u0430\u0434",de:"Garten",fr:"Jardin",it:"Giardino",nl:"Tuin",pl:"Ogr\xF3d",pt:"Jardim",es:"Jard\xEDn","zh-cn":"\u82B1\u56ED"},icon:"Garden.svg"},{_id:"summer_house",name:{en:"Summer House",ru:"\u0414\u0430\u0447\u0430",de:"Gartenhaus",fr:"Maison D'\xC9t\xE9",it:"Casa Estiva",nl:"Zomerhuis",pl:"Domek Letniskowy",pt:"Summer House",es:"Casa De Verano","zh-cn":"\u51C9\u4EAD"},icon:"Summer House.svg"},{_id:"guest_bathroom",name:{en:"Guest Bathroom",ru:"\u0413\u043E\u0441\u0442\u0435\u0432\u0430\u044F \u041A\u043E\u043C\u043D\u0430\u0442\u0430",de:"G\xE4ste-WC",fr:"Salle De Bains Invit\xE9",it:"Guest Bathroom",nl:"Gastenbadkamer",pl:"\u0141azienka Go\u015Bcinna",pt:"Banheiro De H\xF3spedes",es:"Ba\xF1o De Visitas","zh-cn":"\u5BA2\u7528\u6D74\u5BA4"},icon:"Guest Bathroom.svg"},{_id:"guest_room",name:{en:"Guest Room",ru:"\u0413\u043E\u0441\u0442\u0435\u0432\u0430\u044F \u041A\u043E\u043C\u043D\u0430\u0442\u0430",de:"G\xE4stezimmer",fr:"Chambre D'Amis",it:"Stanza Degli Ospiti",nl:"Guest Room",pl:"Pok\xF3j Go\u015Bcinny",pt:"Quarto De H\xF3spedes",es:"Habitaci\xF3n De Hu\xE9spedes","zh-cn":"\u5BA2\u623F"},icon:"Guest Room.svg"},{_id:"laundry_room",name:{en:"Laundry Room",ru:"\u041F\u0440\u0430\u0447\u0435\u0447\u043D\u0430\u044F",de:"Hauswirtschaftsraum",fr:"Buanderie",it:"Lavanderia",nl:"Wasruimte",pl:"Pralnia",pt:"Lavandaria",es:"Cuarto De Lavado","zh-cn":"\u6D17\u8863\u623F"},icon:"Laundry Room.svg"},{_id:"home_theater",name:{en:"Home Theater",ru:"\u0414\u043E\u043C\u0430\u0448\u043D\u0438\u0439 \u0422\u0435\u0430\u0442\u0440",de:"Heimkino",fr:"Cin\xE9ma Maison",it:"Home Theater",nl:"Thuisbioscoop",pl:"Kino Domowe",pt:"Cinema Em Casa",es:"Cine En Casa","zh-cn":"\u5BB6\u5EAD\u7535\u5F71\u9662"},icon:"Home Theater.svg"},{_id:"boiler_room",name:{en:"Boiler Room",ru:"\u0411\u043E\u0439\u043B\u0435\u0440\u043D\u0430\u044F",de:"Heizungsraum",fr:"Chaufferie",it:"Locale Caldaia",nl:"Boiler Room",pl:"Kot\u0142ownia",pt:"Sala Da Caldeira",es:"Sala De Calderas","zh-cn":"\u9505\u7089\u623F"},icon:"Boiler Room.svg"},{_id:"chamber",name:{en:"Chamber",ru:"\u041A\u0430\u043C\u0435\u0440\u0430",de:"Kammer",fr:"Chambre",it:"Camera",nl:"Kamer",pl:"Izba",pt:"C\xE2mara",es:"C\xE1mara","zh-cn":"\u5546\u4F1A"},icon:"Chamber.svg"},{_id:"basement,_cellar",name:{en:"Basement, Cellar",ru:"\u041F\u043E\u0434\u0432\u0430\u043B, \u041F\u043E\u0433\u0440\u0435\u0431",de:"Keller",fr:"Sous-Sol, Cave",it:"Taverna, Cantina",nl:"Kelder, Kelder",pl:"Piwnica, Piwnica",pt:"Por\xE3o, Adega",es:"S\xF3tano, Bodega","zh-cn":"\u5730\u4E0B\u5BA4\uFF0C\u5730\u7A96"},icon:"Basement.svg"},{_id:"nursery",name:{en:"Nursery",ru:"\u041F\u0438\u0442\u043E\u043C\u043D\u0438\u043A",de:"Kinderzimmer",fr:"Garderie",it:"Asilo",nl:"Kinderkamer",pl:"\u017B\u0142obek",pt:"Ber\xE7\xE1rio",es:"Guarder\xEDa","zh-cn":"\u82D7\u5703"},icon:"Nursery.svg"},{_id:"corridor",name:{en:"Corridor",ru:"\u041A\u043E\u0440\u0438\u0434\u043E\u0440",de:"Korridor",fr:"Couloir",it:"Corridoio",nl:"Gang",pl:"Korytarz",pt:"Corredor",es:"Corredor","zh-cn":"\u8D70\u5ECA"},icon:"Corridor.svg"},{_id:"kitchen",name:{en:"Kitchen",ru:"\u041A\u0443\u0445\u043D\u044F",de:"K\xFCche",fr:"Cuisine",it:"Cucina",nl:"Keuken",pl:"Kuchnia",pt:"Cozinha",es:"Cocina","zh-cn":"\u53A8\u623F"},icon:"Kitchen.svg"},{_id:"upstairs",name:{en:"Upstairs",ru:"\u0412\u0432\u0435\u0440\u0445 \u041F\u043E \u041B\u0435\u0441\u0442\u043D\u0438\u0446\u0435",de:"Obergeschoss",fr:"En Haut",it:"Di Sopra",nl:"Boven",pl:"Na G\xF3r\u0119",pt:"Andar De Cima",es:"Piso Superior","zh-cn":"\u697C\u4E0A"},icon:"Upstairs.svg"},{_id:"office",name:{en:"Office",ru:"\u041E\u0444\u0438\u0441",de:"Office",fr:"Bureau",it:"Ufficio",nl:"Kantoor",pl:"Gabinet",pt:"Escrit\xF3rio",es:"Oficina","zh-cn":"\u529E\u516C\u5BA4"},icon:"Office.svg"},{_id:"pool",name:{en:"Pool",ru:"\u0411\u0430\u0441\u0441\u0435\u0439\u043D",de:"Pool",fr:"Piscine",it:"Piscina",nl:"Zwembad",pl:"Basen",pt:"Piscina",es:"Piscina","zh-cn":"\u6C34\u6C60"},icon:"Pool.svg"},{_id:"rear_wall",name:{en:"Rear Wall",ru:"\u0417\u0430\u0434\u043D\u044F\u044F \u0421\u0442\u0435\u043D\u043A\u0430",de:"R\xFCckwand",fr:"Paroi Arri\xE8re",it:"Parete Posteriore",nl:"Achterwand",pl:"Tylna \u015Aciana",pt:"Parede Traseira",es:"Pared Posterior","zh-cn":"\u540E\u5899"},icon:"Rear Wall.svg"},{_id:"barn",name:{en:"Barn",ru:"\u0410\u043C\u0431\u0430\u0440",de:"Scheune",fr:"Grange",it:"Fienile",nl:"Schuur",pl:"Stodo\u0142a",pt:"Celeiro",es:"Granero","zh-cn":"\u8C37\u4ED3"},icon:"Barn.svg"},{_id:"sleeping_area",name:{en:"Sleeping Area",ru:"\u0421\u043F\u0430\u043B\u044C\u043D\u043E\u0435 \u041C\u0435\u0441\u0442\u043E",de:"Schlafbereich",fr:"Coin Montagne",it:"Area Sleeping",nl:"Sleeping Area",pl:"Powierzchnia Spania",pt:"Sleeping Area",es:"\xC1rea De Dormir","zh-cn":"\u7761\u7720\u533A"},icon:"Sleeping Area.svg"},{_id:"bedroom",name:{en:"Bedroom",ru:"\u0421\u043F\u0430\u043B\u044C\u043D\u0430\u044F \u041A\u043E\u043C\u043D\u0430\u0442\u0430",de:"Schlafzimmer",fr:"Chambre",it:"Camera Da Letto",nl:"Slaapkamer",pl:"Sypialnia",pt:"Quarto",es:"Cuarto","zh-cn":"\u5367\u5BA4"},icon:"Bedroom.svg"},{_id:"shed",name:{en:"Shed",ru:"\u0421\u0431\u0440\u0430\u0441\u044B\u0432\u0430\u0442\u044C",de:"Schuppen",fr:"Hangar",it:"Capannone",nl:"Schuur",pl:"Budka",pt:"Cabana",es:"Cobertizo","zh-cn":"\u68DA"},icon:"Shed.svg"},{_id:"swimming_pool",name:{en:"Swimming Pool",ru:"\u041F\u043B\u0430\u0432\u0430\u0442\u0435\u043B\u044C\u043D\u044B\u0439 \u0411\u0430\u0441\u0441\u0435\u0439\u043D",de:"Schwimmbad",fr:"Piscine",it:"Piscina",nl:"Zwembad",pl:"Basen",pt:"Piscina",es:"Piscina","zh-cn":"\u6E38\u6CF3\u6C60"},icon:"Swimming Pool.svg"},{_id:"dining",name:{en:"Dining",ru:"\u041E\u0431\u0435\u0434\u0435\u043D\u043D\u044B\u0439",de:"Speis",fr:"\xC0 Manger",it:"Cenare",nl:"Dining",pl:"Jadalnia",pt:"Jantar",es:"Comida","zh-cn":"\u7528\u9910"},icon:"Dining.svg"},{_id:"playroom",name:{en:"Playroom",ru:"\u0418\u0433\u0440\u043E\u0432\u0430\u044F \u041A\u043E\u043C\u043D\u0430\u0442\u0430",de:"Spielzimmer",fr:"Salle De Jeux",it:"Stanza Dei Giochi",nl:"Speelkamer",pl:"Pok\xF3j Zabaw",pt:"Sala De Jogos",es:"Cuarto De Jugar","zh-cn":"\u6E38\u620F\u5BA4"},icon:"Playroom.svg"},{_id:"stairway",name:{en:"Stairway",ru:"\u041B\u0435\u0441\u0442\u043D\u0438\u0446\u0430",de:"Treppe",fr:"Escalier",it:"Scala",nl:"Trap",pl:"Klatka Schodowa",pt:"Escada",es:"Escalera","zh-cn":"\u697C\u68AF"},icon:"Stairway.svg"},{_id:"equipment_room",name:{en:"Equipment Room",ru:"\u041E\u0431\u043E\u0440\u0443\u0434\u043E\u0432\u0430\u043D\u0438\u0435 \u041D\u043E\u043C\u0435\u0440\u0430",de:"Technikraum",fr:"Salle D'\xC9quipement",it:"Stanza Degli Attrezzi",nl:"Technische Ruimte",pl:"Wyposa\u017Cenie Pokoi",pt:"Sala De Equipamentos",es:"Cuarto De Equipos","zh-cn":"\u673A\u623F"},icon:"Equipment Room.svg"},{_id:"terrace",name:{en:"Terrace",ru:"\u0422\u0435\u0440\u0440\u0430\u0441\u0430",de:"Terrasse",fr:"Terrasse",it:"Terrazza",nl:"Terras",pl:"Taras",pt:"Terra\xE7o",es:"Terraza","zh-cn":"\u9633\u53F0"},icon:"Terrace.svg"},{_id:"toilet",name:{en:"Toilet",ru:"\u0422\u0443\u0430\u043B\u0435\u0442",de:"Toilette",fr:"Toilette",it:"Gabinetto",nl:"Toilet",pl:"Toaleta",pt:"Banheiro",es:"Inodoro","zh-cn":"\u6D17\u624B\u95F4"},icon:"Toilet.svg"},{_id:"stairwell",name:{en:"Stairwell",ru:"\u041B\u0435\u0441\u0442\u043D\u0438\u0447\u043D\u0430\u044F \u043A\u043B\u0435\u0442\u043A\u0430",de:"Treppenhaus",fr:"Cage D'Escalier",it:"Tromba Delle Scale",nl:"Trappenhuis",pl:"Klatka Schodowa",pt:"Caixa De Escada",es:"Hueco De Escalera","zh-cn":"\u697C\u68AF\u95F4"},icon:"Stairwell.svg"},{_id:"locker_room",name:{en:"Locker Room",ru:"\u041A\u0430\u043C\u0435\u0440\u0430 \u0425\u0440\u0430\u043D\u0435\u043D\u0438\u044F",de:"Umkleideraum",fr:"Vestiaire",it:"Spogliatoio",nl:"Kleedkamer",pl:"Szatnia",pt:"Vesti\xE1rio",es:"Vestuario","zh-cn":"\u66F4\u8863\u5BA4"},icon:"Locker Room.svg"},{_id:"basement",name:{en:"Basement",ru:"\u041F\u043E\u0434\u0432\u0430\u043B",de:"Untergeschoss",fr:"Sous-Sol",it:"Seminterrato",nl:"Kelder",pl:"Piwnica",pt:"Por\xE3o",es:"S\xF3tano","zh-cn":"\u5730\u4E0B\u5BA4"},icon:"Basement.svg"},{_id:"front_yard",name:{en:"Front Yard",ru:"\u041F\u0435\u0440\u0435\u0434\u043D\u0438\u0439 \u0414\u0432\u043E\u0440",de:"Vorgarten",fr:"Front Yard",it:"Cortile",nl:"Voortuin",pl:"Podw\xF3rko",pt:"Jardim Da Frente",es:"Patio Delantero","zh-cn":"\u524D\u9662"},icon:"Front Yard.svg"},{_id:"anteroom",name:{en:"Anteroom",ru:"\u041F\u0435\u0440\u0435\u0434\u043D\u044F\u044F",de:"Vorraum",fr:"Antichambre",it:"Anticamera",nl:"Voorkamer",pl:"Przedpok\xF3j",pt:"Ante-Sala",es:"Antesala","zh-cn":"\u63A5\u5F85\u5BA4"},icon:"Anteroom.svg"},{_id:"washroom",name:{en:"Washroom",ru:"\u0423\u0431\u043E\u0440\u043D\u0430\u044F",de:"Waschraum",fr:"Toilettes",it:"Bagno",nl:"Waskamer",pl:"Umywalnia",pt:"Banheiro",es:"Ba\xF1o","zh-cn":"\u536B\u751F\u95F4"},icon:"Washroom.svg"},{_id:"wc",name:{en:"Wc",ru:"\u0422\u0443\u0430\u043B\u0435\u0442",de:"WC",fr:"Toilettes",it:"Bagno",nl:"Wc",pl:"Toaleta",pt:"Banheiro",es:"Wc","zh-cn":"\u5395\u6240"},icon:"Wc.svg"},{_id:"workshop",name:{en:"Workshop",ru:"\u041C\u0430\u0441\u0442\u0435\u0440\u0441\u043A\u0430\u044F",de:"Werkstatt",fr:"Atelier",it:"Laboratorio",nl:"Werkplaats",pl:"Warsztat",pt:"Oficina",es:"Taller","zh-cn":"\u4F5C\u574A"},icon:"Workshop.svg"},{_id:"windscreen",name:{en:"Windscreen",ru:"\u0412\u0435\u0442\u0440\u043E\u0432\u043E\u0435 \u0421\u0442\u0435\u043A\u043B\u043E",de:"Windfang",fr:"Pare-Brise",it:"Parabrezza",nl:"Voorruit",pl:"Szyba Przednia",pt:"P\xE1ra-Brisas",es:"Parabrisas","zh-cn":"\u98CE\u6863"},icon:"Windscreen.svg"},{_id:"living_area",name:{en:"Living Area",ru:"\u0416\u0438\u043B\u0430\u044F \u041F\u043B\u043E\u0449\u0430\u0434\u044C",de:"Wohnbereich",fr:"Salon",it:"Zona Giorno",nl:"Living Area",pl:"Powierzchnia Mieszkalna",pt:"Sala-De-Estar",es:"Sala De Estar","zh-cn":"\u751F\u6D3B\u533A\u57DF"},icon:"Living Area.svg"},{_id:"living_room",name:{en:"Living Room",ru:"\u0413\u043E\u0441\u0442\u0438\u043D\u043D\u0430\u044F",de:"Wohnzimmer",fr:"Le Salon",it:"Soggiorno",nl:"Woonkamer",pl:"Salon",pt:"Sala De Estar",es:"Sala De Estar","zh-cn":"\u5BA2\u5385"},icon:"Living Room.svg"},{_id:"living_room",name:{en:"Living Room",ru:"\u0413\u043E\u0441\u0442\u0438\u043D\u043D\u0430\u044F",de:"Wohnzimmer",fr:"Le Salon",it:"Soggiorno",nl:"Woonkamer",pl:"Salon",pt:"Sala De Estar",es:"Sala De Estar","zh-cn":"\u5BA2\u5385"},icon:"Living Room.svg"}];class n extends d.Component{constructor(c){super(c),this.state={opened:!1,names:[],filter:"",icons:null,loading:!1,isAnyName:!1}}loadAllIcons(){this.state.loading||this.state.icons||this.setState({loading:!0},()=>{const c=[],p=[];if(this.props.icons){const w=this.props.icons.map((E,k)=>{let f;if(typeof E=="object"){if(f=E.icon||E.src||E.href||"",p[k]=typeof E.name=="object"?E.name[this.props.lang]||E.name.en||E._id||"":E.name||"",!p[k]){const C=f.split(".");C.pop(),p[k]=C[C.length-1]}}else f=E;return f?f.startsWith("data:")?(c[k]=f,Promise.resolve()):s.default.getSvg(f).then(C=>c[k]=C):Promise.resolve()});Promise.all(w).then(()=>this.setState({icons:c,loading:!1,names:p,isAnyName:!!p.find(E=>E)}))}else{let w=this.props.onlyRooms||!this.props.onlyRooms&&!this.props.onlyDevices?i:null;const E=[];if(w&&(w.forEach(k=>{k.name&&typeof k.name=="object"&&(k.name=k.name[this.props.lang]||k.name.en||k._id),k.name=k.name||k._id}),w=w.filter((k,f)=>!(w!=null&&w.find((C,g)=>f!==g&&C.icon===k.icon&&C.name===k.name))),w.forEach((k,f)=>{let C;try{C=L(82581)(`./${k.icon}`)}catch(g){return}p[f]=k.name,E.push(s.default.getSvg(C).then(g=>{c[f]=g}))})),w=this.props.onlyDevices||!this.props.onlyRooms&&!this.props.onlyDevices?t:null,w){const k=E.length;w&&w.forEach(f=>{f.name&&typeof f.name=="object"&&(f.name=f.name[this.props.lang]||f.name.en||f._id),f.name=f.name||f._id}),w=w.filter((f,C)=>!(w!=null&&w.find((g,m)=>C!==m&&g.icon===f.icon&&g.name===f.name))),w.forEach((f,C)=>{let g;try{g=L(58072)(`./${f.icon}`)}catch(m){return}p[C+k]=f.name,E.push(s.default.getSvg(g).then(m=>{c[C+k]=m}))})}Promise.all(E).then(()=>this.setState({icons:c,loading:!1,names:p,isAnyName:!!p.find(k=>k)}))}})}render(){return this.state.loading?d.default.createElement(D.CircularProgress,null):d.default.createElement(d.default.Fragment,null,d.default.createElement(D.Button,{color:"grey",variant:"outlined",title:this.props.t("ra_Select predefined icon"),onClick:()=>this.setState({opened:!0},()=>this.loadAllIcons()),style:{minWidth:40,marginRight:8}},"..."),this.state.opened?d.default.createElement(D.Dialog,{onClose:()=>this.setState({opened:!1}),open:!0},d.default.createElement(D.DialogTitle,null,this.props.t("ra_Select predefined icon"),this.state.isAnyName?d.default.createElement(D.TextField,{variant:"standard",margin:"dense",style:{marginLeft:20},value:this.state.filter,onChange:c=>this.setState({filter:c.target.value.toLowerCase()}),placeholder:this.props.t("ra_Filter"),InputProps:{endAdornment:this.state.filter?d.default.createElement(D.IconButton,{size:"small",onClick:()=>this.setState({filter:""})},d.default.createElement(r.Clear,null)):void 0}}):null),d.default.createElement(D.DialogContent,null,d.default.createElement("div",{style:{width:"100%",textAlign:"center"}},this.state.icons&&this.state.icons.map((c,p)=>!this.state.filter||this.state.names[p]&&this.state.names[p].toLowerCase().includes(this.state.filter)?d.default.createElement(D.Tooltip,{title:this.state.names[p]||"",key:p},d.default.createElement(D.IconButton,{onClick:()=>this.setState({opened:!1},()=>{const w=this.props.onSelect||this.props.onChange;w&&w(c)}),size:"large"},d.default.createElement(e.default,{src:c,alt:p.toString(),style:{width:32,height:32,borderRadius:5}}))):null))),d.default.createElement(D.DialogActions,null,d.default.createElement(D.Button,{color:"grey",variant:"contained",onClick:()=>this.setState({opened:!1}),startIcon:d.default.createElement(r.Close,null)},this.props.t("ra_Close")))):null)}}j.default=n},87008:function(X,j,L){"use strict";var M=this&&this.__createBinding||(Object.create?function(t,i,n,o){o===void 0&&(o=n);var c=Object.getOwnPropertyDescriptor(i,n);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[n]}}),Object.defineProperty(t,o,c)}:function(t,i,n,o){o===void 0&&(o=n),t[o]=i[n]}),h=this&&this.__setModuleDefault||(Object.create?function(t,i){Object.defineProperty(t,"default",{enumerable:!0,value:i})}:function(t,i){t.default=i}),F=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var i={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&M(i,t,n);return h(i,t),i},b=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(j,"__esModule",{value:!0});const d=F(L(28437)),D=b(L(71778));function r(t){const i=document.createElement("div");i.innerHTML=t;const n=i.firstElementChild;return n!=null&&n.remove?n.remove():n&&i.removeChild(n),i.remove(),n}function e(t){const i={};if(!t)return i;for(let n,o=0;o<t.length;o++){const c=t[o].name;c==="class"?n="className":c.startsWith("data-")?n=c:n=c.replace(/[-|:]([a-z])/g,p=>p[1].toUpperCase()),i[n]=t[o].value}return i}class s extends d.Component{constructor(i){var n;super(i),this.state={svg:!!(!((n=this.props.src)===null||n===void 0)&&n.startsWith("data:")),created:!0,color:this.props.color||"",src:this.props.src||"",imgError:!1,showError:!!this.props.showError},this.svg=this.state.svg&&this.state.src?this.getSvgFromData(this.state.src):null}static getDerivedStateFromProps(i,n){var o;const c={};let p=!1;return i&&n&&i.src!==n.src&&(c.src=i.src,c.svg=(o=i.src)===null||o===void 0?void 0:o.startsWith("data:"),c.created=!1,p=!0),i&&n&&i.color!==n.color&&(c.color=i.color,c.created=!1,p=!0),i&&n&&i.showError!==n.showError&&(c.showError=i.showError,p=!0),p?c:null}getSvgFromData(i){const n="data:image/svg+xml;base64,";if(!i.startsWith(n))return null;i=i.substring(n.length);try{i=atob(i);const o=r(i),c=o.innerHTML,p=e(o.attributes);return o.remove(),d.default.createElement("svg",Object.assign({className:this.props.className,style:this.state.color?{color:this.state.color}:{}},p,{dangerouslySetInnerHTML:{__html:c}}))}catch(o){}return null}render(){if(this.state.svg)return this.state.created||setTimeout(()=>{this.svg=this.state.src?this.getSvgFromData(this.state.src):null,this.setState({created:!0})},50),this.svg;if(this.state.src){if(this.state.imgError||!this.state.src)return d.default.createElement(D.default,{className:this.props.className});if(s.REMOTE_SERVER&&!this.state.src.startsWith("http://")&&!this.state.src.startsWith("https://")){let i=(this.props.imagePrefix||"")+this.state.src;return i.startsWith("./")?i=s.REMOTE_PREFIX+i.substring(2):i.startsWith("/")||(i=s.REMOTE_PREFIX+i),d.default.createElement("img",{className:this.props.className,src:`https://remote-files.iobroker.in${i}`,alt:"",onError:()=>this.props.showError?this.setState({imgError:!0}):this.setState({src:""})})}return d.default.createElement("img",{className:this.props.className,src:(this.props.imagePrefix||"")+this.state.src,alt:"",onError:()=>this.props.showError?this.setState({imgError:!0}):this.setState({src:""})})}return null}}s.REMOTE_SERVER=window.location.hostname.includes("iobroker.in"),s.REMOTE_PREFIX=window.location.pathname.substring(0,window.location.pathname.lastIndexOf("/")+1),j.default=s},30523:function(X,j,L){"use strict";var M=this&&this.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(j,"__esModule",{value:!0});const h=M(L(28437));function F(b){const d=b.themeType||"light",D=b.size||300;return h.default.createElement("div",{style:{width:"100%",height:"100%",position:"absolute",top:0,left:0,backgroundImage:b.backgroundImage&&b.backgroundImage!=="@@loginBackgroundImage@@"?b.backgroundImage:window.loadingBackgroundImage&&window.loadingBackgroundImage!=="@@loginBackgroundImage@@"?`url(${window.loadingBackgroundImage})`:void 0,backgroundColor:b.backgroundColor&&b.backgroundColor!=="@@loginBackgroundColor@@"?b.backgroundColor:window.loadingBackgroundColor&&window.loadingBackgroundColor!=="@@loginBackgroundColor@@"?window.loadingBackgroundColor:d==="dark"?"#000":"#FFF",backgroundSize:"cover"}},h.default.createElement("div",{style:{width:D,height:D,position:"absolute",top:"50%",left:"50%",transform:"translate(-50%,-50%)",zIndex:2}},h.default.createElement("svg",{viewBox:"0 0 500 500",xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%"},h.default.createElement("circle",{strokeWidth:"5",fill:"none",stroke:"#01BBF5",cx:"250",cy:"250",r:"200"}),h.default.createElement("circle",{strokeWidth:"5",fill:"none",stroke:"#01BBF5",cx:"250",cy:"250",r:"133"}),h.default.createElement("circle",{strokeWidth:"5",fill:"none",stroke:"#01BBF5",cx:"250",cy:"250",r:"83"}),h.default.createElement("circle",{strokeWidth:"5",fill:"none",stroke:"#01BBF5",cx:"250",cy:"250",r:"66"}),h.default.createElement("circle",{strokeWidth:"15",fill:"none",stroke:"#01BBF5",cx:"250",cy:"250",r:"15"}),h.default.createElement("g",null,h.default.createElement("line",{y2:"185",x2:"250",y1:"240",x1:"250",strokeWidth:"5",stroke:"#01BBF5",fill:"none"}),h.default.createElement("line",{y2:"315",x2:"250",y1:"260",x1:"250",strokeWidth:"5",stroke:"#01BBF5",fill:"none"}),h.default.createElement("g",{transform:"rotate(60, 250, 250)"},h.default.createElement("line",{y2:"185",x2:"250",y1:"240",x1:"250",strokeWidth:"5",stroke:"#01BBF5",fill:"none"}),h.default.createElement("line",{y2:"315",x2:"250",y1:"260",x1:"250",strokeWidth:"5",stroke:"#01BBF5",fill:"none"})),h.default.createElement("g",{transform:"rotate(120, 250, 250)"},h.default.createElement("line",{y2:"185",x2:"250",y1:"240",x1:"250",strokeWidth:"5",stroke:"#01BBF5",fill:"none"}),h.default.createElement("line",{y2:"315",x2:"250",y1:"260",x1:"250",strokeWidth:"5",stroke:"#01BBF5",fill:"none"})),[0,15,30,45,60,75,90,105,120,135,150,165,180,195,210,225,240,255,270,285,300,315,330,345].map(r=>h.default.createElement("line",{key:r,transform:`rotate(${r}, 250, 250)`,y2:"250",x2:"115",y1:"240",x1:"135",strokeWidth:"5",stroke:"#01BBF5",fill:"none"})),h.default.createElement("animateTransform",{attributeType:"xml",attributeName:"transform",type:"rotate",from:"0 250 250",to:"360 250 250",dur:"10s",additive:"sum",repeatCount:"indefinite"})),h.default.createElement("path",{d:"M 56.089 160.250 C 55.077 162.588, 46.037 182.950, 36 205.500 C 25.963 228.050, 16.923 248.412, 15.911 250.750 L 14.071 255 28.286 254.976 L 42.500 254.952 47.931 242.226 C 50.918 235.227, 54.366 227.250, 55.592 224.500 L 57.822 219.500 66.383 237.250 L 74.945 255 88.973 255 C 96.688 255, 103 254.841, 103 254.646 C 103 254.452, 100.043 248.071, 96.430 240.466 L 89.859 226.638 91.603 222.771 C 92.563 220.644, 93.660 218.710, 94.043 218.473 C 94.426 218.237, 108.609 246.609, 125.562 281.522 L 156.384 345 166.071 345 C 175.705 345, 175.763 344.985, 176.856 342.250 C 179.911 334.602, 208 260.765, 208 260.383 C 208 260.138, 202.546 260.065, 195.879 260.219 L 183.759 260.500 174.629 285.244 C 169.608 298.853, 165.254 309.990, 164.952 309.994 C 164.651 309.997, 148.901 277.389, 129.952 237.532 C 111.004 197.674, 95.275 165.057, 95 165.049 C 94.725 165.041, 90.685 172.415, 86.022 181.435 C 81.358 190.455, 77.308 197.689, 77.022 197.510 C 76.735 197.331, 72.675 187.920, 68 176.598 C 63.325 165.275, 59.147 156.008, 58.714 156.005 C 58.282 156.002, 57.101 157.912, 56.089 160.250 M 55.294 168.694 C 52.241 175.842, 52.166 176.323, 53.718 178.692 L 55.349 181.182 56.706 178.591 C 57.453 177.166, 58.406 176, 58.825 176 C 59.244 176, 60.777 178.363, 62.232 181.250 C 64.829 186.403, 64.879 186.440, 64.939 183.250 C 64.973 181.463, 65.422 180, 65.937 180 C 66.724 180, 60.176 162.824, 58.920 161.596 C 58.689 161.370, 57.057 164.564, 55.294 168.694 M 91.698 175.542 C 89.205 180.626, 89.099 181.308, 90.410 183.792 L 91.840 186.500 92.926 183.669 C 94.349 179.961, 96.024 180.653, 98.588 186.009 L 100.676 190.370 101.324 187.132 C 101.832 184.592, 101.217 182.395, 98.473 176.947 C 96.549 173.126, 94.849 170, 94.696 170 C 94.542 170, 93.193 172.494, 91.698 175.542 M 157.005 192.607 C 143.168 197.636, 134.999 209.202, 135.001 223.761 C 135.002 232.756, 138.710 240.755, 145.856 247.180 C 152.159 252.848, 158.121 255, 167.518 255 C 173.509 255, 175.684 254.499, 180.811 251.936 C 200.823 241.936, 205.088 216.155, 189.337 200.403 C 181.479 192.546, 166.868 189.022, 157.005 192.607 M 206 223 L 206 255 215.472 255 L 224.944 255 225.222 241.419 L 225.500 227.837 230.500 234.660 C 233.250 238.412, 238.002 244.636, 241.060 248.491 L 246.620 255.500 253.810 255.168 L 261 254.836 261 222.918 L 261 191 251.528 191 L 242.056 191 241.778 204.552 L 241.500 218.104 231.111 204.552 L 220.722 191 213.361 191 L 206 191 206 223 M 285.821 192.331 C 276.229 195.045, 270.010 202.130, 270.004 210.349 C 269.995 221.957, 275.913 226.925, 295.801 232.006 C 300.753 233.271, 302.228 235.609, 299.412 237.730 C 296.739 239.746, 288.369 238.774, 281.563 235.657 L 276.132 233.171 272.469 239.320 C 268.119 246.621, 268.341 247.287, 276.524 251.500 C 281.399 254.010, 283.761 254.556, 290.977 254.842 C 302.365 255.294, 307.420 253.846, 312.603 248.649 C 317.383 243.855, 319.463 236.989, 318.043 230.693 C 316.210 222.562, 311.258 218.610, 297.878 214.599 C 288.025 211.645, 285.443 209.631, 288.538 207.315 C 291.104 205.394, 302.270 205.946, 306.769 208.217 L 310.039 209.866 313.104 203.794 C 316.516 197.035, 316.622 197.304, 309.167 193.844 C 303.663 191.289, 292.140 190.542, 285.821 192.331 M 322 199 L 322 207 330 207 L 338 207 338 231 L 338 255 347.500 255 L 357 255 357 231.044 L 357 207.088 364.250 206.794 L 371.500 206.500 371.792 198.750 L 372.084 191 347.042 191 L 322 191 322 199 M 379 223 L 379 255 401 255 L 423 255 423 247.500 L 423 240 409.500 240 L 396 240 396 235 L 396 230 407.500 230 L 419 230 419 222 L 419 214 407.500 214 L 396 214 396 210.529 L 396 207.058 409.250 206.779 L 422.500 206.500 422.792 198.750 L 423.084 191 401.042 191 L 379 191 379 223 M 433 223 L 433 255 442 255 L 451 255 451 247 L 451 239 454.800 239 C 458.555 239, 458.645 239.092, 462.469 246.937 L 466.339 254.874 476.172 255.187 C 481.580 255.359, 486.003 255.111, 486.002 254.636 C 486.001 254.160, 483.277 249.264, 479.949 243.754 C 473.914 233.765, 473.903 233.732, 475.836 231.619 C 480.222 226.824, 482.359 220.791, 482.431 213 C 482.512 204.192, 480.272 198.822, 475.031 195.260 C 469.795 191.703, 465.527 191.012, 448.750 191.006 L 433 191 433 223 M 448.210 213.250 L 448.500 221.500 455.338 221.500 C 461.319 221.500, 462.417 221.204, 464.088 219.139 C 465.995 216.785, 466.556 212.613, 465.379 209.545 C 464.356 206.879, 459.449 205, 453.509 205 L 447.919 205 448.210 213.250 M 163.169 209.017 C 156.337 210.583, 151.176 218.533, 152.339 225.701 C 154.672 240.077, 175.040 242.355, 180.446 228.844 C 184.978 217.516, 175.176 206.267, 163.169 209.017 M 216.676 271.715 C 216.037 272.750, 188 344.021, 188 344.612 C 188 344.863, 192.811 344.940, 198.691 344.784 L 209.381 344.500 211.894 336.750 L 214.406 329 226.550 329 L 238.694 329 242.097 336.992 L 245.500 344.983 255.250 344.992 C 262.399 344.998, 264.994 344.667, 264.979 343.750 C 264.968 343.063, 258.477 326.525, 250.555 307 L 236.150 271.500 226.656 271.215 C 221.434 271.058, 216.943 271.283, 216.676 271.715 M 273 307 C 273 326.800, 272.887 343.337, 272.750 343.750 C 272.613 344.163, 277.102 344.628, 282.727 344.785 L 292.954 345.069 293.227 327.379 L 293.500 309.689 307 327.336 L 320.500 344.982 328.262 344.991 L 336.025 345 335.762 308.250 L 335.500 271.500 326.750 271.211 L 318 270.922 317.882 286.711 C 317.816 295.395, 317.816 302.837, 317.882 303.250 C 317.947 303.663, 317.808 304, 317.574 304 C 317.340 304, 310.809 296.575, 303.060 287.500 L 288.971 271 280.985 271 L 273 271 273 307 M 223.254 303.048 L 220.078 312 226.539 312 C 230.093 312, 233 311.861, 233 311.691 C 233 311.257, 226.886 294.553, 226.636 294.302 C 226.522 294.189, 225.001 298.125, 223.254 303.048",stroke:"none",fill:b.themeType==="dark"?"#EEE":"#111",fillRule:"evenodd"}))))}j.default=F},61996:function(X,j,L){"use strict";var M=this&&this.__createBinding||(Object.create?function(r,e,s,t){t===void 0&&(t=s);var i=Object.getOwnPropertyDescriptor(e,s);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[s]}}),Object.defineProperty(r,t,i)}:function(r,e,s,t){t===void 0&&(t=s),r[t]=e[s]}),h=this&&this.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),F=this&&this.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var s in r)s!=="default"&&Object.prototype.hasOwnProperty.call(r,s)&&M(e,r,s);return h(e,r),e};Object.defineProperty(j,"__esModule",{value:!0});const b=F(L(28437)),d=`
.logo-background-light, .logo-background-colored {
    background: white;
}
.logo-background-dark, .logo-background-blue {
    background: black;
}
.pt-logo-div {
    position: absolute;
    top: 50%;
    left: 50%;
    -ms-transform: translateX(-50%) translateY(-50%);
    -webkit-transform: translate(-50%,-50%);
    transform: translate(-50%,-50%);
    z-index: 2;
}
.pt-logo-border {
    border-style: solid;
    box-sizing: border-box;
    width: 100%;
    height: 100%;
    position: absolute;
}
.pt-loader-block {
    height: 65px;
    width: 74px;
    border-radius: 15px;
    position: absolute;
    box-sizing: content-box;
}
.pt-loader-blue {
    border: 9px solid #0F99DE;
    transform: rotate(5grad);
    left: 93px;
    top: 0;
    animation: spin-blue 5s ease-in-out infinite;
}
.pt-loader-green {
    border: 9px solid #88A536;
    transform: rotate(-6grad);
    left: 70px;
    top: 58px;
    animation: spin-green 5s ease-in-out infinite;
}
.pt-loader-red {
    border: 9px solid #BD1B24;
    transform: rotate(-15grad);
    left: 24px;
    top: 100px;
    animation: spin-red 5s ease-in-out infinite;
}

@keyframes spin-blue {
    0% {
        transform: rotate(5deg);
    }
    25% {
        transform: rotate(185deg);
    }
    50% {
        transform: rotate(185deg);
    }
    75% {
        transform: rotate(185deg);
    }
    100% {
        transform: rotate(185deg);
    }
}
@keyframes spin-green {
    0% {
        transform: rotate(-6deg);
    }
    25% {
        transform: rotate(-6deg);
    }
    50% {
        transform: rotate(174deg);
    }
    75% {
        transform: rotate(174deg);
    }
    100% {
        transform: rotate(-6deg);
    }
}
@keyframes spin-red {
    0% {
        transform: rotate(-15deg);
    }
    25% {
        transform: rotate(-15deg);
    }
    50% {
        transform: rotate(-15deg);
    }
    75% {
        transform: rotate(165deg);
    }
    100% {
        transform: rotate(165deg);
    }
}
`;function D(r){const e=r.size||200;(0,b.useEffect)(()=>{if(!window.document.getElementById("pt-iobroker-component")){const t=window.document.createElement("style");t.setAttribute("id","pt-iobroker-component"),t.innerHTML=d,window.document.head.appendChild(t)}},[]);const s=r.themeType||r.themeName||"light";return b.default.createElement("div",{className:`pt-logo-back logo-background-${s}`,style:{backgroundImage:r.backgroundImage&&r.backgroundImage!=="@@loginBackgroundImage@@"?r.backgroundImage:window.loadingBackgroundImage&&window.loadingBackgroundImage!=="@@loginBackgroundImage@@"?`url(${window.loadingBackgroundImage})`:void 0,backgroundColor:r.backgroundColor&&r.backgroundColor!=="@@loginBackgroundColor@@"?r.backgroundColor:window.loadingBackgroundColor&&window.loadingBackgroundColor!=="@@loginBackgroundColor@@"?window.loadingBackgroundColor:r.themeType==="dark"?"#000":"#FFF",backgroundSize:"cover"}},b.default.createElement("div",{className:"pt-logo-div",style:{width:e,height:e}},b.default.createElement("div",{style:{width:200,height:200}},b.default.createElement("div",{className:"pt-loader-blue pt-loader-block"}),b.default.createElement("div",{className:"pt-loader-green pt-loader-block"}),b.default.createElement("div",{className:"pt-loader-red pt-loader-block"}))))}j.default=D},26834:function(X,j,L){"use strict";var M=this&&this.__createBinding||(Object.create?function(e,s,t,i){i===void 0&&(i=t);var n=Object.getOwnPropertyDescriptor(s,t);(!n||("get"in n?!s.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return s[t]}}),Object.defineProperty(e,i,n)}:function(e,s,t,i){i===void 0&&(i=t),e[i]=s[t]}),h=this&&this.__setModuleDefault||(Object.create?function(e,s){Object.defineProperty(e,"default",{enumerable:!0,value:s})}:function(e,s){e.default=s}),F=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var s={};if(e!=null)for(var t in e)t!=="default"&&Object.prototype.hasOwnProperty.call(e,t)&&M(s,e,t);return h(s,e),s};Object.defineProperty(j,"__esModule",{value:!0});const b=F(L(28437)),d=L(67085),D=`
.logo-background-light, .logo-background-colored {
    background: white;
}
.logo-background-dark, .logo-background-blue {
    background: black;
}
`;function r(e){(0,b.useEffect)(()=>{if(!window.document.getElementById("vendor-iobroker-component")){const t=window.document.createElement("style");t.setAttribute("id","vendor-iobroker-component"),t.innerHTML=D,window.document.head.appendChild(t)}},[]);const s=e.themeType||e.themeName||"light";return b.default.createElement("div",{className:`vendor-logo-back logo-background-${s}`,style:{display:"flex",flexDirection:"column",height:"100%",width:"10%",margin:"auto",backgroundImage:e.backgroundImage&&e.backgroundImage!=="@@loginBackgroundImage@@"?e.backgroundImage:window.loadingBackgroundImage&&window.loadingBackgroundImage!=="@@loginBackgroundImage@@"?`url(${window.loadingBackgroundImage})`:void 0,backgroundColor:e.backgroundColor&&e.backgroundColor!=="@@loginBackgroundColor@@"?e.backgroundColor:window.loadingBackgroundColor&&window.loadingBackgroundColor!=="@@loginBackgroundColor@@"?window.loadingBackgroundColor:e.themeType==="dark"?"#000":"#FFF",backgroundSize:"cover"}},b.default.createElement("div",{style:{flexGrow:1}}),b.default.createElement(d.CircularProgress,{color:"secondary",size:200,thickness:5}),b.default.createElement("div",{style:{flexGrow:1}}))}j.default=r},99650:function(X,j,L){"use strict";var M=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(j,"__esModule",{value:!0});const h=M(L(28437)),F=L(67085),b=L(21839),d=M(L(42854)),D=M(L(82216));class r extends h.default.Component{constructor(){super(...arguments),this.handleFileSelect=s=>{const t=s.target,i=t.files;if(!i||!i.length)return;let n=i[0];if(n){const o=new window.FileReader;o.onload=()=>{const c=t.result;try{const p=JSON.parse(c);p.native&&p.common?p.common.name!==this.props.common.name?this.props.onError&&this.props.onError(d.default.t("ra_otherConfig",p.common.name)):this.props.onLoad&&this.props.onLoad(p.native):this.props.onError&&this.props.onError(d.default.t("ra_invalidConfig"))}catch(p){this.props.onError&&this.props.onError(p==null?void 0:p.toString())}},o.readAsText(n)}else alert("Failed to open JSON File")}}static generateFile(s,t){const i=window.document.createElement("a");i.setAttribute("href",`data:application/json;charset=utf-8,${encodeURIComponent(JSON.stringify(t,null,2))}`),i.setAttribute("download",s),i.style.display="none",window.document.body.appendChild(i),i.click(),window.document.body.removeChild(i)}download(){const s={_id:`system.adapter.${this.props.common.name}.${this.props.instance}`,common:JSON.parse(JSON.stringify(this.props.common)),native:this.props.native};s.common.news&&delete s.common.news,s.common.titleLang&&delete s.common.titleLang,s.common.desc&&delete s.common.desc,r.generateFile(`${s._id}.json`,s)}upload(){const s=window.document.createElement("input");s.setAttribute("type","file"),s.setAttribute("id","files"),s.setAttribute("opacity","0"),s.addEventListener("change",this.handleFileSelect,!1),s.click()}render(){return h.default.createElement("div",{className:this.props.className,style:this.props.style},this.props.common.icon?h.default.createElement(D.default,{src:this.props.common.icon,style:{padding:8,width:64},alt:"logo"}):null,this.props.common.readme?h.default.createElement(F.Fab,{size:"small",color:"primary","aria-label":"Help",style:{marginRight:5,marginTop:5,float:"right"},onClick:()=>{const s=window.open(this.props.common.readme,"_blank");s==null||s.focus()}},h.default.createElement(b.Help,null)):null,h.default.createElement(F.Fab,{size:"small",color:"primary","aria-label":"Load config",style:{marginRight:5,marginTop:5,float:"right"},title:d.default.t("ra_Load configuration from file"),onClick:()=>this.upload()},h.default.createElement(b.VerticalAlignTop,null)),h.default.createElement(F.Fab,{size:"small",color:"primary","aria-label":"Save config",style:{marginRight:5,marginTop:5,float:"right"},title:d.default.t("ra_Save configuration to file"),onClick:()=>this.download()},h.default.createElement(b.VerticalAlignBottom,null)))}}j.default=r},96295:function(X,j,L){"use strict";var M=this&&this.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(j,"__esModule",{value:!0});const h=M(L(62023));class F{static text2link(d){const D=d.match(/\d+\.\)\s/);return D&&(d=d.replace(D[0],D[0].replace(/\s/,"&nbsp;"))),d.replace(/[^a-zA-Z--0-9]/g,"").trim().replace(/\s/g,"").toLowerCase()}static openLink(d,D){D==="this"?window.location.href=d:window.open(d,D||"_blank")}static getTitle(d){const D=F.extractHeader(d);let r=D.body;const e=D.header;if(!e.title){r=r.replace(/{[^}]*}/g,""),r=r.trim();const s=r.replace(/\r/g,"").split(`
`);for(let t=0;t<s.length;t++)if(s[t].startsWith("# "))return s[t].substring(2).trim();return""}return e.title}static extractHeader(d){const D={};if(d.substring(0,3)==="---"){const r=d.substring(3).indexOf(`
---`);r!==-1&&(d.substring(3,r+3).replace(/\r/g,"").split(`
`).forEach(t=>{if(!t.trim())return;const i=t.indexOf(":");if(i!==-1){const n=t.substring(0,i).trim();let o=t.substring(i+1).trim();o=o.replace(/^['"]|['"]$/g,""),o==="true"?D[n]=!0:o==="false"?D[n]=!1:parseFloat(o).toString()===o?D[n]=parseFloat(o):D[n]=o}else D[t.trim()]=!0}),d=d.substring(r+7))}return{header:D,body:d}}static removeDocsify(d){const D=d.match(/{docsify-[^}]*}/g);return D&&D.forEach(r=>d=d.replace(r,"")),d}static onCopy(d,D){(0,h.default)(D),d&&d.stopPropagation(),d&&d.preventDefault()}}j.default=F},59076:function(X,j,L){"use strict";var M=this&&this.__createBinding||(Object.create?function(pe,$,H,G){G===void 0&&(G=H);var Z=Object.getOwnPropertyDescriptor($,H);(!Z||("get"in Z?!$.__esModule:Z.writable||Z.configurable))&&(Z={enumerable:!0,get:function(){return $[H]}}),Object.defineProperty(pe,G,Z)}:function(pe,$,H,G){G===void 0&&(G=H),pe[G]=$[H]}),h=this&&this.__setModuleDefault||(Object.create?function(pe,$){Object.defineProperty(pe,"default",{enumerable:!0,value:$})}:function(pe,$){pe.default=$}),F=this&&this.__importStar||function(pe){if(pe&&pe.__esModule)return pe;var $={};if(pe!=null)for(var H in pe)H!=="default"&&Object.prototype.hasOwnProperty.call(pe,H)&&M($,pe,H);return h($,pe),$},b=this&&this.__classPrivateFieldGet||function(pe,$,H,G){if(H==="a"&&!G)throw new TypeError("Private accessor was defined without a getter");if(typeof $=="function"?pe!==$||!G:!$.has(pe))throw new TypeError("Cannot read private member from an object whose class did not declare it");return H==="m"?G:H==="a"?G.call(pe):G?G.value:$.get(pe)},d=this&&this.__importDefault||function(pe){return pe&&pe.__esModule?pe:{default:pe}},D,r;Object.defineProperty(j,"__esModule",{value:!0}),j.ITEM_IMAGES=j.getSelectIdIconFromObjects=void 0;const e=F(L(28437)),s=L(70143),t=d(L(62975)),i=L(67085),n=L(21839),o=d(L(56232)),c=d(L(19309)),p=d(L(29221)),w=d(L(74229)),E=d(L(25714)),k=d(L(48649)),f=d(L(73367)),C=d(L(38943)),g=d(L(9979)),m=d(L(57572)),S=d(L(20340)),A=d(L(4769)),R=d(L(3774)),P=d(L(82216)),W=d(L(13129)),_=d(L(96808)),T=d(L(32199)),N=d(L(71277)),V=d(L(56295)),K=24,I=32,q=16,U=20,J=pe=>pe==="dark"?"#62ff25":"#37c400",Q=pe=>pe==="dark"?"#ee56ff":"#a204b4",ee=pe=>pe==="dark"?"#fff46e":"#b89101",se=pe=>"#ff6d69",ue=pe=>"#5773ff",xe="#ff413c",_e="#86211f",Je="#57ff45",Be="#098c04",He="#f3ad11",Xe="#6c5008",Ue=pe=>({toolbar:{minHeight:38},toolbarButtons:{padding:4,marginLeft:4},switchColumnAuto:{marginLeft:pe.spacing(2)},dialogColumns:{transition:"opacity 1s"},dialogColumnsLabel:{fontSize:12,paddingTop:pe.spacing(1)},columnCustom:{width:"100%",display:"inline-block"},columnCustomEditable:{cursor:"text"},columnCustom_center:{textAlign:"center"},columnCustom_left:{textAlign:"left"},columnCustom_right:{textAlign:"right"},width100:{width:"100%"},transparent_10:{opacity:.1},transparent_20:{opacity:.2},transparent_30:{opacity:.3},transparent_40:{opacity:.4},transparent_50:{opacity:.5},transparent_60:{opacity:.6},transparent_70:{opacity:.7},transparent_80:{opacity:.8},transparent_90:{opacity:.9},transparent_100:{opacity:1},columnsDialogInputWidth:{width:80},headerRow:{paddingLeft:pe.spacing(1),height:38,whiteSpace:"nowrap",userSelect:"none"},buttonClearFilter:{position:"relative",float:"right",padding:0},buttonClearFilterIcon:{zIndex:2,position:"absolute",top:0,left:0,color:"#FF0000",opacity:.7},tableDiv:{paddingTop:0,paddingLeft:0,width:`calc(100% - ${pe.spacing(1)})`,height:"calc(100% - 38px)",overflow:"auto"},tableRow:{paddingLeft:pe.spacing(1),height:I,lineHeight:`${I}px`,verticalAlign:"top",userSelect:"none",width:"100%","&:hover":{background:`${pe.palette.mode==="dark"?pe.palette.primary.dark:pe.palette.primary.light} !important`,color:_.default.invertColor(pe.palette.primary.main,!0)},whiteSpace:"nowrap",flexWrap:"nowrap"},tableRowLines:{borderBottom:`1px solid ${pe.palette.mode==="dark","#8888882e"}`,"& > div":{borderRight:`1px solid ${pe.palette.mode==="dark","#8888882e"}`}},tableRowNoDragging:{cursor:"pointer"},tableRowAlias:{height:I+10},tableRowAliasReadWrite:{height:I+22},checkBox:{padding:0},cellId:{position:"relative",fontSize:"1rem",overflow:"hidden",textOverflow:"ellipsis","& .copyButton":{display:"none"},"&:hover .copyButton":{display:"block"},"& .iconOwn":{display:"block",width:I-4,height:I-4,marginTop:2,float:"right"},"&:hover .iconOwn":{display:"none"},"& *":{width:"initial"}},cellIdSpan:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},cellIdIconFolder:{marginRight:pe.spacing(1),width:I-4,height:I-4,cursor:"pointer",color:pe.palette.secondary.main||"#fbff7d",verticalAlign:"top"},cellIdIconDocument:{verticalAlign:"middle",marginLeft:(I-U)/2,marginRight:pe.spacing(1),width:U,height:U},cellIdIconOwn:{},cellIdTooltip:{fontSize:14},cellIdTooltipLink:{color:"#7ec2fd","&:hover":{color:"#7ec2fd"},"&:visited":{color:"#7ec2fd"}},cellCopyButton:{width:U,height:U,top:(I-U)/2,opacity:.8,"&:hover":{opacity:1},position:"absolute",right:3},cellEditButton:{width:U,height:U,color:"white",position:"absolute",top:(I-U)/2,right:U+3,opacity:.7,"&:hover":{opacity:1}},cellName:{display:"inline-block",verticalAlign:"top",fontSize:14,marginLeft:5,overflow:"hidden",textOverflow:"ellipsis",position:"relative","& .copyButton":{display:"none"},"&:hover .copyButton":{display:"block"}},cellNameWithDesc:{lineHeight:"normal"},cellNameDivDiv:{},cellDescription:{fontSize:10,opacity:.5,fontStyle:"italic"},cellIdAlias:{fontStyle:"italic",fontSize:12,opacity:.7,"&:hover":{color:pe.palette.mode==="dark"?"#009900":"#007700"}},cellIdAliasReadWriteDiv:{height:24,marginTop:-5},cellIdAliasAlone:{lineHeight:0},cellIdAliasReadWrite:{lineHeight:"12px"},cellType:{display:"inline-block",verticalAlign:"top","& .itemIcon":{verticalAlign:"middle",width:K,height:K,display:"inline-block"},"& .itemIconFolder":{marginLeft:3}},cellRole:{display:"inline-block",verticalAlign:"top",textOverflow:"ellipsis",overflow:"hidden"},cellRoom:{display:"inline-block",verticalAlign:"top",textOverflow:"ellipsis",overflow:"hidden"},cellEnumParent:{opacity:.4},cellFunc:{display:"inline-block",verticalAlign:"top",textOverflow:"ellipsis",overflow:"hidden"},cellValue:{display:"inline-block",verticalAlign:"top",textOverflow:"ellipsis",overflow:"hidden"},cellValueButton:{marginTop:5,"&:active":{transform:"scale(0.8)"}},cellValueButtonFalse:{opacity:.3},cellAdapter:{display:"inline-block",verticalAlign:"top"},cellValueTooltip:{fontSize:12},cellValueText:{width:"100%",height:I,fontSize:16,display:"inline-block",overflow:"hidden",textOverflow:"ellipsis",position:"relative",verticalAlign:"top","& .copyButton":{display:"none"},"&:hover .copyButton":{display:"block"}},cellValueFile:{color:"#2837b9"},cellValueTooltipTitle:{fontStyle:"italic",width:100,display:"inline-block"},cellValueTooltipValue:{width:120,display:"inline-block",whiteSpace:"nowrap",textOverflow:"ellipsis"},cellValueTooltipBoth:{width:220,display:"inline-block",whiteSpace:"nowrap"},cellValueTooltipBox:{width:250,overflow:"hidden",pointerEvents:"none"},tooltip:{pointerEvents:"none"},cellValueTextUnit:{marginLeft:pe.spacing(.5),opacity:.8},newValue:{animation:"$newValueAnimation 2s ease-in-out"},"@keyframes newValueAnimation":{"0%":{color:"#00f900"},"80%":{color:"#008000"},"100%":{color:pe.palette.mode==="dark"?"#fff":"#000"}},cellValueTextState:{opacity:.7},cellValueTooltipCopy:{position:"absolute",bottom:3,right:3},cellValueTooltipEdit:{position:"absolute",bottom:3,right:15},cellButtons:{display:"inline-block",verticalAlign:"top"},cellButtonsButton:{display:"inline-block",opacity:.7,width:U+4,height:U+4,"&:hover":{opacity:1},paddingTop:0,paddingLeft:0,marginTop:-2},cellButtonsEmptyButton:{fontSize:12},cellButtonMinWidth:{minWidth:47},cellButtonsButtonAlone:{marginLeft:U+4,paddingTop:0,marginTop:-2},cellButtonsButtonWithCustoms:{color:pe.palette.mode==="dark"?pe.palette.primary.main:pe.palette.secondary.main},cellButtonsButtonWithoutCustoms:{opacity:.2},cellButtonsValueButton:{position:"absolute",display:"inline-block",top:U/2-2,opacity:.7,width:U-2,height:U-2,color:pe.palette.action.active,"&:hover":{opacity:1}},cellButtonsValueButtonCopy:{right:pe.spacing(1),cursor:"pointer"},cellButtonsValueButtonEdit:{right:U/2+parseInt(pe.spacing(2),10)},filteredOut:{opacity:.5},filteredParentOut:{opacity:.3},filterInput:{marginTop:0,marginBottom:0},selectIcon:{width:24,height:24,marginRight:4},selectNone:{opacity:.5},itemSelected:{background:`${pe.palette.primary.main} !important`,color:`${_.default.invertColor(pe.palette.primary.main,!0)} !important`},header:{width:"100%"},headerCell:{display:"inline-block",verticalAlign:"top"},headerCellValue:{paddingTop:4,fontSize:16},headerCellInput:{width:"calc(100% - 5px)",height:I,paddingTop:0,"& .itemIcon":{verticalAlign:"middle",width:K,height:K,display:"inline-block"}},headerCellSelectItem:{"& .itemIcon":{width:K,height:K,marginRight:5,display:"inline-block"}},visibleButtons:{color:"#2196f3",opacity:.7},grow:{flexGrow:1},enumIconDiv:{marginRight:pe.spacing(1),width:32,height:32,borderRadius:8,background:"#FFFFFF"},enumIcon:{marginTop:4,marginLeft:4,width:24,height:24},enumDialog:{overflow:"hidden"},enumList:{minWidth:250,height:"calc(100% - 50px)",overflow:"auto"},enumButton:{float:"right"},enumCheckbox:{minWidth:0},buttonDiv:{display:"flex",height:"100%",alignItems:"center"},aclText:{fontSize:13},rightsObject:{color:"#55ff55",paddingLeft:3},rightsState:{color:"#86b6ff",paddingLeft:3},textCenter:{padding:12,textAlign:"center"},tooltipAccessControl:{display:"flex",flexDirection:"column"},"@media screen and (max-width: 465px)":{columnsDialogInputWidth:{width:50},fontSizeTitle:{"& *":{fontSize:12}}},"@media screen and (max-width: 700px)":{},"@media screen and (max-width: 430px)":{},draggable:{cursor:"copy"},nonDraggable:{cursor:"no-drop"},selectClearButton:{position:"absolute",top:0,right:0,borderRadius:20,backgroundColor:pe.palette.background.default},iconDeviceConnected:{color:pe.palette.mode==="dark"?Je:Be,opacity:.8,position:"absolute",top:4,right:32,width:20},iconDeviceDisconnected:{color:pe.palette.mode==="dark"?He:Xe,opacity:.8,position:"absolute",top:4,right:32,width:20},iconDeviceError:{color:pe.palette.mode==="dark"?xe:_e,opacity:.8,position:"absolute",top:4,right:50,width:20},resizeHandle:{display:"block",position:"absolute",cursor:"col-resize",width:7,top:2,bottom:2,zIndex:1},resizeHandleRight:{right:3,borderRight:"2px dotted #888","&:hover":{borderColor:"#ccc",borderRightStyle:"solid"},"&.active":{borderColor:"#517ea5",borderRightStyle:"solid"}},invertedBackground:{backgroundColor:pe.palette.mode==="dark"?"#9a9a9a":"#565656",padding:"0 3px",borderRadius:"2px 0 0 2px"},invertedBackgroundFlex:{backgroundColor:pe.palette.mode==="dark"?"#9a9a9a":"#565656",borderRadius:"0 2px 2px 0"},contextMenuEdit:{color:pe.palette.mode==="dark"?"#ffee48":"#cbb801"},contextMenuEditValue:{color:pe.palette.mode==="dark"?"#5dff45":"#1cd301"},contextMenuView:{color:pe.palette.mode==="dark"?"#FFF":"#000"},contextMenuCustom:{color:pe.palette.mode==="dark"?"#42eaff":"#01bbc2"},contextMenuACL:{color:pe.palette.mode==="dark"?"#e079ff":"#500070"},contextMenuRoom:{color:pe.palette.mode==="dark"?"#ff9a33":"#642a00"},contextMenuRole:{color:pe.palette.mode==="dark"?"#ffdb43":"#562d00"},contextMenuAlias:{color:pe.palette.mode==="dark"?"#5cabfb":"#011ed0"},contextMenuDelete:{color:pe.palette.mode==="dark"?"#ff4f4f":"#cf0000"},contextMenuKeys:{marginLeft:pe.spacing(1),opacity:.7,fontSize:"smaller"},contextMenuWithSubMenu:{display:"flex"}});function rt(pe,$){const H=[];for(let G=0;G<pe.length;G++)$(H,pe[G],G);return H}function St(pe,$){const H={};for(const G in pe)Object.prototype.hasOwnProperty.call(pe,G)&&$(H,pe[G],G);return H}function kt(pe,$,H){return Array.isArray(pe)?rt(pe,(G,Z,ne)=>{if(Z==null)return;const le=typeof Z=="object";if(H&&le&&typeof Z.en=="string"&&typeof Z.de=="string"){G[ne]=Z.en;return}G[ne]=le?kt(Z,$,H):Z}):St(pe,(G,Z,ne)=>{if(Z==null||$.includes(ne))return;const le=typeof Z=="object";if(H&&le&&typeof Z.en=="string"&&typeof Z.de=="string"){G[ne]=Z.en;return}G[ne]=le?kt(Z,$,H):Z})}function It(pe,$,H){const G=document.createElement("a"),Z=[];H.excludeSystemRepositories&&Z.push("system.repositories");const ne=Z.length>0||H.excludeTranslations?kt($,Z,H.excludeTranslations):$,le=H.beautify?JSON.stringify(ne,null,2):JSON.stringify(ne);G.setAttribute("href",`data:application/json;charset=utf-8,${encodeURIComponent(le)}`),G.setAttribute("download",pe),G.style.display="none",document.body.appendChild(G),G.click(),document.body.removeChild(G)}function zt(pe,$,H,G){if(H=H||0,G===void 0&&(G=pe.length-1,!G))return pe[0]===$;const Z=Math.floor((H+G)/2);return $===pe[Z]?!0:G-1===H?pe[H]===$||pe[G]===$:$>pe[Z]?zt(pe,$,Z,G):$<pe[Z]?zt(pe,$,H,Z):!1}function Xt(pe,$){return pe&&typeof pe=="object"?(pe[$]||pe.en||"").toString():(pe||"").toString()}function on(pe,$,H){H=H||".";let G="";const Z=`system.adapter.${$}`,ne=$&&pe[Z]&&pe[Z].common&&pe[Z].common.icon;if(ne)if(ne.startsWith("data:image/"))ne.startsWith("data:image/svg")?G=e.default.createElement(t.default,{className:"iconOwn",src:ne,width:28,height:28}):G=ne;else if(ne.includes("."))G=`${H}/adapter/${pe[Z].common.name}/${ne}`;else return ne&&ne.length<3?ne:null;else{const le=pe[$]&&pe[$].common;if(le){const De=le.icon;if(De)if(De.startsWith("data:image/"))De.startsWith("data:image/svg")?G=e.default.createElement(t.default,{className:"iconOwn",src:De,width:28,height:28}):G=De;else if(De.includes(".")){let me;pe[$].type==="instance"||pe[$].type==="adapter"?G=`${H}/adapter/${le.name}/${De}`:$&&$.startsWith("system.adapter.")?(me=$.split(".",3),De[0]==="/"?me[2]+=De:me[2]+=`/${De}`,G=`${H}/adapter/${me[2]}`):(me=$.split(".",2),De[0]==="/"?me[0]+=De:me[0]+=`/${De}`,G=`${H}/adapter/${me[0]}`)}else return ne&&ne.length<3?ne:null}}return G||null}j.getSelectIdIconFromObjects=on;function Jt(pe,$,H,G,Z,ne,le,De,me){var Le,Ne,Ye,ft,at,ae,Ee,fe,ke,we;me=me||0;let Te=!1;Z||(Z={},$.id&&(Z.id=$.id.toLowerCase()),$.name&&(Z.name=$.name.toLowerCase()),$.type&&(Z.type=$.type.toLowerCase()),$.custom&&(Z.custom=$.custom.toLowerCase()),$.role&&(Z.role=$.role.toLowerCase()),$.room&&(Z.room=((Ne=(Le=G[$.room])===null||Le===void 0?void 0:Le.common)===null||Ne===void 0?void 0:Ne.members)||[]),$.func&&(Z.func=((ft=(Ye=G[$.func])===null||Ye===void 0?void 0:Ye.common)===null||ft===void 0?void 0:ft.members)||[]));const Se=pe.data;if(Se&&Se.id){const et=(at=Se.obj)===null||at===void 0?void 0:at.common;if(le){if(le.type&&(typeof le.type=="string"?(!Se.obj||le.type!==Se.obj.type)&&(Te=!0):Array.isArray(le.type)&&(!Se.obj||!le.type.includes(Se.obj.type))&&(Te=!0)),!Te&&(!((ae=le.common)===null||ae===void 0)&&ae.type)&&(et!=null&&et.type?typeof le.common.type=="string"?le.common.type!==et.type&&(Te=!0):Array.isArray(le.common.type)&&(le.common.type.includes(et.type)||(Te=!0)):Te=!0),!Te&&(!((Ee=le.common)===null||Ee===void 0)&&Ee.role)&&(et!=null&&et.role?typeof le.common.role=="string"?et.role.startsWith(le.common.role)&&(Te=!0):Array.isArray(le.common.role)&&(le.common.role.find(yt=>et.role.startsWith(yt))||(Te=!0)):Te=!0),!Te&&((fe=le.common)===null||fe===void 0?void 0:fe.custom)==="_"&&(et!=null&&et.custom))Te=!0;else if(!Te&&(!((ke=le.common)===null||ke===void 0)&&ke.custom)&&((we=le.common)===null||we===void 0?void 0:we.custom)!=="_"){const yt=le.common.custom;if(!(et!=null&&et.custom))Te=!0;else if(yt==="_dataSources")Object.keys(et.custom).find(Vt=>Vt.startsWith("history.")||Vt.startsWith("sql.")||Vt.startsWith("influxdb."))||(Te=!0);else if(Array.isArray(yt)){const Vt=Object.keys(et.custom);yt.find(Ut=>Vt.find(An=>An.startsWith(Ut)))&&(Te=!0)}else yt!==!0&&!Object.keys(et.custom).find(Vt=>Vt.startsWith(yt))&&(Te=!0)}}!Te&&!$.expertMode&&(Te=Se.id==="system"||Se.id==="enum"||Se.id.startsWith("system.")||Se.id.startsWith("enum.")||Se.id.startsWith("_design/")||Se.id.endsWith(".admin")||!!(et!=null&&et.expert)),!Te&&Z.id&&(Se.fID===void 0&&(Se.fID=Se.id.toLowerCase()),Te=!Se.fID.includes(Z.id)),!Te&&Z.name&&(et?(Se.fName===void 0&&(Se.fName=et&&Xt(et.name,H)||"",Se.fName=Se.fName.toLowerCase()),Te=!Se.fName.includes(Z.name)):Te=!0),!Te&&$.role&&et&&(et?Te=!(et.role&&et.role.startsWith(Z.role)):Te=!0),!Te&&Z.room&&(Te=!Z.room.find(yt=>yt===Se.id||Se.id.startsWith(`${yt}.`))),!Te&&Z.func&&(Te=!Z.func.find(yt=>yt===Se.id||Se.id.startsWith(`${yt}.`))),!Te&&Z.type&&(Te=!(Se.obj&&Se.obj.type&&Se.obj.type===Z.type)),!Te&&De&&(Te=!(Se.obj&&Se.obj.type&&De.includes(Se.obj.type))),!Te&&Z.custom&&(et?Z.custom==="_"?Te=!!et.custom:Te=!et.custom||!et.custom[Z.custom]:Te=!0)}return Se.visible=!Te,Se.hasVisibleChildren=!1,pe.children&&me<20&&pe.children.forEach(et=>{Jt(et,$,H,G,Z,ne,le,De,me+1)&&(Se.hasVisibleChildren=!0)}),Se.sumVisibility=Se.visible||Se.hasVisibleChildren,ne&&Se.sumVisibility&&ne.count++,Se.id&&Se.sumVisibility&&pe.children&&pe.children.forEach(et=>et.data.hasVisibleParent=!0),Se.visible||Se.hasVisibleChildren}function tn(pe,$,H,G){var Z;G=G||[];const ne=pe.data;return ne.sumVisibility&&(ne.id&&H[ne.id]&&(!$||H[ne.id].type===$)&&G.push(ne.id),(Z=pe.children)===null||Z===void 0||Z.forEach(le=>tn(le,$,H,G))),G}function rn(pe,$,H,G,Z){let ne;return $==="alias"||$==="alias.0"?ne=e.default.createElement(n.Link,{className:"iconOwn",style:{color:Q(G)}}):$==="0_userdata"||$==="0_userdata.0"?ne=e.default.createElement(n.DataObject,{className:"iconOwn",style:{color:J(G)}}):$.startsWith("_design/")||$==="system"?ne=e.default.createElement(n.SettingsApplications,{className:"iconOwn",style:{color:se(G)}}):$==="system.adapter"?ne=e.default.createElement(n.SettingsApplications,{className:"iconOwn",style:{color:ue(G)}}):$==="system.group"?ne=e.default.createElement(n.SupervisedUserCircle,{className:"iconOwn"}):$==="system.user"?ne=e.default.createElement(n.PersonOutlined,{className:"iconOwn"}):$==="system.host"?ne=e.default.createElement(n.Router,{className:"iconOwn"}):$.endsWith(".connection")||$.endsWith(".connected")?ne=e.default.createElement(n.Wifi,{className:"iconOwn"}):$.endsWith(".info")?ne=e.default.createElement(n.Info,{className:"iconOwn"}):pe[$]&&pe[$].type==="meta"?ne=e.default.createElement(n.Description,{className:"iconOwn"}):H<2&&pe[`system.adapter.${$}`]&&(ne=on(pe,`system.adapter.${$}`,Z)),ne||null}function Cn(pe,$){var H,G;return!((G=(H=pe==null?void 0:pe.obj)===null||H===void 0?void 0:H.common)===null||G===void 0)&&G.desc&&Xt(pe.obj.common.desc,$)||null}function Tn(pe,$,H){const G=Cn(pe,H);return G!=null&&G.startsWith("http")?e.default.createElement("a",{className:_.default.clsx($.cellIdTooltipLink),href:G,target:"_blank",rel:"noreferrer"},G):e.default.createElement("span",{className:_.default.clsx($.cellIdTooltip)},G||pe.id||"")}function Rt(pe,$){var H,G,Z,ne,le;const De=$.imagePrefix||".";let me=Object.keys(pe);me.sort((Ee,fe)=>Ee===fe?0:(Ee=Ee.replace(/\./g,"!!!"),fe=fe.replace(/\./g,"!!!"),Ee>fe?1:-1)),$.root&&(me=me.filter(Ee=>Ee===$.root||Ee.startsWith(`${$.root}.`)));let Le=[],Ne="",Ye=0;const ft={data:{name:"",id:""},children:[]},at={funcEnums:[],roomEnums:[],roles:[],ids:[],types:[],objects:pe,customs:["_"],enums:[],hasSomeCustoms:!1};let ae=ft;for(let Ee=0;Ee<me.length;Ee++){const fe=me[Ee];if(!fe)continue;const ke=pe[fe],we=fe.split(".");if(ke.type&&!at.types.includes(ke.type)&&at.types.push(ke.type),ke){const Se=ke.common,et=Se&&Se.role;et&&!at.roles.includes(et)?at.roles.push(et):fe.startsWith("enum.rooms.")?(at.roomEnums.push(fe),at.enums.push(fe)):fe.startsWith("enum.functions.")?(at.funcEnums.push(fe),at.enums.push(fe)):ke.type==="enum"?at.enums.push(fe):ke.type==="instance"&&Se&&(Se.supportCustoms||!((H=Se.adminUI)===null||H===void 0)&&H.custom)&&(at.hasSomeCustoms=!0,at.customs.push(fe.substring(15)))}at.ids.push(fe);let Te;do if(Te=!1,!Ne||fe.startsWith(`${Ne}.`)){if(we.length-Ye>1){let et=Ne;for(let yt=Ye;yt<we.length-1;yt++)if(et+=(et?".":"")+we[yt],zt(at.ids,et))ae.children&&(ae=ae.children.find(Vt=>Vt.data.name===we[yt]));else{const Vt={data:{name:we[yt],parent:ae,id:et,obj:pe[et],level:yt,icon:rn(pe,et,yt,$.themeType,De),generated:!0}};ae.children=ae.children||[],ae.children.push(Vt),ae=Vt,at.ids.push(et)}}const Se={data:{name:we[we.length-1],title:Xt((G=ke==null?void 0:ke.common)===null||G===void 0?void 0:G.name,$.lang),obj:ke,parent:ae,icon:on(pe,fe,De)||rn(pe,fe,0,$.themeType,De),id:fe,hasCustoms:!!(!((Z=ke.common)===null||Z===void 0)&&Z.custom&&Object.keys(ke.common.custom).length),level:we.length-1,generated:!1,button:ke.type==="state"&&!!(!((ne=ke.common)===null||ne===void 0)&&ne.role)&&typeof ke.common.role=="string"&&ke.common.role.startsWith("button")&&((le=ke.common)===null||le===void 0?void 0:le.write)!==!1}};ae.children=ae.children||[],ae.children.push(Se),ae=Se,Ye=we.length,Le=we,Ne=fe}else{let Se=0;for(;Le[Se]===we[Se];)Se++;if(Se>0){let et=Le.length;for(Le=Le.splice(0,Se),Ye=Se,Ne=Le.join(".");et>Se;)ae.data.parent?ae=ae.data.parent:console.error(`Parent is null for ${fe} ${Ne} ${Le.join(".")}`),et--}else ae=ft,Le=[],Ne="",Ye=0;Te=!0}while(Te)}return at.roomEnums.sort((Ee,fe)=>{var ke,we,Te,Se;const et=Xt((we=(ke=pe[Ee])===null||ke===void 0?void 0:ke.common)===null||we===void 0?void 0:we.name,$.lang)||Ee.split(".").pop(),yt=Xt((Se=(Te=pe[fe])===null||Te===void 0?void 0:Te.common)===null||Se===void 0?void 0:Se.name,$.lang)||fe.split(".").pop();return et>yt?1:et<yt?-1:0}),at.funcEnums.sort((Ee,fe)=>{var ke,we,Te,Se;const et=Xt((we=(ke=pe[Ee])===null||ke===void 0?void 0:ke.common)===null||we===void 0?void 0:we.name,$.lang)||Ee.split(".").pop(),yt=Xt((Se=(Te=pe[fe])===null||Te===void 0?void 0:Te.common)===null||Se===void 0?void 0:Se.name,$.lang)||fe.split(".").pop();return et>yt?1:et<yt?-1:0}),at.roles.sort(),at.types.sort(),{info:at,root:ft}}function Ae(pe,$,H,G,Z){if(pe.data.id===$)return pe;if(H||(H=$.split("."),Z=0,G=H[Z]),!pe.children&&pe.data.id!==$)return null;let ne;if(pe.children)for(let le=0;le<pe.children.length;le++){const De=pe.children[le].data.id;if(De===G){ne=pe.children[le];break}else if(De>G)break}return ne?(Z=Z||0,Ae(ne,$,H,`${G}.${H[Z+1]}`,Z+1)):null}function pt(pe,$,H,G){var Z,ne;if(!$)return{rooms:[],per:!1};G=G||[];for(const me of pe.roomEnums){const Le=(Z=pe.objects[me])===null||Z===void 0?void 0:Z.common;if(!Le)continue;const Ne=Xt(Le.name,H);!((ne=Le.members)===null||ne===void 0)&&ne.includes($)&&!G.includes(Ne)&&G.push(Ne)}let le;const De=$.split(".");return De.pop(),$=De.join("."),pe.objects[$]&&(le=G.length,pt(pe,$,H,G)),{rooms:G,per:!le}}function mt(pe,$,H,G){var Z,ne;if(!$)return[];G=G||[];for(let le=0;le<pe[H].length;le++){const De=(Z=pe.objects[pe[H][le]])===null||Z===void 0?void 0:Z.common;!((ne=De==null?void 0:De.members)===null||ne===void 0)&&ne.includes($)&&!G.includes(pe[H][le])&&G.push(pe[H][le])}return G.sort(),G}function lt(pe,$,H,G){var Z,ne;if(!$)return{funcs:[],pef:!1};G=G||[];for(let me=0;me<pe.funcEnums.length;me++){const Le=(Z=pe.objects[pe.funcEnums[me]])===null||Z===void 0?void 0:Z.common;if(!Le)continue;const Ne=Xt(Le.name,H);!((ne=Le.members)===null||ne===void 0)&&ne.includes($)&&!G.includes(Ne)&&G.push(Ne)}let le;const De=$.split(".");return De.pop(),$=De.join("."),pe.objects[$]&&(le=G.length,lt(pe,$,H,G)),{funcs:G,pef:!le}}function Bt(pe){const{dateFormat:$,state:H,isFloatComma:G,texts:Z,obj:ne}=pe,le=_.default.getStates(ne),De=ne.common;let me=(De==null?void 0:De.type)==="file"?"[file]":!H||H.val===null?"(null)":H.val===void 0?"[undef]":H.val;const Le=typeof me;if(De!=null&&De.role&&typeof De.role=="string"&&De.role.match(/^value\.time|^date/))if(me&&typeof me=="string")if(_.default.isStringInteger(me))me=new Date(parseInt(me,10)).toString();else try{const ft=new Date(me);_.default.isValidDate(ft)&&(me=ft.toString())}catch(ft){}else me>946681200&&me<9466812e5&&(me*=1e3),me=me&&new Date(me).toString();else Le==="number"?Number.isInteger(me)||(me=Math.round(me*1e8)/1e8,G&&(me=me.toString().replace(".",","))):Le==="object"?me=JSON.stringify(me):Le!=="string"&&(me=me.toString()),typeof me!="string"&&(me=me.toString());const Ne={v:me};le&&le[me]!==void 0&&me!==le[me]&&(Ne.s=me,me=le[me],Ne.v=me),De!=null&&De.unit&&(Ne.u=De.unit);const Ye=[{t:Z.value,v:me}];if(H){if(H.ack!==void 0&&H.ack!==null&&Ye.push({t:Z.ack,v:H.ack.toString()}),H.ts&&Ye.push({t:Z.ts,v:H.ts?_.default.formatDate(new Date(H.ts),$):""}),H.lc&&Ye.push({t:Z.lc,v:H.lc?_.default.formatDate(new Date(H.lc),$):""}),H.from){let ft=H.from.toString();ft.startsWith("system.adapter.")&&(ft=ft.substring(15)),Ye.push({t:Z.from,v:ft})}if(H.user){let ft=H.user.toString();ft.startsWith("system.user.")&&(ft=ft.substring(12)),Ye.push({t:Z.user,v:ft})}H.c&&Ye.push({t:Z.c,v:H.c}),Ye.push({t:Z.quality,v:_.default.quality2text(H.q||0).join(", "),nbr:!0})}return{valText:Ne,valFull:Ye}}function Gt(pe){const{state:$,isExpertMode:H,isButton:G}=pe;let Z=$!=null&&$.ack?$.q?"#ffa500":"":"#ff2222c9";return!H&&G&&(Z=""),{color:Z}}function Oe(pe,$){let H=$,G=1;const Z=[];for(;G<pe.length&&H<$+25*36e5;){for(;pe[G-1].ts<H&&H<=pe[G].ts&&G<pe.length;)G++;if(G===1&&pe[G-1].ts>=H)Z.push(0);else if(G<pe.length)if(typeof pe[G].val=="boolean"||typeof pe[G-1].val=="boolean")Z.push(pe[G].val?1:0);else{pe[G-1].val=pe[G-1].val||0,pe[G].val=pe[G].val||0;const ne=pe[G-1].val,le=pe[G].val,De=ne+(le-ne)*(H-pe[G-1].ts)/(pe[G].ts-pe[G-1].ts);Z.push(De)}H+=36e5}return Z}j.ITEM_IMAGES={state:e.default.createElement(g.default,{className:"itemIcon"}),channel:e.default.createElement(p.default,{className:"itemIcon"}),device:e.default.createElement(E.default,{className:"itemIcon"}),adapter:e.default.createElement(c.default,{className:"itemIcon"}),meta:e.default.createElement(n.Description,{className:"itemIcon"}),instance:e.default.createElement(C.default,{className:"itemIcon",style:{color:"#7da7ff"}}),enum:e.default.createElement(n.ListAlt,{className:"itemIcon"}),chart:e.default.createElement(n.ShowChart,{className:"itemIcon"}),config:e.default.createElement(n.Settings,{className:"itemIcon"}),group:e.default.createElement(n.SupervisedUserCircle,{className:"itemIcon"}),user:e.default.createElement(n.PersonOutlined,{className:"itemIcon"}),host:e.default.createElement(n.Router,{className:"itemIcon"}),schedule:e.default.createElement(n.CalendarToday,{className:"itemIcon"}),script:e.default.createElement(n.Code,{className:"itemIcon"}),folder:e.default.createElement(m.default,{className:"itemIcon itemIconFolder"})};const nn=(0,s.withStyles)(pe=>({badge:{right:3,top:3,border:`2px solid ${pe.palette.background.paper}`,padding:"0 4px"}}))(i.Badge),dt={xs:{idWidth:"100%",fields:[],widths:{}},sm:{idWidth:300,fields:["room","val"],widths:{room:100,val:200}},md:{idWidth:300,fields:["room","func","val","buttons"],widths:{name:200,room:150,func:150,val:120,buttons:120}},lg:{idWidth:300,fields:["name","type","role","room","func","val","buttons","changedFrom","qualityCode","timestamp","lastChange"],widths:{name:300,type:80,role:120,room:180,func:180,val:140,buttons:120,changedFrom:120,qualityCode:100,timestamp:165,lastChange:165}},xl:{idWidth:550,fields:["name","type","role","room","func","val","buttons","changedFrom","qualityCode","timestamp","lastChange"],widths:{name:400,type:80,role:120,room:180,func:180,val:140,buttons:120,changedFrom:120,qualityCode:100,timestamp:170,lastChange:170}}};let Wt=!1;const an={id:"",name:"",room:"",func:"",role:"",type:"",custom:"",expertMode:!1};class cn extends e.Component{constructor($){super($),this.localStorage=window._localStorage||window.localStorage,this.lastAppliedFilter=null,this.pausedSubscribes=!1,this.selectedFound=!1,this.root=null,this.states={},this.subscribes=[],this.unsubscribeTimer=null,this.statesUpdateTimer=null,this.objectsUpdateTimer=null,this.filterTimer=null,this.adapterColumns=[],this.edit={id:"",val:"",q:0,ack:!1},this.customWidth=!1,this.resizeTimeout=null,this.resizerNextName=null,this.resizerActiveName=null,this.resizerCurrentWidths={},this.resizeLeft=!1,this.resizerOldWidth=0,this.resizerMin=0,this.resizerNextMin=0,this.resizerOldWidthNext=0,this.resizerPosition=0,this.resizerActiveDiv=null,this.resizerNextDiv=null,this.storedWidths=null,this.defaultHistory="",this.changedIds=null,this.contextMenu=null,this.recordStates=[],this.customColumnDialog=null,this.onContextMenu=fe=>{this.contextMenu&&Date.now()-this.contextMenu.ts<2e3?(fe.preventDefault(),this.setState({showContextMenu:{item:this.contextMenu.item}})):this.state.showContextMenu&&(fe.preventDefault(),this.setState({showContextMenu:null})),this.contextMenu=null},this.onStateChange=(fe,ke)=>{if(console.log(`> stateChange ${fe}`),this.states[fe]){const we=this.findItem(fe);we!=null&&we.data.state&&(we.data.state=void 0)}ke?this.states[fe]=ke:delete this.states[fe],this.pausedSubscribes?this.statesUpdateTimer&&(clearTimeout(this.statesUpdateTimer),this.statesUpdateTimer=null):this.statesUpdateTimer||(this.statesUpdateTimer=setTimeout(()=>{this.statesUpdateTimer=null,this.forceUpdate()},300))},this.onObjectChangeFromWorker=fe=>{if(Array.isArray(fe)){let ke=null;fe.forEach(we=>{const{newInnerState:Te,filtered:Se}=this.processOnObjectChangeElement(we.id,we.obj);Se||(Te&&ke?Object.assign(ke,Te):ke=Te)}),ke&&this.setState(ke),this.afterObjectUpdated()}},this.onObjectChange=(fe,ke)=>{const{newInnerState:we,filtered:Te}=this.processOnObjectChangeElement(fe,ke);Te||(we&&this.setState(we),this.afterObjectUpdated())},this.getEnumsForId=fe=>{const ke=[];return this.info.enums.forEach(we=>{var Te,Se,et;if(!((et=(Se=(Te=this.objects[we])===null||Te===void 0?void 0:Te.common)===null||Se===void 0?void 0:Se.members)===null||et===void 0)&&et.includes(fe)){const yt={_id:this.objects[we]._id,common:JSON.parse(JSON.stringify(this.objects[we].common)),native:this.objects[we].native,type:"enum"};yt.common&&(delete yt.common.members,delete yt.common.custom,delete yt.common.mobile),ke.push(yt)}}),ke.length?ke:void 0},this._createAllEnums=(fe,ke)=>Nt(this,null,function*(){var we,Te;for(let Se=0;Se<fe.length;Se++){const et=fe[Se];let yt,Vt;typeof et=="object"?(Vt=et,yt=Vt._id):yt=et;let Ut=this.objects[yt];Ut?!((Te=(we=Ut.common)===null||we===void 0?void 0:we.members)===null||Te===void 0)&&Te.includes(ke)||(Ut.common=Ut.common||{},Ut.type="enum",Ut.common.members=Ut.common.members||[],Ut.common.members.push(ke),Ut.common.members.sort(),yield this.props.socket.setObject(yt,Ut)):(Ut=Vt||{_id:yt,common:{name:yt.split(".").pop(),members:[]},native:{},type:"enum"},Ut.common=Ut.common||{},Ut.common.members=[ke],Ut.type="enum",yield this.props.socket.setObject(yt,Ut))}}),this.toolTipObjectCreating=()=>{var fe,ke;const{t:we}=this.props;let Te=[e.default.createElement("div",{key:1},we("ra_Only following structures of objects are available:")),e.default.createElement("div",{key:2},we("ra_Folder \u2192 State")),e.default.createElement("div",{key:3},we("ra_Folder \u2192 Channel \u2192 State")),e.default.createElement("div",{key:4},we("ra_Folder \u2192 Device \u2192 Channel \u2192 State")),e.default.createElement("div",{key:5},we("ra_Device \u2192 Channel \u2192 State")),e.default.createElement("div",{key:6},we("ra_Channel \u2192 State")),e.default.createElement("div",{key:7,style:{height:10}}),e.default.createElement("div",{key:8},we('ra_Non-experts may create new objects only in "0_userdata.0" or "alias.0".')),e.default.createElement("div",{key:9},we('ra_The experts may create objects everywhere but from second level (e.g. "vis.0" or "javascript.0").'))];if(this.state.selected.length||this.state.selectedNonObject){const Se=this.state.selected[0]||this.state.selectedNonObject;if(!(Se.split(".").length<2||this.objects[Se]&&((fe=this.objects[Se])===null||fe===void 0?void 0:fe.type)==="state"))if(this.state.filter.expertMode)switch((ke=this.objects[Se])===null||ke===void 0?void 0:ke.type){case"device":Te=[e.default.createElement("div",{key:1},we("ra_Only following structures of objects are available:")),e.default.createElement("div",{key:5},we("ra_Device \u2192 Channel \u2192 State")),e.default.createElement("div",{key:7,style:{height:10}}),e.default.createElement("div",{key:8},we('ra_Non-experts may create new objects only in "0_userdata.0" or "alias.0".')),e.default.createElement("div",{key:9},we('ra_The experts may create objects everywhere but from second level (e.g. "vis.0" or "javascript.0").'))];break;case"folder":Te=[e.default.createElement("div",{key:1},we("ra_Only following structures of objects are available:")),e.default.createElement("div",{key:2},we("ra_Folder \u2192 State")),e.default.createElement("div",{key:3},we("ra_Folder \u2192 Channel \u2192 State")),e.default.createElement("div",{key:4},we("ra_Folder \u2192 Device \u2192 Channel \u2192 State")),e.default.createElement("div",{key:7,style:{height:10}}),e.default.createElement("div",{key:8},we('ra_Non-experts may create new objects only in "0_userdata.0" or "alias.0".')),e.default.createElement("div",{key:9},we('ra_The experts may create objects everywhere but from second level (e.g. "vis.0" or "javascript.0").'))];break;case"channel":Te=[e.default.createElement("div",{key:1},we("ra_Only following structures of objects are available:")),e.default.createElement("div",{key:1},we("ra_Channel \u2192 State")),e.default.createElement("div",{key:7,style:{height:10}}),e.default.createElement("div",{key:8},we('ra_Non-experts may create new objects only in "0_userdata.0" or "alias.0".')),e.default.createElement("div",{key:9},we('ra_The experts may create objects everywhere but from second level (e.g. "vis.0" or "javascript.0").'))];break;default:break}else(Se.startsWith("alias.0")||Se.startsWith("0_userdata"))&&(Te=[e.default.createElement("div",{key:1},we("ra_Only following structures of objects are available:")),e.default.createElement("div",{key:2},we("ra_Folder \u2192 State")),e.default.createElement("div",{key:3},we("ra_Folder \u2192 Channel \u2192 State")),e.default.createElement("div",{key:4},we("ra_Folder \u2192 Device \u2192 Channel \u2192 State")),e.default.createElement("div",{key:5},we("ra_Device \u2192 Channel \u2192 State")),e.default.createElement("div",{key:6},we("ra_Channel \u2192 State")),e.default.createElement("div",{key:7,style:{height:10}}),e.default.createElement("div",{key:7},we('ra_Non-experts may create new objects only in "0_userdata.0" or "alias.0".')),e.default.createElement("div",{key:8},we('ra_The experts may create objects everywhere but from second level (e.g. "vis.0" or "javascript.0").'))])}return Te.length?Te:we("ra_Add new child object to selected parent")},this.renderTooltipAccessControl=fe=>{if(!fe)return null;const ke=[{value:"0x400",valueNum:1024,title:"read",group:"Owner"},{value:"0x200",valueNum:512,title:"write",group:"Owner"},{value:"0x40",valueNum:64,title:"read",group:"Group"},{value:"0x20",valueNum:32,title:"write",group:"Group"},{value:"0x4",valueNum:4,title:"read",group:"Everyone"},{value:"0x2",valueNum:2,title:"write",group:"Everyone"}],we=[],Te=Se=>{const et=fe[Se];ke.forEach((yt,Vt)=>{et&yt.valueNum&&we.push(e.default.createElement("span",{key:Se+Vt},this.texts[`acl${yt.group}_${yt.title}_${Se}`],",",e.default.createElement("span",{className:Se==="object"?this.props.classes.rightsObject:this.props.classes.rightsState},yt.value)))})};return we.push(e.default.createElement("span",{key:"group"},`${this.texts.ownerGroup}: ${(fe.ownerGroup||"").replace("system.group.","")}`)),we.push(e.default.createElement("span",{key:"owner"},`${this.texts.ownerUser}: ${(fe.owner||"").replace("system.user.","")}`)),Te("object"),fe.state&&Te("state"),we.length?e.default.createElement("span",{className:this.props.classes.tooltipAccessControl},we.map(Se=>Se)):null},this.resizerMouseMove=fe=>{if(this.resizerActiveDiv){let ke,we;this.resizeLeft?(ke=this.resizerOldWidth-fe.clientX+this.resizerPosition,we=this.resizerOldWidthNext+fe.clientX-this.resizerPosition):(ke=this.resizerOldWidth+fe.clientX-this.resizerPosition,we=this.resizerOldWidthNext-fe.clientX+this.resizerPosition),this.resizerActiveName&&this.resizerNextName&&(!this.resizerMin||ke>this.resizerMin)&&(!this.resizerNextMin||we>this.resizerNextMin)&&(this.resizerCurrentWidths[this.resizerActiveName]=ke,this.resizerCurrentWidths[this.resizerNextName]=we,this.resizerActiveDiv.style.width=`${ke}px`,this.resizerNextDiv&&(this.resizerNextDiv.style.width=`${we}px`),this.columnsVisibility[this.resizerActiveName]=ke,this.columnsVisibility[this.resizerNextName]=we,this.resizerNextName==="nameHeader"?(this.columnsVisibility.name=we-this.state.scrollBarWidth,this.resizerCurrentWidths.name=we-this.state.scrollBarWidth):this.resizerActiveName==="nameHeader"&&(this.columnsVisibility.name=ke-this.state.scrollBarWidth,this.resizerCurrentWidths.name=ke-this.state.scrollBarWidth),this.customWidth=!0,this.resizeTimeout&&clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=null,this.forceUpdate()},200))}},this.resizerMouseUp=()=>{this.localStorage.setItem(`${this.props.dialogName||"App"}.table`,JSON.stringify(this.resizerCurrentWidths)),this.resizerActiveName=null,this.resizerNextName=null,this.resizerActiveDiv=null,this.resizerNextDiv=null,window.removeEventListener("mousemove",this.resizerMouseMove),window.removeEventListener("mouseup",this.resizerMouseUp)},this.resizerMouseDown=fe=>{if(this.storedWidths=this.storedWidths||JSON.parse(JSON.stringify(dt[this.props.width||"lg"])),this.resizerCurrentWidths=this.resizerCurrentWidths||{},this.resizerActiveDiv=fe.target.parentNode,this.resizerActiveName=this.resizerActiveDiv.dataset.name||null,this.resizerActiveName){let ke=0;if(fe.target.dataset.left==="true"){this.resizeLeft=!0,this.resizerNextDiv=this.resizerActiveDiv.previousElementSibling;let we=this.resizerNextDiv.querySelector(`.${this.props.classes.resizeHandle}`);for(;this.resizerNextDiv&&!we&&ke<10;)this.resizerNextDiv=this.resizerNextDiv.previousElementSibling,we=this.resizerNextDiv.querySelector(`.${this.props.classes.resizeHandle}`),ke++;(we==null?void 0:we.dataset.left)!=="true"&&(this.resizerNextDiv=this.resizerNextDiv.nextElementSibling)}else this.resizeLeft=!1,this.resizerNextDiv=this.resizerActiveDiv.nextElementSibling;this.resizerNextName=this.resizerNextDiv.dataset.name||null,this.resizerMin=parseInt(this.resizerActiveDiv.dataset.min,10)||0,this.resizerNextMin=parseInt(this.resizerNextDiv.dataset.min,10)||0,this.resizerPosition=fe.clientX,this.resizerCurrentWidths[this.resizerActiveName]=this.resizerActiveDiv.offsetWidth,this.resizerOldWidth=this.resizerCurrentWidths[this.resizerActiveName],this.resizerNextName&&(this.resizerCurrentWidths[this.resizerNextName]=this.resizerNextDiv.offsetWidth,this.resizerOldWidthNext=this.resizerCurrentWidths[this.resizerNextName]),window.addEventListener("mousemove",this.resizerMouseMove),window.addEventListener("mouseup",this.resizerMouseUp)}},this.resizerReset=()=>{this.customWidth=!1,dt[this.props.width||"lg"]=JSON.parse(JSON.stringify(this.storedWidths)),this.calculateColumnsVisibility(),this.localStorage.removeItem(`${this.props.dialogName||"App"}.table`),this.forceUpdate()};const H=this.localStorage.getItem(`${$.dialogName||"App"}.objectSelected`)||"[]";try{this.lastSelectedItems=JSON.parse(H),typeof this.lastSelectedItems!="object"&&(this.lastSelectedItems=[this.lastSelectedItems]),this.lastSelectedItems=this.lastSelectedItems.filter(fe=>fe)}catch(fe){this.lastSelectedItems=[]}let G;const Z=this.localStorage.getItem(`${$.dialogName||"App"}.objectExpanded`)||"[]";try{G=JSON.parse(Z)}catch(fe){G=[]}let ne;const le=$.defaultFilters?"":this.localStorage.getItem(`${$.dialogName||"App"}.objectFilter`)||"";if(le)try{ne=JSON.parse(le)}catch(fe){ne=Object.assign({},an)}else $.defaultFilters&&typeof $.defaultFilters=="object"?ne=Object.assign({},$.defaultFilters):ne=Object.assign({},an);if(ne.expertMode=$.expertMode!==void 0?$.expertMode:(window._sessionStorage||window.sessionStorage).getItem("App.expertMode")==="true",this.tableRef=(0,e.createRef)(),this.filterRefs={},Object.keys(an).forEach(fe=>this.filterRefs[fe]=(0,e.createRef)()),this.visibleCols=$.columns||dt[$.width||"lg"].fields,$.types&&$.types.length===1){const fe=this.visibleCols.indexOf("type");fe!==-1&&this.visibleCols.splice(fe,1)}this.possibleCols=dt.xl.fields;let De=null;if($.router){const fe=$.router.getLocation();fe.id&&fe.dialog==="customs"&&(De=[fe.id],this.pauseSubscribe(!0))}let me;Array.isArray($.selected)?me=$.selected:me=[$.selected||""],me=me.map(fe=>fe.replace(/["']/g,"")).filter(fe=>fe);const Le=this.localStorage.getItem(`${$.dialogName||"App"}.columns`);let Ne;try{Ne=Le?JSON.parse(Le):null}catch(fe){Ne=null}let Ye=null;try{Ye=Ye?JSON.parse(Ye):{}}catch(fe){Ye={}}this.imagePrefix=$.imagePrefix||".";let ft;const at=this.localStorage.getItem(`${$.dialogName||"App"}.foldersFirst`);at==="false"?ft=!1:at==="true"?ft=!0:ft=$.foldersFirst===void 0?!0:$.foldersFirst;let ae=!1;try{ae=this.props.objectStatesView&&JSON.parse(this.localStorage.getItem(`${$.dialogName||"App"}.objectStatesView`)||"")||!1}catch(fe){}this.state={loaded:!1,foldersFirst:ft,selected:me,selectedNonObject:this.localStorage.getItem(`${$.dialogName||"App"}.selectedNonObject`)||"",filter:ne,filterKey:0,depth:0,expandAllVisible:!1,expanded:G,toast:"",scrollBarWidth:16,customDialog:De,editObjectDialog:"",editObjectAlias:!1,viewFileDialog:"",showAliasEditor:"",enumDialog:null,roleDialog:null,statesView:ae,columns:Ne,columnsForAdmin:null,columnsSelectorShow:!1,columnsAuto:this.localStorage.getItem(`${$.dialogName||"App"}.columnsAuto`)!=="false",columnsWidths:Ye,columnsDialogTransparent:100,columnsEditCustomDialog:null,customColumnDialogValueChanged:!1,showExportDialog:!1,showAllExportOptions:!1,linesEnabled:this.localStorage.getItem(`${$.dialogName||"App"}.lines`)==="true",showDescription:this.localStorage.getItem(`${$.dialogName||"App"}.desc`)!=="false",showContextMenu:null,noStatesByExportImport:!1,beautifyJsonExport:!0,excludeSystemRepositoriesFromExport:!0,excludeTranslations:!1},this.texts={value:$.t("ra_tooltip_value"),ack:$.t("ra_tooltip_ack"),ts:$.t("ra_tooltip_ts"),lc:$.t("ra_tooltip_lc"),from:$.t("ra_tooltip_from"),user:$.t("ra_tooltip_user"),c:$.t("ra_tooltip_comment"),quality:$.t("ra_tooltip_quality"),editObject:$.t("ra_tooltip_editObject"),deleteObject:$.t("ra_tooltip_deleteObject"),customConfig:$.t("ra_tooltip_customConfig"),copyState:$.t("ra_tooltip_copyState"),editState:$.t("ra_tooltip_editState"),close:$.t("ra_Close"),filter_id:$.t("ra_filter_id"),filter_name:$.t("ra_filter_name"),filter_type:$.t("ra_filter_type"),filter_role:$.t("ra_filter_role"),filter_room:$.t("ra_filter_room"),filter_func:$.t("ra_filter_func"),filter_custom:$.t("ra_filter_customs"),filterCustomsWithout:$.t("ra_filter_customs_without"),objectChangedByUser:$.t("ra_object_changed_by_user"),objectChangedBy:$.t("ra_object_changed_by"),objectChangedFrom:$.t("ra_state_changed_from"),stateChangedBy:$.t("ra_state_changed_by"),stateChangedFrom:$.t("ra_state_changed_from"),ownerGroup:$.t("ra_Owner group"),ownerUser:$.t("ra_Owner user"),deviceError:$.t("ra_Error"),deviceDisconnected:$.t("ra_Disconnected"),deviceConnected:$.t("ra_Connected"),aclOwner_read_object:$.t("ra_aclOwner_read_object"),aclOwner_read_state:$.t("ra_aclOwner_read_state"),aclOwner_write_object:$.t("ra_aclOwner_write_object"),aclOwner_write_state:$.t("ra_aclOwner_write_state"),aclGroup_read_object:$.t("ra_aclGroup_read_object"),aclGroup_read_state:$.t("ra_aclGroup_read_state"),aclGroup_write_object:$.t("ra_aclGroup_write_object"),aclGroup_write_state:$.t("ra_aclGroup_write_state"),aclEveryone_read_object:$.t("ra_aclEveryone_read_object"),aclEveryone_read_state:$.t("ra_aclEveryone_read_state"),aclEveryone_write_object:$.t("ra_aclEveryone_write_object"),aclEveryone_write_state:$.t("ra_aclEveryone_write_state"),create:$.t("ra_Create"),createBooleanState:$.t("ra_create_boolean_state"),createNumberState:$.t("ra_create_number_state"),createStringState:$.t("ra_create_string_state"),createState:$.t("ra_create_state"),createChannel:$.t("ra_create_channel"),createDevice:$.t("ra_create_device"),createFolder:$.t("ra_Create folder")},this.levelPadding=$.levelPadding||q;const Ee=this.localStorage.getItem(`${this.props.dialogName||"App"}.table`);if(Ee)try{const fe=JSON.parse(Ee),ke=this.props.width||"lg";this.storedWidths=JSON.parse(JSON.stringify(dt[ke])),Object.keys(fe).forEach(we=>{we==="id"?dt[ke].idWidth=fe.id:we==="nameHeader"?dt[ke].widths.name=fe[we]:dt[ke].widths[we]!==void 0&&(dt[ke].widths[we]=fe[we])}),this.customWidth=!0}catch(fe){}this.calculateColumnsVisibility()}loadAllObjects($){return Nt(this,null,function*(){const H=this.props;try{yield new Promise(me=>{this.setState({updating:!0},()=>me())});const G=(this.props.objectsWorker?yield this.props.objectsWorker.getObjects($):yield H.socket.getObjects($,!0))||{};if(H.types&&R.default.isWeb())for(let me=0;me<H.types.length;me++){if(H.types[me]==="state"||H.types[me]==="channel"||H.types[me]==="device"||H.types[me]==="enum")continue;const Le=yield H.socket.getObjectViewSystem(H.types[me]);Object.assign(G||{},Le)}if(this.systemConfig=this.systemConfig||(G==null?void 0:G["system.config"])||(yield H.socket.getObject("system.config")),this.systemConfig.common=this.systemConfig.common||{},this.systemConfig.common.defaultNewAcl=this.systemConfig.common.defaultNewAcl||{object:0,state:0,file:0,owner:"system.user.admin",ownerGroup:"system.group.administrator"},this.systemConfig.common.defaultNewAcl.owner=this.systemConfig.common.defaultNewAcl.owner||"system.user.admin",this.systemConfig.common.defaultNewAcl.ownerGroup=this.systemConfig.common.defaultNewAcl.ownerGroup||"system.group.administrator",typeof this.systemConfig.common.defaultNewAcl.state!="number"&&(this.systemConfig.common.defaultNewAcl.state=1636),typeof this.systemConfig.common.defaultNewAcl.object!="number"&&(this.systemConfig.common.defaultNewAcl.state=1636),typeof H.filterFunc=="function"){this.objects={};const me=H.filterFunc;Object.keys(G).forEach(Le=>{try{if(me(G[Le]))this.objects[Le]=G[Le];else{const Ne=G[Le]&&G[Le].type;Ne&&(Ne==="channel"||Ne==="device"||Ne==="folder"||Ne==="adapter"||Ne==="instance")&&(this.objects[Le]=G[Le])}}catch(Ne){console.log(`Error by filtering of "${Le}": ${Ne}`)}})}else if(H.types){this.objects={};const me=H.types;Object.keys(G).forEach(Le=>{const Ne=G[Le]&&G[Le].type;Ne&&(Ne==="channel"||Ne==="device"||Ne==="enum"||Ne==="folder"||Ne==="adapter"||Ne==="instance"||me.includes(Ne))&&(this.objects[Le]=G[Le])})}else this.objects=G;H.setObjectsReference&&H.setObjectsReference(this.objects),this.defaultHistory=this.systemConfig.common.defaultHistory,this.defaultHistory&&H.socket.getState(`system.adapter.${this.defaultHistory}.alive`).then(me=>{(!me||!me.val)&&(this.defaultHistory="")}).catch(me=>window.alert(`Cannot get state: ${me}`));const Z=yield this.getAdditionalColumns();this.calculateColumnsVisibility(null,null,Z);const{info:ne,root:le}=Rt(this.objects,{imagePrefix:this.props.imagePrefix,root:this.props.root,lang:this.props.lang,themeType:this.props.themeType});this.root=le,this.info=ne;const De=this.state.selected&&this.state.selected.length&&Ae(this.root,this.state.selected[0]);this.lastAppliedFilter=null,De&&!Jt(De,this.state.filter,this.props.lang,this.objects,void 0,void 0,H.customFilter,H.types)?this.setState({filter:Object.assign({},an),columnsForAdmin:Z},()=>{this.setState({loaded:!0,updating:!1},()=>this.expandAllSelected(()=>this.onAfterSelect()))}):this.setState({loaded:!0,updating:!1,columnsForAdmin:Z},()=>this.expandAllSelected(()=>this.onAfterSelect()))}catch(G){this.showError(G)}})}static isNonExpertId($){return!!b(D,D,"f",r).find(H=>$.startsWith(H))}expandAllSelected($){const H=[...this.state.expanded];let G=!1;this.state.selected.forEach(Z=>{const ne=Z.split("."),le=[];for(let De=0;De<ne.length-1;De++)le.push(ne[De]),H.includes(le.join("."))||(H.push(le.join(".")),G=!0)}),G?(H.sort(),this.localStorage.setItem(`${this.props.dialogName||"App"}.objectExpanded`,JSON.stringify(H)),this.setState({expanded:H},$)):$&&$()}onAfterSelect($){if(this.lastSelectedItems=[...this.state.selected],this.state.selected&&this.state.selected.length){this.localStorage.setItem(`${this.props.dialogName||"App"}.objectSelected`,JSON.stringify(this.lastSelectedItems));const H=this.lastSelectedItems.length===1?_.default.getObjectName(this.objects,this.lastSelectedItems[0],null,{language:this.props.lang}):"";this.props.onSelect&&this.props.onSelect(this.lastSelectedItems,H,$)}else this.localStorage.setItem(`${this.props.dialogName||"App"}.objectSelected`,""),this.state.selected.length?this.setState({selected:[]},()=>this.props.onSelect&&this.props.onSelect([],"")):this.props.onSelect&&this.props.onSelect([],"")}static getDerivedStateFromProps($,H){const G={};let Z=!1;return $.expertMode!==void 0&&$.expertMode!==H.filter.expertMode&&(Z=!0,G.filter=Object.assign({},H.filter),G.filter.expertMode=$.expertMode),Z?G:null}componentDidMount(){return Nt(this,null,function*(){yield this.loadAllObjects(!Wt),this.props.objectsWorker?this.props.objectsWorker.registerHandler(this.onObjectChangeFromWorker):yield this.props.socket.subscribeObject("*",this.onObjectChange),Wt=!0,window.addEventListener("contextmenu",this.onContextMenu,!0)})}componentWillUnmount(){this.filterTimer&&clearTimeout(this.filterTimer),this.filterTimer=null,window.removeEventListener("contextmenu",this.onContextMenu,!0),this.props.objectsWorker?this.props.objectsWorker.unregisterHandler(this.onObjectChangeFromWorker,!0):this.props.socket.unsubscribeObject("*",this.onObjectChange),this.subscribes.forEach($=>{console.log(`- unsubscribe ${$}`),this.props.socket.unsubscribeState($,this.onStateChange)}),this.subscribes=[],this.objects={}}showDeleteDialog($){var H,G;const{id:Z,obj:ne,item:le}=$,De=Object.keys(this.objects);De.sort();let me=0;const Le=`${Z}.`;for(let Ne=0;Ne<De.length;Ne++)if(De[Ne].startsWith(Le))me++;else if(De[Ne]>Le)break;this.props.onObjectDelete&&this.props.onObjectDelete(Z,!!(!((H=le.children)===null||H===void 0)&&H.length),!(!((G=ne.common)===null||G===void 0)&&G.dontDelete),me+1)}refreshComponent(){this.subscribes.forEach($=>{console.log(`- unsubscribe ${$}`),this.props.socket.unsubscribeState($,this.onStateChange)}),this.subscribes=[],this.loadAllObjects(!0).then(()=>console.log("updated!"))}renderErrorDialog(){return this.state.error?e.default.createElement(i.Dialog,{open:!0,maxWidth:"sm",fullWidth:!0,onClose:()=>this.setState({error:""}),"aria-labelledby":"error-dialog-title","aria-describedby":"error-dialog-description"},e.default.createElement(i.DialogTitle,{id:"alert-dialog-title"},this.props.t("ra_Error")),e.default.createElement(i.DialogContent,null,e.default.createElement(i.DialogContentText,{id:"alert-dialog-description"},this.state.error)),e.default.createElement(i.DialogActions,null,e.default.createElement(i.Button,{variant:"contained",onClick:()=>this.setState({error:""}),color:"primary",autoFocus:!0,startIcon:e.default.createElement(n.Check,null)},this.props.t("ra_Ok")))):null}showError($){this.setState({error:typeof $=="object"?$&&typeof $.toString=="function"?$.toString():JSON.stringify($):$})}onSelect($,H,G){if(!this.props.multiSelect)this.objects[$]&&(!this.props.types||this.props.types.includes(this.objects[$].type))?(this.localStorage.removeItem(`${this.props.dialogName||"App"}.selectedNonObject`),this.state.selected[0]!==$?this.setState({selected:[$],selectedNonObject:""},()=>{this.onAfterSelect(H),G&&G()}):H&&this.props.onSelect&&this.onAfterSelect(H)):(this.localStorage.setItem(`${this.props.dialogName||"App"}.selectedNonObject`,$),this.setState({selected:[],selectedNonObject:$},()=>{this.onAfterSelect(),G&&G()}));else if(this.objects[$]&&(!this.props.types||this.props.types.includes(this.objects[$].type))){this.localStorage.removeItem(`${this.props.dialogName||"App"}.selectedNonObject`);const Z=[...this.state.selected],ne=Z.indexOf($);ne===-1?(Z.push($),Z.sort()):H||Z.splice(ne,1),this.setState({selected:Z,selectedNonObject:""},()=>{this.onAfterSelect(H),G&&G()})}}_renderDefinedList($){const H=[...this.possibleCols];if(H.unshift("id"),this.props.columns&&!this.props.columns.includes("buttons")){const G=H.indexOf("buttons");G!==-1&&H.splice(G,1)}return H.filter(G=>$&&(G==="val"||G==="buttons")||!$&&G!=="val"&&G!=="buttons").map(G=>{var Z;return e.default.createElement(i.ListItemButton,{onClick:()=>{if(!this.state.columnsAuto&&G!=="id"){const ne=[...this.state.columns||[]],le=ne.indexOf(G);le===-1?(ne.push(G),ne.sort()):ne.splice(le,1),this.localStorage.setItem(`${this.props.dialogName||"App"}.columns`,JSON.stringify(ne)),this.calculateColumnsVisibility(null,ne),this.setState({columns:ne})}},key:G},e.default.createElement(i.Checkbox,{edge:"start",disabled:G==="id"||this.state.columnsAuto,checked:G==="id"||!!(this.state.columnsAuto?this.visibleCols.includes(G):!((Z=this.state.columns)===null||Z===void 0)&&Z.includes(G)),disableRipple:!0}),e.default.createElement(i.ListItemText,{primary:this.texts[`filter_${G}`]||this.props.t(`ra_${G}`)}))})}renderColumnsSelectorDialog(){return this.state.columnsSelectorShow?e.default.createElement(i.Dialog,{onClose:()=>this.setState({columnsSelectorShow:!1}),open:!0,classes:{root:_.default.clsx(this.props.classes.dialogColumns,this.props.classes[`transparent_${this.state.columnsDialogTransparent}`])}},e.default.createElement(i.DialogTitle,{className:this.props.classes.fontSizeTitle},this.props.t("ra_Configure")),e.default.createElement(i.DialogContent,{className:this.props.classes.fontSizeTitle},e.default.createElement(i.FormControlLabel,{className:this.props.classes.switchColumnAuto,control:e.default.createElement(i.Switch,{checked:this.state.foldersFirst,onChange:()=>{this.localStorage.setItem(`${this.props.dialogName||"App"}.foldersFirst`,this.state.foldersFirst?"false":"true"),this.setState({foldersFirst:!this.state.foldersFirst})}}),label:this.props.t("ra_Folders always first")}),e.default.createElement(i.FormControlLabel,{className:this.props.classes.switchColumnAuto,control:e.default.createElement(i.Switch,{checked:this.state.linesEnabled,onChange:()=>{this.localStorage.setItem(`${this.props.dialogName||"App"}.lines`,this.state.linesEnabled?"false":"true"),this.setState({linesEnabled:!this.state.linesEnabled})}}),label:this.props.t("ra_Show lines between rows")}),e.default.createElement(i.FormControlLabel,{className:this.props.classes.switchColumnAuto,control:e.default.createElement(i.Switch,{checked:this.state.columnsAuto,onChange:()=>{this.localStorage.setItem(`${this.props.dialogName||"App"}.columnsAuto`,this.state.columnsAuto?"false":"true"),this.state.columnsAuto?this.state.columns?(this.calculateColumnsVisibility(!1),this.setState({columnsAuto:!1})):(this.calculateColumnsVisibility(!1,[...this.visibleCols]),this.setState({columnsAuto:!1,columns:[...this.visibleCols]})):(this.calculateColumnsVisibility(!0),this.setState({columnsAuto:!0}))}}),label:this.props.t("ra_Auto (no custom columns)")}),e.default.createElement(i.List,null,this._renderDefinedList(!1),this.state.columnsForAdmin&&Object.keys(this.state.columnsForAdmin).sort().map($=>this.state.columnsForAdmin&&this.state.columnsForAdmin[$].map(H=>{var G;return e.default.createElement(i.ListItemButton,{onClick:()=>{if(!this.state.columnsAuto){const Z=[...this.state.columns||[]],ne=`_${$}_${H.path}`,le=Z.indexOf(ne);le===-1?(Z.push(ne),Z.sort()):Z.splice(le,1),this.calculateColumnsVisibility(null,Z),this.localStorage.setItem(`${this.props.dialogName||"App"}.columns`,JSON.stringify(Z)),this.setState({columns:Z})}},key:`${$}_${H.name}`},e.default.createElement(i.ListItemIcon,null,e.default.createElement(i.Checkbox,{disabled:this.state.columnsAuto,edge:"start",checked:!this.state.columnsAuto&&((G=this.state.columns)===null||G===void 0?void 0:G.includes(`_${$}_${H.path}`)),disableRipple:!0})),e.default.createElement(i.ListItemText,{primary:`${H.name} (${$})`}))})),this._renderDefinedList(!0))),e.default.createElement(i.DialogActions,null,e.default.createElement(i.Button,{variant:"contained",onClick:()=>this.setState({columnsSelectorShow:!1}),color:"primary",startIcon:e.default.createElement(n.Close,null)},this.texts.close))):null}getAdditionalColumns(){return Nt(this,null,function*(){try{const $=yield this.props.socket.getAdapters();let H=null;return $.forEach(G=>H=this.parseObjectForAdmins(H,G)),H}catch($){return console.error(`Cannot get adapters: ${$}`),null}})}checkUnsubscribes(){for(let $=this.subscribes.length-1;$>=0;$--)!this.recordStates.includes(this.subscribes[$])&&this.unsubscribe(this.subscribes[$]);this.recordStates=[]}findItem($,H,G,Z){if(H=H||$.split("."),G=G||this.root,!G||!H.length)return null;if(Z=(Z?`${Z}.`:"")+H.shift(),G.children){const ne=G.children.find(le=>le.data.id===Z);if(ne){if(ne.data.id===$)return ne;if(H.length)return this.findItem($,H,ne,Z)}else return null}return null}parseObjectForAdmins($,H){if(H.common&&H.common.adminColumns&&H.common.name){let G=H.common.adminColumns;G&&typeof G!="object"&&(G=[G]);let Z;G?Z=G.map(ne=>{if(typeof ne!="object")return{path:ne,name:ne.split(".").pop()};const le=ne;return le.objTypes&&typeof le.objTypes!="object"?le.objTypes=[le.objTypes]:le.objTypes||(le.objTypes=null),!le.name&&le.path?{path:le.path,name:le.path.split(".").pop(),width:le.width,edit:!!le.edit,type:le.type,objTypes:le.objTypes}:le.path?{path:le.path,name:Xt(le.name||"",this.props.lang),width:le.width,edit:!!le.edit,type:le.type,objTypes:le.objTypes}:(console.warn(`Admin columns for ${H._id} ignored, because path not found`),null)}).filter(ne=>ne):Z=null,Z!=null&&Z.length&&($=$||{},$[H.common.name]=Z.sort((ne,le)=>ne.path>le.path?-1:ne.path<le.path?1:0))}else H.common&&H.common.name&&$&&$[H.common.name]&&delete $[H.common.name];return $}afterObjectUpdated(){!this.objectsUpdateTimer&&this.objects&&(this.objectsUpdateTimer=setTimeout(()=>{this.objectsUpdateTimer=null;const{info:$,root:H}=Rt(this.objects,{imagePrefix:this.props.imagePrefix,root:this.props.root,lang:this.props.lang,themeType:this.props.themeType});this.root=H,this.info=$,this.lastAppliedFilter=null,this.pausedSubscribes||this.forceUpdate()},500))}processOnObjectChangeElement($,H){console.log(`> objectChange ${$}`);const G=H==null?void 0:H.type;if(H&&typeof this.props.filterFunc=="function"&&!this.props.filterFunc(H)&&G!=="channel"&&G!=="device"&&G!=="folder"&&G!=="adapter"&&G!=="instance")return{newInnerState:null,filtered:!0};let Z=null;if($.startsWith("system.adapter.")&&H&&H.type==="adapter"){const ne=JSON.parse(JSON.stringify(this.state.columnsForAdmin));this.parseObjectForAdmins(ne,H),JSON.stringify(this.state.columnsForAdmin)!==JSON.stringify(ne)&&(Z={columnsForAdmin:ne})}return this.objects=this.objects||{},H?this.objects[$]=H:this.objects[$]&&delete this.objects[$],{newInnerState:Z,filtered:!1}}subscribe($){this.subscribes.includes($)||(this.subscribes.push($),console.log(`+ subscribe ${$}`),!this.pausedSubscribes&&this.props.socket.subscribeState($,this.onStateChange))}unsubscribe($){const H=this.subscribes.indexOf($);H!==-1&&(this.subscribes.splice(H,1),this.states[$]&&delete this.states[$],console.log(`- unsubscribe ${$}`),this.props.socket.unsubscribeState($,this.onStateChange),this.pausedSubscribes&&console.warn("Unsubscribe during pause?"))}pauseSubscribe($){!this.pausedSubscribes&&$?(this.pausedSubscribes=!0,this.subscribes.forEach(H=>this.props.socket.unsubscribeState(H,this.onStateChange))):this.pausedSubscribes&&!$&&(this.pausedSubscribes=!1,this.subscribes.forEach(H=>this.props.socket.subscribeState(H,this.onStateChange)))}onFilter($,H){this.filterTimer=null;const G=Object.assign({},this.state.filter);Object.keys(this.filterRefs).forEach(Z=>{if(this.filterRefs[Z]&&this.filterRefs[Z].current){const ne=this.filterRefs[Z].current;for(let le=0;le<ne.children.length;le++)if(ne.children[le].tagName==="INPUT"){G[Z]=ne.children[le].value;break}}}),$&&(G[$]=H,$==="expertMode"&&(window._sessionStorage||window.sessionStorage).setItem("App.expertMode",H?"true":"false")),JSON.stringify(this.state.filter)!==JSON.stringify(G)&&(this.localStorage.setItem(`${this.props.dialogName||"App"}.objectFilter`,JSON.stringify(G)),this.setState({filter:G},()=>this.props.onFilterChanged&&this.props.onFilterChanged(G)))}clearFilter(){const $=Object.assign({},this.state.filter);Object.keys(this.filterRefs).forEach(H=>{if(this.filterRefs[H]&&this.filterRefs[H].current){const G=this.filterRefs[H].current;for(let Z=0;Z<G.childNodes.length;Z++){const ne=G.childNodes[Z];if(ne.tagName==="INPUT"){$[H]="",ne.value="";break}}}}),JSON.stringify(this.state.filter)!==JSON.stringify($)&&(this.localStorage.setItem(`${this.props.dialogName||"App"}.objectFilter`,JSON.stringify($)),this.setState({filter:$,filterKey:this.state.filterKey+1},()=>this.props.onFilterChanged&&this.props.onFilterChanged($)))}isFilterEmpty(){return!Object.keys(this.state.filter).find(H=>H!=="expertMode"&&this.state.filter[H])}getFilterInput($){var H,G,Z;return e.default.createElement(i.FormControl,{className:_.default.clsx(this.props.classes.headerCellInput,this.props.classes.filterInput),key:`${$}_${this.state.filterKey}`,margin:"dense"},e.default.createElement(i.Input,{ref:this.filterRefs[$],classes:{underline:"no-underline"},id:$,placeholder:this.texts[`filter_${$}`],defaultValue:this.state.filter[$]||"",onChange:()=>{this.filterTimer&&clearTimeout(this.filterTimer),this.filterTimer=setTimeout(()=>this.onFilter(),400)},autoComplete:"off"}),!((Z=(G=(H=this.filterRefs[$])===null||H===void 0?void 0:H.current)===null||G===void 0?void 0:G.firstChild)===null||Z===void 0)&&Z.value?e.default.createElement("div",{style:{position:"absolute",right:0}},e.default.createElement(i.IconButton,{size:"small",onClick:()=>{var ne;((ne=this.filterRefs[$].current)===null||ne===void 0?void 0:ne.firstChild).value="",this.onFilter($,"")}},e.default.createElement(n.Close,null))):null)}getFilterSelect($,H){var G,Z,ne;const le=!!(H!=null&&H.find(De=>De.icon));return e.default.createElement("div",{style:{position:"relative"}},e.default.createElement(i.Select,{variant:"standard",key:`${$}_${this.state.filterKey}`,ref:this.filterRefs[$],className:`${this.props.classes.headerCellInput} no-underline`,onChange:()=>{this.filterTimer&&clearTimeout(this.filterTimer),this.filterTimer=setTimeout(()=>this.onFilter(),400)},defaultValue:this.state.filter[$]||"",inputProps:{name:$,id:$},displayEmpty:!0},e.default.createElement(i.MenuItem,{key:"empty",value:""},e.default.createElement("span",{className:this.props.classes.selectNone},this.texts[`filter_${$}`])),H==null?void 0:H.map(De=>{let me,Le,Ne;return typeof De=="object"?(me=De.value,Le=De.name,Ne=De.icon):(me=De,Le=De),e.default.createElement(i.MenuItem,{className:this.props.classes.headerCellSelectItem,key:me,value:me},Ne||(le?e.default.createElement("div",{className:"itemIcon"}):null),Le)})),!((ne=(Z=(G=this.filterRefs[$])===null||G===void 0?void 0:G.current)===null||Z===void 0?void 0:Z.childNodes[1])===null||ne===void 0)&&ne.value?e.default.createElement("div",{className:_.default.clsx(this.props.classes.selectClearButton)},e.default.createElement(i.IconButton,{size:"small",onClick:()=>{var De;const me=Object.assign({},this.state.filter);me[$]="",((De=this.filterRefs[$].current)===null||De===void 0?void 0:De.childNodes[1]).value="",this.localStorage.setItem(`${this.props.dialogName||"App"}.objectFilter`,JSON.stringify(me)),this.setState({filter:me,filterKey:this.state.filterKey+1},()=>this.props.onFilterChanged&&this.props.onFilterChanged(me))}},e.default.createElement(n.Close,null))):null)}getFilterSelectRole(){return this.getFilterSelect("role",this.info.roles)}getFilterSelectRoom(){const $=this.info.roomEnums.map(H=>{var G,Z,ne,le;return{name:Xt((Z=(G=this.objects[H])===null||G===void 0?void 0:G.common)===null||Z===void 0?void 0:Z.name,this.props.lang)||H.split(".").pop(),value:H,icon:e.default.createElement(P.default,{src:((le=(ne=this.objects[H])===null||ne===void 0?void 0:ne.common)===null||le===void 0?void 0:le.icon)||"",className:this.props.classes.selectIcon})}});return this.getFilterSelect("room",$)}getFilterSelectFunction(){const $=this.info.funcEnums.map(H=>{var G,Z,ne,le;return{name:Xt((Z=(G=this.objects[H])===null||G===void 0?void 0:G.common)===null||Z===void 0?void 0:Z.name,this.props.lang)||H.split(".").pop(),value:H,icon:e.default.createElement(P.default,{src:((le=(ne=this.objects[H])===null||ne===void 0?void 0:ne.common)===null||le===void 0?void 0:le.icon)||"",className:this.props.classes.selectIcon})}});return this.getFilterSelect("func",$)}getFilterSelectType(){const $=this.info.types.map(H=>({name:H,value:H,icon:j.ITEM_IMAGES[H]||null}));return this.getFilterSelect("type",$)}getFilterSelectCustoms(){if(this.info.customs.length>1){const $=this.info.customs.map(H=>({name:H==="_"?this.texts.filterCustomsWithout:H,value:H,icon:H==="_"?null:e.default.createElement(P.default,{src:on(this.objects,H,this.imagePrefix)||"",className:this.props.classes.selectIcon})}));return this.getFilterSelect("custom",$)}return null}onExpandAll($,H){var G;const Z=$||this.root;H=H||[],(G=Z==null?void 0:Z.children)===null||G===void 0||G.forEach(ne=>{ne.data.sumVisibility&&(H.push(ne.data.id),this.onExpandAll(ne,H))}),Z===this.root&&(H.sort(),this.localStorage.setItem(`${this.props.dialogName||"App"}.objectExpanded`,JSON.stringify(H)),this.setState({expanded:H}))}onCollapseAll(){this.localStorage.setItem(`${this.props.dialogName||"App"}.objectExpanded`,JSON.stringify([])),this.localStorage.setItem(`${this.props.dialogName||"App"}.objectSelected`,"[]"),this.setState({expanded:[],depth:0,selected:[]},()=>this.onAfterSelect())}expandDepth($,H,G){var Z;$=$||this.root,H>0&&((Z=$.children)===null||Z===void 0||Z.forEach(ne=>{ne.data.sumVisibility&&(zt(G,ne.data.id)||(G.push(ne.data.id),G.sort()),H-1>0&&this.expandDepth(ne,H-1,G))}))}static collapseDepth($,H){return H.filter(G=>G.split(".").length<=$)}onExpandVisible(){if(this.state.depth<9){const $=this.state.depth+1,H=[...this.state.expanded];this.root&&this.expandDepth(this.root,$,H),this.localStorage.setItem(`${this.props.dialogName||"App"}.objectExpanded`,JSON.stringify(H)),this.setState({depth:$,expanded:H})}}onStatesViewVisible(){const $=!this.state.statesView;this.localStorage.setItem(`${this.props.dialogName||"App"}.objectStatesView`,JSON.stringify($)),this.setState({statesView:$})}onCollapseVisible(){if(this.state.depth>0){const $=this.state.depth-1,H=D.collapseDepth($,this.state.expanded);this.localStorage.setItem(`${this.props.dialogName||"App"}.objectExpanded`,JSON.stringify(H)),this.setState({depth:$,expanded:H})}}loadObjects($){return Nt(this,null,function*(){if($)for(const H in $){if(!Object.prototype.hasOwnProperty.call($,H)||!$[H])continue;const G=$[H];let Z=null,ne,le;G&&G.common&&G.common.enums?(Z=G.common.enums,delete G.common.enums):Z=null,(G.val||G.val===0)&&(ne=G.val,delete G.val),G.ack!==void 0&&(le=G.ack,delete G.ack);try{if(yield this.props.socket.setObject(H,G),Z&&(yield this._createAllEnums(Z,G._id)),G.type==="state")if(ne!=null)try{yield this.props.socket.setState(G._id,ne,le!==void 0?le:!0)}catch(De){window.alert(`Cannot set state "${G._id} with ${ne}": ${De}`)}else try{const De=yield this.props.socket.getState(G._id);if(!De||De.val===null)try{yield this.props.socket.setState(G._id,!G.common||G.common.def===void 0?null:G.common.def,!0)}catch(me){window.alert(`Cannot set state "${G._id}": ${me}`)}}catch(De){window.alert(`Cannot read state "${G._id}": ${De}`)}}catch(De){window.alert(De)}}})}_getSelectedIdsForExport(){if(this.state.selected.length||this.state.selectedNonObject){const $=[],H=Object.keys(this.objects);H.sort();const G=this.state.selected[0]||this.state.selectedNonObject,Z=`${G}.`,ne=Z.length;for(let le=0;le<H.length;le++){const De=H[le];if((G===De||De.startsWith(Z))&&$.push(De),De.substring(0,ne)>Z)break}return $}return[]}_exportObjects($){return Nt(this,null,function*(){var H;if($.isAll){It("allObjects.json",this.objects,$);return}if(!(this.state.selected.length||this.state.selectedNonObject)){window.alert(this.props.t("ra_Save of objects-tree is not possible"));return}const G={},Z=this.state.selected[0]||this.state.selectedNonObject,ne=this._getSelectedIdsForExport();for(const le of ne){if(G[le]=JSON.parse(JSON.stringify(this.objects[le])),((H=G[le])===null||H===void 0?void 0:H.type)==="state"&&!$.noStatesByExportImport){const De=yield this.props.socket.getState(le);De&&(G[le].val=De.val,G[le].ack=De.ack)}if(G[le].common){const De=this.getEnumsForId(le);De&&(G[le].common.enums=De)}}It(`${Z}.json`,G,$)})}renderExportDialog(){return this.state.showExportDialog===!1?null:e.default.createElement(i.Dialog,{open:!0,maxWidth:"lg"},e.default.createElement(i.DialogTitle,null,this.props.t("ra_Select type of export")),e.default.createElement(i.DialogContent,null,e.default.createElement(i.DialogContentText,null,this.state.filter.expertMode||this.state.showAllExportOptions?e.default.createElement(e.default.Fragment,null,this.props.t("ra_You can export all objects or just the selected branch."),e.default.createElement("br",null),this.props.t("ra_Selected %s object(s)",this.state.showExportDialog),e.default.createElement("br",null),e.default.createElement(i.FormControlLabel,{control:e.default.createElement(i.Checkbox,{checked:this.state.noStatesByExportImport,onChange:$=>this.setState({noStatesByExportImport:$.target.checked})}),label:this.props.t("ra_Do not export values of states")}),e.default.createElement("br",null),this.props.t("These options can reduce the size of the export file:"),e.default.createElement(i.FormControlLabel,{control:e.default.createElement(i.Checkbox,{checked:this.state.beautifyJsonExport,onChange:$=>this.setState({beautifyJsonExport:$.target.checked})}),label:this.props.t("Beautify JSON output")}),e.default.createElement("br",null),e.default.createElement(i.FormControlLabel,{control:e.default.createElement(i.Checkbox,{checked:this.state.excludeSystemRepositoriesFromExport,onChange:$=>this.setState({excludeSystemRepositoriesFromExport:$.target.checked})}),label:this.props.t("Exclude system repositories from export JSON")}),e.default.createElement(i.FormControlLabel,{control:e.default.createElement(i.Checkbox,{checked:this.state.excludeTranslations,onChange:$=>this.setState({excludeTranslations:$.target.checked})}),label:this.props.t("Exclude translations (except english) from export JSON")})):null)),e.default.createElement(i.DialogActions,null,this.state.filter.expertMode||this.state.showAllExportOptions?e.default.createElement(i.Button,{color:"grey",variant:"outlined",onClick:()=>this.setState({showExportDialog:!1,showAllExportOptions:!1},()=>this._exportObjects({isAll:!0,noStatesByExportImport:this.state.noStatesByExportImport,beautify:this.state.beautifyJsonExport,excludeSystemRepositories:this.state.excludeSystemRepositoriesFromExport,excludeTranslations:this.state.excludeTranslations}))},e.default.createElement("span",{style:{marginRight:8}},this.props.t("ra_All objects")),"(",Object.keys(this.objects).length,")"):e.default.createElement(i.Button,{color:"grey",variant:"outlined",startIcon:e.default.createElement(o.default,null),onClick:()=>this.setState({showAllExportOptions:!0})},this.props.t("ra_Advanced options")),e.default.createElement(i.Button,{color:"primary",variant:"contained",autoFocus:!0,onClick:()=>this.setState({showExportDialog:!1,showAllExportOptions:!1},()=>this._exportObjects({isAll:!1,noStatesByExportImport:this.state.noStatesByExportImport,beautify:this.state.beautifyJsonExport,excludeSystemRepositories:this.state.excludeSystemRepositoriesFromExport,excludeTranslations:this.state.excludeTranslations}))},e.default.createElement("span",{style:{marginRight:8}},this.props.t("ra_Only selected")),"(",this.state.showExportDialog,")"),e.default.createElement(i.Button,{color:"grey",variant:"contained",onClick:()=>this.setState({showExportDialog:!1,showAllExportOptions:!1}),startIcon:e.default.createElement(n.Close,null)},this.props.t("ra_Cancel"))))}handleJsonUpload($){var H;const G=$.target,Z=((H=G.files)===null||H===void 0?void 0:H.length)&&G.files[0];if(Z){const ne=new FileReader;ne.onload=le=>Nt(this,null,function*(){var De;const me=(De=le.target)===null||De===void 0?void 0:De.result;try{const Le=JSON.parse(me),Ne=Object.keys(Le).length,Ye=Le._id;if(Ye===void 0&&Ne)yield this.loadObjects(Le),window.alert(this.props.t("ra_%s object(s) processed",Ne));else{if(!Ye)return window.alert(this.props.t("ra_Invalid structure"));try{let ft,at,ae;if(Le.common.enums&&(ft=Le.common.enums,delete Le.common.enums),Le.val&&(at=Le.val,delete Le.val),Le.ack!==void 0&&(ae=Le.ack,delete Le.ack),yield this.props.socket.setObject(Le._id,Le),Le.type==="state")if(at!=null)yield this.props.socket.setState(Le._id,at,ae===void 0?!0:ae);else{const Ee=yield this.props.socket.getState(Le._id);(!Ee||Ee.val===null||Ee.val===void 0)&&(yield this.props.socket.setState(Le._id,Le.common.def===void 0?null:Le.common.def,!0))}ft&&(yield this._createAllEnums(ft,Le._id)),window.alert(this.props.t("ra_%s was imported",Le._id))}catch(ft){window.alert(ft)}}}catch(Le){window.alert(Le)}return null}),ne.readAsText(Z)}else window.alert(this.props.t("ra_Failed to open JSON File"))}getToolbar(){let $=!1;if(this.state.selected.length||this.state.selectedNonObject){const H=this.state.selected[0]||this.state.selectedNonObject;H.split(".").length<2||this.objects[H]&&this.objects[H].type==="state"?$=!1:(this.state.filter.expertMode||H.startsWith("alias.0")||H.startsWith("0_userdata"))&&($=!0)}return e.default.createElement("div",{style:{display:"flex",width:"100%",alignItems:"center"}},e.default.createElement("div",{style:{display:"flex",width:"100%",alignItems:"center"}},e.default.createElement(i.Tooltip,{title:this.props.t("ra_Refresh tree"),classes:{popper:this.props.classes.tooltip}},e.default.createElement("div",null,e.default.createElement(i.IconButton,{onClick:()=>this.refreshComponent(),disabled:this.state.updating,size:"large"},e.default.createElement(n.Refresh,null)))),this.props.showExpertButton&&!this.props.expertMode&&e.default.createElement(i.Tooltip,{title:this.props.t("ra_expertMode"),classes:{popper:this.props.classes.tooltip}},e.default.createElement(i.IconButton,{key:"expertMode",color:this.state.filter.expertMode?"secondary":"default",onClick:()=>this.onFilter("expertMode",!this.state.filter.expertMode),size:"large"},e.default.createElement(o.default,null))),!this.props.disableColumnSelector&&e.default.createElement(i.Tooltip,{title:this.props.t("ra_Configure"),classes:{popper:this.props.classes.tooltip}},e.default.createElement(i.IconButton,{key:"columnSelector",color:this.state.columnsAuto?"primary":"default",onClick:()=>this.setState({columnsSelectorShow:!0}),size:"large"},e.default.createElement(n.ViewColumn,null))),this.state.expandAllVisible&&e.default.createElement(i.Tooltip,{title:this.props.t("ra_Expand all nodes"),classes:{popper:this.props.classes.tooltip}},e.default.createElement(i.IconButton,{key:"expandAll",onClick:()=>this.onExpandAll(),size:"large"},e.default.createElement(S.default,null))),e.default.createElement(i.Tooltip,{title:this.props.t("ra_Collapse all nodes"),classes:{popper:this.props.classes.tooltip}},e.default.createElement(i.IconButton,{key:"collapseAll",onClick:()=>this.onCollapseAll(),size:"large"},e.default.createElement(m.default,null))),e.default.createElement(i.Tooltip,{title:this.props.t("ra_Expand one step node"),classes:{popper:this.props.classes.tooltip}},e.default.createElement(i.IconButton,{key:"expandVisible",color:"primary",onClick:()=>this.onExpandVisible(),size:"large"},e.default.createElement(nn,{badgeContent:this.state.depth,color:"secondary"},e.default.createElement(S.default,null)))),e.default.createElement(i.Tooltip,{title:this.props.t("ra_Collapse one step node"),classes:{popper:this.props.classes.tooltip}},e.default.createElement(i.IconButton,{key:"collapseVisible",color:"primary",onClick:()=>this.onCollapseVisible(),size:"large"},e.default.createElement(nn,{badgeContent:this.state.depth,color:"secondary"},e.default.createElement(m.default,null)))),this.props.objectStatesView&&e.default.createElement(i.Tooltip,{title:this.props.t("ra_Toggle the states view"),classes:{popper:this.props.classes.tooltip}},e.default.createElement(i.IconButton,{onClick:()=>this.onStatesViewVisible(),size:"large"},e.default.createElement(n.LooksOne,{color:this.state.statesView?"primary":"inherit"}))),e.default.createElement(i.Tooltip,{title:this.props.t("ra_Show/Hide object descriptions"),classes:{popper:this.props.classes.tooltip}},e.default.createElement(i.IconButton,{onClick:()=>{this.localStorage.setItem(`${this.props.dialogName||"App"}.desc`,this.state.showDescription?"false":"true"),this.setState({showDescription:!this.state.showDescription})},size:"large"},e.default.createElement(n.TextFields,{color:this.state.showDescription?"primary":"inherit"}))),this.props.objectAddBoolean?e.default.createElement(i.Tooltip,{title:this.toolTipObjectCreating(),classes:{popper:this.props.classes.tooltip}},e.default.createElement("div",null,e.default.createElement(i.IconButton,{disabled:!$,onClick:()=>this.setState({modalNewObj:{id:this.state.selected[0]||this.state.selectedNonObject}}),size:"large"},e.default.createElement(n.Add,null)))):null,this.props.objectImportExport&&e.default.createElement(i.Tooltip,{title:this.props.t("ra_Add objects tree from JSON file"),classes:{popper:this.props.classes.tooltip}},e.default.createElement(i.IconButton,{onClick:()=>{const H=document.createElement("input");H.setAttribute("type","file"),H.setAttribute("id","files"),H.setAttribute("opacity","0"),H.addEventListener("change",G=>this.handleJsonUpload(G),!1),H.click()},size:"large"},e.default.createElement(n.Publish,null))),this.props.objectImportExport&&(!!this.state.selected.length||this.state.selectedNonObject)&&e.default.createElement(i.Tooltip,{title:this.props.t("ra_Save objects tree as JSON file"),classes:{popper:this.props.classes.tooltip}},e.default.createElement(i.IconButton,{onClick:()=>this.setState({showExportDialog:this._getSelectedIdsForExport().length}),size:"large"},e.default.createElement(n.Publish,{style:{transform:"rotate(180deg)"}})))),!!this.props.objectBrowserEditObject&&e.default.createElement("div",{style:{display:"flex",whiteSpace:"nowrap"}},`${this.props.t("ra_Objects")}: ${Object.keys(this.info.objects).length}, ${this.props.t("ra_States")}: ${Object.keys(this.info.objects).filter(H=>this.info.objects[H].type==="state").length}`),this.props.objectEditBoolean&&e.default.createElement(i.Tooltip,{title:this.props.t("ra_Edit custom config"),classes:{popper:this.props.classes.tooltip}},e.default.createElement(i.IconButton,{onClick:()=>{var H;const G=this.root?tn(this.root,"state",this.objects):[];G.length?(this.pauseSubscribe(!0),G.length===1&&(this.localStorage.setItem(`${this.props.dialogName||"App"}.objectSelected`,this.state.selected[0]),(H=this.props.router)===null||H===void 0||H.doNavigate(null,"custom",this.state.selected[0])),this.setState({customDialog:G,customDialogAll:!0})):this.setState({toast:this.props.t("ra_please select object")})},size:"large"},e.default.createElement(n.Build,null))))}toggleExpanded($){const H=JSON.parse(JSON.stringify(this.state.expanded)),G=H.indexOf($);G===-1?(H.push($),H.sort()):H.splice(G,1),this.localStorage.setItem(`${this.props.dialogName||"App"}.objectExpanded`,JSON.stringify(H)),this.setState({expanded:H})}onCopy($,H){$.stopPropagation(),$.preventDefault(),_.default.copyToClipboard(H),H.length<50?this.setState({toast:this.props.t("ra_Copied %s",H)}):this.setState({toast:this.props.t("ra_Copied")})}renderColumnButtons($,H,G){var Z,ne,le;if(!H.data.obj)return this.props.onObjectDelete||this.props.objectEditOfAccessControl?e.default.createElement("div",{className:G.buttonDiv},this.state.filter.expertMode&&this.props.objectEditOfAccessControl?e.default.createElement(i.IconButton,{className:_.default.clsx(G.cellButtonsButton,G.cellButtonsEmptyButton,G.cellButtonMinWidth),onClick:()=>this.setState({modalEditOfAccess:!0,modalEditOfAccessObjData:H.data}),size:"large"},"---"):null,this.props.onObjectDelete&&H.children&&H.children.length?e.default.createElement(i.IconButton,{className:_.default.clsx(G.cellButtonsButton,G.cellButtonsButtonAlone),size:"small","aria-label":"delete",title:this.texts.deleteObject,onClick:()=>{var Ne;const Ye=Object.keys(this.objects);Ye.sort();let ft=0;const at=`${$}.`;for(let ae=0;ae<Ye.length;ae++)if(Ye[ae].startsWith(at))ft++;else if(Ye[ae]>at)break;this.props.onObjectDelete&&this.props.onObjectDelete($,!!(!((Ne=H.children)===null||Ne===void 0)&&Ne.length),!1,ft+1)}},e.default.createElement(n.Delete,{className:G.cellButtonsButtonIcon})):null):null;H.data.aclTooltip=H.data.aclTooltip||this.renderTooltipAccessControl(H.data.obj.acl);const De=H.data.obj.acl?H.data.obj.type==="state"?H.data.obj.acl.state:H.data.obj.acl.object:0,me=H.data.obj.acl&&(H.data.obj.type==="state"?this.systemConfig.common.defaultNewAcl.state:this.systemConfig.common.defaultNewAcl.object),Le=this.state.filter.expertMode||D.isNonExpertId(H.data.id);return[this.state.filter.expertMode&&this.props.objectEditOfAccessControl?e.default.createElement(i.Tooltip,{key:"acl",title:H.data.aclTooltip,classes:{popper:this.props.classes.tooltip}},e.default.createElement(i.IconButton,{className:G.cellButtonMinWidth,onClick:()=>this.setState({modalEditOfAccess:!0,modalEditOfAccessObjData:H.data}),size:"large"},e.default.createElement("div",{className:G.aclText},Number.isNaN(Number(De))?Number(me).toString(16):Number(De).toString(16)))):e.default.createElement("div",{key:"aclEmpty",className:G.cellButtonMinWidth}),Le?e.default.createElement(i.IconButton,{key:"edit",className:G.cellButtonsButton,size:"small","aria-label":"edit",title:this.texts.editObject,onClick:()=>{this.localStorage.setItem(`${this.props.dialogName||"App"}.objectSelected`,$),this.setState({editObjectDialog:$,editObjectAlias:!1})}},e.default.createElement(n.Edit,{className:G.cellButtonsButtonIcon})):e.default.createElement("div",{key:"editDisabled",className:G.cellButtonsButton}),this.props.onObjectDelete&&(!((Z=H.children)===null||Z===void 0)&&Z.length||!(!((ne=H.data.obj.common)===null||ne===void 0)&&ne.dontDelete))?e.default.createElement(i.IconButton,{key:"delete",className:G.cellButtonsButton,size:"small","aria-label":"delete",onClick:()=>{var Ne,Ye,ft;const at=Object.keys(this.objects);at.sort();let ae=0;const Ee=`${$}.`;for(let fe=0;fe<at.length;fe++)if(at[fe].startsWith(Ee))ae++;else if(at[fe]>Ee)break;this.props.onObjectDelete&&this.props.onObjectDelete($,!!(!((Ne=H.children)===null||Ne===void 0)&&Ne.length),!(!((ft=(Ye=H.data.obj)===null||Ye===void 0?void 0:Ye.common)===null||ft===void 0)&&ft.dontDelete),ae)},title:this.texts.deleteObject},e.default.createElement(n.Delete,{className:G.cellButtonsButtonIcon})):null,this.props.objectCustomDialog&&this.info.hasSomeCustoms&&H.data.obj.type==="state"&&((le=H.data.obj.common)===null||le===void 0?void 0:le.type)!=="file"?e.default.createElement(i.IconButton,{className:_.default.clsx(G.cellButtonsButton,H.data.hasCustoms?G.cellButtonsButtonWithCustoms:G.cellButtonsButtonWithoutCustoms),key:"custom",size:"small","aria-label":"config",title:this.texts.customConfig,onClick:()=>{var Ne;this.localStorage.setItem(`${this.props.dialogName||"App"}.objectSelected`,$),this.pauseSubscribe(!0),(Ne=this.props.router)===null||Ne===void 0||Ne.doNavigate(null,"customs",$),this.setState({customDialog:[$],customDialogAll:!1})}},e.default.createElement(n.Settings,{className:G.cellButtonsButtonIcon})):null]}readHistory($){var H,G;if(window.sparkline&&this.defaultHistory&&(!((G=(H=this.objects[$])===null||H===void 0?void 0:H.common)===null||G===void 0)&&G.custom)&&this.objects[$].common.custom[this.defaultHistory]){const Z=new Date;Z.setHours(Z.getHours()-24),Z.setMinutes(0),Z.setSeconds(0),Z.setMilliseconds(0);const ne=Z.getTime();this.props.socket.getHistory($,{instance:this.defaultHistory,start:ne,end:Date.now(),step:36e5,from:!1,ack:!1,q:!1,addID:!1,aggregate:"minmax"}).then(le=>{const De=window.document.getElementsByClassName("sparkline");for(let me=0;me<De.length;me++)if(De[me].dataset.id===$){const Le=Oe(le,ne);window.sparkline.sparkline(De[me],Le);break}}).catch(le=>console.warn(`Cannot read history: ${le}`))}}renderColumnValue($,H,G){var Z,ne,le;const De=H.data.obj;if(!De||!this.states)return null;if(((Z=De.common)===null||Z===void 0?void 0:Z.type)==="file")return e.default.createElement("div",{className:_.default.clsx(G.cellValueText,G.cellValueFile)},"[file]");if(!this.states[$])return De.type==="state"&&(!this.recordStates.includes($)&&this.recordStates.push($),this.states[$]={val:null},this.subscribe($)),null;!this.recordStates.includes($)&&this.recordStates.push($);const me=this.states[$];let Le=H.data.state;if(!Le){const{valFull:Ye,valText:ft}=Bt({state:me,obj:De,texts:this.texts,dateFormat:this.props.dateFormat||this.systemConfig.common.dateFormat,isFloatComma:this.props.isFloatComma===void 0?this.systemConfig.common.isFloatComma:this.props.isFloatComma}),at=[],ae=[];H.data.state={valFullRx:at,valTextRx:ae},Ye.forEach(fe=>{fe.t===this.texts.quality&&me.q?(at.push(e.default.createElement("div",{className:G.cellValueTooltipBoth,key:fe.t},fe.t,":\xA0",fe.v)),!fe.nbr&&at.push(e.default.createElement("br",{key:`${fe.t}_br`}))):(at.push(e.default.createElement("div",{className:G.cellValueTooltipTitle,key:fe.t},fe.t,":\xA0")),at.push(e.default.createElement("div",{className:G.cellValueTooltipValue,key:`${fe.t}_v`},fe.v)),!fe.nbr&&at.push(e.default.createElement("br",{key:`${fe.t}_br`})))}),this.defaultHistory&&(!((le=(ne=this.objects[$])===null||ne===void 0?void 0:ne.common)===null||le===void 0)&&le.custom)&&this.objects[$].common.custom[this.defaultHistory]&&at.push(e.default.createElement("svg",{key:"sparkline",className:"sparkline","data-id":$,style:{fill:"#3d85de"},width:"200",height:"30",strokeWidth:"3"}));const Ee=ft.v||"";ae.push(e.default.createElement("span",{className:G.newValue,key:`${ft.v.toString()}valText`},ft.v.toString())),ft.u&&ae.push(e.default.createElement("span",{className:_.default.clsx(G.cellValueTextUnit,G.newValue),key:`${ft.v.toString()}unit`},ft.u)),ft.s!==void 0&&ae.push(e.default.createElement("span",{className:_.default.clsx(G.cellValueTextState,G.newValue),key:`${ft.v.toString()}states`},"(",ft.s,")")),ae.push(e.default.createElement(w.default,{className:_.default.clsx(G.cellButtonsValueButton,"copyButton",G.cellButtonsValueButtonCopy),onClick:fe=>this.onCopy(fe,Ee),key:"cc"})),Le=H.data.state}Le.style=Gt({state:me,isExpertMode:this.state.filter.expertMode,isButton:H.data.button});let Ne=Le.valTextRx;return!this.state.filter.expertMode&&H.data.button&&(Ne=[e.default.createElement(n.RoomService,{className:this.props.classes.cellValueButton})]),e.default.createElement(i.Tooltip,{key:"value",title:Le.valFullRx,classes:{tooltip:this.props.classes.cellValueTooltip,popper:this.props.classes.cellValueTooltipBox},onOpen:()=>this.readHistory($)},e.default.createElement("div",{style:Le.style,className:G.cellValueText},Ne))}_syncEnum($,H,G,Z){var ne,le,De;if(!H||!H.length){Z&&Z();return}const me=H.pop()||"",Le=[];if(!((ne=this.info.objects[me])===null||ne===void 0)&&ne.common){if(!((le=this.info.objects[me].common.members)===null||le===void 0)&&le.length){const Ne=this.info.objects[me].common.members.indexOf($);if(Ne!==-1&&!G.includes(me)){const Ye=JSON.parse(JSON.stringify(this.info.objects[me]));Ye.common.members.splice(Ne,1),Le.push(this.props.socket.setObject(me,Ye).then(()=>this.info.objects[me]=Ye).catch(ft=>this.showError(ft)))}}if(G.includes(me)&&!(!((De=this.info.objects[me].common.members)===null||De===void 0)&&De.includes($))){const Ne=JSON.parse(JSON.stringify(this.info.objects[me]));Ne.common.members=Ne.common.members||[],Ne.common.members.push($),Ne.common.members.sort(),Le.push(this.props.socket.setObject(me,Ne).then(()=>this.info.objects[me]=Ne).catch(Ye=>this.showError(Ye)))}}Promise.all(Le).then(()=>{setTimeout(()=>this._syncEnum($,H,G,Z),0)})}syncEnum($,H,G){const Z=[...this.info[H==="func"?"funcEnums":"roomEnums"]];return new Promise(ne=>{this._syncEnum($,Z,G,()=>{ne()})})}renderEnumDialog(){if(!this.state.enumDialog)return null;const $=this.state.enumDialog.type,H=this.state.enumDialog.item,G=this.state.enumDialogEnums,Z=this.state.enumDialog.enumsOriginal,ne=($==="room"?this.info.roomEnums:this.info.funcEnums).map(le=>{var De,me;return{name:Xt(((me=(De=this.objects[le])===null||De===void 0?void 0:De.common)===null||me===void 0?void 0:me.name)||le.split(".").pop()||"",this.props.lang),value:le,icon:on(this.objects,le,this.imagePrefix)}}).sort((le,De)=>le.name>De.name?1:-1);return ne.forEach(le=>{le.icon&&typeof le.icon=="string"&&(le.icon=e.default.createElement("div",{className:this.props.classes.enumIconDiv},e.default.createElement("img",{src:le.icon,className:this.props.classes.enumIcon,alt:le.name})))}),e.default.createElement(i.Dialog,{className:this.props.classes.enumDialog,onClose:()=>this.setState({enumDialog:null}),"aria-labelledby":"enum-dialog-title",open:!0},e.default.createElement(i.DialogTitle,{id:"enum-dialog-title"},$==="func"?this.props.t("ra_Define functions"):this.props.t("ra_Define rooms"),e.default.createElement(i.Fab,{className:this.props.classes.enumButton,color:"primary",disabled:Z===JSON.stringify(G),size:"small",onClick:()=>this.syncEnum(H.data.id,$,G).then(()=>this.setState({enumDialog:null,enumDialogEnums:null}))},e.default.createElement(n.Check,null))),e.default.createElement(i.List,{classes:{root:this.props.classes.enumList}},ne.map(le=>{let De,me,Le;typeof le=="object"?(De=le.value,me=le.name,Le=le.icon):(De=le,me=le);const Ne=`checkbox-list-label-${De}`;return e.default.createElement(i.ListItem,{className:this.props.classes.headerCellSelectItem,key:De,onClick:()=>{const Ye=G.indexOf(De),ft=JSON.parse(JSON.stringify(this.state.enumDialogEnums));Ye===-1?(ft.push(De),ft.sort()):ft.splice(Ye,1),this.setState({enumDialogEnums:ft})}},e.default.createElement(i.ListItemIcon,{classes:{root:this.props.classes.enumCheckbox}},e.default.createElement(i.Checkbox,{edge:"start",checked:G.includes(De),tabIndex:-1,disableRipple:!0,inputProps:{"aria-labelledby":Ne}})),e.default.createElement(i.ListItemText,{id:Ne},me),Le?e.default.createElement(i.ListItemSecondaryAction,null,Le):null)})))}renderEditRoleDialog(){if(!this.state.roleDialog||!this.props.objectBrowserEditRole)return null;if(this.state.roleDialog&&this.props.objectBrowserEditRole){const $=this.props.objectBrowserEditRole;return e.default.createElement($,{key:"objectBrowserEditRole",id:this.state.roleDialog,socket:this.props.socket,t:this.props.t,roles:this.info.roles,onClose:H=>{H&&(this.info.objects[this.state.roleDialog]=H),this.setState({roleDialog:null})}})}return null}onColumnsEditCustomDialogClose($){var H,G;const Z=this.customColumnDialog;if($){let ne=Z.value;Z.type==="boolean"?ne=ne==="true"||ne===!0:Z.type==="number"&&(ne=parseFloat(ne)),this.customColumnDialog=null,this.props.socket.getObject(((G=(H=this.state.columnsEditCustomDialog)===null||H===void 0?void 0:H.obj)===null||G===void 0?void 0:G._id)||"").then(le=>{var De;if(le&&D.setCustomValue(le,(De=this.state.columnsEditCustomDialog)===null||De===void 0?void 0:De.it,ne))return this.props.socket.setObject(le._id,le);throw new Error(this.props.t("ra_Cannot update attribute, because not found in the object"))}).then(()=>this.setState({columnsEditCustomDialog:null})).catch(le=>this.showError(le))}else this.customColumnDialog=null,this.setState({columnsEditCustomDialog:null})}renderColumnsEditCustomDialog(){if(!this.state.columnsEditCustomDialog)return null;if(!this.customColumnDialog){const $=D.getCustomValue(this.state.columnsEditCustomDialog.obj,this.state.columnsEditCustomDialog.it);this.customColumnDialog={type:this.state.columnsEditCustomDialog.it.type||typeof $,initValue:($==null?"":$).toString(),value:($==null?"":$).toString()}}return e.default.createElement(i.Dialog,{onClose:()=>this.setState({columnsEditCustomDialog:null}),maxWidth:"md","aria-labelledby":"custom-dialog-title",open:!0},e.default.createElement(i.DialogTitle,{id:"custom-dialog-title"},`${this.props.t("ra_Edit object field")}: ${this.state.columnsEditCustomDialog.obj._id}`),e.default.createElement(i.DialogContent,null,e.default.createElement(i.DialogContentText,{id:"alert-dialog-description"},this.customColumnDialog.type==="boolean"?e.default.createElement(i.FormControlLabel,{control:e.default.createElement(i.Checkbox,{onKeyUp:$=>$.key==="Enter"&&this.onColumnsEditCustomDialogClose(!0),defaultChecked:this.customColumnDialog.value==="true",onChange:$=>{const H=this.customColumnDialog;H.value=$.target.checked.toString();const G=H.value!==H.initValue;G===!this.state.customColumnDialogValueChanged&&this.setState({customColumnDialogValueChanged:G})}}),label:`${this.state.columnsEditCustomDialog.it.name} (${this.state.columnsEditCustomDialog.it.pathText})`}):e.default.createElement(i.TextField,{variant:"standard",defaultValue:this.customColumnDialog.value,fullWidth:!0,onKeyUp:$=>$.key==="Enter"&&this.onColumnsEditCustomDialogClose(!0),label:`${this.state.columnsEditCustomDialog.it.name} (${this.state.columnsEditCustomDialog.it.pathText})`,onChange:$=>{const H=this.customColumnDialog;H.value=$.target.value;const G=H.value!==H.initValue;G===!this.state.customColumnDialogValueChanged&&this.setState({customColumnDialogValueChanged:G})},autoFocus:!0}))),e.default.createElement(i.DialogActions,null,e.default.createElement(i.Button,{variant:"contained",onClick:()=>this.onColumnsEditCustomDialogClose(!0),disabled:!this.state.customColumnDialogValueChanged,color:"primary",startIcon:e.default.createElement(n.Check,null)},this.props.t("ra_Update")),e.default.createElement(i.Button,{color:"grey",variant:"contained",onClick:()=>this.onColumnsEditCustomDialogClose(),startIcon:e.default.createElement(n.Close,null)},this.props.t("ra_Cancel"))))}static getCustomValue($,H){var G;if(!((G=$==null?void 0:$._id)===null||G===void 0)&&G.startsWith(`${H.adapter}.`)&&H.path.length>1){const Z=H.path;let ne;const le=$;if(le[Z[0]]&&typeof le[Z[0]]=="object")return Z.length===2?ne=le[Z[0]][Z[1]]:Z.length===3?ne=le[Z[0]][Z[1]]&&typeof le[Z[0]][Z[1]]=="object"?le[Z[0]][Z[1]][Z[2]]:null:Z.length===4?ne=le[Z[0]][Z[1]]&&typeof le[Z[0]][Z[1]]=="object"&&le[Z[0]][Z[1]][Z[2]]?le[Z[0]][Z[1]][Z[2]][Z[3]]:null:Z.length===5?ne=le[Z[0]][Z[1]]&&typeof le[Z[0]][Z[1]]=="object"&&le[Z[0]][Z[1]][Z[2]]&&le[Z[0]][Z[1]][Z[2]][Z[3]]?le[Z[0]][Z[1]][Z[2]][Z[3]][Z[4]]:null:Z.length===6&&(ne=le[Z[0]][Z[1]]&&typeof le[Z[0]][Z[1]]=="object"&&le[Z[0]][Z[1]][Z[2]]&&le[Z[0]][Z[1]][Z[2]][Z[3]]&&le[Z[0]][Z[1]][Z[2]][Z[3]][Z[4]]?le[Z[0]][Z[1]][Z[2]][Z[3]][Z[4]][Z[5]]:null),ne==null?null:ne}return null}static setCustomValue($,H,G){var Z;if(!((Z=$==null?void 0:$._id)===null||Z===void 0)&&Z.startsWith(`${H.adapter}.`)&&H.path.length>1){const ne=H.path,le=$;if(le[ne[0]]&&typeof le[ne[0]]=="object"){if(ne.length===2)return le[ne[0]][ne[1]]=G,!0;if(ne.length===3){if(le[ne[0]][ne[1]]&&typeof le[ne[0]][ne[1]]=="object")return le[ne[0]][ne[1]][ne[2]]=G,!0}else if(ne.length===4){if(le[ne[0]][ne[1]]&&typeof le[ne[0]][ne[1]]=="object"&&le[ne[0]][ne[1]][ne[2]]&&typeof le[ne[0]][ne[1]][ne[2]]=="object")return le[ne[0]][ne[1]][ne[2]][ne[3]]=G,!0}else if(ne.length===5){if(le[ne[0]][ne[1]]&&typeof le[ne[0]][ne[1]]=="object"&&le[ne[0]][ne[1]][ne[2]]&&typeof le[ne[0]][ne[1]][ne[2]]=="object"&&le[ne[0]][ne[1]][ne[2]][ne[3]]&&typeof le[ne[0]][ne[1]][ne[2]][ne[3]]=="object")return le[ne[0]][ne[1]][ne[2]][ne[3]][ne[4]]=G,!0}else if(ne.length===6&&le[ne[0]][ne[1]]&&typeof le[ne[0]][ne[1]]=="object"&&le[ne[0]][ne[1]][ne[2]]&&typeof le[ne[0]][ne[1]][ne[2]]=="object"&&le[ne[0]][ne[1]][ne[2]][ne[3]]&&typeof le[ne[0]][ne[1]][ne[2]][ne[3]]=="object"&&le[ne[0]][ne[1]][ne[2]][ne[3]][ne[4]]&&typeof le[ne[0]][ne[1]][ne[2]][ne[3]][ne[4]]=="object")return le[ne[0]][ne[1]][ne[2]][ne[3]][ne[4]][ne[5]]=G,!0}}return!1}renderCustomValue($,H,G){const Z=D.getCustomValue($,H);return Z!=null?H.edit&&!this.props.notEditable&&(!H.objTypes||H.objTypes.includes($.type))?e.default.createElement("div",{className:_.default.clsx(this.props.classes.columnCustom,this.props.classes.columnCustomEditable,this.props.classes[`columnCustom_${H.align}`]),onClick:()=>this.setState({columnsEditCustomDialog:{item:G,it:H,obj:$},customColumnDialogValueChanged:!1})},Z):e.default.createElement("div",{className:_.default.clsx(this.props.classes.columnCustom,this.props.classes[`columnCustom_${H.align}`])},Z):null}renderLeaf($,H,G,Z){var ne,le,De,me,Le,Ne,Ye,ft,at;const ae=$.data.id;Z.count++,H=H===void 0?this.state.expanded.includes(ae):H;let Ee;const fe=$.data.obj,ke=fe==null?void 0:fe.type;$.children||ke==="folder"||ke==="device"||ke==="channel"||ke==="meta"?Ee=H?e.default.createElement(S.default,{className:G.cellIdIconFolder,onClick:()=>this.toggleExpanded(ae)}):e.default.createElement(m.default,{className:G.cellIdIconFolder,onClick:()=>this.toggleExpanded(ae)}):fe&&fe.common&&fe.common.write===!1&&fe.type==="state"?Ee=e.default.createElement(f.default,{className:G.cellIdIconDocument}):Ee=e.default.createElement(k.default,{className:G.cellIdIconDocument});let we=null;$.data.icon&&(typeof $.data.icon=="string"?$.data.icon.length<3?we=e.default.createElement("span",{className:_.default.clsx(G.cellIdIconOwn,"iconOwn")},$.data.icon):we=e.default.createElement(P.default,{className:_.default.clsx(G.cellIdIconOwn,"iconOwn"),src:$.data.icon,alt:""}):we=$.data.icon);const Te=fe==null?void 0:fe.common,Se=(fe==null?void 0:fe.type)&&j.ITEM_IMAGES[fe.type]||e.default.createElement("div",{className:"itemIcon"}),et=this.levelPadding*($.data.level||0);if($.data.lang!==this.props.lang){const{rooms:Et,per:sn}=pt(this.info,ae,this.props.lang);$.data.rooms=Et.join(", "),$.data.per=sn;const{funcs:Sn,pef:Fn}=lt(this.info,ae,this.props.lang);$.data.funcs=Sn.join(", "),$.data.pef=Fn,$.data.lang=this.props.lang}const yt=this.props.multiSelect&&this.objects[ae]&&(!this.props.types||this.props.types.includes(this.objects[ae].type))?e.default.createElement(i.Checkbox,{className:G.checkBox,checked:this.state.selected.includes(ae)}):null;let Vt=!this.props.notEditable&&ke==="state"&&(this.state.filter.expertMode||(Te==null?void 0:Te.write)!==!1);this.props.objectBrowserViewFile&&(Te==null?void 0:Te.type)==="file"&&(Vt=!0);const Ut=!this.props.notEditable&&this.objects[ae]&&(this.state.filter.expertMode||ke==="state"||ke==="channel"||ke==="device"),An=this.state.statesView&&(ke==="state"||ke==="channel"||ke==="device");let dn="";const mn=[];if(An&&(dn=(ne=this.states[ae])===null||ne===void 0?void 0:ne.from,dn===void 0?dn="&nbsp;":(dn=dn?dn.replace(/^system\.adapter\.|^system\./,""):"",mn.push(`${this.texts.stateChangedFrom} ${dn}`)),fe!=null&&fe.user)){const Et=fe.user.replace("system.user.","");dn+=`/${Et}`,mn.push(`${this.texts.stateChangedBy} ${Et}`)}fe&&(fe.from&&mn.push(`${this.texts.objectChangedFrom} ${fe.from.replace(/^system\.adapter\.|^system\./,"")}`),fe.user&&mn.push(`${this.texts.objectChangedBy} ${fe.user.replace(/^system\.user\./,"")}`),fe.ts&&mn.push(`${this.texts.objectChangedByUser} ${_.default.formatDate(new Date(fe.ts),this.props.dateFormat||this.systemConfig.common.dateFormat)}`));const Vn=typeof((le=Te==null?void 0:Te.alias)===null||le===void 0?void 0:le.id)=="object",jn=ae.startsWith("alias.")&&(!((De=Te==null?void 0:Te.alias)===null||De===void 0)&&De.id)?Vn?e.default.createElement("div",{className:G.cellIdAliasReadWriteDiv},Te.alias.id.read?e.default.createElement("div",{onClick:Et=>{Et.stopPropagation(),Et.preventDefault(),this.onSelect(Te.alias.id.read),setTimeout(()=>this.expandAllSelected(()=>this.scrollToItem(Te.alias.id.read)),100)},className:_.default.clsx(G.cellIdAlias,G.cellIdAliasReadWrite)},"\u2190",Te.alias.id.read):null,Te.alias.id.write?e.default.createElement("div",{onClick:Et=>{Et.stopPropagation(),Et.preventDefault(),this.onSelect(Te.alias.id.write),setTimeout(()=>this.expandAllSelected(()=>this.scrollToItem(Te.alias.id.write)),100)},className:_.default.clsx(G.cellIdAlias,G.cellIdAliasReadWrite)},"\u2192",Te.alias.id.write):null):e.default.createElement("div",{onClick:Et=>{Et.stopPropagation(),Et.preventDefault(),this.onSelect(Te.alias.id),setTimeout(()=>this.expandAllSelected(()=>this.scrollToItem(Te.alias.id)),100)},className:_.default.clsx(G.cellIdAlias,G.cellIdAliasAlone)},"\u2192",Te.alias.id):null;let un=Te==null?void 0:Te.color,In;if(un&&!this.state.selected.includes(ae)){const Et=this.props.themeName==="dark"?"#1f1f1f":this.props.themeName==="blue"?"#222a2e":"#FFFFFF";_.default.colorDistance(un,Et)<1e3&&(In=this.props.themeType==="dark"?"#9a9a9a":"#565656")}let Qn=!1;ae==="0_userdata"?(un=J(this.props.themeType),Qn=!0):ae==="alias"?(un=Q(this.props.themeType),Qn=!0):ae==="javascript"?(un=ee(this.props.themeType),Qn=!0):ae==="system"?(un=se(this.props.themeType),Qn=!0):ae==="system.adapter"?un=ue(this.props.themeType):(!un||this.state.selected.includes(ae))&&(un="inherit");const Ht=[];if(Te!=null&&Te.statusStates){const Et={};Object.keys(Te.statusStates).forEach(Sn=>{var Fn;let bn=Te.statusStates[Sn];bn.split(".").length<3&&(bn=`${ae}.${bn}`),Et[Sn]=bn,this.states[bn]?!this.recordStates.includes(bn)&&this.recordStates.push(bn):((Fn=this.objects[bn])===null||Fn===void 0?void 0:Fn.type)==="state"&&(!this.recordStates.includes(bn)&&this.recordStates.push(bn),this.states[bn]={val:null},this.subscribe(bn))});let sn=!1;Te.statusStates.errorId&&this.states[Et.errorId]&&this.states[Et.errorId].val&&(un=this.props.themeType==="dark"?xe:_e,sn=!0,Ht.push(e.default.createElement(n.Error,{key:"error",className:this.props.classes.iconDeviceError}))),Et.onlineId&&this.states[Et.onlineId]?sn?this.states[Et.onlineId].val?Ht.push(e.default.createElement(n.Wifi,{key:"conn",className:this.props.classes.iconDeviceConnected})):Ht.push(e.default.createElement(n.WifiOff,{key:"disc",className:this.props.classes.iconDeviceDisconnected})):this.states[Et.onlineId].val?(un=this.props.themeType==="dark"?Je:Be,Ht.push(e.default.createElement(n.Wifi,{key:"conn",className:this.props.classes.iconDeviceConnected}))):(un=this.props.themeType==="dark"?He:Xe,Ht.push(e.default.createElement(n.WifiOff,{key:"disc",className:this.props.classes.iconDeviceDisconnected}))):Et.offlineId&&this.states[Et.offlineId]&&(sn?this.states[Et.offlineId].val?Ht.push(e.default.createElement(n.WifiOff,{key:"disc",className:this.props.classes.iconDeviceDisconnected})):Ht.push(e.default.createElement(n.Wifi,{key:"conn",className:this.props.classes.iconDeviceConnected})):this.states[Et.offlineId].val?(un=this.props.themeType==="dark"?He:Xe,Ht.push(e.default.createElement(n.WifiOff,{key:"disc",className:this.props.classes.iconDeviceDisconnected}))):(un=this.props.themeType==="dark"?Je:Be,Ht.push(e.default.createElement(n.Wifi,{key:"conn",className:this.props.classes.iconDeviceConnected}))))}const xn=An?_.default.quality2text(((me=this.states[ae])===null||me===void 0?void 0:me.q)||0).join(", "):null;let jt=((Le=$.data)===null||Le===void 0?void 0:Le.title)||"",fn=!1;if(this.state.showDescription){const Et=Cn($.data,this.props.lang);Et&&(jt=[e.default.createElement("div",{key:"name",className:G.cellNameDivDiv},jt),e.default.createElement("div",{key:"desc",className:G.cellDescription},Et)],fn=!!Et)}return e.default.createElement(i.Grid,{container:!0,direction:"row",wrap:"nowrap",className:_.default.clsx(G.tableRow,this.state.linesEnabled&&G.tableRowLines,!this.props.dragEnabled&&G.tableRowNoDragging,jn&&G.tableRowAlias,Vn&&G.tableRowAliasReadWrite,!$.data.visible&&G.filteredOut,$.data.hasVisibleParent&&!$.data.visible&&!$.data.hasVisibleChildren&&G.filteredParentOut,this.state.selected.includes(ae)&&G.itemSelected,this.state.selectedNonObject===ae&&G.itemSelected),key:ae,id:ae,onMouseDown:Et=>{this.onSelect(ae);let sn;"which"in Et?sn=Et.which===3:"button"in Et&&(sn=Et.button===2),sn?this.contextMenu={item:$,ts:Date.now()}:this.contextMenu=null},onDoubleClick:()=>{$.children?this.toggleExpanded(ae):this.onSelect(ae,!0)}},e.default.createElement(i.Grid,{container:!0,wrap:"nowrap",direction:"row",className:G.cellId,style:{width:this.columnsVisibility.id,paddingLeft:et}},e.default.createElement(i.Grid,{item:!0,container:!0,alignItems:"center"},yt,Ee),e.default.createElement(i.Grid,{item:!0,style:{color:un,fontWeight:Qn?"bold":void 0},className:_.default.clsx(G.cellIdSpan,In&&G.invertedBackground)},e.default.createElement(i.Tooltip,{title:Tn($.data,this.props.classes,this.props.lang),classes:{popper:this.props.classes.tooltip}},e.default.createElement("div",null,$.data.name)),jn,Ht),e.default.createElement("div",{className:_.default.clsx(G.grow,In&&G.invertedBackgroundFlex)}),e.default.createElement(i.Grid,{item:!0,container:!0,alignItems:"center"},we),e.default.createElement("div",null,e.default.createElement(w.default,{className:_.default.clsx(G.cellCopyButton,"copyButton"),onClick:Et=>this.onCopy(Et,ae)}))),this.columnsVisibility.name?e.default.createElement("div",{className:_.default.clsx(G.cellName,fn&&G.cellNameWithDesc),style:{width:this.columnsVisibility.name}},jt,!((Ne=$.data)===null||Ne===void 0)&&Ne.title?e.default.createElement("div",{style:{color:un}},e.default.createElement(w.default,{className:_.default.clsx(G.cellCopyButton,"copyButton"),onClick:Et=>{var sn;return this.onCopy(Et,(sn=$.data)===null||sn===void 0?void 0:sn.title)}})):null):null,this.state.statesView?e.default.createElement(e.default.Fragment,null,this.columnsVisibility.changedFrom?e.default.createElement("div",{className:G.cellRole,style:{width:this.columnsVisibility.changedFrom},title:mn.join(`
`)},An&&(!((Ye=this.states[ae])===null||Ye===void 0)&&Ye.from)?dn:null):null,this.columnsVisibility.qualityCode?e.default.createElement("div",{className:G.cellRole,style:{width:this.columnsVisibility.qualityCode},title:xn||""},xn):null,this.columnsVisibility.timestamp?e.default.createElement("div",{className:G.cellRole,style:{width:this.columnsVisibility.timestamp}},An&&(!((ft=this.states[ae])===null||ft===void 0)&&ft.ts)?_.default.formatDate(new Date(this.states[ae].ts),this.props.dateFormat||this.systemConfig.common.dateFormat):null):null,this.columnsVisibility.lastChange?e.default.createElement("div",{className:G.cellRole,style:{width:this.columnsVisibility.lastChange}},An&&(!((at=this.states[ae])===null||at===void 0)&&at.lc)?_.default.formatDate(new Date(this.states[ae].lc),this.props.dateFormat||this.systemConfig.common.dateFormat):null):null):e.default.createElement(e.default.Fragment,null,this.columnsVisibility.type?e.default.createElement("div",{className:G.cellType,style:{width:this.columnsVisibility.type}},Se,"\xA0",fe&&fe.type):null,this.columnsVisibility.role?e.default.createElement("div",{className:G.cellRole,style:{width:this.columnsVisibility.role,cursor:this.state.filter.expertMode&&Ut&&this.props.objectBrowserEditRole?"text":"default"},onClick:this.state.filter.expertMode&&Ut&&this.props.objectBrowserEditRole?()=>this.setState({roleDialog:$.data.id}):void 0},Te==null?void 0:Te.role):null,this.columnsVisibility.room?e.default.createElement("div",{className:`${G.cellRoom} ${$.data.per?G.cellEnumParent:""}`,style:{width:this.columnsVisibility.room,cursor:Ut?"text":"default"},onClick:Ut?()=>{const Et=mt(this.info,$.data.id,"roomEnums");this.setState({enumDialogEnums:Et,enumDialog:{item:$,type:"room",enumsOriginal:JSON.stringify(Et)}})}:void 0},$.data.rooms):null,this.columnsVisibility.func?e.default.createElement("div",{className:`${G.cellFunc} ${$.data.pef?G.cellEnumParent:""}`,style:{width:this.columnsVisibility.func,cursor:Ut?"text":"default"},onClick:Ut?()=>{const Et=mt(this.info,$.data.id,"funcEnums");this.setState({enumDialogEnums:Et,enumDialog:{item:$,type:"func",enumsOriginal:JSON.stringify(Et)}})}:void 0},$.data.funcs):null),this.adapterColumns.map(Et=>e.default.createElement("div",{className:G.cellAdapter,style:{width:this.columnsVisibility[Et.id]},key:Et.id,title:`${Et.adapter} => ${Et.pathText}`},fe?this.renderCustomValue(fe,Et,$):null)),this.columnsVisibility.val?e.default.createElement("div",{className:G.cellValue,style:{width:this.columnsVisibility.val,cursor:Vt?(Te==null?void 0:Te.type)==="file"?"zoom-in":$.data.button?"grab":"text":"default"},onClick:Vt?()=>{!fe||!this.states||((Te==null?void 0:Te.type)==="file"?this.setState({viewFileDialog:ae}):!this.state.filter.expertMode&&$.data.button?this.props.socket.setState(ae,!0).catch(Et=>window.alert(`Cannot write state "${ae}": ${Et}`)):(this.edit={val:this.states[ae]?this.states[ae].val:"",q:this.states[ae]&&this.states[ae].q||0,ack:!1,id:ae},this.setState({updateOpened:!0})))}:void 0},this.renderColumnValue(ae,$,G)):null,this.columnsVisibility.buttons?e.default.createElement("div",{className:G.cellButtons,style:{width:this.columnsVisibility.buttons}},this.renderColumnButtons(ae,$,G)):null)}renderItem($,H,G,Z){const ne=[];Z=Z||{count:0};let le=this.renderLeaf($,H,G,Z);const De=this.props.DragWrapper;return this.props.dragEnabled&&($.data.sumVisibility?le=e.default.createElement(De,{key:$.data.id,item:$,className:G.draggable},le):le=e.default.createElement("div",{key:$.data.id,className:G.nonDraggable},le)),$.data.id&&le&&ne.push(le),H=H===void 0?zt(this.state.expanded,$.data.id):H,(!$.data.id||H)&&(this.state.foldersFirst?($.children&&ne.push($.children.map(me=>me.children&&(!this.state.columnsSelectorShow||Z.count<15)&&me.data.sumVisibility?this.renderItem(me,void 0,G,Z):null)),$.children&&ne.push($.children.map(me=>!me.children&&(!this.state.columnsSelectorShow||Z.count<15)&&me.data.sumVisibility?this.renderItem(me,void 0,G,Z):null))):$.children&&ne.push($.children.map(me=>(!this.state.columnsSelectorShow||Z.count<15)&&me.data.sumVisibility?this.renderItem(me,void 0,G,Z):null))),ne}calculateColumnsVisibility($,H,G,Z){let ne=Z||this.state.columnsWidths;const le=G||this.state.columnsForAdmin,De=H||this.state.columns||[],me=typeof $!="boolean"?this.state.columnsAuto:$;ne=JSON.parse(JSON.stringify(ne)),Object.keys(ne).forEach(Ne=>{ne[Ne]&&(ne[Ne]=parseInt(ne[Ne],10)||0)}),this.adapterColumns=[];const Le=dt[this.props.width||"lg"].widths;if(me){if(this.columnsVisibility={id:dt[this.props.width||"lg"].idWidth,name:this.visibleCols.includes("name")&&Le.name||0,nameHeader:this.visibleCols.includes("name")&&Le.name||0,type:this.visibleCols.includes("type")&&Le.type||0,role:this.visibleCols.includes("role")&&Le.role||0,room:this.visibleCols.includes("room")&&Le.room||0,func:this.visibleCols.includes("func")&&Le.func||0,changedFrom:this.visibleCols.includes("changedFrom")&&Le.changedFrom||0,qualityCode:this.visibleCols.includes("qualityCode")&&Le.qualityCode||0,timestamp:this.visibleCols.includes("timestamp")&&Le.timestamp||0,lastChange:this.visibleCols.includes("lastChange")&&Le.lastChange||0,val:this.visibleCols.includes("val")&&Le.val||0,buttons:this.visibleCols.includes("buttons")&&Le.buttons||0},this.columnsVisibility.name&&!this.customWidth){let Ne=this.columnsVisibility.id||0;this.state.statesView?(Ne+=this.columnsVisibility.changedFrom||0,Ne+=this.columnsVisibility.qualityCode||0,Ne+=this.columnsVisibility.timestamp||0,Ne+=this.columnsVisibility.lastChange||0):(Ne+=this.columnsVisibility.type||0,Ne+=this.columnsVisibility.role||0,Ne+=this.columnsVisibility.room||0,Ne+=this.columnsVisibility.func||0),Ne+=this.columnsVisibility.val||0,Ne+=this.columnsVisibility.buttons||0,this.columnsVisibility.name=`calc(100% - ${Ne+5}px)`,this.columnsVisibility.nameHeader=`calc(100% - ${Ne+5+this.state.scrollBarWidth}px)`}else if(!this.customWidth){let Ne=0;this.state.statesView?(Ne+=this.columnsVisibility.changedFrom||0,Ne+=this.columnsVisibility.qualityCode||0,Ne+=this.columnsVisibility.timestamp||0,Ne+=this.columnsVisibility.lastChange||0):(Ne+=this.columnsVisibility.type||0,Ne+=this.columnsVisibility.role||0,Ne+=this.columnsVisibility.room||0,Ne+=this.columnsVisibility.func||0),Ne+=this.columnsVisibility.val||0,Ne+=this.columnsVisibility.buttons||0,this.columnsVisibility.id=`calc(100% - ${Ne+5}px)`}}else{const Ne=this.props.width||"lg";this.columnsVisibility={id:ne.id||dt[Ne].idWidth,name:De.includes("name")&&(ne.name||Le.name||dt[Ne].widths.name)||0,type:De.includes("type")&&(ne.type||Le.type||dt[Ne].widths.type)||0,role:De.includes("role")&&(ne.role||Le.role||dt[Ne].widths.role)||0,room:De.includes("room")&&(ne.room||Le.room||dt[Ne].widths.room)||0,func:De.includes("func")&&(ne.func||Le.func||dt[Ne].widths.func)||0};let Ye=this.columnsVisibility.id;if(this.columnsVisibility.name&&(Ye+=this.columnsVisibility.type||0,Ye+=this.columnsVisibility.role||0,Ye+=this.columnsVisibility.room||0,Ye+=this.columnsVisibility.func||0),le&&De&&Object.keys(le).sort().forEach(ft=>le[ft].forEach(at=>{const ae=`_${ft}_${at.path}`;if(De.includes(ae)){const Ee={adapter:ft,id:`_${ft}_${at.path}`,name:at.name,path:at.path.split("."),pathText:at.path};at.edit&&(Ee.edit=!0,at.type&&(Ee.type=at.type),at.objTypes&&(Ee.objTypes=at.objTypes)),this.adapterColumns.push(Ee),this.columnsVisibility[ae]=ne[Ee.id]||at.width||dt[Ne].widths.func||dt.xl.widths.func||0,Ye+=this.columnsVisibility[ae]}else this.columnsVisibility[ae]=0})),this.adapterColumns.sort((ft,at)=>ft.id>at.id?-1:ft.id<at.id?1:0),this.columnsVisibility.val=De.includes("val")?ne.val||Le.val||dt.xl.widths.val:0,(!this.props.columns||this.props.columns.includes("buttons"))&&(this.columnsVisibility.buttons=De.includes("buttons")?ne.buttons||Le.buttons||dt.xl.widths.buttons:0,Ye+=this.columnsVisibility.buttons||0),this.columnsVisibility.name&&!ne.name)Ye+=this.columnsVisibility.val||0,this.columnsVisibility.name=`calc(100% - ${Ye}px)`,this.columnsVisibility.nameHeader=`calc(100% - ${Ye+5+this.state.scrollBarWidth}px)`;else{const ft=Object.keys(this.columnsVisibility).reduce((at,ae)=>ae==="id"||typeof this.columnsVisibility[ae]=="string"||!this.columnsVisibility[ae]?at:at+this.columnsVisibility[ae],0);this.columnsVisibility.id=`calc(100% - ${ft}px)`}}}navigateKeyPress($){var H,G;const Z=this.state.selectedNonObject||this.state.selected[0];if(Z){if($.code==="ArrowUp"||$.code==="ArrowDown"){$.preventDefault();const ne=[];(H=this.tableRef.current)===null||H===void 0||H.childNodes.forEach(Le=>ne.push(Le.id));const le=ne.indexOf(Z),De=$.code==="ArrowDown"?le+1:le-1,me=ne[De]||Z;this.onSelect(me),this.scrollToItem(me)}if(($.code==="ArrowRight"||$.code==="ArrowLeft")&&this.toggleExpanded(Z),$.code==="Delete"&&this.root&&Z){const ne=this.getItemFromRoot(this.root,Z);if(ne){const{obj:le}=ne.data;le&&!(!((G=le.common)===null||G===void 0)&&G.dontDelete)&&this.showDeleteDialog({id:Z,obj:le,item:ne})}}}}getItemFromRoot($,H){var G;const Z=H.split(".");let ne="",le=$;for(const De of Z)if(ne=ne?`${ne}.${De}`:De,le=(G=le.children)===null||G===void 0?void 0:G.find(me=>me.data.id===ne),!le)break;return le||null}renderHandleRight(){return e.default.createElement("div",{className:`${this.props.classes.resizeHandle} ${this.props.classes.resizeHandleRight}`,onMouseDown:this.resizerMouseDown,onDoubleClick:this.resizerReset,title:this.props.t("ra_Double click to reset table layout")})}renderHeader(){const $=this.props.classes;let H=null;return!this.columnsVisibility.buttons&&!this.isFilterEmpty()&&(H=e.default.createElement(i.IconButton,{onClick:()=>this.clearFilter(),className:$.buttonClearFilter,title:this.props.t("ra_Clear filter"),size:"large"},e.default.createElement(A.default,null),e.default.createElement(n.Close,{className:$.buttonClearFilterIcon}))),e.default.createElement("div",{className:$.headerRow},e.default.createElement("div",{className:$.headerCell,style:{width:this.columnsVisibility.id,position:"relative"},"data-min":240,"data-name":"id"},this.getFilterInput("id"),this.renderHandleRight()),this.columnsVisibility.name?e.default.createElement("div",{className:$.headerCell,style:{width:this.columnsVisibility.nameHeader,position:"relative"},"data-min":100,"data-name":"nameHeader"},this.getFilterInput("name"),this.renderHandleRight()):null,!this.state.statesView&&e.default.createElement(e.default.Fragment,null,this.columnsVisibility.type?e.default.createElement("div",{className:$.headerCell,style:{width:this.columnsVisibility.type,position:"relative"},"data-min":100,"data-name":"type"},this.getFilterSelectType(),this.renderHandleRight()):null,this.columnsVisibility.role?e.default.createElement("div",{className:$.headerCell,style:{width:this.columnsVisibility.role,position:"relative"},"data-min":100,"data-name":"role"},this.getFilterSelectRole(),this.renderHandleRight()):null,this.columnsVisibility.room?e.default.createElement("div",{className:$.headerCell,style:{width:this.columnsVisibility.room,position:"relative"},"data-min":100,"data-name":"room"},this.getFilterSelectRoom(),this.renderHandleRight()):null,this.columnsVisibility.func?e.default.createElement("div",{className:$.headerCell,style:{width:this.columnsVisibility.func,position:"relative"},"data-min":100,"data-name":"func"},this.getFilterSelectFunction(),this.renderHandleRight()):null),this.state.statesView&&e.default.createElement(e.default.Fragment,null,e.default.createElement("div",{className:_.default.clsx($.headerCell,$.headerCellValue),style:{width:this.columnsVisibility.changedFrom,position:"relative"},"data-min":100,"data-name":"changedFrom"},this.props.t("ra_Changed from"),this.renderHandleRight()),e.default.createElement("div",{className:_.default.clsx($.headerCell,$.headerCellValue),style:{width:this.columnsVisibility.qualityCode,position:"relative"},"data-min":100,"data-name":"qualityCode"},this.props.t("ra_Quality code"),this.renderHandleRight()),e.default.createElement("div",{className:_.default.clsx($.headerCell,$.headerCellValue),style:{width:this.columnsVisibility.timestamp,position:"relative"},"data-min":100,"data-name":"timestamp"},this.props.t("ra_Timestamp"),this.renderHandleRight()),e.default.createElement("div",{className:_.default.clsx($.headerCell,$.headerCellValue),style:{width:this.columnsVisibility.lastChange,position:"relative"},"data-min":100,"data-name":"lastChange"},this.props.t("ra_Last change"),this.renderHandleRight())),this.adapterColumns.map(G=>e.default.createElement("div",{className:_.default.clsx($.headerCell,$.headerCellValue),style:{width:this.columnsVisibility[G.id]},title:G.adapter,key:G.id,"data-min":100,"data-name":G.id},G.name)),this.columnsVisibility.val?e.default.createElement("div",{className:_.default.clsx($.headerCell,$.headerCellValue),style:{width:this.columnsVisibility.val,position:"relative"},"data-min":120,"data-name":"val"},this.props.t("ra_Value"),H):null,this.columnsVisibility.buttons?e.default.createElement("div",{className:$.headerCell,title:this.texts.filter_custom,style:{width:this.columnsVisibility.buttons}}," ",this.getFilterSelectCustoms()):null)}renderToast(){return e.default.createElement(i.Snackbar,{open:!!this.state.toast,autoHideDuration:3e3,onClick:()=>this.setState({toast:""}),onClose:()=>this.setState({toast:""}),message:this.state.toast,action:e.default.createElement(i.IconButton,{size:"small","aria-label":"close",color:"inherit",onClick:()=>this.setState({toast:""})},e.default.createElement(n.Close,{fontSize:"small"}))})}componentDidUpdate(){var $,H,G,Z;if(this.tableRef.current){const ne=this.tableRef.current.offsetWidth-this.tableRef.current.clientWidth;this.state.scrollBarWidth!==ne?setTimeout(()=>this.setState({scrollBarWidth:ne}),100):!this.selectedFound&&(!(($=this.state.selected)===null||$===void 0)&&$[0]||!((H=this.lastSelectedItems)===null||H===void 0)&&H[0])&&this.scrollToItem(((G=this.state.selected)===null||G===void 0?void 0:G[0])||((Z=this.lastSelectedItems)===null||Z===void 0?void 0:Z[0]))}}scrollToItem($){const H=window.document.getElementById($);H&&H.scrollIntoView({behavior:"auto",block:"center",inline:"center"}),this.selectedFound=!0}renderCustomDialog(){if(this.state.customDialog&&this.props.objectCustomDialog){const $=this.props.objectCustomDialog;return e.default.createElement($,{reportChangedIds:H=>this.changedIds=[...H],objectIDs:this.state.customDialog,allVisibleObjects:this.state.customDialogAll,expertMode:this.state.filter.expertMode,isFloatComma:this.props.isFloatComma,t:this.props.t,lang:this.props.lang,socket:this.props.socket,themeName:this.props.themeName,themeType:this.props.themeType,theme:this.props.theme,objects:this.objects,customsInstances:this.info.customs,onClose:()=>{var H;this.pauseSubscribe(!1),this.setState({customDialog:null}),this.changedIds&&(this.changedIds=null,this.forceUpdate()),(H=this.props.router)===null||H===void 0||H.doNavigate("tab-objects")},systemConfig:this.systemConfig})}return null}onUpdate($){this.props.socket.setState(this.edit.id,{val:$.val,ack:$.ack,q:$.q||0,expire:$.expire||void 0}).catch(H=>this.showError(`Cannot write value: ${H}`))}renderEditObjectDialog(){if(!this.state.editObjectDialog||!this.props.objectBrowserEditObject)return null;const $=this.props.objectBrowserEditObject;return e.default.createElement($,{key:this.state.editObjectDialog,obj:this.objects[this.state.editObjectDialog],roleArray:this.info.roles,objects:this.objects,dateFormat:this.props.dateFormat,isFloatComma:this.props.isFloatComma,themeType:this.props.themeType,socket:this.props.socket,dialogName:this.props.dialogName,aliasTab:this.state.editObjectAlias,t:this.props.t,expertMode:this.state.filter.expertMode,onNewObject:H=>this.props.socket.setObject(H._id,H).then(()=>this.setState({editObjectDialog:H._id,editObjectAlias:!1},()=>this.onSelect(H._id))).catch(G=>this.showError(`Cannot write object: ${G}`)),onClose:H=>{var G,Z;if(H){let ne;this.state.editObjectDialog.startsWith("alias.")&&JSON.stringify((G=this.objects[this.state.editObjectDialog].common)===null||G===void 0?void 0:G.alias)!==JSON.stringify((Z=H.common)===null||Z===void 0?void 0:Z.alias)&&(ne=this.state.editObjectDialog),this.props.socket.setObject(H._id,H).then(()=>{ne&&this.subscribes.includes(ne)&&(this.unsubscribe(ne),setTimeout(()=>this.subscribe(ne),100))}).catch(le=>this.showError(`Cannot write object: ${le}`))}this.setState({editObjectDialog:"",editObjectAlias:!1})}})}renderViewObjectFileDialog(){if(!this.state.viewFileDialog||!this.props.objectBrowserViewFile)return null;const $=this.props.objectBrowserViewFile;return e.default.createElement($,{key:"viewFile",obj:this.objects[this.state.viewFileDialog],themeType:this.props.themeType,socket:this.props.socket,dialogName:this.props.dialogName,t:this.props.t,expertMode:this.state.filter.expertMode,onClose:()=>this.setState({viewFileDialog:""})})}renderAliasEditorDialog(){if(!this.props.objectBrowserAliasEditor||!this.state.showAliasEditor)return null;const $=this.props.objectBrowserAliasEditor;return e.default.createElement($,{key:"editAlias",obj:this.objects[this.state.showAliasEditor],objects:this.objects,themeType:this.props.themeType,socket:this.props.socket,dialogName:this.props.dialogName,t:this.props.t,expertMode:this.state.filter.expertMode,onClose:()=>this.setState({showAliasEditor:""}),onRedirect:(H,G)=>setTimeout(()=>this.onSelect(H,!1,()=>this.expandAllSelected(()=>{this.scrollToItem(H),setTimeout(()=>this.setState({editObjectDialog:H,showAliasEditor:"",editObjectAlias:!0}),300)})),G||0)})}showAddDataPointDialog($,H,G){this.setState({showContextMenu:null,modalNewObj:{id:$,initialType:H,initialStateType:G}})}renderContextMenu(){var $,H,G,Z,ne,le,De;if(!this.state.showContextMenu)return null;const me=this.state.showContextMenu.item,Le=me.data.id,Ne=[],Ye=me.data.obj;let ft="";if(this.props.objectEditOfAccessControl&&this.state.filter.expertMode)if(!Ye)ft="---";else{const Se=Ye.acl?Ye.type==="state"?Ye.acl.state:Ye.acl.object:0,et=Ye.acl&&(Ye.type==="state"?this.systemConfig.common.defaultNewAcl.state:this.systemConfig.common.defaultNewAcl.object);ft=Number.isNaN(Number(Se))?Number(et).toString(16):Number(Se).toString(16)}const at=!this.props.notEditable&&Ye&&(this.state.filter.expertMode||Ye.type==="state"||Ye.type==="channel"||Ye.type==="device"),ae=!me.data.obj||me.data.obj.type==="folder"||me.data.obj.type==="channel"||me.data.obj.type==="device"||me.data.id==="0_userdata.0"||me.data.obj.type==="meta",Ee=!me.data.obj||me.data.obj.type==="folder"||me.data.obj.type==="device"||me.data.id==="0_userdata.0"||me.data.obj.type==="meta",fe=!me.data.obj||me.data.obj.type==="folder"||me.data.id==="0_userdata.0"||me.data.obj.type==="meta",ke=!me.data.obj||me.data.obj.type==="folder"||me.data.id==="0_userdata.0"||me.data.obj.type==="meta",we={EDIT:{key:"0",visibility:!!(this.props.objectBrowserEditObject&&Ye&&(this.state.filter.expertMode||D.isNonExpertId(Le))),icon:e.default.createElement(n.Edit,{fontSize:"small",className:this.props.classes.contextMenuEdit}),label:this.texts.editObject,onClick:()=>this.setState({editObjectDialog:me.data.id,showContextMenu:null,editObjectAlias:!1})},EDIT_VALUE:{key:"1",visibility:!!(this.states&&!this.props.notEditable&&Ye&&Ye.type==="state"&&(($=Ye.common)===null||$===void 0?void 0:$.type)!=="file"&&(this.state.filter.expertMode||Ye.common.write!==!1)),icon:e.default.createElement(n.FormatItalic,{fontSize:"small",className:this.props.classes.contextMenuEditValue}),label:this.props.t("ra_Edit value"),onClick:()=>{this.edit={val:this.states[Le]?this.states[Le].val:"",q:this.states[Le]&&this.states[Le].q||0,ack:!1,id:Le},this.setState({updateOpened:!0,showContextMenu:null})}},VIEW:{visibility:!!this.props.objectBrowserViewFile&&(Ye==null?void 0:Ye.type)==="state"&&((H=Ye.common)===null||H===void 0?void 0:H.type)==="file",icon:e.default.createElement(n.FindInPage,{fontSize:"small",className:this.props.classes.contextMenuView}),className:"",label:this.props.t("ra_View file"),onClick:()=>this.setState({viewFileDialog:(Ye==null?void 0:Ye._id)||"",showContextMenu:null})},CUSTOM:{key:"2",visibility:!(this.props.objectCustomDialog&&this.info.hasSomeCustoms&&Ye&&Ye.type==="state"&&((G=Ye.common)===null||G===void 0?void 0:G.type)!=="file"),icon:e.default.createElement(n.Settings,{fontSize:"small",className:me.data.hasCustoms?this.props.classes.cellButtonsButtonWithCustoms:this.props.classes.cellButtonsButtonWithoutCustoms}),className:this.props.classes.contextMenuCustom,label:this.texts.customConfig,onClick:()=>{var Se;this.pauseSubscribe(!0),(Se=this.props.router)===null||Se===void 0||Se.doNavigate(null,"customs",Le),this.setState({customDialog:[Le],showContextMenu:null})}},ACL:{key:"3",visibility:!!ft,icon:ft,iconStyle:{fontSize:"smaller"},listItemIconClass:this.props.classes.contextMenuACL,className:this.props.classes.contextMenuACL,label:this.props.t("ra_Edit ACL"),onClick:()=>this.setState({showContextMenu:null,modalEditOfAccess:!0,modalEditOfAccessObjData:me.data})},ROLE:{key:"4",visibility:!!(this.state.filter.expertMode&&at&&this.props.objectBrowserEditRole),icon:e.default.createElement(n.BorderColor,{fontSize:"small",className:this.props.classes.contextMenuRole}),className:"",label:this.props.t("ra_Edit role"),onClick:()=>this.setState({roleDialog:me.data.id,showContextMenu:null})},FUNCTION:{key:"5",visibility:!!at,icon:e.default.createElement(n.BedroomParent,{fontSize:"small",className:this.props.classes.contextMenuRole}),className:"",label:this.props.t("ra_Edit function"),onClick:()=>{const Se=mt(this.info,me.data.id,"funcEnums");this.setState({enumDialogEnums:Se,enumDialog:{item:me,type:"func",enumsOriginal:JSON.stringify(Se)},showContextMenu:null})}},ROOM:{key:"6",visibility:!!at,icon:e.default.createElement(n.Construction,{fontSize:"small",className:this.props.classes.contextMenuRoom}),className:"",label:this.props.t("ra_Edit room"),onClick:()=>{const Se=mt(this.info,me.data.id,"roomEnums");this.setState({enumDialogEnums:Se,enumDialog:{item:me,type:"room",enumsOriginal:JSON.stringify(Se)},showContextMenu:null})}},ALIAS:{key:"7",visibility:!!(!this.props.notEditable&&this.props.objectBrowserAliasEditor&&this.props.objectBrowserEditObject&&this.state.filter.expertMode&&(Ye==null?void 0:Ye.type)==="state"&&((Z=Ye.common)===null||Z===void 0?void 0:Z.type)!=="file"),icon:e.default.createElement(n.Link,{className:!((ne=Ye==null?void 0:Ye.common)===null||ne===void 0)&&ne.alias?this.props.classes.cellButtonsButtonWithCustoms:this.props.classes.cellButtonsButtonWithoutCustoms}),className:"",label:this.props.t("ra_Edit alias"),onClick:()=>{var Se;!((Se=Ye==null?void 0:Ye.common)===null||Se===void 0)&&Se.alias?this.setState({editObjectDialog:me.data.id,showContextMenu:null,editObjectAlias:!0}):this.setState({showContextMenu:null,showAliasEditor:me.data.id})}},CREATE:{key:"+",visibility:(me.data.id.startsWith("0_userdata.0")||me.data.id.startsWith("javascript."))&&(ae||Ee||fe||ke),icon:e.default.createElement(n.Add,{fontSize:"small",className:this.props.classes.cellButtonsButtonWithCustoms}),className:this.props.classes.contextMenuWithSubMenu,label:this.texts.create,subMenu:[{label:this.texts.createBooleanState,visibility:ae,icon:e.default.createElement(g.default,{fontSize:"small"}),onClick:()=>this.showAddDataPointDialog(me.data.id,"state","boolean")},{label:this.texts.createNumberState,visibility:ae,icon:e.default.createElement(g.default,{fontSize:"small"}),onClick:()=>this.showAddDataPointDialog(me.data.id,"state","number")},{label:this.texts.createStringState,visibility:ae,icon:e.default.createElement(g.default,{fontSize:"small"}),onClick:()=>this.showAddDataPointDialog(me.data.id,"state","string")},{label:this.texts.createState,visibility:ae,icon:e.default.createElement(g.default,{fontSize:"small"}),onClick:()=>this.showAddDataPointDialog(me.data.id,"state")},{label:this.texts.createChannel,visibility:Ee,icon:e.default.createElement(p.default,{fontSize:"small"}),onClick:()=>this.showAddDataPointDialog(me.data.id,"channel")},{label:this.texts.createDevice,visibility:fe,icon:e.default.createElement(E.default,{fontSize:"small"}),onClick:()=>this.showAddDataPointDialog(me.data.id,"device")},{label:this.texts.createFolder,icon:e.default.createElement(n.CreateNewFolder,{fontSize:"small"}),visibility:ke,onClick:()=>this.showAddDataPointDialog(me.data.id,"folder")}]},DELETE:{key:"Delete",visibility:!!(this.props.onObjectDelete&&(!((le=me.children)===null||le===void 0)&&le.length||Ye&&!(!((De=Ye.common)===null||De===void 0)&&De.dontDelete))),icon:e.default.createElement(n.Delete,{fontSize:"small",className:this.props.classes.contextMenuDelete}),className:this.props.classes.contextMenuDelete,label:this.texts.deleteObject,onClick:()=>this.setState({showContextMenu:null},()=>this.showDeleteDialog({id:Le,obj:Ye||{},item:me}))}};if(Object.keys(we).forEach(Se=>{var et,yt;we[Se].visibility&&(we[Se].subMenu?(Ne.push(e.default.createElement(i.MenuItem,{key:Se,onClick:Vt=>this.state.showContextMenu&&this.setState({showContextMenu:{item:this.state.showContextMenu.item,subItem:Se,subAnchor:Vt.target}}),className:we[Se].className},e.default.createElement(i.ListItemIcon,{style:we[Se].iconStyle,className:we[Se].listItemIconClass},we[Se].icon),e.default.createElement(i.ListItemText,null,we[Se].label,"..."),e.default.createElement(i.ListItemSecondaryAction,null,e.default.createElement(n.ArrowRight,null)))),((et=this.state.showContextMenu)===null||et===void 0?void 0:et.subItem)===Se&&Ne.push(e.default.createElement(i.Menu,{key:"subContextMenu",open:!0,anchorEl:this.state.showContextMenu.subAnchor,onClose:()=>{this.state.showContextMenu&&this.setState({showContextMenu:{item:this.state.showContextMenu.item}}),this.contextMenu=null}},(yt=we[Se].subMenu)===null||yt===void 0?void 0:yt.map(Vt=>Vt.visibility?e.default.createElement(i.MenuItem,{key:Vt.label,onClick:Vt.onClick,className:Vt.className},e.default.createElement(i.ListItemIcon,{style:Vt.iconStyle,className:Vt.listItemIconClass},Vt.icon),e.default.createElement(i.ListItemText,null,Vt.label)):null)))):Ne.push(e.default.createElement(i.MenuItem,{key:Se,onClick:we[Se].onClick,className:we[Se].className},e.default.createElement(i.ListItemIcon,{style:we[Se].iconStyle,className:we[Se].listItemIconClass},we[Se].icon),e.default.createElement(i.ListItemText,null,we[Se].label),we[Se].key?e.default.createElement("div",{className:this.props.classes.contextMenuKeys},`Alt+${we[Se].key==="Delete"?this.props.t("ra_Del"):we[Se].key}`):null)))}),!Ne.length)return setTimeout(()=>this.setState({showContextMenu:null}),100),null;const Te=document.getElementById(Le);return e.default.createElement(i.Menu,{key:"contextMenu",open:!0,onKeyUp:Se=>{Se.preventDefault(),Se.altKey&&Object.keys(we).forEach(et=>{Se.key===we[et].key&&we[et].onClick&&we[et].onClick()})},anchorEl:Te,onClose:()=>{this.setState({showContextMenu:null}),this.contextMenu=null}},Ne)}renderEditValueDialog(){var $;if(!this.state.updateOpened||!this.props.objectBrowserValue)return null;if(!this.edit.id)return console.error(`Invalid ID for edit: ${JSON.stringify(this.edit)}`),null;if(!this.objects[this.edit.id])return console.error(`Something went wrong. Possibly the object ${this.edit.id} was deleted.`),null;const H=!(($=this.objects[this.edit.id].common)===null||$===void 0)&&$.type?this.objects[this.edit.id].common.type:typeof this.edit.val,G=this.objects[this.edit.id].common.role,Z=this.props.objectBrowserValue;return e.default.createElement(Z,{t:this.props.t,lang:this.props.lang,type:H,role:G,states:_.default.getStates(this.objects[this.edit.id]),themeType:this.props.themeType,expertMode:this.state.filter.expertMode,value:this.edit.val,socket:this.props.socket,object:this.objects[this.edit.id],defaultHistory:this.defaultHistory,dateFormat:this.props.dateFormat,onClose:ne=>{this.setState({updateOpened:!1}),ne&&this.onUpdate(ne)}})}render(){this.recordStates=[],this.unsubscribeTimer&&clearTimeout(this.unsubscribeTimer);const $=JSON.stringify(this.state.filter);if(this.lastAppliedFilter!==$&&this.objects&&this.root){const Z={count:0};Jt(this.root,this.state.filter,this.props.lang,this.objects,void 0,Z,this.props.customFilter,this.props.types),Z.count<500&&!this.state.expandAllVisible?setTimeout(()=>this.setState({expandAllVisible:!0})):Z.count>=500&&this.state.expandAllVisible&&setTimeout(()=>this.setState({expandAllVisible:!1})),this.lastAppliedFilter=$}if(this.unsubscribeTimer=setTimeout(()=>{this.unsubscribeTimer=null,this.checkUnsubscribes()},200),!this.state.loaded)return e.default.createElement(i.CircularProgress,{key:`${this.props.dialogName}_c`});const H=this.props.classes,G=this.root?this.renderItem(this.root,void 0,H):null;return e.default.createElement(T.default,{key:this.props.dialogName},e.default.createElement(V.default,null,this.getToolbar()),e.default.createElement(N.default,null,this.renderHeader(),e.default.createElement("div",{className:this.props.classes.tableDiv,ref:this.tableRef,onKeyDown:Z=>this.navigateKeyPress(Z)},G)),this.renderContextMenu(),this.renderToast(),this.renderColumnsEditCustomDialog(),this.renderColumnsSelectorDialog(),this.renderCustomDialog(),this.renderEditValueDialog(),this.renderEditObjectDialog(),this.renderViewObjectFileDialog(),this.renderAliasEditorDialog(),this.renderEditRoleDialog(),this.renderEnumDialog(),this.renderErrorDialog(),this.renderExportDialog(),this.state.modalNewObj&&this.props.modalNewObject&&this.props.modalNewObject(this),this.state.modalEditOfAccess&&this.state.modalEditOfAccessObjData&&this.props.modalEditOfAccessControl&&this.props.modalEditOfAccessControl(this,this.state.modalEditOfAccessObjData))}}D=cn,r={value:["0_userdata.0.","alias.0."]},j.default=(0,W.default)()((0,s.withStyles)(Ue)(cn))},93312:function(X,j,L){"use strict";var M=this&&this.__createBinding||(Object.create?function(k,f,C,g){g===void 0&&(g=C);var m=Object.getOwnPropertyDescriptor(f,C);(!m||("get"in m?!f.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return f[C]}}),Object.defineProperty(k,g,m)}:function(k,f,C,g){g===void 0&&(g=C),k[g]=f[C]}),h=this&&this.__setModuleDefault||(Object.create?function(k,f){Object.defineProperty(k,"default",{enumerable:!0,value:f})}:function(k,f){k.default=f}),F=this&&this.__importStar||function(k){if(k&&k.__esModule)return k;var f={};if(k!=null)for(var C in k)C!=="default"&&Object.prototype.hasOwnProperty.call(k,C)&&M(f,k,C);return h(f,k),f},b=this&&this.__importDefault||function(k){return k&&k.__esModule?k:{default:k}};Object.defineProperty(j,"__esModule",{value:!0});const d=F(L(28437)),D=L(70143),r=L(67085),e=b(L(42854)),s=k=>({hr:{border:0,borderTop:"1px solid gray"},scrollWindow:{width:"100%",overflow:"auto",height:"calc(100% - 22px)"},rowDiv:{width:"100%"},modeDiv:{width:200,display:"inline-block",verticalAlign:"top"},settingsDiv:{display:"inline-block",verticalAlign:"top"},inputTime:{width:90,marginTop:0,marginLeft:5},inputDate:{width:140,marginTop:0,marginLeft:5},inputEvery:{width:40,marginLeft:5,marginRight:5},inputRadio:{padding:"4px 12px",verticalAlign:"top"},inputGroup:{maxWidth:400,display:"inline-block"},inputGroupElement:{width:120},inputDateDay:{width:60},inputDateDayCheck:{padding:4},inputSmallCheck:{padding:0},rowOnce:{},rowDays:{background:k.palette.mode!=="dark"?"#ddeaff":"#4b5057"},rowDows:{background:k.palette.mode!=="dark"?"#DDFFDD":"#52646c"},rowDates:{background:k.palette.mode!=="dark"?"#DDDDFF":"#747a86"},rowWeeks:{background:k.palette.mode!=="dark"?"#DDDDFF":"#717680"},rowMonths:{background:k.palette.mode!=="dark"?"#DDFFFF":"#1f5557"},rowMonthsDates:{background:k.palette.mode!=="dark"?"#EEFFFF":"#3c5737",maxWidth:600},rowYears:{background:k.palette.mode!=="dark"?"#fbffdd":"#574b33"},rowDaysDows:{background:k.palette.mode!=="dark"?"#EEEAFF":"#573544",paddingLeft:10,paddingBottom:10},rowDowsDows:{background:k.palette.mode!=="dark"?"#EEFFEE":"#3d4c54",paddingLeft:10,paddingBottom:10}}),t=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],i=["January","February","March","April","May","June","July","August","September","October","November","December"],n={minutes:"minutes",hours:"hours"},o=["sunrise","sunriseEnd","goldenHourEnd","solarNoon","goldenHour","sunsetStart","sunset","dusk","nauticalDusk","night","nightEnd","nauticalDawn","dawn","nadir"];function c(k){return k<10?`0${k}`:`${k}`}const p={time:{exactTime:!1,start:"00:00",end:"23:59",mode:"hours",interval:1},period:{once:"",days:1,dows:"",dates:"",weeks:0,months:"",years:0,yearMonth:0,yearDate:0},valid:{from:"",to:""}};function w(k){const f=k.split(".");return f.length===3?`${f[2]}-${f[1]}-${f[0]}`:""}class E extends d.Component{constructor(f){super(f),this.timerOnce=null,this.timerFrom=null,this.timerTo=null;let C;if(this.props.schedule&&typeof this.props.schedule=="string"&&this.props.schedule[0]==="{")try{C=JSON.parse(this.props.schedule)}catch(g){}else typeof this.props.schedule=="object"&&(C=this.props.schedule);(!C||!Object.keys(C).length)&&(setTimeout(()=>this.onChange(this.state.schedule,!0),200),C=p),C=Object.assign(Object.assign({},p),C),C.valid.from=C.valid.from||E.now2string(),this.refFrom=d.default.createRef(),this.refTo=d.default.createRef(),this.refOnce=d.default.createRef(),this.state={schedule:C,desc:E.state2text(C)},JSON.stringify(C)!==this.props.schedule&&setTimeout(()=>this.props.onChange&&this.props.onChange(JSON.stringify(C)),100)}onChange(f,C){const g=JSON.stringify(f)!==JSON.stringify(this.state.schedule);if(C||g){g&&this.setState({schedule:f,desc:E.state2text(f)});const m=JSON.parse(JSON.stringify(f));if(m.period.once){const S=m.period.once;delete m.period,m.period={once:S},delete m.valid}else if(m.period.days){const S=m.period.days,A=m.period.dows;delete m.period,m.period={days:S},A&&A!=="[]"&&(m.period.dows=A)}else if(m.period.weeks){const S=m.period.weeks,A=m.period.dows;delete m.period,m.period={weeks:S},A&&A!=="[]"&&(m.period.dows=A)}else if(m.period.months){const S=m.period.months,A=m.period.dates;delete m.period,m.period={months:S},A&&A!=="[]"&&(m.period.dates=A)}else if(m.period.years){const S=m.period.years,A=m.period.yearMonth,R=m.period.yearDate;delete m.period,m.period={years:S,yearDate:R},A&&(m.period.yearMonth=A)}if(m.time.exactTime?(delete m.time.end,delete m.time.mode,delete m.time.interval):delete m.time.exactTime,m.valid){if(m.valid.to||delete m.valid.to,m.period.days===1||m.period.weeks===1||m.period.months===1||m.period.years===1){const S=E.string2date(m.valid.from),A=new Date;A.setHours(0),A.setMinutes(0),A.setSeconds(0),A.setMilliseconds(0),S<=A&&delete m.valid.from}!m.valid.from&&!m.valid.to&&delete m.valid}this.props.onChange&&this.props.onChange(JSON.stringify(m),E.state2text(f))}}static state2text(f){if(typeof f=="string")try{f=JSON.parse(f)}catch(m){return""}const C=[],g=E.string2date(f.valid.from);if(f.period.once){const m=E.string2date(f.period.once),S=new Date;if(S.setMilliseconds(0),S.setSeconds(0),S.setMinutes(0),S.setHours(0),m<S)return e.default.t("sch_desc_onceInPast");C.push(e.default.t("sch_desc_once_on",f.period.once))}else if(f.period.days)if(f.period.days===1)if(f.period.dows){const m=JSON.parse(f.period.dows);if(m.length===2&&m[0]===0&&m[1]===6)C.push(e.default.t("sch_desc_onWeekends"));else if(m.length===5&&m[0]===1&&m[1]===2&&m[2]===3&&m[3]===4&&m[4]===5)C.push(e.default.t("sch_desc_onWorkdays"));else{const S=m.map(A=>e.default.t(t[A]));if(S.length===1)C.push(e.default.t("sch_desc_onWeekday",S[0]));else if(S.length===7)C.push(e.default.t("sch_desc_everyDay"));else{const A=S.pop();C.push(e.default.t("sch_desc_onWeekdays",S.join(", "),A))}}}else C.push(e.default.t("sch_desc_everyDay"));else C.push(e.default.t("sch_desc_everyNDay",f.period.days.toString()));else if(f.period.weeks)if(f.period.weeks===1?C.push(e.default.t("sch_desc_everyWeek")):C.push(e.default.t("sch_desc_everyNWeeks",f.period.weeks.toString())),f.period.dows){const m=JSON.parse(f.period.dows);if(m.length===2&&m[0]===0&&m[1]===6)C.push(e.default.t("sch_desc_onWeekends"));else if(m.length===5&&m[0]===1&&m[1]===2&&m[2]===3&&m[3]===4&&m[4]===5)C.push(e.default.t("sch_desc_onWorkdays"));else{const S=m.map(A=>e.default.t(t[A]));if(S.length===1)C.push(e.default.t("sch_desc_onWeekday",S[0]));else if(S.length===7)C.push(e.default.t("sch_desc_everyDay"));else{const A=S.pop();C.push(e.default.t("sch_desc_onWeekdays",S.join(", "),A))}}}else return e.default.t("sch_desc_never");else if(f.period.months){if(f.period.dates){const m=JSON.parse(f.period.dates);if(m.length===1)C.push(e.default.t("sch_desc_onDate",m[0]));else if(m.length===31)C.push(e.default.t("sch_desc_onEveryDate"));else if(m.length){const S=m.pop();C.push(e.default.t("sch_desc_onDates",m.join(", "),S))}else return e.default.t("sch_desc_never")}else C.push(e.default.t("sch_desc_onEveryDate"));if(f.period.months===1)C.push(e.default.t("sch_desc_everyMonth"));else if(typeof f.period.months=="number")C.push(e.default.t("sch_desc_everyNMonths",f.period.months.toString()));else{const S=JSON.parse(f.period.months).map(A=>e.default.t(i[A-1]));if(!S.length)return e.default.t("sch_desc_never");if(S.length===1)C.push(e.default.t("sch_desc_onMonth",S[0]));else if(S.length===12)C.push(e.default.t("sch_desc_everyMonth"));else{const A=S.pop();C.push(e.default.t("sch_desc_onMonths",S.join(", "),A))}}}else f.period.years&&(f.period.years===1?C.push(e.default.t("sch_desc_everyYear")):C.push(e.default.t("sch_desc_everyNYears",f.period.years.toString())),C.push(e.default.t("sch_desc_onDate",f.period.yearDate.toString(),f.period.yearMonth?e.default.t(i[f.period.yearMonth-1]):e.default.t("sch_desc_everyMonth"))));if(f.time.exactTime)o.indexOf(f.time.start)!==-1?C.push(e.default.t("sch_desc_atTime",e.default.t(`sch_astro_${f.time.start}`))):C.push(e.default.t("sch_desc_atTime",f.time.start));else{f.time.mode===n.minutes?f.time.interval===1?C.push(e.default.t("sch_desc_everyMinute")):C.push(e.default.t("sch_desc_everyNMinutes",f.time.interval.toString())):f.time.interval===1?C.push(e.default.t("sch_desc_everyHour")):C.push(e.default.t("sch_desc_everyNHours",f.time.interval.toString()));const m=o.indexOf(f.time.start)!==-1?e.default.t(`sch_astro_${f.time.start}`):f.time.start,S=o.indexOf(f.time.end)!==-1?e.default.t(`sch_astro_${f.time.end}`):f.time.end;(m!=="00:00"||S!=="24:00"&&S!=="23:59")&&C.push(e.default.t("sch_desc_intervalFromTo",m,S))}return f.period.once||(g.getTime()>Date.now()&&f.valid.to?C.push(e.default.t("sch_desc_validFromTo",f.valid.from,f.valid.to)):g.getTime()>Date.now()?C.push(e.default.t("sch_desc_validFrom",f.valid.from)):f.valid.to&&C.push(e.default.t("sch_desc_validTo",f.valid.to))),C.join(" ")}getTimePeriodElements(){const f=this.state.schedule;let C=!1,g=!1,m=!1,S=!0;return f.time.start==="00:00"&&f.time.end==="24:00"?(C=!0,S=!1):f.time.start==="sunrise"?(g=!0,S=!1):f.time.start==="sunset"&&(m=!0,S=!1),d.default.createElement("div",{key:"timePeriod",className:this.props.classes.rowDiv},d.default.createElement("div",{className:this.props.classes.modeDiv},d.default.createElement(r.FormControlLabel,{control:d.default.createElement(r.Radio,{className:this.props.classes.inputRadio,checked:!f.time.exactTime,onClick:()=>{const A=JSON.parse(JSON.stringify(this.state.schedule));A.time.exactTime=!1,this.onChange(A)}}),label:e.default.t("sch_intervalTime")})),d.default.createElement("div",{className:this.props.classes.settingsDiv},d.default.createElement("div",{className:this.props.classes.settingsDiv},!f.time.exactTime&&d.default.createElement("div",null,d.default.createElement("div",null,d.default.createElement(r.FormControlLabel,{control:d.default.createElement(r.Radio,{className:this.props.classes.inputRadio,checked:!!S,onClick:()=>{const A=JSON.parse(JSON.stringify(this.state.schedule));A.time.start="00:00",A.time.end="23:59",this.onChange(A)}}),label:S?"":e.default.t("sch_fromTo")}),S&&[d.default.createElement(r.TextField,{variant:"standard",className:this.props.classes.inputTime,style:{marginRight:10},key:"exactTimeFrom",type:"time",value:this.state.schedule.time.start,onChange:A=>{const R=JSON.parse(JSON.stringify(this.state.schedule));R.time.start=A.target.value,this.onChange(R)},InputLabelProps:{shrink:!0},label:e.default.t("sch_from"),margin:"normal"}),d.default.createElement(r.TextField,{variant:"standard",className:this.props.classes.inputTime,key:"exactTimeTo",type:"time",value:this.state.schedule.time.end,onChange:A=>{const R=JSON.parse(JSON.stringify(this.state.schedule));R.time.end=A.target.value,this.onChange(R)},InputLabelProps:{shrink:!0},label:e.default.t("sch_to"),margin:"normal"})])),!f.time.exactTime&&d.default.createElement("div",null,d.default.createElement(r.FormControlLabel,{control:d.default.createElement(r.Radio,{className:this.props.classes.inputRadio,checked:!!C,onClick:()=>{const A=JSON.parse(JSON.stringify(this.state.schedule));A.time.start="00:00",A.time.end="24:00",this.onChange(A)}}),label:e.default.t("sch_wholeDay")})),!f.time.exactTime&&d.default.createElement("div",null,d.default.createElement(r.FormControlLabel,{control:d.default.createElement(r.Radio,{className:this.props.classes.inputRadio,checked:!!g,onClick:()=>{const A=JSON.parse(JSON.stringify(this.state.schedule));A.time.start="sunrise",A.time.end="sunset",this.onChange(A)}}),label:e.default.t("sch_astroDay")})),!f.time.exactTime&&d.default.createElement("div",null,d.default.createElement(r.FormControlLabel,{control:d.default.createElement(r.Radio,{className:this.props.classes.inputRadio,checked:!!m,onClick:()=>{const A=JSON.parse(JSON.stringify(this.state.schedule));A.time.start="sunset",A.time.end="sunrise",this.onChange(A)}}),label:e.default.t("sch_astroNight")}))),!f.time.exactTime&&this.getPeriodSettingsMinutes()))}getTimeExactElements(){const f=o.includes(this.state.schedule.time.start);return d.default.createElement("div",{key:"timeExact",className:this.props.classes.rowDiv},d.default.createElement("div",{className:this.props.classes.modeDiv},d.default.createElement(r.FormControlLabel,{control:d.default.createElement(r.Radio,{className:this.props.classes.inputRadio,checked:!!this.state.schedule.time.exactTime,onClick:()=>{const C=JSON.parse(JSON.stringify(this.state.schedule));C.time.exactTime=!0,this.onChange(C)}}),label:e.default.t("sch_exactTime")})),this.state.schedule.time.exactTime&&d.default.createElement(r.Select,{variant:"standard",value:f?this.state.schedule.time.start:"00:00",onChange:C=>{const g=JSON.parse(JSON.stringify(this.state.schedule));g.time.start=C.target.value,this.onChange(g)}},d.default.createElement(r.MenuItem,{key:"specific",value:"00:00"},e.default.t("sch_specificTime")),o.map(C=>d.default.createElement(r.MenuItem,{key:C,value:C},e.default.t(`sch_astro_${C}`)))),this.state.schedule.time.exactTime&&!f&&d.default.createElement("div",{className:this.props.classes.settingsDiv},d.default.createElement(r.TextField,{variant:"standard",className:this.props.classes.inputTime,key:"exactTimeValue",value:this.state.schedule.time.start,type:"time",onChange:C=>{const g=JSON.parse(JSON.stringify(this.state.schedule));g.time.start=C.target.value,this.onChange(g)},InputLabelProps:{shrink:!0},margin:"normal"})))}getDivider(){return d.default.createElement("hr",{className:this.props.classes.hr})}getPeriodModes(){const f=this.state.schedule,C=!f.period.dows&&!f.period.months&&!f.period.dates&&!f.period.years&&!f.period.days&&!f.period.weeks;return C&&!f.period.once&&(f.period.once=E.now2string(!0)),[d.default.createElement("div",{key:"once",className:`${this.props.classes.rowDiv} ${this.props.classes.rowOnce}`},d.default.createElement("div",{className:this.props.classes.modeDiv},d.default.createElement(r.FormControlLabel,{control:d.default.createElement(r.Radio,{className:this.props.classes.inputRadio,checked:!!C,onClick:()=>{const g=JSON.parse(JSON.stringify(this.state.schedule));g.period.once=g.period.once||E.now2string(!0),g.period.dows="",g.period.months="",g.period.dates="",g.period.years=0,g.period.yearDate=0,g.period.yearMonth=0,g.period.weeks=0,g.period.days=0,this.onChange(g)}}),label:e.default.t("sch_periodOnce")})),C&&d.default.createElement("div",{className:this.props.classes.settingsDiv},d.default.createElement(r.TextField,{variant:"standard",className:this.props.classes.inputDate,type:"date",ref:this.refOnce,key:"exactDateAt",defaultValue:w(f.period.once),onChange:g=>{this.timerOnce&&clearTimeout(this.timerOnce),this.timerOnce=null,this.refOnce.current&&(this.refOnce.current.style.background="#ff000030"),this.timerOnce=setTimeout(m=>{this.timerOnce=null,this.refOnce.current&&(this.refOnce.current.style.background="");const S=JSON.parse(JSON.stringify(this.state.schedule)),A=E.string2date(m);A.toString()!=="Invalid Date"&&(S.period.once=`${c(A.getDate())}.${c(A.getMonth()+1)}.${A.getFullYear()}`,this.onChange(S))},1500,g.target.value)},InputLabelProps:{shrink:!0},label:e.default.t("sch_at"),margin:"normal"}))),d.default.createElement("div",{key:"days",className:`${this.props.classes.rowDiv} ${this.props.classes.rowDays}`},d.default.createElement("div",{className:this.props.classes.modeDiv},d.default.createElement(r.FormControlLabel,{control:d.default.createElement(r.Radio,{className:this.props.classes.inputRadio,checked:!!f.period.days,onClick:()=>{const g=JSON.parse(JSON.stringify(this.state.schedule));g.period.days=1,g.period.dows="",g.period.months="",g.period.dates="",g.period.years=0,g.period.yearDate=0,g.period.yearMonth=0,g.period.weeks=0,g.period.once="",this.onChange(g)}}),label:e.default.t("sch_periodDaily")})),d.default.createElement("div",{className:this.props.classes.settingsDiv},this.getPeriodSettingsDaily(),f.period.days?this.getPeriodSettingsWeekdays():null)),d.default.createElement("div",{key:"weeks",className:`${this.props.classes.rowDiv} ${this.props.classes.rowDows}`},d.default.createElement("div",{className:this.props.classes.modeDiv},d.default.createElement(r.FormControlLabel,{control:d.default.createElement(r.Radio,{className:this.props.classes.inputRadio,checked:!!f.period.weeks,onClick:()=>{const g=JSON.parse(JSON.stringify(this.state.schedule));g.period.weeks=f.period.weeks?0:1,g.period.dows=f.period.dows||"[0]",g.period.months="",g.period.dates="",g.period.years=0,g.period.yearDate=0,g.period.yearMonth=0,g.period.days=0,g.period.once="",this.onChange(g)}}),label:e.default.t("sch_periodWeekly")})),d.default.createElement("div",{className:this.props.classes.settingsDiv},d.default.createElement("div",{className:this.props.classes.settingsDiv},this.getPeriodSettingsWeekly()),d.default.createElement("div",{className:`${this.props.classes.settingsDiv} ${this.props.classes.rowDowsDows}`},this.state.schedule.period.weeks?this.getPeriodSettingsWeekdays():null))),d.default.createElement("div",{key:"months",className:`${this.props.classes.rowDiv} ${this.props.classes.rowMonths}`},d.default.createElement("div",{className:this.props.classes.modeDiv},d.default.createElement(r.FormControlLabel,{control:d.default.createElement(r.Radio,{className:this.props.classes.inputRadio,checked:!!f.period.months,onClick:()=>{const g=JSON.parse(JSON.stringify(this.state.schedule));g.period.months=1,g.period.dows="",g.period.dates="",g.period.years=0,g.period.yearDate=0,g.period.yearMonth=0,g.period.weeks=0,g.period.days=0,g.period.once="",this.onChange(g)}}),label:e.default.t("sch_periodMonthly")})),d.default.createElement("div",{className:this.props.classes.settingsDiv},this.getPeriodSettingsMonthly(),f.period.months?d.default.createElement("div",null,d.default.createElement("div",{className:`${this.props.classes.settingsDiv} ${this.props.classes.rowMonthsDates}`},d.default.createElement(r.FormControlLabel,{control:d.default.createElement(r.Checkbox,{className:this.props.classes.inputRadio,checked:!!f.period.dates,onClick:()=>{const g=JSON.parse(JSON.stringify(this.state.schedule));g.period.months=g.period.months||1;const m=[];for(let S=1;S<=31;S++)m.push(S);g.period.dates=g.period.dates||JSON.stringify(m),g.period.dows="",g.period.years=0,g.period.yearDate=0,g.period.yearMonth=0,g.period.weeks=0,g.period.days=0,g.period.once="",this.onChange(g)}}),label:e.default.t("sch_periodDates")})),d.default.createElement("div",{className:`${this.props.classes.settingsDiv} ${this.props.classes.rowMonthsDates}`},this.getPeriodSettingsDates())):null)),d.default.createElement("div",{key:"years",className:`${this.props.classes.rowDiv} ${this.props.classes.rowYears}`},d.default.createElement("div",{className:this.props.classes.modeDiv},d.default.createElement(r.FormControlLabel,{control:d.default.createElement(r.Radio,{className:this.props.classes.inputRadio,checked:!!f.period.years,onClick:()=>{const g=JSON.parse(JSON.stringify(this.state.schedule));g.period.years=1,g.period.yearDate=1,g.period.yearMonth=1,g.period.dows="",g.period.months=0,g.period.dates="",g.period.weeks=0,g.period.days=0,g.period.once="",this.onChange(g)}}),label:e.default.t("sch_periodYearly")})),d.default.createElement("div",{className:this.props.classes.settingsDiv},d.default.createElement("div",{className:this.props.classes.settingsDiv},this.getPeriodSettingsYearly()),!!f.period.years&&d.default.createElement("div",{className:this.props.classes.settingsDiv},d.default.createElement("span",null,e.default.t("sch_on")),d.default.createElement(r.Input,{key:"input",value:this.state.schedule.period.yearDate,className:this.props.classes.inputEvery,type:"number",inputProps:{min:1,max:31},onChange:g=>{const m=JSON.parse(JSON.stringify(this.state.schedule));m.period.yearDate=parseInt(g.target.value,10),m.period.yearDate<1&&(m.period.yearDate=31),m.period.yearDate>31&&(m.period.yearDate=1),this.onChange(m)}}),d.default.createElement(r.Select,{variant:"standard",value:f.period.yearMonth,onChange:g=>{const m=JSON.parse(JSON.stringify(this.state.schedule));m.period.yearMonth=g.target.value,this.onChange(m)}},d.default.createElement(r.MenuItem,{key:"every",value:0},e.default.t("sch_yearEveryMonth")),i.map((g,m)=>d.default.createElement(r.MenuItem,{key:g,value:m+1},e.default.t(g)))))))]}getPeriodSettingsMinutes(){return d.default.createElement("div",{style:{display:"inline-block"}},d.default.createElement("label",null,e.default.t("sch_every")),d.default.createElement(r.Input,{value:this.state.schedule.time.interval,style:{verticalAlign:"bottom"},className:this.props.classes.inputEvery,type:"number",inputProps:{min:1},onChange:f=>{const C=JSON.parse(JSON.stringify(this.state.schedule));C.time.interval=parseInt(f.target.value,10),this.onChange(C)}}),d.default.createElement(r.Select,{variant:"standard",value:this.state.schedule.time.mode,onChange:f=>{const C=JSON.parse(JSON.stringify(this.state.schedule));C.time.mode=f.target.value,this.onChange(C)}},d.default.createElement(r.MenuItem,{value:n.minutes},e.default.t("sch_periodMinutes")),d.default.createElement(r.MenuItem,{value:n.hours},e.default.t("sch_periodHours"))))}getPeriodSettingsWeekdays(){const f=this.state.schedule,C=f.period.dows&&f.period.dows!=="[1, 2, 3, 4, 5]"&&f.period.dows!=="[0, 6]";return[d.default.createElement("div",{key:"workdays"},d.default.createElement(r.FormControlLabel,{control:d.default.createElement(r.Radio,{className:this.props.classes.inputRadio,checked:f.period.dows==="[1, 2, 3, 4, 5]",onClick:()=>{const g=JSON.parse(JSON.stringify(this.state.schedule));g.period.dows="[1, 2, 3, 4, 5]",g.period.days&&(g.period.days=1),this.onChange(g)}}),label:e.default.t("sch_periodWorkdays")})),d.default.createElement("div",{key:"weekend"},d.default.createElement(r.FormControlLabel,{control:d.default.createElement(r.Radio,{className:this.props.classes.inputRadio,checked:f.period.dows==="[0, 6]",onClick:()=>{const g=JSON.parse(JSON.stringify(this.state.schedule));g.period.dows="[0, 6]",g.period.days&&(g.period.days=1),this.onChange(g)}}),label:e.default.t("sch_periodWeekend")})),d.default.createElement("div",{key:"specific",style:{verticalAlign:"top"}},d.default.createElement(r.FormControlLabel,{style:{verticalAlign:"top"},control:d.default.createElement(r.Radio,{className:this.props.classes.inputRadio,checked:!!C,onClick:()=>{const g=JSON.parse(JSON.stringify(this.state.schedule));g.period.dows="[0, 1, 2, 3, 4, 5, 6]",g.period.days&&(g.period.days=1),this.onChange(g)}}),label:e.default.t("sch_periodWeekdays")}),C&&(f.period.days===1||f.period.weeks)&&d.default.createElement(r.FormGroup,{row:!0,className:this.props.classes.inputGroup,style:{width:150}},[1,2,3,4,5,6,0].map(g=>d.default.createElement(r.FormControlLabel,{key:`specific_${g}`,className:this.props.classes.inputGroupElement,control:d.default.createElement(r.Checkbox,{className:this.props.classes.inputSmallCheck,checked:f.period.dows.includes(g.toString()),onChange:m=>{const S=JSON.parse(JSON.stringify(this.state.schedule));let A;try{A=JSON.parse(S.period.dows)}catch(R){A=[]}m.target.checked&&!A.includes(g)?A.push(g):!m.target.checked&&A.includes(g)&&A.splice(A.indexOf(g),1),A.sort((R,P)=>R-P),S.period.dows=JSON.stringify(A),S.period.days&&(S.period.days=1),this.onChange(S)}}),label:e.default.t(t[g])}))))]}getPeriodSettingsDaily(){if(!this.state.schedule.period.days)return null;const f=this.state.schedule;return[d.default.createElement("div",{key:"every_day"},d.default.createElement(r.FormControlLabel,{control:d.default.createElement(r.Radio,{className:this.props.classes.inputRadio,checked:f.period.days===1&&!f.period.dows,onClick:()=>{const C=JSON.parse(JSON.stringify(this.state.schedule));C.period.days=1,C.period.dows="",this.onChange(C)}}),label:e.default.t("sch_periodEveryDay")})),d.default.createElement("div",{key:"everyN_day"},d.default.createElement(r.FormControlLabel,{control:d.default.createElement(r.Radio,{className:this.props.classes.inputRadio,checked:f.period.days>1,onClick:()=>{const C=JSON.parse(JSON.stringify(this.state.schedule));C.period.days=2,C.period.dows="",this.onChange(C)}}),label:e.default.t("sch_periodEvery")}),f.period.days>1&&[d.default.createElement(r.Input,{key:"input",value:this.state.schedule.period.days,className:this.props.classes.inputEvery,type:"number",inputProps:{min:2},onChange:C=>{const g=JSON.parse(JSON.stringify(this.state.schedule));g.period.days=parseInt(C.target.value,10),g.period.dows="",this.onChange(g)}}),d.default.createElement("span",{key:"span",style:{paddingRight:10}},e.default.t("sch_periodDay"))])]}getPeriodSettingsWeekly(){if(!this.state.schedule.period.weeks)return null;const f=this.state.schedule;return[d.default.createElement("div",{key:"radios",style:{display:"inline-block",verticalAlign:"top"}},d.default.createElement("div",null,d.default.createElement(r.FormControlLabel,{control:d.default.createElement(r.Radio,{className:this.props.classes.inputRadio,checked:f.period.weeks===1,onClick:()=>{const C=JSON.parse(JSON.stringify(this.state.schedule));C.period.weeks=1,this.onChange(C)}}),label:e.default.t("sch_periodEveryWeek")})),d.default.createElement("div",null,d.default.createElement(r.FormControlLabel,{control:d.default.createElement(r.Radio,{className:this.props.classes.inputRadio,checked:f.period.weeks>1,onClick:()=>{const C=JSON.parse(JSON.stringify(this.state.schedule));C.period.weeks=2,this.onChange(C)}}),label:e.default.t("sch_periodEvery")}),f.period.weeks>1&&[d.default.createElement(r.Input,{key:"input",value:this.state.schedule.period.weeks,className:this.props.classes.inputEvery,type:"number",inputProps:{min:2},onChange:C=>{const g=JSON.parse(JSON.stringify(this.state.schedule));g.period.weeks=parseInt(C.target.value,10),this.onChange(g)}}),d.default.createElement("span",{key:"text"},e.default.t("sch_periodWeek"))]))]}getPeriodSettingsDates(){if(!this.state.schedule.period.dates)return null;const f=this.state.schedule,C=[];for(let m=1;m<=31;m++)C.push(m);const g=JSON.parse(f.period.dates);return d.default.createElement(r.FormGroup,{row:!0,className:this.props.classes.inputGroup,style:{maxWidth:620}},d.default.createElement(r.FormControlLabel,{className:this.props.classes.inputDateDay,control:d.default.createElement(r.Checkbox,{className:this.props.classes.inputDateDayCheck,checked:g.length===31,onChange:()=>{const m=JSON.parse(JSON.stringify(this.state.schedule)),S=[];for(let A=1;A<=31;A++)S.push(A);m.period.dates=JSON.stringify(S),this.onChange(m)}}),label:e.default.t("sch_all")}),d.default.createElement(r.FormControlLabel,{className:this.props.classes.inputDateDay,control:d.default.createElement(r.Checkbox,{className:this.props.classes.inputDateDayCheck,checked:!g.length,onChange:()=>{const m=JSON.parse(JSON.stringify(this.state.schedule));m.period.dates="[]",this.onChange(m)}}),label:e.default.t("sch_no_one")}),g.length!==31&&!!g.length&&d.default.createElement(r.FormControlLabel,{className:this.props.classes.inputDateDay,control:d.default.createElement(r.Checkbox,{className:this.props.classes.inputDateDayCheck,checked:!1,onChange:()=>{const m=JSON.parse(JSON.stringify(this.state.schedule)),S=[],A=JSON.parse(m.period.dates);for(let R=1;R<=31;R++)A.includes(R)||S.push(R);S.sort((R,P)=>R-P),m.period.dates=JSON.stringify(S),this.onChange(m)}}),label:e.default.t("sch_invert")}),d.default.createElement("div",null),C.map(m=>d.default.createElement(r.FormControlLabel,{key:`date_${m}`,className:this.props.classes.inputDateDay,style:m?{}:{opacity:0,cursor:"default",userSelect:"none",pointerEvents:"none"},control:d.default.createElement(r.Checkbox,{className:this.props.classes.inputDateDayCheck,checked:JSON.parse(f.period.dates).includes(m),onChange:S=>{const A=JSON.parse(JSON.stringify(this.state.schedule));let R;try{R=JSON.parse(A.period.dates)}catch(P){R=[]}S.target.checked&&!R.includes(m)?R.push(m):!S.target.checked&&R.includes(m)&&R.splice(R.indexOf(m),1),R.sort((P,W)=>P-W),A.period.dates=JSON.stringify(R),this.onChange(A)}}),label:m<10?[d.default.createElement("span",{key:"0",style:{opacity:0}},"0"),d.default.createElement("span",{key:"num"},m)]:m})))}getPeriodSettingsMonthly(){if(!this.state.schedule.period.months)return null;const f=this.state.schedule,C=typeof f.period.months=="string"?JSON.parse(f.period.months):[];return[d.default.createElement("div",{key:"every"},d.default.createElement(r.FormControlLabel,{control:d.default.createElement(r.Radio,{className:this.props.classes.inputRadio,checked:typeof f.period.months=="number"&&f.period.months===1,onClick:()=>{const g=JSON.parse(JSON.stringify(this.state.schedule));g.period.months=1,this.onChange(f)}}),label:e.default.t("sch_periodEveryMonth")})),d.default.createElement("div",{key:"everyN"},d.default.createElement(r.FormControlLabel,{control:d.default.createElement(r.Radio,{className:this.props.classes.inputRadio,checked:typeof f.period.months=="number"&&f.period.months>1,onClick:()=>{const g=JSON.parse(JSON.stringify(this.state.schedule));g.period.months=2,this.onChange(g)}}),label:e.default.t("sch_periodEvery")}),typeof f.period.months=="number"&&f.period.months>1&&[d.default.createElement(r.Input,{key:"input",value:f.period.months,className:this.props.classes.inputEvery,type:"number",inputProps:{min:2},onChange:g=>{const m=JSON.parse(JSON.stringify(this.state.schedule));m.period.months=parseInt(g.target.value,10),m.period.months<1&&(m.period.months=1),this.onChange(m)}}),d.default.createElement("span",{key:"text"},e.default.t("sch_periodMonth"))]),d.default.createElement("div",{key:"specific",style:{verticalAlign:"top"}},d.default.createElement(r.FormControlLabel,{style:{verticalAlign:"top"},control:d.default.createElement(r.Radio,{className:this.props.classes.inputRadio,checked:typeof f.period.months=="string",onClick:()=>{const g=JSON.parse(JSON.stringify(this.state.schedule));g.period.months="[1,2,3,4,5,6,7,8,9,10,11,12]",this.onChange(g)}}),label:e.default.t("sch_periodSpecificMonths")}),typeof f.period.months=="string"&&d.default.createElement(r.FormGroup,{row:!0,className:this.props.classes.inputGroup},d.default.createElement(r.FormControlLabel,{className:this.props.classes.inputDateDay,control:d.default.createElement(r.Checkbox,{className:this.props.classes.inputDateDayCheck,checked:C.length===12,onChange:()=>{const g=JSON.parse(JSON.stringify(this.state.schedule)),m=[];for(let S=1;S<=12;S++)m.push(S);g.period.months=JSON.stringify(m),this.onChange(g)}}),label:e.default.t("sch_all")}),d.default.createElement(r.FormControlLabel,{className:this.props.classes.inputDateDay,control:d.default.createElement(r.Checkbox,{className:this.props.classes.inputDateDayCheck,checked:!C.length,onChange:()=>{const g=JSON.parse(JSON.stringify(this.state.schedule));g.period.months="[]",this.onChange(g)}}),label:e.default.t("sch_no_one")}),C.length!==12&&!!C.length&&d.default.createElement(r.FormControlLabel,{className:this.props.classes.inputDateDay,control:d.default.createElement(r.Checkbox,{className:this.props.classes.inputDateDayCheck,checked:!1,onChange:()=>{const g=JSON.parse(JSON.stringify(this.state.schedule)),m=[],S=JSON.parse(g.period.months);for(let A=1;A<=12;A++)S.includes(A)||m.push(A);m.sort((A,R)=>A-R),g.period.months=JSON.stringify(m),this.onChange(g)}}),label:e.default.t("sch_invert")}),d.default.createElement("div",null),i.map((g,m)=>d.default.createElement(r.FormControlLabel,{className:this.props.classes.inputGroupElement,control:d.default.createElement(r.Checkbox,{className:this.props.classes.inputSmallCheck,checked:typeof f.period.months=="string"?JSON.parse(f.period.months).includes(m+1):f.period.months===m,onChange:S=>{const A=JSON.parse(JSON.stringify(this.state.schedule));let R;try{R=JSON.parse(A.period.months)}catch(P){R=[]}S.target.checked&&!R.includes(m+1)?R.push(m+1):!S.target.checked&&R.includes(m+1)&&R.splice(R.indexOf(m+1),1),R.sort((P,W)=>P-W),A.period.months=JSON.stringify(R),this.onChange(A)}}),label:e.default.t(g)}))))]}getPeriodSettingsYearly(){if(!this.state.schedule.period.years)return null;const f=this.state.schedule;return[d.default.createElement("div",{key:"year"},d.default.createElement(r.FormControlLabel,{control:d.default.createElement(r.Radio,{className:this.props.classes.inputRadio,checked:f.period.years===1,onClick:()=>{const C=JSON.parse(JSON.stringify(this.state.schedule));C.period.years=1,this.onChange(C)}}),label:e.default.t("sch_periodEveryYear")})),d.default.createElement("div",{key:"every"},d.default.createElement(r.FormControlLabel,{control:d.default.createElement(r.Radio,{className:this.props.classes.inputRadio,checked:f.period.years>1,onClick:()=>{const C=JSON.parse(JSON.stringify(this.state.schedule));C.period.years=2,this.onChange(C)}}),label:e.default.t("sch_periodEvery")}),f.period.years>1&&[d.default.createElement(r.Input,{key:"input",value:this.state.schedule.period.years,className:this.props.classes.inputEvery,type:"number",inputProps:{min:2},onChange:C=>{const g=JSON.parse(JSON.stringify(this.state.schedule));g.period.years=parseInt(C.target.value,10),g.period.years<1&&(g.period.years=1),this.onChange(g)}}),d.default.createElement("span",{key:"text"},e.default.t("sch_periodYear"))])]}static now2string(f){const C=new Date;return C.setHours(0),C.setMinutes(0),C.setSeconds(0),C.setMilliseconds(0),f&&(C.setDate(C.getDate()+2),C.setMilliseconds(C.getMilliseconds()-1)),`${c(C.getDate())}.${c(C.getMonth()+1)}.${c(C.getFullYear())}`}static string2date(f){let C=f.split(".");return C.length===1?(C=f.split("-"),new Date(parseInt(C[0],10),parseInt(C[1],10)-1,parseInt(C[2],10))):new Date(parseInt(C[2],10),parseInt(C[1],10)-1,parseInt(C[0],10))}getValidSettings(){const f=this.state.schedule;return d.default.createElement("div",{className:this.props.classes.rowDiv},d.default.createElement("div",{className:this.props.classes.modeDiv,style:{verticalAlign:"middle"}},d.default.createElement("span",{style:{fontWeight:"bold",paddingRight:10}},e.default.t("sch_valid")),d.default.createElement("span",null,e.default.t("sch_validFrom"))),d.default.createElement("div",{className:this.props.classes.settingsDiv},d.default.createElement(r.TextField,{variant:"standard",className:this.props.classes.inputDate,style:{marginRight:10},key:"exactTimeFrom",inputRef:this.refFrom,defaultValue:w(f.valid.from),type:"date",onChange:C=>{this.timerFrom&&clearTimeout(this.timerFrom),this.refFrom.current&&(this.refFrom.current.style.background="#ff000030"),this.timerFrom=setTimeout(g=>{this.timerFrom=null,this.refFrom.current&&(this.refFrom.current.style.background="");const m=JSON.parse(JSON.stringify(this.state.schedule)),S=E.string2date(g);S.toString()!=="Invalid Date"&&(m.valid.from=`${c(S.getDate())}.${c(S.getMonth()+1)}.${S.getFullYear()}`,this.onChange(m))},1500,C.target.value)},InputLabelProps:{shrink:!0},margin:"normal"}),d.default.createElement(r.FormControlLabel,{control:d.default.createElement(r.Checkbox,{className:this.props.classes.inputRadio,checked:!!f.valid.to,onClick:()=>{const C=JSON.parse(JSON.stringify(this.state.schedule));C.valid.to=C.valid.to?"":E.now2string(!0),this.onChange(C)}}),label:e.default.t("sch_validTo")}),!!f.valid.to&&d.default.createElement(r.TextField,{variant:"standard",inputRef:this.refTo,className:this.props.classes.inputDate,style:{marginRight:10},key:"exactTimeFrom",type:"date",defaultValue:w(f.valid.to),onChange:C=>{this.timerTo&&clearTimeout(this.timerTo),this.refTo.current&&(this.refTo.current.style.background="#ff000030"),this.timerTo=setTimeout(g=>{this.timerTo=null,this.refTo.current&&(this.refTo.current.style.background="");const m=JSON.parse(JSON.stringify(this.state.schedule)),S=E.string2date(g);S.toString()!=="Invalid Date"&&(m.valid.to=`${c(S.getDate())}.${c(S.getMonth()+1)}.${S.getFullYear()}`,this.onChange(m))},1500,C.target.value)},InputLabelProps:{shrink:!0},margin:"normal"})))}render(){return d.default.createElement("div",{style:{height:"calc(100% - 48px)",width:"100%",overflow:"hidden"}},d.default.createElement("div",null,this.state.desc),d.default.createElement("div",{className:this.props.classes.scrollWindow},d.default.createElement("h5",null,e.default.t("sch_time")),this.getTimePeriodElements(),this.getTimeExactElements(),this.getDivider(),d.default.createElement("h5",null,e.default.t("sch_period")),this.getPeriodModes(),!this.state.schedule.period.once&&this.getDivider(),!this.state.schedule.period.once&&this.getValidSettings()))}}j.default=(0,D.withStyles)(s)(E)},22980:function(X,j,L){"use strict";var M=this&&this.__createBinding||(Object.create?function(o,c,p,w){w===void 0&&(w=p);var E=Object.getOwnPropertyDescriptor(c,p);(!E||("get"in E?!c.__esModule:E.writable||E.configurable))&&(E={enumerable:!0,get:function(){return c[p]}}),Object.defineProperty(o,w,E)}:function(o,c,p,w){w===void 0&&(w=p),o[w]=c[p]}),h=this&&this.__setModuleDefault||(Object.create?function(o,c){Object.defineProperty(o,"default",{enumerable:!0,value:c})}:function(o,c){o.default=c}),F=this&&this.__importStar||function(o){if(o&&o.__esModule)return o;var c={};if(o!=null)for(var p in o)p!=="default"&&Object.prototype.hasOwnProperty.call(o,p)&&M(c,o,p);return h(c,o),c},b=this&&this.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(j,"__esModule",{value:!0});const d=F(L(28437)),D=L(70143),r=L(67085),e=b(L(82216)),s=b(L(96808)),t=b(L(42854)),i={different:{opacity:.5},icon:{width:16,height:16,marginRight:8}};class n extends d.Component{constructor(c){super(c),this.timeout=null,c.different&&(this.wordDifferent=c.t("ra___different__"));let p;Array.isArray(c.list||c.options)?p=(c.list||c.options).map(w=>{var E,k;return{name:s.default.getObjectNameFromObj(w,c.lang).replace("system.group.","").replace("system.user.","").replace("enum.rooms.","").replace("enum.functions.",""),value:w._id,icon:(E=w.common)===null||E===void 0?void 0:E.icon,color:(k=w.common)===null||k===void 0?void 0:k.color}}):p=Object.values(c.list||c.options).map(w=>{var E,k;return{name:s.default.getObjectNameFromObj(w,c.lang).replace("system.group.","").replace("system.user.","").replace("enum.rooms.","").replace("enum.functions.",""),value:w._id,icon:(E=w.common)===null||E===void 0?void 0:E.icon,color:(k=w.common)===null||k===void 0?void 0:k.color}}),c.different&&c.value===c.different&&p.unshift({value:c.different,name:this.wordDifferent||""}),c.allowNone&&p.unshift({value:"",name:t.default.t("ra_none")}),this.state={list:p}}render(){this.props.allowNone&&!this.state.list.find(E=>E.value==="")?this.timeout=this.timeout||setTimeout(()=>{this.timeout=null;const E=JSON.parse(JSON.stringify(this.state.list));E.unshift({value:"",name:t.default.t("ra_none")}),this.setState({list:E})},100):!this.props.allowNone&&this.state.list.find(E=>E.value==="")&&(this.timeout=this.timeout||setTimeout(()=>{this.timeout=null;const E=JSON.parse(JSON.stringify(this.state.list)),k=this.state.list.findIndex(f=>f.value==="");E.splice(k,1),this.setState({list:E})},100));const c=this.state.list.find(E=>E.value===this.props.value||this.props.removePrefix&&E.value.replace(this.props.removePrefix,"")===this.props.value),p=this.props.value===this.props.different?{}:{color:(c==null?void 0:c.color)||void 0,backgroundColor:s.default.getInvertedColor((c==null?void 0:c.color)||"",this.props.themeType)};this.props.dense&&this.props.style&&Object.assign(p,this.props.style);const w=d.default.createElement(r.Select,{variant:"standard",disabled:this.props.disabled,value:this.props.value,inputProps:this.props.inputProps,renderValue:()=>d.default.createElement("span",null,c!=null&&c.icon?d.default.createElement(e.default,{src:c==null?void 0:c.icon,className:this.props.classes.icon}):null,c==null?void 0:c.name),classes:{root:s.default.clsx(this.props.value===this.props.different?this.props.classes.different:"",this.props.dense?this.props.className:"")},style:p,onChange:E=>{if(this.props.different&&E.target.value!==this.props.different){let k=null;for(let f=0;f<this.state.list.length;f++)if(this.state.list[f].value===this.props.different){k=f;break}if(k!==null){const f=s.default.clone(this.state.list);f.splice(k,1),this.setState({list:f},()=>this.props.onChange(E.target.value));return}}this.props.onChange(this.props.removePrefix?E.target.value.replace(this.props.removePrefix,""):E.target.value)}},this.state.list.map(E=>d.default.createElement(r.MenuItem,{className:this.props.different&&E.value===this.props.different?this.props.classes.different:"",style:this.props.different&&E.value===this.props.different?{}:{color:E.color||void 0,backgroundColor:s.default.getInvertedColor(E.color||"",this.props.themeType)},key:E.value,value:E.value},E.icon?d.default.createElement(e.default,{src:E.icon,className:this.props.classes.icon}):null,E.name)));return this.props.dense?w:d.default.createElement(r.FormControl,{variant:"standard",fullWidth:!!this.props.fullWidth,style:this.props.style,className:this.props.className},d.default.createElement(r.InputLabel,null,this.props.label),w)}}j.default=(0,D.withStyles)(i)(n)},1773:(X,j)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});function L(M,h,F){const b={JAN:1,FEB:2,MAR:3,APR:4,MAY:5,JUN:6,JUL:7,AUG:8,SEP:9,OCT:10,NOV:11,DEC:12,SUN:1,MON:2,TUE:3,WED:4,THU:5,FRI:6,SAT:7},d={"* * * * * *":"0/1 * * * * *","@YEARLY":"0 0 1 1 *","@ANNUALLY":"0 0 1 1 *","@MONTHLY":"0 0 1 * *","@WEEKLY":"0 0 * * 0","@DAILY":"0 0 * * *","@HOURLY":"0 * * * *"},D={s:[0,0,59],m:[1,0,59],h:[2,0,23],D:[3,1,31],M:[4,1,12],Y:[6,1970,2099],d:[5,1,7,1]};function r(_,T=0,N=9999){return Number.isNaN(_)?b[_]||null:Math.min(+_+T,N)}function e(_){const T={};let N;for(N in _)N!=="dc"&&N!=="d"&&(T[N]=_[N].slice(0));return T}function s(_,T,N,V,K=0){let I=N;for(_[T]||(_[T]=[]);I<=V;)_[T].indexOf(I)<0&&_[T].push(I),I+=K||1;_[T].sort((q,U)=>q-U)}function t(_,T,N,V){(T.d&&!T.dc||T.dc&&!T.dc.includes(V))&&(_.push(e(T)),T=_[_.length-1]),s(T,"d",N,N),s(T,"dc",V,V)}function i(_,T,N){const V={},K={};N===1?(s(T,"D",1,3),s(T,"d",b.MON,b.FRI),s(V,"D",2,2),s(V,"d",b.TUE,b.FRI),s(K,"D",3,3),s(K,"d",b.TUE,b.FRI)):(s(T,"D",N-1,N+1),s(T,"d",b.MON,b.FRI),s(V,"D",N-1,N-1),s(V,"d",b.MON,b.THU),s(K,"D",N+1,N+1),s(K,"d",b.TUE,b.FRI)),_.exceptions.push(V),_.exceptions.push(K)}function n(_,T,N,V,K,I){const q=_.split("/"),U=+q[1],J=q[0];if(J!=="*"&&J!=="0"){const Q=J.split("-");V=r(Q[0],I,K)||I,K=r(Q[1],I,K)||K}s(T,N,V,K,U)}function o(_,T,N,V,K,I){let q,U;const J=T.schedules,Q=J[J.length-1];_==="L"&&(_=(V-1).toString(10)),(q=r(_,I,K))!==null?s(Q,N,q,q):(q=r(_.replace("W",""),I,K))!==null?i(T,Q,q):(q=r(_.replace("L",""),I,K))!==null?t(J,Q,q,V-1):(U=_.split("#")).length===2?(q=r(U[0],I,K)||I,t(J,Q,q,r(U[1])||0)):n(_,Q,N,V,K,I)}function c(_){return _.includes("#")||_.indexOf("L")>0}function p(_,T){return c(_)&&!c(T)||_>T?1:_<T?-1:0}function w(_){const T={schedules:[{}],exceptions:[]},N=_.replace(/(\s)+/g," ").split(" ");let V,K,I,q;for(V in D)if(K=D[V],I=N[K[0]],I&&I!=="*"&&I!=="?"){q=I.split(",").sort(p);let U;const J=q.length;for(U=0;U<J;U++)o(q[U],T,V,K[1],K[2],K[3])}return T}function E(_){const T=_.toUpperCase();return d[T]||T}function k(_,T){const N=E(_);return w(T?N:`0 ${N}`)}const f=k(M,h);function C(_){return _<0?Math.ceil(_):Math.floor(_)}function g(_){const T=+_;let N=0;return T!==0&&isFinite(T)&&(N=C(T)),N}function m(_){const T=_%10,N=g(_%100/10)===1?F.ORDINALS.th:T===1?F.ORDINALS.st:T===2?F.ORDINALS.nd:T===3?F.ORDINALS.rd:F.ORDINALS.th;return _+N}function S(_){if(_.length<2)return m(_[0]);const T=_.pop()||0;return`${_.join(", ")} ${F.and} ${m(T)}`}function A(_,T){return T==="dow"?F.DOW[_-1]:T==="mon"?F.MONTH[_-1]:_}function R(_,T){if(_.length<2)return A(_[0],T);const N=_.pop()||0;let V="";for(let K=0,I;I=_[K];K++)V.length>0&&(V+=", "),V+=A(I,T);return`${V} ${F.and} ${A(N,T)}`}function P(_){return _<10?`0${_}`:_.toString()}function W(_,T){let N=`${F.Every} `;if(_.h&&_.m&&_.h.length<=2&&_.m.length<=2&&T&&_.s&&_.s.length<=2){const V=[];for(let K=0;K<_.h.length;K++)for(let I=0;I<_.m.length;I++)for(let q=0;q<_.s.length;q++)V.push(`${P(_.h[K])}:${P(_.m[I])}:${P(_.s[q])}`);if(V.length<2)N=`${F.At} ${V[0]}`;else{const K=V.pop();N=`${F.At} ${V.join(", ")} ${F.and} ${K}`}!_.d&&!_.D&&(N+=` ${F["every day"]} `)}else if(_.h&&_.m&&_.h.length<=2&&_.m.length<=2){const V=[];for(let K=0;K<_.h.length;K++)for(let I=0;I<_.m.length;I++)V.push(`${P(_.h[K])}:${P(_.m[I])}`);if(V.length<2)N=`${F.At} ${V[0]}`;else{const K=V.pop();N=`${F.At} ${V.join(", ")} ${F.and} ${K}`}!_.d&&!_.D&&(N+=` ${F["every day"]} `)}else _.h?_.m?T?!_.s||_.s.length===60?N+=`${F["second of every"]} ${S(_.m)} ${F["minute past the"]} ${S(_.h)} ${F.hour}`:N+=`${S(_.s)} ${F["second of every"]} ${S(_.m)} ${F["minute past the"]} ${S(_.h)} ${F.hour}`:N+=`${S(_.m)} ${F["minute past the"]} ${S(_.h)} ${F.hour}`:T?!_.s||_.s.length===60?N+=`${F["second of every"]} ${F["minute of"]} ${S(_.h)} ${F.hour}`:N+=`${S(_.s)} ${F["second of every"]} ${F["minute of"]} ${S(_.h)} ${F.hour}`:N+=`${F["minute of"]} ${S(_.h)} ${F.hour}`:_.m?T?!_.s||_.s.length===60?N+=`${F["second of every"]} ${S(_.m)} ${F["minute every hour"]}`:N+=`${S(_.s)} ${F["second of every"]} ${S(_.m)} ${F["minute every hour"]}`:N+=`${S(_.m)} ${F["minute every hour"]}`:T?!_.s||_.s.length===60?N+=F.second:N+=`${S(_.s)} ${F.second}`:N+=F.minute;return _.D&&(N+=(F["on the"]?` ${F["on the"]} `:" ")+S(_.D),_.M||(N+=` ${F["of every month"]}`)),_.d&&(_.D?N+=` ${F["and every"]} `:N+=` ${F.on} `,N+=R(_.d,"dow")),_.M&&(N+=` ${F.in} ${R(_.M,"mon")}`),N}return W(f.schedules[0],h)}j.default=L},81997:function(X,j,L){"use strict";var M=this&&this.__importDefault||function(D){return D&&D.__esModule?D:{default:D}};Object.defineProperty(j,"__esModule",{value:!0});const h=M(L(1773)),F=M(L(17666));function b(D){return D=D.replace("\u041A\u0430\u0436\u0434\u0443\u044E(\u044B\u0439) \u043C\u0438\u043D\u0443\u0442\u0443","\u041A\u0430\u0436\u0434\u0443\u044E \u043C\u0438\u043D\u0443\u0442\u0443"),D=D.replace("\u041A\u0430\u0436\u0434\u0443\u044E(\u044B\u0439) \u043C\u0438\u043D\u0443\u0442(\u0443)","\u041A\u0430\u0436\u0434\u0443\u044E \u043C\u0438\u043D\u0443\u0442\u0443"),D=D.replace("\u041A\u0430\u0436\u0434\u0443\u044E(\u044B\u0439) \u0447\u0430\u0441","\u041A\u0430\u0436\u0434\u044B\u0439 \u0447\u0430\u0441"),D=D.replace("\u041A\u0430\u0436\u0434\u0443\u044E(\u044B\u0439) \u0441\u0435\u043A\u0443\u043D\u0434\u0443","\u041A\u0430\u0436\u0434\u0443\u044E \u0441\u0435\u043A\u0443\u043D\u0434\u0443"),D=D.replace(/ (\d{1,2}) /," $1\u0433\u043E \u0447\u0438\u0441\u043B\u0430"),D=D.replace(/ (\d{1,2})  /," $1\u0433\u043E \u0447\u0438\u0441\u043B\u0430 \u0432 \u042F\u043D\u0432\u0430\u0440\u0435"),D=D.replace(/ (\d{1,2})  /," $1\u0433\u043E \u0447\u0438\u0441\u043B\u0430 \u0432 \u0424\u0435\u0432\u0440\u0430\u043B\u0435"),D=D.replace(/ (\d{1,2})  /," $1\u0433\u043E \u0447\u0438\u0441\u043B\u0430 \u0432 \u041C\u0430\u0440\u0442\u0435"),D=D.replace(/ (\d{1,2})  /," $1\u0433\u043E \u0447\u0438\u0441\u043B\u0430 \u0432 \u0410\u043F\u0440\u0435\u043B\u0435"),D=D.replace(/ (\d{1,2})  /," $1\u0433\u043E \u0447\u0438\u0441\u043B\u0430 \u0432 \u041C\u0430\u0439\u0435"),D=D.replace(/ (\d{1,2})  /," $1\u0433\u043E \u0447\u0438\u0441\u043B\u0430 \u0432 \u0418\u044E\u043D\u0435"),D=D.replace(/ (\d{1,2})  /," $1\u0433\u043E \u0447\u0438\u0441\u043B\u0430 \u0432 \u0418\u044E\u043B\u0435"),D=D.replace(/ (\d{1,2})  /," $1\u0433\u043E \u0447\u0438\u0441\u043B\u0430 \u0432 \u0410\u0432\u0433\u0443\u0441\u0442\u0435"),D=D.replace(/ (\d{1,2})  /," $1\u0433\u043E \u0447\u0438\u0441\u043B\u0430 \u0432 \u0421\u0435\u043D\u0442\u044F\u0431\u0440\u0435"),D=D.replace(/ (\d{1,2})  /," $1\u0433\u043E \u0447\u0438\u0441\u043B\u0430 \u0432 \u041E\u043A\u0442\u044F\u0431\u0440\u0435"),D=D.replace(/ (\d{1,2})  /," $1\u0433\u043E \u0447\u0438\u0441\u043B\u0430 \u0432 \u041D\u043E\u044F\u0431\u0440\u0435"),D=D.replace(/ (\d{1,2})  /," $1\u0433\u043E \u0447\u0438\u0441\u043B\u0430 \u0432 \u0414\u0435\u043A\u0430\u0431\u0440\u0435"),D=D.replace("\u041A\u0430\u0436\u0434\u0443\u044E(\u044B\u0439) 0 \u043C\u0438\u043D\u0443\u0442\u0443","\u041A\u0430\u0436\u0434\u044B\u0435 \u043D\u043E\u043B\u044C \u043C\u0438\u043D\u0443\u0442"),D=D.replace(/\(\) ([\d\s,]+) /,"\u041A\u0430\u0436\u0434\u0443\u044E $1 \u043C\u0438\u043D\u0443\u0442\u0443"),D=D.replace(/\(\) ([\d\s,]+) /,"\u043A\u0430\u0436\u0434\u043E\u0439 $1 \u043C\u0438\u043D\u0443\u0442\u044B"),D=D.replace("\u043A\u0430\u0436\u0434\u043E\u0439(\u0433\u043E) \u043C\u0438\u043D\u0443\u0442(\u0443)","\u043A\u0430\u0436\u0434\u043E\u0439 \u043C\u0438\u043D\u0443\u0442\u044B"),D=D.replace(" 0 \u0447\u0430\u0441\u0430(\u043E\u0432)"," 0 \u0447\u0430\u0441\u043E\u0432"),D=D.replace(" 1 \u0447\u0430\u0441\u0430(\u043E\u0432)"," 1 \u0447\u0430\u0441"),D=D.replace(" 2 \u0447\u0430\u0441\u0430(\u043E\u0432)"," 2 \u0447\u0430\u0441\u0430"),D=D.replace(" 3 \u0447\u0430\u0441\u0430(\u043E\u0432)"," 3 \u0447\u0430\u0441\u0430"),D=D.replace(" 4 \u0447\u0430\u0441\u0430(\u043E\u0432)"," 4 \u0447\u0430\u0441\u0430"),D=D.replace(/ (\d{1,2}) \(\)/," $1 \u0447\u0430\u0441\u043E\u0432"),D=D.replace("Jede(r) Sekunde","Jede Sekunde"),D=D.replace(/Jede\(r\) ([\d\sund,]+) Sekunde/,"Jede $1 Sekunde"),D=D.replace("Jede(r) Minute","Jede Minute"),D=D.replace("Jede Minuten","Jede Minute"),D=D.replace("Jede(r) Stunde","Jede Stunde"),D=D.replace(/Jede\(r\) ([\d\sund,]+) Minute/,"Jede $1 Minute"),D=D.replace("Jede Sekunde in Minuten","Jede Sekunde in jeder Minute"),D}function d(D,r){const e=D.split(" ").length===6,s=r&&F.default[r]||F.default.en,t=(0,h.default)(D,e,s);return b(t)}j.default=d},87784:function(X,j,L){"use strict";var M=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(j,"__esModule",{value:!0}),j.cron2state=void 0;const h=M(L(28437)),F=L(70143),b=M(L(63237)),d=M(L(96747)),D=M(L(90458)),r=M(L(54403)),e=M(L(16740)),s=M(L(83308)),t=M(L(61218)),i=M(L(81997)),n=M(L(42854)),o={mainDiv:{width:"100%",height:"100%",overflow:"auto"},formControl:{margin:0,minWidth:120},formControlMarginRight:{marginRight:5},formControlPaddingTop:{paddingTop:6.2}},c={once:"once",interval:"interval",intervalBetween:"intervalBetween",specific:"specific"},p={seconds:"seconds",minutes:"minutes"},w=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"];function E(g){return g<10?`0${g}`:`${g}`}const k={mode:"interval",interval:{period:1,unit:p.minutes}};function f(g,m){g=g.replace(/['"]/g,"").trim();const S=g.split(" ");let A,R=null;return S.length===6?A={seconds:S[0]||"*",minutes:S[1]||"*",hours:S[2]||"*",date:S[3]||"*",months:S[4]||"*",dow:S[5]||"*"}:A={seconds:null,minutes:S[0]||"*",hours:S[1]||"*",date:S[2]||"*",months:S[3]||"*",dow:S[4]||"*"},A.seconds===null&&A.minutes==="*"&&A.hours==="*"&&A.date==="*"&&A.months==="*"&&(A.dow==="*"||m)&&(R={mode:"interval",interval:{period:1,unit:p.minutes}}),A.seconds==="*"&&A.minutes==="*"&&A.hours==="*"&&A.date==="*"&&A.months==="*"&&(A.dow==="*"||m)?R={mode:"interval",interval:{period:1,unit:p.seconds}}:A.seconds===null&&A.minutes.includes("/")&&A.hours==="*"&&A.date==="*"&&A.months==="*"&&(A.dow==="*"||m)?R={mode:"interval",interval:{period:parseInt(A.minutes.split("/")[1],10),unit:p.minutes}}:A.seconds!==null&&A.seconds.includes("/")&&A.minutes==="*"&&A.hours==="*"&&A.date==="*"&&A.months==="*"&&(A.dow==="*"||m)?R={mode:"interval",interval:{period:parseInt(A.seconds.split("/")[1],10),unit:p.seconds}}:A.seconds!==null&&A.seconds.includes("/")&&A.minutes==="*"&&A.hours.includes("-")&&A.date==="*"&&A.months==="*"&&(A.dow==="*"||m)?R={mode:"intervalBetween",intervalBetween:{period:parseInt(A.seconds.split("/")[1],10),unit:p.seconds,timeFrom:parseInt(A.hours.split("-")[0],10),timeTo:parseInt(A.hours.split("-")[1],10),weekdays:C.text2weekdays(A.dow)}}:A.seconds===null&&A.minutes.includes("/")&&A.hours.includes("-")&&A.date==="*"&&A.months==="*"&&(A.dow==="*"||m)?R={mode:"intervalBetween",intervalBetween:{period:parseInt(A.minutes.split("/")[1],10),unit:p.minutes,timeFrom:parseInt(A.hours.split("-")[0],10),timeTo:parseInt(A.hours.split("-")[1],10),weekdays:C.text2weekdays(A.dow)}}:A.seconds===null&&parseInt(A.minutes,10).toString()===A.minutes&&parseInt(A.hours,10).toString()===A.hours&&A.date==="*"&&A.months==="*"&&(A.dow==="*"||m)?R={mode:"specific",specific:{time:`${E(parseInt(A.hours,10))}:${E(parseInt(A.minutes,10))}`,weekdays:C.text2weekdays(A.dow)}}:A.seconds===null&&parseInt(A.minutes,10).toString()===A.minutes&&parseInt(A.hours,10).toString()===A.hours&&parseInt(A.date,10).toString()===A.date&&parseInt(A.months,10).toString()===A.months&&(A.dow==="*"||m)&&(R={mode:"once",once:{time:`${E(parseInt(A.hours,10))}:${E(parseInt(A.minutes,10))}`,date:`${E(parseInt(A.date,10))}.${E(parseInt(A.months,10))}`}}),R}j.cron2state=f;class C extends h.default.Component{constructor(m){super(m);let S=typeof m.cronExpression=="string"?m.cronExpression.replace(/^["']/,"").replace(/["']\n?$/,""):"";S[0]==="{"&&(S="");const A=f(S||"* * * * *",!0)||k;this.state={extended:!1,cron:C.state2cron(A),mode:"interval",once:{time:"00:00",date:""},interval:{period:1,unit:p.minutes},intervalBetween:{period:1,unit:p.minutes,timeFrom:0,timeTo:23,weekdays:[0,1,2,3,4,5,6]},specific:{time:"00:00",weekdays:[0,1,2,3,4,5,6]}},Object.assign(this.state,A),this.state.cron!==m.cronExpression&&setTimeout(()=>m.onChange&&m.onChange(this.state.cron),100)}static periodArray2text(m,S=7){if(S=S||7,m.length===S)return"*";const A=[];let R=null,P=null;for(let W=0;W<m.length;W++)R===null?(R=m[W],P=m[W]):(m[W-1]+1===m[W]||(R!==P?A.push(`${R}-${P}`):A.push(R),R=m[W]),P=m[W]);return R!==P?A.push(`${R}-${P}`):A.push(R),A.join(",")}static text2weekdays(m){if(m==="*")return[0,1,2,3,4,5,6];const S=m.split(","),A=[];return S.forEach(R=>{const P=R.split("-");if(P.length===2){const W=parseInt(P[0],10),_=parseInt(P[1],10);for(let T=W;T<=_;T++)A.includes(T===7?0:T)||A.push(T===7?0:T)}else{R==="7"&&(R="0");const W=parseInt(R,10);A.includes(W)||A.push(W)}}),A.sort(),A}static state2cron(m){let S="* * * * *";if(m.mode==="interval"){const A=m.interval||{period:1,unit:p.minutes};if(A.period!==void 0&&A.period>60&&(A.period=60),A.period!==void 0&&A.period<1&&(A.period=1),A.minutes!==void 0&&A.minutes!==null&&A.minutes>60&&(A.minutes=60),A.minutes!==void 0&&A.minutes!==null&&A.minutes<1&&(A.minutes=1),A.hours!==void 0&&A.hours!==null&&A.hours>24&&(A.hours=24),A.hours!==void 0&&A.hours!==null&&A.hours<1&&(A.hours=1),m.extended)S=`${A.minutes!==void 0&&A.minutes!==null&&A.minutes>1?`*/${A.minutes}`:"*"} ${A.hours!==void 0&&A.hours!==null&&A.hours>1?`*/${A.hours}`:"*"} * * *`;else switch(A.unit){case p.seconds:S=`${A.period>1?`*/${A.period}`:"*"} * * * * *`;break;case p.minutes:S=`${A.period>1?`*/${A.period}`:"*"} * * * *`;break;default:break}}else if(m.mode==="intervalBetween"){const A=m.intervalBetween||{period:1,unit:p.minutes,timeFrom:0,timeTo:24,weekdays:[0,1,2,3,4,5,6]};let R;switch(A.timeFrom=A.timeFrom||0,A.timeTo=A.timeTo===void 0?24:A.timeTo,A.timeFrom===0&&A.timeTo===24?R="*":R=A.timeFrom!==A.timeTo?`${A.timeFrom}-${A.timeTo}`:"*",A.period>60&&(A.period=60),A.period<1&&(A.period=1),A.unit=A.unit||p.minutes,A.unit){case p.seconds:S=`${A.period>1?`*/${A.period}`:"*"} * ${R} * * ${this.periodArray2text(A.weekdays)}`;break;case p.minutes:S=`${A.period>1?`*/${A.period}`:"*"} ${R} * * ${this.periodArray2text(A.weekdays)}`;break;default:break}}else if(m.mode==="specific"){const A=m.specific||{time:"00:00",weekdays:[0,1,2,3,4,5,6]},R=(A.time||"00:00").split(":");let P=parseInt(R[1],10)||0;P>59&&(P=59),P<0&&(P=0);let W=parseInt(R[0],10)||0;W>23&&(W=59),W<0&&(W=0),S=`${P} ${W} * * ${this.periodArray2text(A.weekdays||[])}`}else if(m.mode==="once"){const A=m.once||{time:"00:00",date:""};A.date||(A.date=`${new Date().getDate()}.${E(new Date().getMonth()+1)}`);const R=(A.time||"00:00").split(":"),P=A.date.split(".");let W=parseInt(R[1],10)||0;W>59&&(W=59),W<0&&(W=0);let _=parseInt(R[0],10)||0;_>23&&(_=59),_<0&&(_=0);let T=parseInt(P[0],10)||1;T>31&&(T=31),T<1&&(_=1);let N=parseInt(P[1],10)||1;N>12&&(N=12),N<1&&(N=1),S=`${W} ${_} ${T} ${N} *`}return S}recalcCron(){this.onChange(C.state2cron(this.state))}getControlsWeekdaysElements(m){const S=m==="intervalBetween"?this.state.intervalBetween:this.state.specific;return h.default.createElement("div",{key:"weekdays",style:{paddingLeft:8,width:"100%",maxWidth:600}},h.default.createElement("h5",null,n.default.t("ra_On weekdays")),[1,2,3,4,5,6,0].map(A=>h.default.createElement(s.default,{key:w[A],control:h.default.createElement(t.default,{checked:S.weekdays.includes(A),onChange:R=>{const P=JSON.parse(JSON.stringify(this.state[m])),W=P.weekdays.indexOf(A);R.target.checked&&W===-1&&P.weekdays.push(A),!R.target.checked&&W!==-1&&P.weekdays.splice(W,1),P.weekdays.sort(),m==="intervalBetween"?this.setState({intervalBetween:P},()=>this.recalcCron()):this.setState({specific:P},()=>this.recalcCron())},value:A.toString()}),label:n.default.t(w[A])})))}getControlsPeriodElements(m){const S=m==="interval"?this.state.interval:this.state.intervalBetween;return this.state.extended?h.default.createElement("div",{key:"period",style:{paddingLeft:8,display:"inline-block"}},h.default.createElement("h5",{style:{marginBottom:5}},n.default.t("sc_period")),h.default.createElement(e.default,{variant:"standard",style:{marginTop:0,marginBottom:0,verticalAlign:"bottom"},key:"value",label:n.default.t("sc_minutes"),value:S.minutes,onChange:A=>{const R=JSON.parse(JSON.stringify(this.state[m]));R.minutes=parseInt(A.target.value,10),R.minutes<1&&(R.minutes=1),m==="interval"?this.setState({interval:R},()=>this.recalcCron()):this.setState({intervalBetween:R},()=>this.recalcCron())},InputProps:{inputProps:{min:1,max:60}},type:"number",InputLabelProps:{shrink:!0},margin:"normal"}),h.default.createElement(e.default,{variant:"standard",style:{marginTop:0,marginBottom:0,verticalAlign:"bottom"},key:"value",label:n.default.t("sc_hours"),value:S.hours,onChange:A=>{const R=JSON.parse(JSON.stringify(this.state[m]));R.hours=parseInt(A.target.value,10),R.hours<1&&(R.hours=1),m==="interval"?this.setState({interval:R},()=>this.recalcCron()):this.setState({intervalBetween:R},()=>this.recalcCron())},InputProps:{inputProps:{min:1,max:24}},type:"number",InputLabelProps:{shrink:!0},margin:"normal"})):h.default.createElement("div",{key:"period",style:{paddingLeft:8,display:"inline-block"}},h.default.createElement("h5",{style:{marginBottom:5}},n.default.t("sc_period")),h.default.createElement(e.default,{variant:"standard",style:{marginTop:0,marginBottom:0,verticalAlign:"bottom"},key:"value",label:n.default.t("sc_every"),value:S.period,onChange:A=>{const R=JSON.parse(JSON.stringify(this.state[m]));R.period=parseInt(A.target.value,10),R.period<1&&(R.period=1),m==="interval"?this.setState({interval:R},()=>this.recalcCron()):this.setState({intervalBetween:R},()=>this.recalcCron())},InputProps:{inputProps:{min:1,max:60}},type:"number",InputLabelProps:{shrink:!0},margin:"normal"}),h.default.createElement(r.default,{variant:"standard",style:{verticalAlign:"bottom"},value:S.unit,onChange:A=>{const R=JSON.parse(JSON.stringify(this.state[m]));R.unit=A.target.value,m==="interval"?this.setState({interval:R},()=>this.recalcCron()):this.setState({intervalBetween:R},()=>this.recalcCron())}},h.default.createElement(d.default,{value:"seconds"},n.default.t("sc_seconds")),")",h.default.createElement(d.default,{value:"minutes"},n.default.t("sc_minutes")),")"))}getControlsTime(m){const S=m==="once"?this.state.once:this.state.specific;return h.default.createElement(D.default,{variant:"standard",className:this.props.classes.formControl,classes:{root:this.props.classes.formControlMarginRight}},h.default.createElement(e.default,{variant:"standard",key:"at",label:n.default.t("sc_time"),value:S.time,type:"time",onChange:A=>{const R=JSON.parse(JSON.stringify(this.state[m]));R.time=A.target.value,m==="once"?this.setState({once:R},()=>this.recalcCron()):this.setState({specific:R},()=>this.recalcCron())},InputLabelProps:{shrink:!0},margin:"normal"}))}getControlsDate(){const m=this.state.once;if(!m.date){const S=new Date;m.date=`${S.getDate()}.${E(S.getMonth()+1)}`}return h.default.createElement(D.default,{variant:"standard",className:this.props.classes.formControl},h.default.createElement(e.default,{variant:"standard",key:"date",label:n.default.t("sc_date"),value:m.date,type:"text",inputProps:{className:this.props.classes.formControlPaddingTop},onChange:S=>{const A=JSON.parse(JSON.stringify(this.state.once));A.date=S.target.value,this.setState({once:A},()=>this.recalcCron())},InputLabelProps:{shrink:!0},margin:"normal"}))}getOnceElements(){return h.default.createElement("div",{style:{marginLeft:8}},this.getControlsTime("once"),this.getControlsDate())}getIntervalElements(){return this.getControlsPeriodElements("interval")}getIntervalBetweenElements(){const m=this.state.intervalBetween;return[this.getControlsPeriodElements("intervalBetween"),h.default.createElement("div",{key:"between",style:{paddingLeft:8,display:"inline-block",verticalAlign:"top"}},h.default.createElement("h5",{style:{marginBottom:5}},n.default.t("sc_hours")),h.default.createElement(D.default,{variant:"standard",className:this.props.classes.formControl},h.default.createElement(b.default,{shrink:!0,htmlFor:"age-label-placeholder"},n.default.t("sc_from")),h.default.createElement(r.default,{variant:"standard",style:{width:100},value:m.timeFrom,onChange:S=>{const A=JSON.parse(JSON.stringify(this.state.intervalBetween));A.timeFrom=parseInt(S.target.value,10),this.setState({intervalBetween:A},()=>this.recalcCron())}},[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23].map(S=>h.default.createElement(d.default,{key:`B_${S}`,value:S},`${E(S)}:00`)))),h.default.createElement(D.default,{variant:"standard",className:this.props.classes.formControl},h.default.createElement(b.default,{shrink:!0,htmlFor:"age-label-placeholder"},n.default.t("sc_to")),h.default.createElement(r.default,{variant:"standard",style:{width:100},value:m.timeTo,onChange:S=>{const A=JSON.parse(JSON.stringify(this.state.intervalBetween));A.timeTo=parseInt(S.target.value,10),this.setState({intervalBetween:A},()=>this.recalcCron())}},[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24].map(S=>h.default.createElement(d.default,{key:`A_${S}`,value:S},`${E(S)}:00`))))),this.getControlsWeekdaysElements("intervalBetween")]}getSpecificTimeElements(){return[h.default.createElement("div",{key:"time",style:{marginLeft:8}},this.getControlsTime("specific")),this.getControlsWeekdaysElements("specific")]}onModeChange(m){m!==this.state.mode&&this.setState({mode:m},()=>this.recalcCron())}onChange(m){m!==this.state.cron&&(this.setState({cron:m}),this.props.onChange&&this.props.onChange(m))}render(){return h.default.createElement("div",{className:this.props.classes.mainDiv},h.default.createElement("div",{style:{paddingLeft:8,width:"100%"}},h.default.createElement(e.default,{style:{width:"100%"},value:this.state.cron,disabled:!0})),h.default.createElement("div",{style:{paddingLeft:8,width:"100%",height:60}},(0,i.default)(this.state.cron,this.props.language||"en")),h.default.createElement("div",null,h.default.createElement(D.default,{variant:"standard",style:{marginLeft:8,marginTop:8},className:this.props.classes.formControl},h.default.createElement(b.default,null,n.default.t("ra_Repeat")),h.default.createElement(r.default,{variant:"standard",value:this.state.mode,onChange:m=>this.onModeChange(m.target.value),inputProps:{name:"mode",id:"mode"}},h.default.createElement(d.default,{value:"once"},n.default.t("sc_once")),h.default.createElement(d.default,{value:"interval"},n.default.t("sc_interval")),h.default.createElement(d.default,{value:"intervalBetween"},n.default.t("sc_intervalBetween")),h.default.createElement(d.default,{value:"specific"},n.default.t("sc_specific"))))),this.state.mode===c.once&&this.getOnceElements(),this.state.mode==="interval"&&this.getIntervalElements(),this.state.mode==="intervalBetween"&&this.getIntervalBetweenElements(),this.state.mode==="specific"&&this.getSpecificTimeElements())}}j.default=(0,F.withStyles)(o)(C)},17666:(X,j)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0});const L={en:{ORDINALS:{th:"th",st:"st",nd:"nd",rd:"rd"},MONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],DOW:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Every:"Every",and:"and","every day":"every day","minute past the":"minute past the",hour:"hour",minute:"minute","minute of":"minute of",second:"second","second in minute":"second in minute","second of every":"second of every","minute every hour":"minute every hour","on the":"on the","of every month":"of every month","and every":"and every",At:"At",on:"on",in:"in"},de:{ORDINALS:{th:"",st:"",nd:"",rd:""},MONTH:["Januar","Februar","M\xE4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],DOW:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],Every:"Jede(r)",and:"und","every day":"jeden Tag","minute past the":"Minuten nach",hour:"Stunde",minute:"Minute","minute of":"Minuten von",second:"Sekunde","second in minute":"Sekunde in der Minute","second of every":"Sekunde in","minute every hour":"Minute jede Stunde","on the":"am","of every month":"im jeden Monat","and every":"und am jeden",At:"Um",on:"am",in:"im"},ru:{ORDINALS:{th:"",st:"",nd:"",rd:""},MONTH:["\u042F\u043D\u0432\u0430\u0440\u0435","\u0424\u0435\u0432\u0440\u0430\u043B\u0435","\u041C\u0430\u0440\u0442\u0435","\u0410\u043F\u0440\u0435\u043B\u0435","\u041C\u0430\u0439\u0435","\u0418\u044E\u043D\u0435","\u0418\u044E\u043B\u0435","\u0410\u0432\u0433\u0443\u0441\u0442\u0435","\u0421\u0435\u043D\u0442\u044F\u0431\u0440\u0435","\u041E\u043A\u0442\u044F\u0431\u0440\u0435","\u041D\u043E\u044F\u0431\u0440\u0435","\u0414\u0435\u043A\u0430\u0431\u0440\u0435"],DOW:["\u0432\u043E\u0441\u043A\u0440\u0435\u0441\u0435\u043D\u0438\u0435","\u043F\u043E\u043D\u0435\u0434\u0435\u043B\u044C\u043D\u0438\u043A","\u0432\u0442\u043E\u0440\u043D\u0438\u043A","\u0441\u0440\u0435\u0434\u0443","\u0447\u0435\u0442\u0432\u0435\u0440\u0433","\u043F\u044F\u0442\u043D\u0438\u0446\u0443","\u0441\u0443\u0431\u0431\u043E\u0442\u0443"],Every:"\u041A\u0430\u0436\u0434\u0443\u044E(\u044B\u0439)",and:"\u0438","every day":"\u043A\u0430\u0436\u0434\u044B\u0439 \u0434\u0435\u043D\u044C","minute past the":"\u043C\u0438\u043D\u0443\u0442\u0443 \u0432",hour:"\u0447\u0430\u0441\u0430(\u043E\u0432)",minute:"\u043C\u0438\u043D\u0443\u0442\u0443","minute of":"\u043C\u0438\u043D\u0443\u0442(\u0443) \u0432",second:"\u0441\u0435\u043A\u0443\u043D\u0434\u0443","second in minute":"\u0441\u0435\u043A\u0443\u043D\u0434\u0443 \u0432 \u043C\u0438\u043D\u0443\u0442\u0435","second of every":"\u0441\u0435\u043A\u0443\u043D\u0434\u0443 \u043A\u0430\u0436\u0434\u043E\u0439(\u0433\u043E)","minute every hour":"\u043C\u0438\u043D\u0443\u0442\u0443 \u043A\u0430\u0436\u0434\u044B\u0439 \u0447\u0430\u0441","on the":"","of every month":"\u0447\u0438\u0441\u043B\u0430 \u043A\u0430\u0436\u0434\u043E\u0433\u043E \u043C\u0435\u0441\u044F\u0446\u0430","and every":"\u0438 \u043A\u0430\u0436\u0434\u044B\u0439",At:"\u0412",on:"\u0432",in:"\u0432"},fr:{ORDINALS:{th:"th",st:"st",nd:"nd",rd:"rd"},MONTH:["F\xE9v","Mar","Avr","Mai","Jun","Juil","Aug","Sep","Oct","Nov","D\xE9c"],DOW:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"],Every:"Chaque",and:"et","every day":"tous les jours","minute past the":"minute apr\xE8s le",hour:"heure",minute:"minute","minute of":"minute de",second:"seconde","second in minute":"seconde en minute","second of every":"deuxi\xE8me de tous","minute every hour":"minute toutes les heures","on the":"sur le","of every month":"de chaque mois","and every":"et tous",At:"\xC0",on:"sur",in:"dans"},it:{ORDINALS:{th:"",st:"",nd:"",rd:""},MONTH:["Jan","Feb","Mar","Apr","Pot","Giu","Lug","Aug","Sep","Oct","Nov","Dic"],DOW:["Dom","Mon","Mar","Mer","Gio","Ve","Sat"],Every:"Ogni",and:"e","every day":"ogni giorno","minute past the":"minuto dopo",hour:"ora",minute:"Minuto","minute of":"minuto di",second:"secondo","second in minute":"secondo in minuto","second of every":"secondo di ogni","minute every hour":"minuto ogni ora","on the":"sul","of every month":"di ogni mese","and every":"e ogni",At:"A",on:"sopra",in:"in"},pt:{ORDINALS:{th:"",st:"",nd:"",rd:""},MONTH:["Jan","Feb","Mar","Abr","Pod","Jun","Jul","Ago","Sep","Oct","Nov","Dec"],DOW:["Dom","Seg","Ter","Qua","Qui","Sex","Sen"],Every:"Cada",and:"e","every day":"todo dia","minute past the":"minuto ap\xF3s o",hour:"hora",minute:"minuto","minute of":"minuto de",second:"segundo","second in minute":"segundo em minuto","second of every":"segundo de cada","minute every hour":"minuto a cada hora","on the":"no","of every month":"de todos os meses","and every":"e todos",At:"At",on:"em",in:"dentro"},pl:{ORDINALS:{th:"th",st:"st",nd:"nd",rd:"rd"},MONTH:["Sty","Lut","Mar","Kwi","Maj","Cze","Lip","Sie","Wrz","Pa\u017A","Lis","Gru"],DOW:["Nie","Pon","Wto","\u015Aro","Czw","Pi\u0105","Sob"],Every:"Ka\u017Cde(go)",and:"i","every day":"codziennie","minute past the":"minut po",hour:"godzina",minute:"minut(a)","minute of":"minut po",second:"sekunda","second in minute":"sekund na minut\u0119","second of every":"sekund co","minute every hour":"minut co godzin\u0119","on the":"w","of every month":"ka\u017Cdego miesi\u0105ca","and every":"i ka\u017Cdego",At:"O",on:"w",in:"w"},es:{ORDINALS:{th:"",st:"",nd:"",rd:""},MONTH:["Ene","Feb","Mar","Abr","Mayo","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],DOW:["Sol","Lun","Mar","Mie","Jue","Vie","Sab"],Every:"Cada",and:"y","every day":"cada d\xEDa","minute past the":"minuto pasado el",hour:"hora",minute:"minuto","minute of":"minuto de",second:"segundo","second in minute":"segundo en minuto","second of every":"segundo de cada","minute every hour":"minuto cada hora","on the":"sobre el","of every month":"de cada mes","and every":"y cada",At:"A",on:"en",in:"en"},nl:{ORDINALS:{th:"",st:"",nd:"",rd:""},MONTH:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],DOW:["Zon","Mon","Di","Wo","Don","Vrij","Za"],Every:"Elke",and:"en","every day":"elke dag","minute past the":"minuut voorbij de",hour:"uur",minute:"minuut","minute of":"minuut van",second:"tweede","second in minute":"tweede in minuut","second of every":"tweede van alles","minute every hour":"minuut elk uur","on the":"op de","of every month":"van elke maand","and every":"en elke",At:"Op",on:"op",in:"in"},uk:{ORDINALS:{th:"",st:"",nd:"",rd:""},MONTH:["\u0421\u0456\u0447","\u041B\u044E\u0442","\u0411\u0435\u0440","\u041A\u0432\u0456","\u0422\u0440\u0430","\u0427\u0435\u0440","\u041B\u0438\u043F","\u0421\u0435\u0440","\u0412\u0435\u0440","\u0416\u043E\u0432","\u041B\u0438\u0441","\u0413\u0440\u0443"],DOW:["\u0412\u043E\u0441\u043A\u0440\u0435\u0441\u0456\u043D\u043D\u044F","\u041F\u043E\u043D\u0435\u0434\u0456\u043B\u043E\u043A","\u0412\u0456\u0432\u0442\u043E\u0440\u043E\u043A","\u0421\u0435\u0440\u0435\u0434\u0430","\u0427\u0435\u0442\u0432\u0435\u0440","\u041F'\u044F\u0442\u043D\u0438\u0446\u044F","\u0421\u0443\u0431\u043E\u0442\u0430"],Every:"\u041A\u043E\u0436\u043D\u0443(\u0438\u0439)",and:"\u0456","every day":"\u043A\u043E\u0436\u0435\u043D \u0434\u0435\u043D\u044C","minute past the":"\u0445\u0432\u0438\u043B\u0438\u043D\u0443 \u043F\u0456\u0441\u043B\u044F",hour:"\u0433\u043E\u0434\u0438\u043D\u0438",minute:"\u0445\u0432\u0438\u043B\u0438\u043D\u0443","minute of":"\u0445\u0432\u0438\u043B\u0438\u043D\u0438",second:"\u0441\u0435\u043A\u0443\u043D\u0434\u0443","second in minute":"\u0441\u0435\u043A\u0443\u043D\u0434\u0443 \u0432 \u0445\u0432\u0438\u043B\u0438\u043D\u0456","second of every":"\u0441\u0435\u043A\u0443\u043D\u0434\u0443 \u043A\u043E\u0436\u043D\u043E\u0457(\u0433\u043E)","minute every hour":"\u0445\u0432\u0438\u043B\u0438\u043D\u0443 \u043A\u043E\u0436\u043D\u0443 \u0433\u043E\u0434\u0438\u043D\u0443","on the":"","of every month":"\u0447\u0438\u0441\u043B\u0430 \u043A\u043E\u0436\u043D\u043E\u0433\u043E \u043C\u0456\u0441\u044F\u0446\u044F","and every":"\u0456 \u043A\u043E\u0436\u043D\u043E\u0433\u043E",At:"\u0412",on:"\u0432",in:"\u0432"},"zh-cn":{ORDINALS:{th:"",st:"",nd:"",rd:""},MONTH:["\u4E00\u6708","\u4E8C\u6708","\u4E09\u6708","\u56DB\u6708","\u4E94\u6708","\u516D\u6708","\u4E03\u6708","\u516B\u6708","\u4E5D\u6708","\u5341\u6708","\u5341\u4E00\u6708","\u5341\u4E8C\u6708"],DOW:["\u661F\u671F\u65E5","\u661F\u671F\u4E00","\u661F\u671F\u4E8C","\u661F\u671F\u4E09","\u661F\u671F\u56DB","\u661F\u671F\u4E94","\u661F\u671F\u516D"],Every:"\u6BCF",and:"\u548C","every day":"\u6BCF\u5929","minute past the":"\u5206\u949F\u5728\u6BCF\u5929\u7B2C",hour:"\u5C0F\u65F6",minute:"\u5206\u949F","minute of":"\u5206\u949F\u7684",second:"\u79D2","second in minute":"\u79D2\u5728\u5206\u949F","second of every":"\u79D2\u5728\u6BCF","minute every hour":"\u5206\u949F\u5728\u6BCF\u5C0F\u65F6\u4E2D","on the":"\u5728","of every month":"\u65E5\u5728\u6BCF\u6708","and every":"\u4E14\u6BCF",At:"\u5728",on:"\u5728",in:"\u5728"}};j.default=L},32199:function(X,j,L){"use strict";var M=this&&this.__createBinding||(Object.create?function(n,o,c,p){p===void 0&&(p=c);var w=Object.getOwnPropertyDescriptor(o,c);(!w||("get"in w?!o.__esModule:w.writable||w.configurable))&&(w={enumerable:!0,get:function(){return o[c]}}),Object.defineProperty(n,p,w)}:function(n,o,c,p){p===void 0&&(p=c),n[p]=o[c]}),h=this&&this.__setModuleDefault||(Object.create?function(n,o){Object.defineProperty(n,"default",{enumerable:!0,value:o})}:function(n,o){n.default=o}),F=this&&this.__importStar||function(n){if(n&&n.__esModule)return n;var o={};if(n!=null)for(var c in n)c!=="default"&&Object.prototype.hasOwnProperty.call(n,c)&&M(o,n,c);return h(o,n),o},b=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(j,"__esModule",{value:!0});const d=F(L(28437)),D=L(70143),r=L(67085),e=b(L(96808)),s={root:{width:"100%",height:"100%"},overflowHidden:{overflow:"hidden"},container:{height:"100%"}};class t extends d.Component{render(){const{classes:o}=this.props;return d.default.createElement(r.Paper,{elevation:Number.isNaN(this.props.elevation)?1:this.props.elevation,className:e.default.clsx(o.root,{[o.overflowHidden]:this.props.overflow!=="visible"},this.props.className),onKeyDown:this.props.onKeyDown,tabIndex:this.props.tabIndex},d.default.createElement(r.Grid,{container:!0,direction:"column",wrap:"nowrap",className:o.container},this.props.children))}}const i=(0,D.withStyles)(s)(t);j.default=i},71277:function(X,j,L){"use strict";var M=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(j,"__esModule",{value:!0});const h=M(L(28437)),F=L(70143),b=L(67085),d=M(L(96808)),D={root:{height:"100%",overflow:"hidden"},overflowAuto:{overflow:"auto"}};class r extends h.default.Component{render(){const{classes:s}=this.props;return h.default.createElement(b.Grid,{item:!0,className:d.default.clsx(s.root,this.props.overflow==="auto"?s.overflowAuto:"")},this.props.children)}}j.default=(0,F.withStyles)(D)(r)},56295:function(X,j,L){"use strict";var M=this&&this.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(j,"__esModule",{value:!0});const h=M(L(28437)),F=L(67085);class b extends h.default.Component{render(){return h.default.createElement(F.Grid,{item:!0,container:!0,alignItems:"center"},this.props.children)}}j.default=b},57449:function(X,j,L){"use strict";var M=this&&this.__createBinding||(Object.create?function(s,t,i,n){n===void 0&&(n=i);var o=Object.getOwnPropertyDescriptor(t,i);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(s,n,o)}:function(s,t,i,n){n===void 0&&(n=i),s[n]=t[i]}),h=this&&this.__setModuleDefault||(Object.create?function(s,t){Object.defineProperty(s,"default",{enumerable:!0,value:t})}:function(s,t){s.default=t}),F=this&&this.__importStar||function(s){if(s&&s.__esModule)return s;var t={};if(s!=null)for(var i in s)i!=="default"&&Object.prototype.hasOwnProperty.call(s,i)&&M(t,s,i);return h(t,s),t};Object.defineProperty(j,"__esModule",{value:!0});const b=F(L(28437)),d=L(70143),D=L(67085),r={table:{display:"grid","& tr":{display:"contents"},"& thead":{display:"contents"},"& tbody":{display:"contents"},"& th":{position:"sticky",userSelect:"none"},"& .resize-handle":{display:"block",position:"absolute",cursor:"col-resize",width:7,right:0,top:2,bottom:2,zIndex:1,borderRight:"2px dotted #888","&:hover":{borderColor:"#ccc",borderRightStyle:"solid"},"&.active":{borderColor:"#517ea5",borderRightStyle:"solid"}}}};class e extends b.Component{constructor(t){super(t),this.widthFilled=!1,this.installTimeout=null,this.resizerMin=0,this.resizerMinNext=0,this.resizerPosition=0,this.resizerOldWidth=0,this.resizerOldWidthNext=0,this.resizerReset=()=>{for(let i=0;i<this.resizerCurrentWidths.length;i++)this.resizerCurrentWidths[i]=(this.props.initialWidths||[])[i]||"auto";(window._localStorage||window.localStorage).setItem(`App.${this.props.name||"history"}.table`,JSON.stringify(this.resizerCurrentWidths)),this.resizerApplyWidths()},this.resizerMouseMove=i=>{if(this.resizerActiveDiv&&this.resizerActiveIndex!==null){const n=this.resizerOldWidth+i.clientX-this.resizerPosition,o=this.resizerOldWidthNext-i.clientX+this.resizerPosition;(!this.resizerMin||n>this.resizerMin)&&(!this.resizerMinNext||o>this.resizerMinNext)&&(this.resizerCurrentWidths[this.resizerActiveIndex]=n,this.resizerCurrentWidths[this.resizerActiveIndex+1]=o,this.resizerApplyWidths())}},this.resizerMouseUp=()=>{(window._localStorage||window.localStorage).setItem(`App.${this.props.name||"history"}.table`,JSON.stringify(this.resizerCurrentWidths)),this.resizerActiveIndex=null,this.resizerActiveDiv=null,window.removeEventListener("mousemove",this.resizerMouseMove),window.removeEventListener("mouseup",this.resizerMouseUp)},this.resizerMouseDown=i=>{var n,o,c,p;if(this.resizerActiveIndex===null||this.resizerActiveIndex===void 0){console.log(`Mouse down ${(n=i.target)===null||n===void 0?void 0:n.dataset.index}`),this.resizerActiveIndex=parseInt(((o=i.target)===null||o===void 0?void 0:o.dataset.index)||"0",10),this.resizerActiveDiv=i.target,this.resizerMin=this.props.minWidths?this.props.minWidths[this.resizerActiveIndex]:0,this.resizerMinNext=this.props.minWidths?this.props.minWidths[this.resizerActiveIndex+1]:0,this.resizerPosition=i.clientX;let w;this.resizerCurrentWidths[this.resizerActiveIndex]==="auto"&&(w=(c=this.resizerRefTable.current)===null||c===void 0?void 0:c.querySelectorAll("th"),w&&(this.resizerCurrentWidths[this.resizerActiveIndex]=w[this.resizerActiveIndex].offsetWidth)),this.resizerCurrentWidths[this.resizerActiveIndex+1]==="auto"&&(w=w||((p=this.resizerRefTable.current)===null||p===void 0?void 0:p.querySelectorAll("th")),w&&(this.resizerCurrentWidths[this.resizerActiveIndex+1]=w[this.resizerActiveIndex+1].offsetWidth)),this.resizerOldWidth=this.resizerCurrentWidths[this.resizerActiveIndex],this.resizerOldWidthNext=this.resizerCurrentWidths[this.resizerActiveIndex+1],window.addEventListener("mousemove",this.resizerMouseMove),window.addEventListener("mouseup",this.resizerMouseUp)}},this.resizerRefTable=b.default.createRef(),this.resizerActiveIndex=null,this.resizerActiveDiv=null,this.resizerCurrentWidths=[]}componentDidMount(){this.resizerInstall()}componentWillUnmount(){this.resizerUninstall()}resizerInstall(){if(this.resizerRefTable.current&&!this.resizerRefTable.current._installed){this.resizerRefTable.current._installed=!0;const t=this.resizerRefTable.current.querySelectorAll("th"),i=(window._localStorage||window.localStorage).getItem(`App.${this.props.name||"history"}.table`);if(this.widthFilled=!1,i)try{this.resizerCurrentWidths=JSON.parse(i),this.widthFilled=!0}catch(n){}if(this.widthFilled)if(this.resizerCurrentWidths.length!==t.length)this.resizerCurrentWidths=[],this.widthFilled=!1;else{const n=this.resizerRefTable.current.offsetWidth;let o=0;for(let c=0;c<this.resizerCurrentWidths.length;c++)if(window.isFinite(this.resizerCurrentWidths[c]))o+=this.resizerCurrentWidths[c];else{o=null;break}o!==null&&Math.abs(o-n)>20&&(this.resizerCurrentWidths=[],this.widthFilled=!1)}for(let n=0;n<t.length;n++)if(!this.widthFilled&&this.resizerCurrentWidths.push(t[n].offsetWidth),n<t.length-1){const o=window.document.createElement("div");o.dataset.index=n.toString(),o.onmousedown=this.resizerMouseDown,o.ondblclick=this.resizerReset,o.title=this.props.dblTitle||"Double click to reset table layout",o.className="resize-handle",t[n].appendChild(o)}this.widthFilled&&this.resizerApplyWidths()}else this.installTimeout=setTimeout(()=>{this.installTimeout=null,this.resizerInstall()},100)}resizerUninstall(){if(this.installTimeout&&clearTimeout(this.installTimeout),this.installTimeout=null,this.resizerRefTable.current&&this.resizerRefTable.current._installed){this.resizerRefTable.current._installed=!1;const t=this.resizerRefTable.current.querySelectorAll("th");for(let i=0;i<t.length;i++){const n=t[i].querySelector(".resize-handle");n&&(n.onmousedown=null,n.remove())}}}resizerApplyWidths(){const t=[];if(this.resizerCurrentWidths.length)for(let i=0;i<this.resizerCurrentWidths.length;i++)this.resizerCurrentWidths[i]?t.push(this.resizerCurrentWidths[i]!=="auto"?`${this.resizerCurrentWidths[i]}px`:"auto"):this.props.initialWidths&&this.props.initialWidths[i]?t.push(this.props.initialWidths[i]!=="auto"?`${this.props.initialWidths[i]}px`:"auto"):t.push("auto");else if(this.props.initialWidths)for(let i=0;i<this.props.initialWidths.length;i++)this.props.initialWidths[i]?t.push(this.props.initialWidths[i]!=="auto"?`${this.props.initialWidths[i]}px`:"auto"):t.push("auto");return this.resizerRefTable.current&&t.length&&(this.resizerRefTable.current.style.gridTemplateColumns=t.join(" ")),t.length?t.join(" "):void 0}render(){if(this.props.ready===!1)return b.default.createElement(D.Skeleton,null);const t={gridTemplateColumns:this.resizerApplyWidths()};return b.default.createElement(D.Table,{stickyHeader:this.props.stickyHeader,size:this.props.size||"small",className:this.props.className,ref:this.resizerRefTable,style:Object.assign(Object.assign({},this.props.style||{}),t)},this.props.children)}}j.default=(0,d.withStyles)(r)(e)},49251:function(X,j,L){"use strict";var M=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(j,"__esModule",{value:!0});const h=M(L(28437)),F=L(70143),b=M(L(82216)),d=M(L(96808)),D={div:{borderRadius:3,padding:"0 3px",lineHeight:"20px",whiteSpace:"nowrap",overflow:"hidden",display:"flex",alignItems:"center"},icon:{width:16,height:16,marginRight:8,verticalAlign:"middle"},text:{display:"inline-block",overflow:"hidden",textOverflow:"ellipsis"}},r=e=>{var s,t,i,n,o,c,p,w,E;let k=e.value,f;const C=e.removePrefix||"";if(typeof k=="string"){const m=e.list||e.options;if(m)if(Array.isArray(m)){const S=m.find(A=>A._id===C+k);S?f={name:d.default.getObjectNameFromObj(S,e.lang).replace("system.group.",""),value:S._id,icon:e.icon||((s=S.common)===null||s===void 0?void 0:s.icon),color:e.color||((t=S.common)===null||t===void 0?void 0:t.color)}:f={name:k,value:C+k}}else if(m[C+k]){const S=m[C+k];f={name:d.default.getObjectNameFromObj(S,e.lang).replace("system.group.",""),value:S._id,icon:e.icon||((i=S.common)===null||i===void 0?void 0:i.icon),color:e.color||((n=S.common)===null||n===void 0?void 0:n.color)}}else f={name:k,value:C+k,icon:e.icon,color:e.color};else f={name:k,value:C+k,icon:e.icon,color:e.color}}else if(!k||typeof k!="object")f={name:"",value:"",icon:e.icon,color:e.color};else{const m=k;f={name:d.default.getObjectNameFromObj(m,e.lang).replace("system.group.","").replace("system.user.","").replace("enum.rooms.","").replace("enum.functions.",""),value:m._id,icon:e.icon||((o=m.common)===null||o===void 0?void 0:o.icon),color:e.color||((c=m.common)===null||c===void 0?void 0:c.color)}}const g=f!=null&&f.color?{border:`1px solid ${d.default.invertColor(f==null?void 0:f.color)}`,color:d.default.getInvertedColor(f==null?void 0:f.color,e.themeType,!0)||void 0,backgroundColor:f==null?void 0:f.color}:{};return h.default.createElement("div",{style:Object.assign(Object.assign({},e.style),g),className:d.default.clsx(e.className,e.classes.div,(p=e.moreClasses)===null||p===void 0?void 0:p.root),title:e.title||f.value},f!=null&&f.icon?h.default.createElement(b.default,{src:f==null?void 0:f.icon,className:d.default.clsx(e.classes.icon,(w=e.moreClasses)===null||w===void 0?void 0:w.icon)}):null,h.default.createElement("div",{className:d.default.clsx(e.classes.text,(E=e.moreClasses)===null||E===void 0?void 0:E.text)},f==null?void 0:f.name))};j.default=(0,F.withStyles)(D)(r)},98511:function(X,j,L){"use strict";var M=this&&this.__importDefault||function(D){return D&&D.__esModule?D:{default:D}};Object.defineProperty(j,"__esModule",{value:!0});const h=M(L(28437)),F=L(67085),b=L(21839);function d({themeName:D,toggleTheme:r,t:e,className:s,style:t,size:i}){return h.default.createElement("div",{className:s||void 0,style:t||void 0},h.default.createElement(F.Tooltip,{title:e("ra_Change color theme")},h.default.createElement(F.IconButton,{onClick:()=>r(),size:i||"medium"},D==="dark"&&h.default.createElement(b.Brightness4,{className:s}),D==="blue"&&h.default.createElement(b.Brightness5,{className:s}),D==="colored"&&h.default.createElement(b.Brightness6,{className:s}),D!=="dark"&&D!=="blue"&&D!=="colored"&&h.default.createElement(b.Brightness7,{className:s}))))}j.default=d},25713:function(X,j,L){"use strict";var M=this&&this.__createBinding||(Object.create?function(f,C,g,m){m===void 0&&(m=g);var S=Object.getOwnPropertyDescriptor(C,g);(!S||("get"in S?!C.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return C[g]}}),Object.defineProperty(f,m,S)}:function(f,C,g,m){m===void 0&&(m=g),f[m]=C[g]}),h=this&&this.__setModuleDefault||(Object.create?function(f,C){Object.defineProperty(f,"default",{enumerable:!0,value:C})}:function(f,C){f.default=C}),F=this&&this.__importStar||function(f){if(f&&f.__esModule)return f;var C={};if(f!=null)for(var g in f)g!=="default"&&Object.prototype.hasOwnProperty.call(f,g)&&M(C,f,g);return h(C,f),C},b=this&&this.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(j,"__esModule",{value:!0});const d=F(L(28437)),D=L(70143),r=L(45856),e=L(67085),s=L(21839),t=b(L(38389)),i=b(L(96808));function n(f,C,g){if(typeof C=="string"&&(C=C.split(".")),!f)return null;if(C.length===1)return g&&g[f[C[0]]]?g[f[C[0]]]:f[C[0]];const m=C.shift();return n(f[m],C)}function o(f,C,g){if(typeof C=="string"&&(C=C.split(".")),C.length===1)return f[C[0]]=g;const m=C.shift();return(f[m]===null||f[m]===void 0)&&(f[m]={}),o(f[m],C,g)}const c=f=>({tableContainer:{width:"100%",height:"100%",overflow:"auto"},table:{width:"100%",minWidth:800,maxWidth:1920},cell:{paddingTop:0,paddingBottom:0,paddingLeft:4,paddingRight:4},rowMainWithChildren:{},rowMainWithoutChildren:{},rowNoEdit:{opacity:.3},cellExpand:{width:30},cellButton:{width:30},cellHeader:{fontWeight:"bold",background:(f.palette.mode==="dark","#888"),color:f.palette.mode==="dark"?"#EEE":"#111",height:48,wordBreak:"break-word",whiteSpace:"pre"},width_name_nicknames:{maxWidth:150},width_ioType:{maxWidth:100},width_type:{maxWidth:100},width_displayTraits:{maxWidth:100},width_roomHint:{maxWidth:100},rowSecondary:{fontStyle:"italic"},cellSecondary:{fontSize:10},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1},fieldEditWithButton:{width:"calc(100% - 33px)",display:"inline-block"},fieldEdit:{width:"100%",display:"inline-block",lineHeight:"50px",verticalAlign:"middle"},fieldButton:{width:30,display:"inline-block"},colorDialog:{overflow:"hidden",padding:15},subText:{fontSize:10,fontStyle:"italic"},glow:{animation:"glow 0.2s 2 alternate"}});function p(f,C,g,m){const S=n(f,g,m)||"",A=n(C,g,m)||"";return A<S?-1:A>S?1:0}function w(f,C,g){return f==="desc"?(m,S)=>p(m,S,C,g):(m,S)=>-p(m,S,C,g)}function E(f,C){const g=f.map((m,S)=>({e:m,i:S}));return g.sort((m,S)=>{const A=C(m.e,S.e);return A||m.i-S.i}),g.map(m=>m.e)}class k extends d.Component{constructor(C){super(C),this.selectCallback=null,this.updateTimeout=null;let g=(window._localStorage||window.localStorage).getItem(this.props.name||"iob-table")||"[]";try{g=JSON.parse(g)||[]}catch(m){g=[]}Array.isArray(g)||(g=[]),this.state={opened:g,editMode:!1,deleteMode:!1,editData:null,order:"asc",update:null,orderBy:this.props.columns[0].field,showSelectColor:!1}}static getDerivedStateFromProps(C,g){if(C.glowOnChange){const m=[];let S=0;return C.data&&g.data&&C.data.forEach(A=>{var R;S++;const P=(R=g.data)===null||R===void 0?void 0:R.find(W=>W.id===A.id);P?JSON.stringify(P)!==JSON.stringify(A)&&m.push(A.id):m.push(A.id)}),m.length&&m.length!==S?{data:C.data,update:m}:{data:C.data}}return{data:C.data}}renderCellEdit(C,g){let m=n(C,g.field);return Array.isArray(m)&&(m=m[0]),g.lookup?this.renderCellEditSelect(C,g,m):g.editComponent?this.renderCellEditCustom(C,g,m):g.type==="boolean"||!g.type&&typeof m=="boolean"?this.renderCellEditBoolean(C,g,m):g.type==="color"?this.renderCellEditColor(C,g,m):g.type==="oid"?this.renderCellEditObjectID(C,g,m):g.type==="numeric"?this.renderCellEditNumber(C,g,m):this.renderCellEditString(C,g,m)}renderCellEditSelect(C,g,m){return d.default.createElement(e.Select,{variant:"standard",onChange:S=>{const A=this.state.editData?Object.assign({},this.state.editData):{};S.target.value===m?delete A[g.field]:A[g.field]=S.target.value,this.setState({editData:A})},value:this.state.editData&&this.state.editData[g.field]||m},g.lookup&&Object.keys(g.lookup).map((S,A)=>{var R;return d.default.createElement(e.MenuItem,{key:A,value:S},(R=g.lookup)===null||R===void 0?void 0:R[S])}))}renderCellEditString(C,g,m){return d.default.createElement(e.TextField,{variant:"standard",className:this.props.classes.fieldEdit,fullWidth:!0,value:this.state.editData&&this.state.editData[g.field]!==void 0?this.state.editData[g.field]:m,onChange:S=>{const A=this.state.editData?Object.assign({},this.state.editData):{};S.target.value===m?delete A[g.field]:A[g.field]=S.target.value,this.setState({editData:A})}})}renderCellEditNumber(C,g,m){return d.default.createElement(e.TextField,{variant:"standard",className:this.props.classes.fieldEdit,type:"number",fullWidth:!0,value:this.state.editData&&this.state.editData[g.field]!==void 0?this.state.editData[g.field]:m,onChange:S=>{const A=this.state.editData?Object.assign({},this.state.editData):{};S.target.value===m?delete A[g.field]:A[g.field]=S.target.value,this.setState({editData:A})}})}renderCellEditCustom(C,g,m){const S=g.editComponent;return this.state.editData&&this.state.editData[g.field]!==void 0&&(m=this.state.editData[g.field],C=JSON.parse(JSON.stringify(C)),C[g.field]=m),d.default.createElement(S,{value:m,rowData:C,onChange:A=>{const R=this.state.editData?Object.assign({},this.state.editData):{};A===m?delete R[g.field]:R[g.field]=A,this.setState({editData:R})}})}renderCellEditBoolean(C,g,m){return d.default.createElement(e.Checkbox,{checked:this.state.editData&&this.state.editData[g.field]!==void 0?!!this.state.editData[g.field]:!!m,onChange:S=>{const A=this.state.editData?Object.assign({},this.state.editData):{};S.target.checked===!!m?delete A[g.field]:A[g.field]=S.target.checked,this.setState({editData:A})},inputProps:{"aria-label":"checkbox"}})}renderSelectColorDialog(){return d.default.createElement(e.Dialog,{classes:{root:this.props.classes.colorDialog,paper:this.props.classes.colorDialog},onClose:()=>{this.selectCallback=null,this.setState({showSelectColor:!1})},open:this.state.showSelectColor},d.default.createElement(r.HexColorPicker,{color:this.state.selectIdValue,onChange:C=>this.setState({selectIdValue:C},()=>this.selectCallback&&this.selectCallback(C))}))}renderCellEditColor(C,g,m){const S=this.state.editData&&this.state.editData[g.field]!==void 0?this.state.editData[g.field]:m;return d.default.createElement("div",{className:this.props.classes.fieldEdit},d.default.createElement(e.TextField,{variant:"standard",fullWidth:!0,className:this.props.classes.fieldEditWithButton,value:S,inputProps:{style:{backgroundColor:S,color:i.default.isUseBright(S)?"#FFF":"#000"}},onChange:A=>{const R=this.state.editData?Object.assign({},this.state.editData):{};A.target.value===m?delete R[g.field]:R[g.field]=A.target.value,this.setState({editData:R})}}),d.default.createElement(e.IconButton,{className:this.props.classes.fieldButton,onClick:()=>{this.selectCallback=A=>{const R=this.state.editData?Object.assign({},this.state.editData):{};A===m?delete R[g.field]:R[g.field]=A,this.setState({editData:R})},this.setState({showSelectColor:!0,selectIdValue:m})},size:"large"},d.default.createElement(s.Colorize,null)))}renderSelectIdDialog(){return this.state.showSelectId&&this.props.socket?d.default.createElement(t.default,{key:"tableSelect",imagePrefix:"../..",dialogName:this.props.adapterName,themeType:this.props.themeType,socket:this.props.socket,selected:this.state.selectIdValue,onClose:()=>this.setState({showSelectId:!1}),onOk:C=>{this.setState({showSelectId:!1,selectIdValue:null}),this.selectCallback&&this.selectCallback(C),this.selectCallback=null}}):null}renderCellEditObjectID(C,g,m){return d.default.createElement("div",{className:this.props.classes.fieldEdit},d.default.createElement(e.TextField,{variant:"standard",fullWidth:!0,className:this.props.classes.fieldEditWithButton,value:this.state.editData&&this.state.editData[g.field]!==void 0?this.state.editData[g.field]:m,onChange:S=>{const A=this.state.editData?Object.assign({},this.state.editData):{};S.target.value===m?delete A[g.field]:A[g.field]=S.target.value,this.setState({editData:A})}}),d.default.createElement(e.IconButton,{className:this.props.classes.fieldButton,onClick:()=>{this.selectCallback=S=>{const A=this.state.editData?Object.assign({},this.state.editData):{};S===m?delete A[g.field]:A[g.field]=S,this.setState({editData:A})},this.setState({showSelectId:!0,selectIdValue:m})},size:"large"},d.default.createElement(s.ViewHeadline,null)))}renderCellNonEdit(C,g){let m=n(C,g.field,g.lookup);return Array.isArray(m)&&(m=m[0]),g.type==="boolean"?d.default.createElement(e.Checkbox,{checked:!!m,disabled:!0,inputProps:{"aria-label":"checkbox"}}):m}renderCell(C,g,m,S){return this.state.editMode===S&&g.editable!=="never"&&g.editable!==!1?d.default.createElement(e.TableCell,{key:g.field,className:i.default.clsx(this.props.classes.cell,m&&this.props.classes.cellSecondary),style:g.cellStyle,component:"th"},this.renderCellEdit(C,g)):d.default.createElement(e.TableCell,{key:g.field,className:i.default.clsx(this.props.classes.cell,m&&this.props.classes.cellSecondary),style:g.cellStyle,component:"th"},this.renderCellNonEdit(C,g))}renderCellWithSubField(C,g){const m=n(C,g.field,g.lookup);if(g.subField){const S=n(C,g.subField,g.subLookup);return d.default.createElement("div",null,d.default.createElement("div",{className:this.props.classes.mainText},m),d.default.createElement("div",{className:this.props.classes.subText,style:g.subStyle||{}},S))}return d.default.createElement("div",null,d.default.createElement("div",{className:this.props.classes.mainText},m))}renderLine(C,g){const m=this.props.levelShift===void 0?24:this.props.levelShift;g=g||0;const S=this.props.data.indexOf(C);if(!C||!g&&C.parentId||g&&!C.parentId)return null;const A=this.state.opened.includes(C.id),R=this.props.data.filter(W=>W.parentId===C.id),P=d.default.createElement(e.TableRow,{key:C.id,className:i.default.clsx(`table-row-${(C.id||"").toString().replace(/[.$]/g,"_")}`,this.state.update&&this.state.update.includes(C.id)&&this.props.classes.glow,this.props.classes.row,g&&this.props.classes.rowSecondary,!g&&R.length&&this.props.classes.rowMainWithChildren,!g&&!R.length&&this.props.classes.rowMainWithoutChildren,this.state.editMode!==!1&&this.state.editMode!==S&&this.props.classes.rowNoEdit,this.state.deleteMode!==!1&&this.state.deleteMode!==S&&this.props.classes.rowNoEdit)},d.default.createElement(e.TableCell,{className:i.default.clsx(this.props.classes.cell,this.props.classes.cellExpand,g&&this.props.classes.cellSecondary)},R.length?d.default.createElement(e.IconButton,{onClick:()=>{const W=[...this.state.opened],_=W.indexOf(C.id);_===-1?(W.push(C.id),W.sort()):W.splice(_,1),(window._localStorage||window.localStorage).setItem(this.props.name||"iob-table",JSON.stringify(W)),this.setState({opened:W})},size:"small"},A?d.default.createElement(s.ExpandMore,null):d.default.createElement(s.NavigateNext,null)):null),d.default.createElement(e.TableCell,{scope:"row",className:i.default.clsx(this.props.classes.cell,g&&this.props.classes.cellSecondary),style:Object.assign(Object.assign({},this.props.columns[0].cellStyle),{paddingLeft:m*g})},this.props.columns[0].subField?this.renderCellWithSubField(C,this.props.columns[0]):n(C,this.props.columns[0].field,this.props.columns[0].lookup)),this.props.columns.map((W,_)=>!_&&!W.hidden?null:this.renderCell(C,W,g,S)),this.props.onUpdate?d.default.createElement(e.TableCell,{className:i.default.clsx(this.props.classes.cell,this.props.classes.cellButton)},this.state.editMode===S||this.state.deleteMode===S?d.default.createElement(e.IconButton,{disabled:this.state.editMode!==!1&&(!this.state.editData||!Object.keys(this.state.editData).length),onClick:()=>{if(this.state.editMode!==!1){const W=JSON.parse(JSON.stringify(C));this.state.editData&&Object.keys(this.state.editData).forEach(_=>{var T;return o(W,_,(T=this.state.editData)===null||T===void 0?void 0:T[_])}),this.setState({editMode:!1},()=>this.props.onUpdate&&this.props.onUpdate(W,C))}else this.setState({deleteMode:!1},()=>this.props.onDelete&&this.props.onDelete(C))},size:"large"},d.default.createElement(s.Check,null)):d.default.createElement(e.IconButton,{disabled:this.state.editMode!==!1,onClick:()=>this.setState({editMode:S,editData:null}),size:"large"},d.default.createElement(s.Edit,null))):null,this.props.onDelete&&!this.props.onUpdate?d.default.createElement(e.TableCell,{className:i.default.clsx(this.props.classes.cell,this.props.classes.cellButton)},this.state.deleteMode===S?d.default.createElement(e.IconButton,{disabled:this.state.editMode!==!1&&(!this.state.editData||!Object.keys(this.state.editData).length),onClick:()=>this.setState({deleteMode:!1},()=>this.props.onDelete&&this.props.onDelete(C)),size:"large"},d.default.createElement(s.Check,null)):null):null,this.props.onUpdate||this.props.onDelete?d.default.createElement(e.TableCell,{className:i.default.clsx(this.props.classes.cell,this.props.classes.cellButton)},this.state.editMode===S||this.state.deleteMode===S?d.default.createElement(e.IconButton,{onClick:()=>this.setState({editMode:!1,deleteMode:!1}),size:"large"},d.default.createElement(s.Close,null)):this.props.onDelete?d.default.createElement(e.IconButton,{disabled:this.state.deleteMode!==!1,onClick:()=>this.setState({deleteMode:S}),size:"large"},d.default.createElement(s.Delete,null)):null):null);if(!g&&A){const W=R.map(_=>this.renderLine(_,g+1));return W.unshift(P),W}return P}handleRequestSort(C){const g=this.state.orderBy===C&&this.state.order==="asc";this.setState({order:g?"desc":"asc",orderBy:C})}renderHead(){return d.default.createElement(e.TableHead,null,d.default.createElement(e.TableRow,{key:"headerRow"},d.default.createElement(e.TableCell,{component:"th",className:i.default.clsx(this.props.classes.cell,this.props.classes.cellHeader,this.props.classes.cellExpand)}),d.default.createElement(e.TableCell,{component:"th",className:i.default.clsx(this.props.classes.cell,this.props.classes.cellHeader,this.props.classes[`width_${this.props.columns[0].field.replace(/\./g,"_")}`]),style:this.props.columns[0].headerStyle||this.props.columns[0].cellStyle,sortDirection:this.props.noSort?!1:this.state.orderBy===this.props.columns[0].field?this.state.order:!1},this.props.noSort?null:d.default.createElement(e.TableSortLabel,{active:this.state.orderBy===this.props.columns[0].field,direction:this.state.orderBy===this.props.columns[0].field?this.state.order:"asc",onClick:()=>this.handleRequestSort(this.props.columns[0].field)},this.props.columns[0].title||this.props.columns[0].field,this.state.orderBy===this.props.columns[0].field?d.default.createElement("span",{className:this.props.classes.visuallyHidden},this.state.order==="desc"?"sorted descending":"sorted ascending"):null)),this.props.columns.map((C,g)=>!g&&!C.hidden?null:d.default.createElement(e.TableCell,{key:C.field,className:i.default.clsx(this.props.classes.cell,this.props.classes.cellHeader,this.props.classes[`width_${C.field.replace(/\./g,"_")}`]),style:C.headerStyle||C.cellStyle,component:"th"},this.props.noSort?null:d.default.createElement(e.TableSortLabel,{active:this.state.orderBy===C.field,direction:this.state.orderBy===C.field?this.state.order:"asc",onClick:()=>this.handleRequestSort(C.field)},C.title||C.field,this.state.orderBy===C.field?d.default.createElement("span",{className:this.props.classes.visuallyHidden},this.state.order==="desc"?"sorted descending":"sorted ascending"):null))),this.props.onUpdate?d.default.createElement(e.TableCell,{component:"th",className:i.default.clsx(this.props.classes.cell,this.props.classes.cellHeader,this.props.classes.cellButton)},this.props.noAdd?null:d.default.createElement(e.Fab,{color:"primary",size:"small",disabled:this.state.editMode!==!1,onClick:()=>this.props.onUpdate&&this.props.onUpdate(!0)},d.default.createElement(s.Add,null))):null,this.props.onDelete||this.props.onUpdate?d.default.createElement(e.TableCell,{component:"th",className:i.default.clsx(this.props.classes.cell,this.props.classes.cellHeader,this.props.classes.cellButton)}):null))}render(){const C=this.props.columns.find(g=>g.field===this.state.orderBy);if(C){const g=C.lookup,m=E(this.props.data,w(this.state.order,this.state.orderBy,g));return this.state.update&&this.state.update.length&&(this.updateTimeout&&clearTimeout(this.updateTimeout),this.updateTimeout=setTimeout(()=>{this.updateTimeout=null,this.setState({update:null})},500)),d.default.createElement("div",{className:i.default.clsx(this.props.classes.tableContainer,this.props.className)},d.default.createElement(e.Table,{className:this.props.classes.table,"aria-label":"simple table",size:"small",stickyHeader:!0},this.renderHead(),d.default.createElement(e.TableBody,null,m.map(S=>this.renderLine(S)))),this.renderSelectIdDialog(),this.renderSelectColorDialog())}}}j.default=(0,D.withStyles)(c)(k)},28047:function(X,j,L){"use strict";var M=this&&this.__createBinding||(Object.create?function(k,f,C,g){g===void 0&&(g=C);var m=Object.getOwnPropertyDescriptor(f,C);(!m||("get"in m?!f.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return f[C]}}),Object.defineProperty(k,g,m)}:function(k,f,C,g){g===void 0&&(g=C),k[g]=f[C]}),h=this&&this.__setModuleDefault||(Object.create?function(k,f){Object.defineProperty(k,"default",{enumerable:!0,value:f})}:function(k,f){k.default=f}),F=this&&this.__importStar||function(k){if(k&&k.__esModule)return k;var f={};if(k!=null)for(var C in k)C!=="default"&&Object.prototype.hasOwnProperty.call(k,C)&&M(f,k,C);return h(f,k),f},b=this&&this.__importDefault||function(k){return k&&k.__esModule?k:{default:k}};Object.defineProperty(j,"__esModule",{value:!0});const d=F(L(28437)),D=b(L(72589)),r=L(60288),e=L(70143),s=L(67085),t=L(21839),i=L(27639),n=b(L(96808)),o=b(L(42854)),c=b(L(82216)),p=`
/*!
 * Cropper.js v1.5.12
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2021-06-12T08:00:11.623Z
 */

.cropper-container {
  direction: ltr;
  font-size: 0;
  line-height: 0;
  position: relative;
  -ms-touch-action: none;
  touch-action: none;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

.cropper-container img {
  display: block;
  height: 100%;
  image-orientation: 0deg;
  max-height: none !important;
  max-width: none !important;
  min-height: 0 !important;
  min-width: 0 !important;
  width: 100%;
}

.cropper-wrap-box,
.cropper-canvas,
.cropper-drag-box,
.cropper-crop-box,
.cropper-modal {
  bottom: 0;
  left: 0;
  position: absolute;
  right: 0;
  top: 0;
}

.cropper-wrap-box,
.cropper-canvas {
  overflow: hidden;
}

.cropper-drag-box {
  background-color: #fff;
  opacity: 0;
}

.cropper-modal {
  background-color: #000;
  opacity: 0.5;
}

.cropper-view-box {
  display: block;
  height: 100%;
  outline: 1px solid #39f;
  outline-color: rgba(51, 153, 255, 0.75);
  overflow: hidden;
  width: 100%;
}

.cropper-dashed {
  border: 0 dashed #eee;
  display: block;
  opacity: 0.5;
  position: absolute;
}

.cropper-dashed.dashed-h {
  border-bottom-width: 1px;
  border-top-width: 1px;
  height: calc(100% / 3);
  left: 0;
  top: calc(100% / 3);
  width: 100%;
}

.cropper-dashed.dashed-v {
  border-left-width: 1px;
  border-right-width: 1px;
  height: 100%;
  left: calc(100% / 3);
  top: 0;
  width: calc(100% / 3);
}

.cropper-center {
  display: block;
  height: 0;
  left: 50%;
  opacity: 0.75;
  position: absolute;
  top: 50%;
  width: 0;
}

.cropper-center::before,
.cropper-center::after {
  background-color: #eee;
  content: ' ';
  display: block;
  position: absolute;
}

.cropper-center::before {
  height: 1px;
  left: -3px;
  top: 0;
  width: 7px;
}

.cropper-center::after {
  height: 7px;
  left: 0;
  top: -3px;
  width: 1px;
}

.cropper-face,
.cropper-line,
.cropper-point {
  display: block;
  height: 100%;
  opacity: 0.1;
  position: absolute;
  width: 100%;
}

.cropper-face {
  background-color: #fff;
  left: 0;
  top: 0;
}

.cropper-line {
  background-color: #39f;
}

.cropper-line.line-e {
  cursor: ew-resize;
  right: -3px;
  top: 0;
  width: 5px;
}

.cropper-line.line-n {
  cursor: ns-resize;
  height: 5px;
  left: 0;
  top: -3px;
}

.cropper-line.line-w {
  cursor: ew-resize;
  left: -3px;
  top: 0;
  width: 5px;
}

.cropper-line.line-s {
  bottom: -3px;
  cursor: ns-resize;
  height: 5px;
  left: 0;
}

.cropper-point {
  background-color: #39f;
  height: 5px;
  opacity: 0.75;
  width: 5px;
}

.cropper-point.point-e {
  cursor: ew-resize;
  margin-top: -3px;
  right: -3px;
  top: 50%;
}

.cropper-point.point-n {
  cursor: ns-resize;
  left: 50%;
  margin-left: -3px;
  top: -3px;
}

.cropper-point.point-w {
  cursor: ew-resize;
  left: -3px;
  margin-top: -3px;
  top: 50%;
}

.cropper-point.point-s {
  bottom: -3px;
  cursor: s-resize;
  left: 50%;
  margin-left: -3px;
}

.cropper-point.point-ne {
  cursor: nesw-resize;
  right: -3px;
  top: -3px;
}

.cropper-point.point-nw {
  cursor: nwse-resize;
  left: -3px;
  top: -3px;
}

.cropper-point.point-sw {
  bottom: -3px;
  cursor: nesw-resize;
  left: -3px;
}

.cropper-point.point-se {
  bottom: -3px;
  cursor: nwse-resize;
  height: 20px;
  opacity: 1;
  right: -3px;
  width: 20px;
}

@media (min-width: 768px) {
  .cropper-point.point-se {
    height: 15px;
    width: 15px;
  }
}

@media (min-width: 992px) {
  .cropper-point.point-se {
    height: 10px;
    width: 10px;
  }
}

@media (min-width: 1200px) {
  .cropper-point.point-se {
    height: 5px;
    opacity: 0.75;
    width: 5px;
  }
}

.cropper-point.point-se::before {
  background-color: #39f;
  bottom: -50%;
  content: ' ';
  display: block;
  height: 200%;
  opacity: 0;
  position: absolute;
  right: -50%;
  width: 200%;
}

.cropper-invisible {
  opacity: 0;
}

.cropper-bg {
  background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAAA3NCSVQICAjb4U/gAAAABlBMVEXMzMz////TjRV2AAAACXBIWXMAAArrAAAK6wGCiw1aAAAAHHRFWHRTb2Z0d2FyZQBBZG9iZSBGaXJld29ya3MgQ1M26LyyjAAAABFJREFUCJlj+M/AgBVhF/0PAH6/D/HkDxOGAAAAAElFTkSuQmCC');
}

.cropper-hide {
  display: block;
  height: 0;
  position: absolute;
  width: 0;
}

.cropper-hidden {
  display: none !important;
}

.cropper-move {
  cursor: move;
}

.cropper-crop {
  cursor: crosshair;
}

.cropper-disabled .cropper-drag-box,
.cropper-disabled .cropper-face,
.cropper-disabled .cropper-line,
.cropper-disabled .cropper-point {
  cursor: not-allowed;
}
`,w={dropZone:{width:"100%",height:100,position:"relative"},dropZoneEmpty:{},image:{objectFit:"contain",margin:"auto",display:"flex",width:"100%",height:"100%"},uploadDiv:{position:"relative",width:"100%",height:300,opacity:.9,marginTop:30,cursor:"pointer",outline:"none"},uploadDivDragging:{opacity:1,background:"rgba(128,255,128,0.1)"},uploadCenterDiv:{margin:5,border:"3px dashed grey",borderRadius:5,width:"calc(100% - 10px)",height:"calc(100% - 10px)",position:"relative",display:"flex"},uploadCenterIcon:{paddingTop:10,width:48,height:48},uploadCenterText:{fontSize:16},uploadCenterTextAndIcon:{textAlign:"center",position:"absolute",top:0,bottom:0,left:0,right:0,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},disabledOpacity:{opacity:.3,cursor:"default"},buttonRemoveWrapper:{position:"absolute",zIndex:222,right:0},buttonCropWrapper:{position:"absolute",zIndex:222,right:0,top:50},error:{border:"2px solid red",boxSizing:"border-box"}};class E extends d.Component{constructor(f){if(super(f),this.state={uploadFile:!1,anchorEl:null,cropHandler:!1},this.cropperRef=(0,d.createRef)(),!window.document.getElementById("cropper-style-json-component")){const C=window.document.createElement("style");C.setAttribute("id","cropper-style-json-component"),C.innerHTML=p,window.document.head.appendChild(C)}}onDrop(f){const C=this.props.onChange,g=this.props.maxSize||10*1024,m=f[0],S=new FileReader;S.onabort=()=>console.log("file reading was aborted"),S.onerror=()=>console.log("file reading has failed"),S.onload=()=>{var A,R;if(!m||!m.name)return;const P=(A=m.name)===null||A===void 0?void 0:A.split(".");let W=P!=null&&P.length?`image/${(R=P.pop())===null||R===void 0?void 0:R.toLowerCase()}`:"image/jpeg";if(W==="image/jpg"?W="image/jpeg":W.includes("svg")&&(W="image/svg+xml"),m.size>g)window.alert(o.default.t("ra_File is too big. Max %sk allowed. Try use SVG.",Math.round(g/1024)));else{const _=`data:${W};base64,${btoa(new Uint8Array(S.result).reduce((T,N)=>T+String.fromCharCode(N),""))}`;C?C(_):console.log(_)}},S.readAsArrayBuffer(m)}render(){const{disabled:f,classes:C,icon:g,removeIconFunc:m,error:S,crop:A,onChange:R}=this.props,P=this.props.maxSize||10*1024,W=this.props.accept||{"image/*":[]},{uploadFile:_,anchorEl:T,cropHandler:N}=this.state;return d.default.createElement(D.default,{disabled:!!f||N,key:"dropzone",multiple:!1,accept:W,maxSize:P,onDragEnter:()=>this.setState({uploadFile:"dragging"}),onDragLeave:()=>this.setState({uploadFile:!0}),onDrop:(V,K)=>{this.setState({uploadFile:!1}),V.length?this.onDrop(V):window.alert(K&&K[0]&&K[0].errors&&K[0].errors[0]&&K[0].errors[0].message||o.default.t("ra_Cannot upload"))}},({getRootProps:V,getInputProps:K})=>d.default.createElement("div",Object.assign({className:n.default.clsx(C.uploadDiv,_==="dragging"&&C.uploadDivDragging,C.dropZone,f&&C.disabledOpacity,!g&&C.dropZoneEmpty)},V()),d.default.createElement("input",Object.assign({},K())),d.default.createElement("div",{className:n.default.clsx(C.uploadCenterDiv,S&&C.error)},g?m&&!N&&d.default.createElement("div",{className:C.buttonRemoveWrapper},d.default.createElement(s.Tooltip,{title:o.default.t("ra_Clear")},d.default.createElement(s.IconButton,{size:"large",onClick:I=>{m&&m(),I.stopPropagation()}},d.default.createElement(t.Close,null)))):d.default.createElement("div",{className:C.uploadCenterTextAndIcon},d.default.createElement(i.FaFileUpload,{className:C.uploadCenterIcon}),d.default.createElement("div",{className:C.uploadCenterText},_==="dragging"?o.default.t("ra_Drop file here"):o.default.t("ra_Place your files here or click here to open the browse dialog"))),g&&A&&d.default.createElement("div",{className:C.buttonCropWrapper},d.default.createElement(s.Tooltip,{title:o.default.t("ra_Crop")},d.default.createElement(s.IconButton,{size:"large",onClick:I=>{N?this.setState({anchorEl:I.currentTarget}):this.setState({cropHandler:!0}),I.stopPropagation()}},d.default.createElement(t.Crop,{color:N?"primary":"inherit"}))),d.default.createElement(s.Menu,{anchorEl:T,keepMounted:!0,open:!!T,onClose:()=>this.setState({anchorEl:null})},d.default.createElement(s.MenuItem,{onClick:()=>this.setState({anchorEl:null,cropHandler:!1},()=>{var I,q;const U=(q=(I=this.cropperRef)===null||I===void 0?void 0:I.current)===null||q===void 0?void 0:q.cropper;U&&(R?R(U.getCroppedCanvas().toDataURL()):console.log(U.getCroppedCanvas().toDataURL()))})},o.default.t("ra_Save")),d.default.createElement(s.MenuItem,{onClick:()=>this.setState({anchorEl:null,cropHandler:!1})},o.default.t("ra_Close")))),g&&!N?d.default.createElement(c.default,{src:g,className:C.image,alt:"icon"}):null,g&&A&&N?d.default.createElement(r.Cropper,{ref:this.cropperRef,className:C.image,src:g,initialAspectRatio:1,viewMode:1,guides:!1,minCropBoxHeight:10,minCropBoxWidth:10,background:!1,checkOrientation:!1}):null)))}}j.default=(0,e.withStyles)(w)(E)},13129:function(X,j,L){"use strict";var M=this&&this.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(j,"__esModule",{value:!0});const h=M(L(28437)),F=L(89114),b=L(67085);function d(){const r=(0,F.useTheme)();return[...r.breakpoints.keys].reverse().reduce((s,t)=>{const i=(0,b.useMediaQuery)(r.breakpoints.up(t));return!s&&i?t:s},null)||"xs"}const D=()=>r=>e=>{const s=d();return h.default.createElement(r,Object.assign({},e,{width:s}))};j.default=D},3774:(X,j,L)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.PERMISSION_ERROR=j.ERRORS=j.PROGRESS=void 0;const M=L(4817);Object.defineProperty(j,"PROGRESS",{enumerable:!0,get:function(){return M.PROGRESS}}),Object.defineProperty(j,"ERRORS",{enumerable:!0,get:function(){return M.ERRORS}}),Object.defineProperty(j,"PERMISSION_ERROR",{enumerable:!0,get:function(){return M.PERMISSION_ERROR}}),j.default=M.Connection},59170:function(X,j,L){"use strict";var M=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(j,"__esModule",{value:!0});const h=M(L(28437)),F=L(70143),b=L(67085),d=L(21839),D=M(L(43021)),r=M(L(42854)),e={headerID:{fontWeight:"bold",fontStyle:"italic"},radio:{display:"inline-block"},dialogPaper:{height:"calc(100% - 96px)"}};class s extends h.default.Component{constructor(i){super(i);let n;this.props.cron&&typeof this.props.cron=="string"&&this.props.cron.replace(/^["']/,"")[0]!=="{"?n=this.props.cron.replace(/['"]/g,"").trim():(n=this.props.cron||"{}",typeof n=="string"&&(n=n.replace(/^["']/,"").replace(/["']\n?$/,""))),this.state={cron:n}}handleCancel(){this.props.onClose()}handleOk(){this.props.onOk(this.state.cron),this.props.onClose()}handleClear(){this.props.onOk(!1),this.props.onClose()}render(){return h.default.createElement(b.Dialog,{onClose:()=>{},maxWidth:"md",fullWidth:!0,classes:{paper:this.props.classes.dialogPaper},open:!0,"aria-labelledby":"cron-dialog-title"},h.default.createElement(b.DialogTitle,{id:"cron-dialog-title"},this.props.title||r.default.t("ra_Define schedule...")),h.default.createElement(b.DialogContent,{style:{height:"100%",overflow:"hidden"}},h.default.createElement(D.default,{cronExpression:this.state.cron,onChange:i=>this.setState({cron:i}),language:r.default.getLanguage()})),h.default.createElement(b.DialogActions,null,!!this.props.clearButton&&h.default.createElement(b.Button,{color:"grey",variant:"contained",onClick:()=>this.handleClear(),startIcon:h.default.createElement(d.Delete,null)},this.props.clear||r.default.t("ra_Clear")),h.default.createElement(b.Button,{variant:"contained",onClick:()=>this.handleOk(),color:"primary",startIcon:h.default.createElement(d.Check,null)},this.props.ok||r.default.t("ra_Ok")),h.default.createElement(b.Button,{color:"grey",variant:"contained",onClick:()=>this.handleCancel(),startIcon:h.default.createElement(d.Cancel,null)},this.props.cancel||r.default.t("ra_Cancel"))))}}j.default=(0,F.withStyles)(e)(s)},78200:function(X,j,L){"use strict";var M=this&&this.__createBinding||(Object.create?function(p,w,E,k){k===void 0&&(k=E);var f=Object.getOwnPropertyDescriptor(w,E);(!f||("get"in f?!w.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return w[E]}}),Object.defineProperty(p,k,f)}:function(p,w,E,k){k===void 0&&(k=E),p[k]=w[E]}),h=this&&this.__setModuleDefault||(Object.create?function(p,w){Object.defineProperty(p,"default",{enumerable:!0,value:w})}:function(p,w){p.default=w}),F=this&&this.__importStar||function(p){if(p&&p.__esModule)return p;var w={};if(p!=null)for(var E in p)E!=="default"&&Object.prototype.hasOwnProperty.call(p,E)&&M(w,p,E);return h(w,p),w},b=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(j,"__esModule",{value:!0});const d=b(L(28437)),D=L(70143),r=L(67085),e=L(21839),s=b(L(43021)),t=F(L(87784)),i=b(L(93312)),n=b(L(42854)),o={headerID:{fontWeight:"bold",fontStyle:"italic"},radio:{display:"inline-block"},dialogPaper:{height:"calc(100% - 96px)"}};class c extends d.default.Component{constructor(w){super(w);let E;this.props.cron&&typeof this.props.cron=="string"&&this.props.cron.replace(/^["']/,"")[0]!=="{"?E=this.props.cron.replace(/['"]/g,"").trim():(E=this.props.cron||"{}",typeof E=="string"&&(E=E.replace(/^["']/,"").replace(/["']\n?$/,""))),this.state={cron:E,mode:this.props.simple?"simple":this.props.complex?"complex":(typeof E=="object"||E[0]==="{")&&!this.props.noWizard?"wizard":(0,t.cron2state)(this.props.cron||"* * * * *")?"simple":"complex"}}handleCancel(){this.props.onClose()}handleOk(){this.props.onOk(this.state.cron),this.props.onClose()}setMode(w){this.setState({mode:w})}render(){return d.default.createElement(r.Dialog,{onClose:()=>{},maxWidth:"md",fullWidth:!0,classes:{paper:this.props.classes.dialogPaper},open:!0,"aria-labelledby":"cron-dialog-title"},d.default.createElement(r.DialogTitle,{id:"cron-dialog-title"},this.props.title||n.default.t("ra_Define schedule...")),d.default.createElement(r.DialogContent,{style:{height:"100%",overflow:"hidden"}},this.props.simple&&this.props.complex||!this.props.simple&&!this.props.complex?d.default.createElement("div",null,!this.props.simple&&!this.props.complex&&!this.props.noWizard&&d.default.createElement(d.default.Fragment,null,d.default.createElement(r.Radio,{key:"wizard",checked:this.state.mode==="wizard",onChange:()=>this.setMode("wizard")}),d.default.createElement("label",{onClick:()=>this.setMode("wizard"),style:this.state.mode!=="wizard"?{color:"lightgrey"}:{}},n.default.t("sc_wizard"))),(!this.props.simple&&!this.props.complex||this.props.simple)&&d.default.createElement(d.default.Fragment,null,d.default.createElement(r.Radio,{key:"simple",checked:this.state.mode==="simple",onChange:()=>this.setMode("simple")}),d.default.createElement("label",{onClick:()=>this.setMode("simple"),style:this.state.mode!=="simple"?{color:"lightgrey"}:{}},n.default.t("sc_simple"))),(!this.props.simple&&!this.props.complex||this.props.complex)&&d.default.createElement(d.default.Fragment,null,d.default.createElement(r.Radio,{key:"complex",checked:this.state.mode==="complex",onChange:()=>this.setMode("complex")}),d.default.createElement("label",{onClick:()=>this.setMode("complex"),style:this.state.mode!=="complex"?{color:"lightgrey"}:{}},n.default.t("sc_cron")))):null,this.state.mode==="simple"&&d.default.createElement(t.default,{cronExpression:this.state.cron,onChange:w=>this.setState({cron:w}),language:n.default.getLanguage()}),this.state.mode==="wizard"&&d.default.createElement(i.default,{schedule:this.state.cron,onChange:w=>this.setState({cron:w})}),this.state.mode==="complex"&&d.default.createElement(s.default,{cronExpression:this.state.cron,onChange:w=>this.setState({cron:w}),language:n.default.getLanguage()})),d.default.createElement(r.DialogActions,null,d.default.createElement(r.Button,{variant:"contained",onClick:()=>this.handleOk(),color:"primary",startIcon:d.default.createElement(e.Check,null)},this.props.ok||n.default.t("ra_Ok")),d.default.createElement(r.Button,{variant:"contained",onClick:()=>this.handleCancel(),color:"grey",startIcon:d.default.createElement(e.Cancel,null)},this.props.cancel||n.default.t("ra_Cancel"))))}}j.default=(0,D.withStyles)(o)(c)},26393:function(X,j,L){"use strict";var M=this&&this.__createBinding||(Object.create?function(t,i,n,o){o===void 0&&(o=n);var c=Object.getOwnPropertyDescriptor(i,n);(!c||("get"in c?!i.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return i[n]}}),Object.defineProperty(t,o,c)}:function(t,i,n,o){o===void 0&&(o=n),t[o]=i[n]}),h=this&&this.__setModuleDefault||(Object.create?function(t,i){Object.defineProperty(t,"default",{enumerable:!0,value:i})}:function(t,i){t.default=i}),F=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var i={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&M(i,t,n);return h(i,t),i},b=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(j,"__esModule",{value:!0});const d=F(L(28437)),D=L(67085),r=L(21839),e=b(L(42854));class s extends d.Component{handleOk(){this.props.onClose&&this.props.onClose()}render(){return d.default.createElement(D.Dialog,{open:!0,maxWidth:"sm",fullWidth:this.props.fullWidth!==void 0?this.props.fullWidth:!0,onClose:()=>this.handleOk(),"aria-labelledby":"ar_dialog_message_title","aria-describedby":"ar_dialog_message_description"},d.default.createElement(D.DialogTitle,{id:"ar_dialog_message_title"},this.props.title||e.default.t("ra_Message")),d.default.createElement(D.DialogContent,null,d.default.createElement(D.DialogContentText,{id:"ar_dialog_message_description"},d.default.createElement("span",{style:{marginRight:this.props.icon?8:0}},this.props.icon||null),this.props.text)),d.default.createElement(D.DialogActions,null,d.default.createElement(D.Button,{id:"ar_dialog_message_ok",variant:"contained",onClick:()=>this.handleOk(),color:"primary",autoFocus:!0,startIcon:d.default.createElement(r.Close,null)},this.props.ok||e.default.t("ra_Close"))))}}j.default=s},14874:function(X,j,L){"use strict";var M=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(j,"__esModule",{value:!0});const h=M(L(28437)),F=L(70143),b=L(67085),d=L(21839),D=M(L(96808)),r=M(L(42854)),e=M(L(10927)),s={headerID:{fontWeight:"bold",fontStyle:"italic"},dialog:{height:"95%"},dialogMobile:{padding:4,width:"100%",maxWidth:"100%",maxHeight:"calc(100% - 16px)",height:"100%"},content:{height:"100%",overflow:"hidden"},contentMobile:{padding:"8px 4px"},titleRoot:{whiteSpace:"nowrap",width:"calc(100% - 72px)",overflow:"hidden",display:"inline-block",textOverflow:"ellipsis"}};class t extends h.default.Component{constructor(n){super(n),this.dialogName=this.props.dialogName||"default",this.dialogName=`SelectFile.${this.dialogName}`;const o=(window._localStorage||window.localStorage).getItem(this.dialogName)||"{}";try{this.filters=JSON.parse(o)}catch(p){this.filters={}}n.filters&&(this.filters=Object.assign(Object.assign({},this.filters),n.filters));let c=this.props.selected||[];typeof c!="object"?c=[c]:c=[...c],c=c.filter(p=>p),this.state={selected:c}}handleCancel(){this.props.onClose()}handleOk(){this.props.onOk(this.props.multiSelect||!Array.isArray(this.state.selected)?this.state.selected:this.state.selected[0]||""),this.props.onClose()}render(){let n;return this.state.selected.length?!Array.isArray(this.state.selected)||this.state.selected.length===1?n=[h.default.createElement("span",{key:"selected"},r.default.t("ra_Selected"),"\xA0"),h.default.createElement("span",{key:"id",className:this.props.classes.headerID},this.state.selected)]:n=[h.default.createElement("span",{key:"selected"},r.default.t("ra_Selected"),"\xA0"),h.default.createElement("span",{key:"id",className:this.props.classes.headerID},r.default.t("%s items",this.state.selected.length))]:n=this.props.title||r.default.t("ra_Please select file..."),h.default.createElement(b.Dialog,{onClose:()=>{},maxWidth:!1,classes:{paper:D.default.clsx(this.props.classes.dialog,this.props.classes.dialogMobile)},fullWidth:!0,open:!0,"aria-labelledby":"ar_dialog_selectfile_title"},h.default.createElement(b.DialogTitle,{id:"ar_dialog_selectfile_title",classes:{root:this.props.classes.titleRoot}},n),h.default.createElement(b.DialogContent,{className:D.default.clsx(this.props.classes.content,this.props.classes.contentMobile)},h.default.createElement(e.default,{ready:!0,imagePrefix:this.props.imagePrefix||this.props.prefix||"../",allowUpload:!!this.props.allowUpload,allowDownload:this.props.allowDownload!==!1,allowCreateFolder:!!this.props.allowCreateFolder,allowDelete:!!this.props.allowDelete,allowView:this.props.allowView!==!1,showViewTypeButton:this.props.showViewTypeButton!==!1,showToolbar:this.props.showToolbar!==!1,limitPath:this.props.limitPath,filterFiles:this.props.filterFiles,filterByType:this.props.filterByType,selected:this.props.selected,restrictToFolder:this.props.restrictToFolder,allowNonRestricted:this.props.allowNonRestricted,onSelect:(o,c,p)=>{this.setState({selected:Array.isArray(o)?o:[o]},()=>c&&(!this.props.selectOnlyFolders||p)&&this.handleOk())},t:this.props.t||r.default.t,lang:this.props.lang||r.default.getLanguage(),socket:this.props.socket,themeType:this.props.themeType,themeName:this.props.themeName,showExpertButton:this.props.showExpertButton,expertMode:this.props.expertMode,showTypeSelector:this.props.showTypeSelector})),h.default.createElement(b.DialogActions,null,h.default.createElement(b.Button,{variant:"contained",onClick:()=>this.handleOk(),startIcon:h.default.createElement(d.Check,null),disabled:!this.state.selected.length,color:"primary"},this.props.ok||r.default.t("ra_Ok")),h.default.createElement(b.Button,{color:"grey",variant:"contained",onClick:()=>this.handleCancel(),startIcon:h.default.createElement(d.Cancel,null)},this.props.cancel||r.default.t("ra_Cancel"))))}}j.default=(0,F.withStyles)(s)(t)},38389:function(X,j,L){"use strict";var M=this&&this.__createBinding||(Object.create?function(i,n,o,c){c===void 0&&(c=o);var p=Object.getOwnPropertyDescriptor(n,o);(!p||("get"in p?!n.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return n[o]}}),Object.defineProperty(i,c,p)}:function(i,n,o,c){c===void 0&&(c=o),i[c]=n[o]}),h=this&&this.__setModuleDefault||(Object.create?function(i,n){Object.defineProperty(i,"default",{enumerable:!0,value:n})}:function(i,n){i.default=n}),F=this&&this.__importStar||function(i){if(i&&i.__esModule)return i;var n={};if(i!=null)for(var o in i)o!=="default"&&Object.prototype.hasOwnProperty.call(i,o)&&M(n,i,o);return h(n,i),n},b=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(j,"__esModule",{value:!0});const d=F(L(28437)),D=L(67085),r=L(21839),e=b(L(42854)),s=b(L(59076));class t extends d.Component{constructor(n){super(n),this.dialogName=this.props.dialogName||"default",this.dialogName=`SelectID.${this.dialogName}`;const o=(window._localStorage||window.localStorage).getItem(this.dialogName)||"{}";try{this.filters=JSON.parse(o)}catch(p){this.filters={}}n.filters&&(this.filters=Object.assign(Object.assign({},this.filters),n.filters||{}));let c=this.props.selected||[];if(Array.isArray(c)||(c=[c]),c=c.filter(p=>p),n.filterFunc)if(typeof n.filterFunc=="string")try{this.filterFunc=new Function("obj",n.filterFunc)}catch(p){console.error(`Cannot parse filter function: "obj => ${n.filterFunc}"`),this.filterFunc=void 0}else this.filterFunc=n.filterFunc;this.state={selected:c,name:""}}handleCancel(){this.props.onClose()}handleOk(){this.props.onOk(this.props.multiSelect?this.state.selected:this.state.selected[0]||"",this.state.name),this.props.onClose()}render(){let n;return this.state.name||this.state.selected.length?this.state.selected.length===1?n=[d.default.createElement("span",{key:"selected"},e.default.t("ra_Selected"),"\xA0"),d.default.createElement("span",{key:"id",style:{fontWeight:"bold",fontStyle:"italic"}},(this.state.name||this.state.selected)+(this.state.name?` [${this.state.selected}]`:""))]:n=[d.default.createElement("span",{key:"selected"},e.default.t("ra_Selected"),"\xA0"),d.default.createElement("span",{key:"id",style:{fontWeight:"bold",fontStyle:"italic"}},e.default.t("%s items",this.state.selected.length.toString()))]:n=this.props.title||e.default.t("ra_Please select object ID..."),d.default.createElement(D.Dialog,{onClose:()=>{},maxWidth:!1,sx:{"& .MuiDialog-paper":{height:"95%",padding:4,width:"100%",maxWidth:"100%",maxHeight:"calc(100% - 16px)"}},fullWidth:!0,open:!0,"aria-labelledby":"ar_dialog_selectid_title"},d.default.createElement(D.DialogTitle,{id:"ar_dialog_selectid_title",style:{whiteSpace:"nowrap",width:"calc(100% - 72px)",overflow:"hidden",display:"inline-block",textOverflow:"ellipsis"}},n),d.default.createElement(D.DialogContent,{style:{height:"100%",overflow:"hidden",padding:"8px 4px"}},d.default.createElement(s.default,{foldersFirst:this.props.foldersFirst,imagePrefix:this.props.imagePrefix||this.props.prefix,defaultFilters:this.filters,dialogName:this.dialogName,showExpertButton:this.props.showExpertButton!==void 0?this.props.showExpertButton:!0,expertMode:this.props.expertMode,columns:this.props.columns||["name","type","role","room","func","val"],types:this.props.types?Array.isArray(this.props.types)?this.props.types:[this.props.types]:["state"],root:this.props.root,t:e.default.t,lang:this.props.lang||e.default.getLanguage(),socket:this.props.socket,selected:this.state.selected,multiSelect:this.props.multiSelect,notEditable:this.props.notEditable===void 0?!0:this.props.notEditable,themeName:this.props.themeName,themeType:this.props.themeType,customFilter:this.props.customFilter,onFilterChanged:o=>{this.filters=o,(window._localStorage||window.localStorage).setItem(this.dialogName,JSON.stringify(o))},onSelect:(o,c,p)=>{JSON.stringify(o)!==JSON.stringify(this.state.selected)?this.setState({selected:o,name:c},()=>p&&this.handleOk()):p&&this.handleOk()},filterFunc:this.filterFunc,title:"",classes:{}})),d.default.createElement(D.DialogActions,null,d.default.createElement(D.Button,{id:`ar_dialog_selectid_ok_${this.props.dialogName||""}`,variant:"contained",onClick:()=>this.handleOk(),startIcon:d.default.createElement(r.Check,null),disabled:!this.state.selected.length,color:"primary"},this.props.ok||e.default.t("ra_Ok")),d.default.createElement(D.Button,{id:`ar_dialog_selectid_cancel_${this.props.dialogName||""}`,color:"grey",variant:"contained",onClick:()=>this.handleCancel(),startIcon:d.default.createElement(r.Cancel,null)},this.props.cancel||e.default.t("ra_Cancel"))))}}j.default=t},4930:function(X,j,L){"use strict";var M=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(j,"__esModule",{value:!0});const h=M(L(28437)),F=L(70143),b=L(67085),d=L(21839),D=M(L(87784)),r=M(L(42854)),e={headerID:{fontWeight:"bold",fontStyle:"italic"},radio:{display:"inline-block"},dialogPaper:{height:"calc(100% - 96px)"}};class s extends h.default.Component{constructor(i){super(i);let n;this.props.cron&&typeof this.props.cron=="string"&&this.props.cron.replace(/^["']/,"")[0]!=="{"?n=this.props.cron.replace(/['"]/g,"").trim():(n=this.props.cron||"{}",typeof n=="string"&&(n=n.replace(/^["']/,"").replace(/["']\n?$/,""))),this.state={cron:n}}handleCancel(){this.props.onClose()}handleOk(){this.props.onOk(this.state.cron),this.props.onClose()}render(){return h.default.createElement(b.Dialog,{onClose:()=>{},maxWidth:"md",fullWidth:!0,classes:{paper:this.props.classes.dialogPaper},open:!0,"aria-labelledby":"cron-dialog-title"},h.default.createElement(b.DialogTitle,{id:"cron-dialog-title"},this.props.title||r.default.t("ra_Define CRON...")),h.default.createElement(b.DialogContent,{style:{height:"100%",overflow:"hidden"}},h.default.createElement(D.default,{cronExpression:this.state.cron,onChange:i=>this.setState({cron:i}),language:r.default.getLanguage()})),h.default.createElement(b.DialogActions,null,h.default.createElement(b.Button,{variant:"contained",onClick:()=>this.handleOk(),color:"primary",startIcon:h.default.createElement(d.Check,null)},this.props.ok||r.default.t("ra_Ok")),h.default.createElement(b.Button,{variant:"contained",onClick:()=>this.handleCancel(),color:"grey",startIcon:h.default.createElement(d.Cancel,null)},this.props.cancel||r.default.t("ra_Cancel"))))}}j.default=(0,F.withStyles)(e)(s)},30819:function(X,j,L){"use strict";var M=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(j,"__esModule",{value:!0});const h=M(L(28437)),F=L(67085),b=L(21839),d=M(L(42854)),D=M(L(13129));function r(e){const[s,t]=h.default.useState(e.input||e.value||""),[i,n]=h.default.useState("");return h.default.createElement(F.Dialog,{open:!0,onClose:()=>e.onClose(null),"aria-labelledby":"form-dialog-title",fullWidth:e.fullWidth!==void 0?e.fullWidth:!1},h.default.createElement(F.DialogTitle,{id:"form-dialog-title"},e.titleText),h.default.createElement(F.DialogContent,null,h.default.createElement(F.DialogContentText,null,e.promptText),h.default.createElement(F.TextField,{variant:"standard",autoFocus:!0,margin:"dense",error:!!i,helperText:i===!0||!i?"":i,value:s,label:e.labelText||"",type:e.type||"text",onKeyUp:o=>o.charCode===13&&s&&e.onClose(s),onChange:o=>{let c="";e.verify&&(c=!e.verify(o.target.value)),e.rule?t(e.rule(o.target.value)):t(o.target.value),n(c)},fullWidth:!0})),h.default.createElement(F.DialogActions,null,h.default.createElement(F.Button,{variant:"contained",disabled:!s||!!i,onClick:()=>e.onClose(s),color:"primary",startIcon:h.default.createElement(b.Check,null)},e.applyText||d.default.t("ra_Ok")),h.default.createElement(F.Button,{color:"grey",variant:"contained",onClick:()=>e.onClose(null),startIcon:h.default.createElement(b.Close,null)},e.cancelText||d.default.t("ra_Cancel"))))}j.default=(0,D.default)()(r)},38953:(X,j)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.pattern2RegEx=j.ERRORS=j.PROGRESS=void 0,j.PROGRESS={CONNECTING:0,CONNECTED:1,OBJECTS_LOADED:2,READY:3};const L="permissionError",M="notConnectedError",h=1300;j.ERRORS={PERMISSION_ERROR:L,NOT_CONNECTED:M};function F(D){return D!=null&&D.common&&!D.common.adminUI&&(D.common.noConfig?(D.common.adminUI=D.common.adminUI||{},D.common.adminUI.config="none"):D.common.jsonConfig?(D.common.adminUI=D.common.adminUI||{},D.common.adminUI.config="json"):D.common.materialize?(D.common.adminUI=D.common.adminUI||{},D.common.adminUI.config="materialize"):(D.common.adminUI=D.common.adminUI||{},D.common.adminUI.config="html"),D.common.jsonCustom?(D.common.adminUI=D.common.adminUI||{},D.common.adminUI.custom="json"):D.common.supportCustoms&&(D.common.adminUI=D.common.adminUI||{},D.common.adminUI.custom="json"),D.common.materializeTab&&D.common.adminTab?(D.common.adminUI=D.common.adminUI||{},D.common.adminUI.tab="materialize"):D.common.adminTab&&(D.common.adminUI=D.common.adminUI||{},D.common.adminUI.tab="html"),D.common.adminUI&&console.debug(`Please add to "${D._id.replace(/\.\d+$/,"")}" common.adminUI=${JSON.stringify(D.common.adminUI)}`)),D}function b(D){D=(D||"").toString();const r=D[0]==="*",e=D[D.length-1]==="*";return D=D.replace(/[-/\\^$+?.()|[\]{}]/g,"\\$&").replace(/\*/g,".*"),(r?"":"^")+D+(e?"":"$")}j.pattern2RegEx=b;class d{constructor(r){this.systemLang="en",this._waitForFirstConnectionResolve=null,this._promises={},this.states={},this.objects=null,this.acl=null,this.firstConnect=!0,this.waitForRestart=!1,this.connected=!1,this.statesSubscribes={},this.objectsSubscribes={},this.filesSubscribes={},this.onConnectionHandlers=[],this.onLogHandlers=[],this.loaded=!1,this.loadTimer=null,this.loadCounter=0,this.ignoreState="",this.simStates={},this.systemConfig=null,r=r||{protocol:window.location.protocol,host:window.location.hostname},this.props=r,this.autoSubscribes=this.props.autoSubscribes||[],this.autoSubscribeLog=this.props.autoSubscribeLog||!1,this.props.protocol=this.props.protocol||window.location.protocol,this.props.host=this.props.host||window.location.hostname,this.props.port=this.props.port||(window.location.port==="3000"?d.isWeb()?8082:8081:window.location.port),this.props.ioTimeout=Math.max(this.props.ioTimeout||2e4,2e4),this.props.cmdTimeout=Math.max(this.props.cmdTimeout||5e3,5e3),this._instanceSubscriptions={},this.doNotLoadAllObjects=this.props.doNotLoadAllObjects===void 0?!0:this.props.doNotLoadAllObjects,this.doNotLoadACL=this.props.doNotLoadACL===void 0?!0:this.props.doNotLoadACL,this.states={},this._waitForFirstConnection=new Promise(e=>{this._waitForFirstConnectionResolve=e}),this.onProgress=this.props.onProgress||(()=>{}),this.onError=this.props.onError||(e=>console.error(e)),this.admin5only=this.props.admin5only||!1,this.startSocket()}static isWeb(){const r=window.adapterName;return r==="material"||r==="vis"||(r==null?void 0:r.startsWith("vis-"))||r==="echarts-show"||window.socketUrl!==void 0}startSocket(){if(typeof window.io=="undefined"){if(typeof window.registerSocketOnLoad!="function"){if(this.scriptLoadCounter=this.scriptLoadCounter||0,this.scriptLoadCounter++,this.scriptLoadCounter<30){setTimeout(()=>this.startSocket(),100);return}window.alert("Cannot load socket.io.js!")}else window.registerSocketOnLoad(()=>this.startSocket());return}if(this._socket)return;let r=this.props.host,e=this.props.port,s=this.props.protocol.replace(":",""),t=window.location.pathname;if(window.location.hostname==="iobroker.net"||window.location.hostname==="iobroker.pro")t="";else{if(window.socketUrl){const o=new URL(window.socketUrl);r=o.hostname,e=o.port,s=o.protocol.replace(":","")}const n=t.lastIndexOf("/");if(n!==-1&&(t=t.substring(0,n+1)),d.isWeb()){const o=t.split("/");o.length>2&&(o.pop(),o[o.length-1].match(/\d+\.\d+\.\d+/)&&o.pop(),o.pop(),t=o.join("/"),t.endsWith("/")||(t+="/"))}}const i=e?`${s}://${r}:${e}${t}`:`${s}://${r}${t}`;this._socket=window.io.connect(i,{path:t.endsWith("/")?`${t}socket.io`:`${t}/socket.io`,query:"ws=true",name:this.props.name,timeout:this.props.ioTimeout,uuid:this.props.uuid}),this._socket.on("connect",n=>{n!==!0?setTimeout(()=>this.getVersion().then(o=>{const[c,p,w]=o.version.split(".");parseInt(c,10)*1e4+parseInt(p,10)*100+parseInt(w,10)<40102?(this._authTimer=null,this.onPreConnect(!1,!1)):this._socket.emit("authenticate",(k,f)=>this.onPreConnect(k,f))}),500):this._socket.emit("authenticate",(o,c)=>this.onPreConnect(o,c))}),this._socket.on("reconnect",()=>{this.onProgress(j.PROGRESS.READY),this.connected=!0,this.waitForRestart?window.location.reload():(this._subscribe(!0),this.onConnectionHandlers.forEach(n=>n(!0)))}),this._socket.on("disconnect",()=>{this.connected=!1,this.subscribed=!1,this.onProgress(j.PROGRESS.CONNECTING),this.onConnectionHandlers.forEach(n=>n(!1))}),this._socket.on("reauthenticate",()=>this.authenticate()),this._socket.on("log",n=>{this.props.onLog&&this.props.onLog(n),this.onLogHandlers.forEach(o=>o(n))}),this._socket.on("error",n=>{let o=n||"";typeof o.toString!="function"&&(o=JSON.stringify(o),console.error(`Received strange error: ${o}`)),o=o.toString(),o.includes("User not authorized")?this.authenticate():window.alert(`Socket Error: ${n}`)}),this._socket.on("connect_error",n=>console.error(`Connect error: ${n}`)),this._socket.on("permissionError",n=>this.onError({message:"no permission",operation:n.operation,type:n.type,id:n.id||""})),this._socket.on("objectChange",(n,o)=>setTimeout(()=>this.objectChange(n,o),0)),this._socket.on("stateChange",(n,o)=>setTimeout(()=>this.stateChange(n,o),0)),this._socket.on("im",(n,o,c)=>setTimeout(()=>this.instanceMessage(n,o,c),0)),this._socket.on("fileChange",(n,o,c)=>setTimeout(()=>this.fileChange(n,o,c),0)),this._socket.on("cmdStdout",(n,o)=>this.onCmdStdoutHandler&&this.onCmdStdoutHandler(n,o)),this._socket.on("cmdStderr",(n,o)=>this.onCmdStderrHandler&&this.onCmdStderrHandler(n,o)),this._socket.on("cmdExit",(n,o)=>this.onCmdExitHandler&&this.onCmdExitHandler(n,o))}onPreConnect(r,e){this._authTimer&&(clearTimeout(this._authTimer),this._authTimer=null),this.connected=!0,this.isSecure=e,this.waitForRestart?window.location.reload():(this.firstConnect?(this.loadTimer=setTimeout(()=>{this.loadTimer=null,this.loadCounter++,this.loadCounter<10&&this.onConnect()},1e3),this.loaded||this.onConnect()):this.onProgress(j.PROGRESS.READY),this._subscribe(!0),this.onConnectionHandlers.forEach(s=>s(!0))),this._waitForFirstConnectionResolve&&(this._waitForFirstConnectionResolve(),this._waitForFirstConnectionResolve=null)}static isCloud(){return window.location.hostname.includes("amazonaws.com")||window.location.hostname.includes("iobroker.in")?!0:typeof window.socketUrl=="undefined"?!1:window.socketUrl.includes("iobroker.in")||window.socketUrl.includes("amazonaws")}isConnected(){return this.connected}waitForFirstConnection(){return this._waitForFirstConnection}_getUserPermissions(r){this.doNotLoadACL?r&&r(null,null):this._socket.emit("getUserPermissions",r)}onConnect(){this._getUserPermissions((r,e)=>{if(r){this.onError(`Cannot read user permissions: ${r}`);return}if(!this.doNotLoadACL){if(this.loaded)return;this.loaded=!0,this.loadTimer&&clearTimeout(this.loadTimer),this.loadTimer=null,this.onProgress(j.PROGRESS.CONNECTED),this.firstConnect=!1,this.acl=e}return(this.admin5only&&!window.vendorPrefix?this.getCompactSystemConfig():this.getSystemConfig()).then(s=>{if(this.doNotLoadACL){if(this.loaded)return;this.loaded=!0,this.loadTimer&&clearTimeout(this.loadTimer),this.loadTimer=null,this.onProgress(j.PROGRESS.CONNECTED),this.firstConnect=!1}if(this.systemConfig=s,this.systemConfig&&this.systemConfig.common?this.systemLang=this.systemConfig.common.language:(this.systemLang=window.navigator.userLanguage||window.navigator.language,/^(en|de|ru|pt|nl|fr|it|es|pl|uk)-?/.test(this.systemLang)?this.systemLang=this.systemLang.substr(0,2):/^(en|de|ru|pt|nl|fr|it|es|pl|uk|zh-cn)$/.test(this.systemLang)||(this.systemLang="en")),this.props.onLanguage&&this.props.onLanguage(this.systemLang),!this.doNotLoadAllObjects)return this.getObjects().then(()=>{this.onProgress(j.PROGRESS.READY),this.props.onReady&&this.objects&&this.props.onReady(this.objects)});this.objects=this.admin5only?{}:{"system.config":s},this.onProgress(j.PROGRESS.READY),this.props.onReady&&this.props.onReady(this.objects)}).catch(s=>this.onError(`Cannot read system config: ${s}`))})}authenticate(){window.location.search.includes("&href=")?window.location.href=`${window.location.protocol}//${window.location.host}${window.location.pathname}${window.location.search}${window.location.hash}`:window.location.href=`${window.location.protocol}//${window.location.host}${window.location.pathname}?login&href=${window.location.search}${window.location.hash}`}subscribeState(r,e,s){typeof e=="function"&&(s=e,e=!1);let t;if(Array.isArray(r)?t=r:t=[r],!s){console.error("No callback found for subscribeState");return}const i=[];for(let n=0;n<t.length;n++){const o=t[n];if(this.statesSubscribes[o])!this.statesSubscribes[o].cbs.includes(s)&&this.statesSubscribes[o].cbs.push(s);else{let c=o.replace(/\./g,"\\.").replace(/\*/g,".*").replace(/\(/g,"\\(").replace(/\)/g,"\\)").replace(/\+/g,"\\+").replace(/\[/g,"\\[");c.includes("*")||(c+="$"),this.statesSubscribes[o]={reg:new RegExp(c),cbs:[s]},o!==this.ignoreState&&i.push(o)}}if(this.connected)if(i.length&&this._socket.emit("subscribe",i),e)for(let n=0;n<t.length;n++)this.getBinaryState(t[n]).then(o=>s&&s(t[n],o)).catch(o=>console.error(`Cannot getBinaryState "${t[n]}": ${JSON.stringify(o)}`));else this._socket.emit(d.isWeb()?"getStates":"getForeignStates",r,(n,o)=>{n&&console.error(`Cannot getForeignStates "${r}": ${JSON.stringify(n)}`),o&&Object.keys(o).forEach(c=>s(c,o[c]))})}subscribeStateAsync(r,e){let s;Array.isArray(r)?s=r:s=[r];const t=[];for(let i=0;i<s.length;i++){const n=s[i];if(this.statesSubscribes[n])!this.statesSubscribes[n].cbs.includes(e)&&this.statesSubscribes[n].cbs.push(e);else{let o=n.replace(/\./g,"\\.").replace(/\*/g,".*").replace(/\(/g,"\\(").replace(/\)/g,"\\)").replace(/\+/g,"\\+").replace(/\[/g,"\\[");o.includes("*")||(o+="$"),this.statesSubscribes[n]={reg:new RegExp(o),cbs:[]},this.statesSubscribes[n].cbs.push(e),n!==this.ignoreState&&t.push(n)}}return t.length&&this.connected&&this._socket.emit("subscribe",t),new Promise((i,n)=>{typeof e=="function"&&this.connected?this._socket.emit(d.isWeb()?"getStates":"getForeignStates",r,(o,c)=>{o&&console.error(`Cannot getForeignStates "${r}": ${JSON.stringify(o)}`),c&&Object.keys(c).forEach(p=>e(p,c[p])),c?i():n(new Error(`Cannot getForeignStates "${r}": ${JSON.stringify(o)}`))}):this.connected?n(new Error("callback is not a function")):n(new Error("not connected"))})}unsubscribeState(r,e){let s;Array.isArray(r)?s=r:s=[r];const t=[];for(let i=0;i<s.length;i++){const n=s[i];if(this.statesSubscribes[n]){if(e){const o=this.statesSubscribes[n].cbs.indexOf(e);o!==-1&&this.statesSubscribes[n].cbs.splice(o,1)}else this.statesSubscribes[n].cbs=[];(!this.statesSubscribes[n].cbs||!this.statesSubscribes[n].cbs.length)&&(delete this.statesSubscribes[n],n!==this.ignoreState&&t.push(n))}}t.length&&this.connected&&this._socket.emit("unsubscribe",t)}subscribeObject(r,e){let s;Array.isArray(r)?s=r:s=[r];const t=[];for(let i=0;i<s.length;i++){const n=s[i];if(this.objectsSubscribes[n])!this.objectsSubscribes[n].cbs.includes(e)&&this.objectsSubscribes[n].cbs.push(e);else{let o=n.replace(/\./g,"\\.").replace(/\*/g,".*");o.includes("*")||(o+="$"),this.objectsSubscribes[n]={reg:new RegExp(o),cbs:[e]},t.push(n)}}return this.connected&&t.length&&this._socket.emit("subscribeObjects",t),Promise.resolve()}unsubscribeObject(r,e){let s;Array.isArray(r)?s=r:s=[r];const t=[];for(let i=0;i<s.length;i++){const n=s[i];if(this.objectsSubscribes[n]){if(e){const o=this.objectsSubscribes[n].cbs.indexOf(e);o!==-1&&this.objectsSubscribes[n].cbs.splice(o,1)}else this.objectsSubscribes[n].cbs=[];this.connected&&(!this.objectsSubscribes[n].cbs||!this.objectsSubscribes[n].cbs.length)&&(delete this.objectsSubscribes[n],t.push(n))}}return this.connected&&t.length&&this._socket.emit("unsubscribeObjects",t),Promise.resolve()}fileChange(r,e,s){for(const t of Object.values(this.filesSubscribes))if(t.regId.test(r)&&t.regFilePattern.test(e))for(const i of t.cbs)try{i(r,e,s)}catch(n){console.error(`Error by callback of fileChange: ${n}`)}}subscribeFiles(r,e,s){return Nt(this,null,function*(){if(typeof s!="function")throw new Error("The state change handler must be a function!");let t;Array.isArray(e)?t=e:t=[e];const i=[];for(let n=0;n<t.length;n++){const o=t[n],c=`${r}$%$${o}`;this.filesSubscribes[c]?!this.filesSubscribes[c].cbs.includes(s)&&this.filesSubscribes[c].cbs.push(s):(this.filesSubscribes[c]={regId:new RegExp(b(r)),regFilePattern:new RegExp(b(o)),cbs:[s]},i.push(o))}this.connected&&i.length&&this._socket.emit("subscribeFiles",r,i)})}unsubscribeFiles(r,e,s){let t;Array.isArray(e)?t=e:t=[e];const i=[];for(let n=0;n<t.length;n++){const o=t[n],c=`${r}$%$${o}`;if(this.filesSubscribes[c]){const p=this.filesSubscribes[c];if(s){const w=p.cbs.indexOf(s);w!==-1&&p.cbs.splice(w,1)}else p.cbs=[];(!p.cbs||!p.cbs.length)&&(delete this.filesSubscribes[c],this.connected&&i.push(o))}}this.connected&&i.length&&this._socket.emit("unsubscribeFiles",r,i)}objectChange(r,e){if(!this.objects)return;let s,t=!1;e?(this.objects[r]&&(s={_id:r,type:this.objects[r].type}),(!this.objects[r]||JSON.stringify(this.objects[r])!==JSON.stringify(e))&&(this.objects[r]=e,t=!0)):this.objects[r]&&(s={_id:r,type:this.objects[r].type},delete this.objects[r],t=!0),Object.keys(this.objectsSubscribes).forEach(i=>{(i===r||this.objectsSubscribes[i].reg.test(r))&&this.objectsSubscribes[i].cbs.forEach(n=>{try{n(r,e,s)}catch(o){console.error(`Error by callback of objectChange: ${o}`)}})}),t&&this.props.onObjectChange&&this.props.onObjectChange(r,e)}stateChange(r,e){for(const s in this.statesSubscribes)Object.prototype.hasOwnProperty.call(this.statesSubscribes,s)&&this.statesSubscribes[s].reg.test(r)&&this.statesSubscribes[s].cbs.forEach(t=>{try{t(r,e)}catch(i){console.error(`Error by callback of stateChange: ${i}`)}})}instanceMessage(r,e,s){this._instanceSubscriptions[e]&&this._instanceSubscriptions[e].forEach(t=>{t.messageType===r&&t.callback(s,e,r)})}getStates(r,e){return this.connected?(typeof r=="boolean"&&(e=r,r=void 0),new Promise((s,t)=>this._socket.emit("getStates",r,(i,n)=>(this.states=n,!e&&this.onProgress(j.PROGRESS.STATES_LOADED),i?t(i):s(this.states))))):Promise.reject(M)}getState(r){return this.connected?r&&r===this.ignoreState?Promise.resolve(this.simStates[r]||{val:null,ack:!0}):new Promise((e,s)=>this._socket.emit("getState",r,(t,i)=>t?s(t):e(i))):Promise.reject(M)}getBinaryState(r){return this.connected?new Promise((e,s)=>this._socket.emit("getBinaryState",r,(t,i)=>t?s(t):e(i))):Promise.reject(M)}setBinaryState(r,e){return this.connected?new Promise((s,t)=>this._socket.emit("setBinaryState",r,e,i=>i?t(i):s())):Promise.reject(M)}setState(r,e,s){if(!this.connected)return Promise.reject(M);if(r&&r===this.ignoreState){let t;if(typeof s=="boolean"||typeof e=="object"&&e.val!==void 0?t=e:t={val:e,ack:!1,ts:Date.now(),lc:Date.now(),from:"system.adapter.vis.0"},this.simStates[r]=t,this.statesSubscribes[r])for(const i of this.statesSubscribes[r].cbs)try{i(r,t)}catch(n){console.error(`Error by callback of stateChanged: ${n}`)}return Promise.resolve()}return new Promise((t,i)=>this._socket.emit("setState",r,e,n=>n?i(n):t()))}getObjects(r,e){return this.connected?new Promise((s,t)=>{if(!r&&this.objects)return s(this.objects);this._socket.emit(d.isWeb()?"getObjects":"getAllObjects",(i,n)=>{this.objects=n,e&&this.onProgress(j.PROGRESS.OBJECTS_LOADED),i?t(i):s(this.objects)})}):Promise.reject(M)}getObjectsById(r){return this.connected?new Promise((e,s)=>this._socket.emit("getObjects",r,(t,i)=>t?s(t):e(i))):Promise.reject(M)}_subscribe(r){if(r&&!this.subscribed){this.subscribed=!0,this.autoSubscribes.forEach(s=>this._socket.emit("subscribeObjects",s)),Object.keys(this.objectsSubscribes).forEach(s=>this._socket.emit("subscribeObjects",s)),this.autoSubscribeLog&&this._socket.emit("requireLog",!0);const e=Object.keys(this.statesSubscribes);e.forEach(s=>this._socket.emit("subscribe",s)),e.length&&this._socket.emit(d.isWeb()?"getStates":"getForeignStates",e,(s,t)=>{s&&console.error(`Cannot getForeignStates: ${JSON.stringify(s)}`),t&&Object.keys(t).forEach(i=>this.stateChange(i,t[i]))})}else!r&&this.subscribed&&(this.subscribed=!1,this.autoSubscribes.forEach(e=>this._socket.emit("unsubscribeObjects",e)),Object.keys(this.objectsSubscribes).forEach(e=>this._socket.emit("unsubscribeObjects",e)),this.autoSubscribeLog&&this._socket.emit("requireLog",!1),Object.keys(this.statesSubscribes).forEach(e=>this._socket.emit("unsubscribe",e)))}requireLog(r){return this.connected?new Promise((e,s)=>this._socket.emit("requireLog",r,t=>t?s(t):e())):Promise.reject(M)}delObject(r,e){return this.connected?new Promise((s,t)=>this._socket.emit("delObject",r,{maintenance:!!e},i=>i?t(i):s())):Promise.reject(M)}delObjects(r,e){return this.connected?new Promise((s,t)=>this._socket.emit("delObjects",r,{maintenance:!!e},i=>i?t(i):s())):Promise.reject(M)}setObject(r,e){return this.connected?e?(e=JSON.parse(JSON.stringify(e)),Object.prototype.hasOwnProperty.call(e,"from")&&delete e.from,Object.prototype.hasOwnProperty.call(e,"user")&&delete e.user,Object.prototype.hasOwnProperty.call(e,"ts")&&delete e.ts,new Promise((s,t)=>this._socket.emit("setObject",r,e,i=>i?t(i):s()))):Promise.reject("Null object is not allowed"):Promise.reject(M)}getObject(r){return this.connected?r&&r===this.ignoreState?Promise.resolve({_id:this.ignoreState,type:"state",common:{name:"ignored state",type:"mixed",read:!0,write:!0,role:"state"},native:{}}):new Promise((e,s)=>this._socket.emit("getObject",r,(t,i)=>t?s(t):e(i))):Promise.reject(M)}getAdapterInstances(r,e){return typeof r=="boolean"&&(e=r,r=""),r=r||"",!e&&this._promises[`instances_${r}`]?this._promises[`instances_${r}`]:this.connected?(this._promises[`instances_${r}`]=new Promise((s,t)=>{let i=setTimeout(()=>{i=null,this.getObjectView(`system.adapter.${r?`${r}.`:""}`,`system.adapter.${r?`${r}.`:""}\u9999`,"instance").then(n=>s(Object.keys(n).map(o=>F(n[o])))).catch(n=>t(n))},h);this._socket.emit("getAdapterInstances",r,(n,o)=>{i&&(clearTimeout(i),i=null,n?t(n):s(o))})}),this._promises[`instances_${r}`]):Promise.reject(M)}getAdapters(r,e){return d.isWeb()?Promise.reject("Allowed only in admin"):(typeof r=="boolean"&&(e=r,r=""),r=r||"",!e&&this._promises[`adapter_${r}`]?this._promises[`adapter_${r}`]:this.connected?(this._promises[`adapter_${r}`]=new Promise((s,t)=>{let i=setTimeout(()=>{i=null,this.getObjectView(`system.adapter.${r}.`,`system.adapter.${r}.\u9999`,"adapter").then(n=>s(Object.keys(n).map(o=>F(n[o])))).catch(n=>t(n))},h);this._socket.emit("getAdapters",r,(n,o)=>{if(i)return clearTimeout(i),i=null,n?t(n):s(o)})}),this._promises[`adapter_${r}`]):Promise.reject(M))}_renameGroups(r,e){if(!r||!r.length)e&&e(null);else{const s=r.pop();if(!s){setTimeout(()=>this._renameGroups(r,e),0);return}const t=s._id;s._id=s.newId,delete s.newId,this.setObject(s._id,s).then(()=>this.delObject(t)).then(()=>setTimeout(()=>this._renameGroups(r,e),0)).catch(i=>e&&e(i))}}renameGroup(r,e,s){return Nt(this,null,function*(){if(d.isWeb())return Promise.reject("Allowed only in admin");const t=yield this.getGroups(!0);if(t.length){const i=t.filter(o=>o._id.startsWith(`${r}.`));i.forEach(o=>{o.newId=e+o._id.substring(r.length)}),yield new Promise((o,c)=>this._renameGroups(i,p=>p?c(p):o(null)));const n=t.find(o=>o._id===r);if(n)return n._id=e,s!==void 0&&(n.common=n.common||{},n.common.name=s),this.setObject(n._id,n).then(()=>this.delObject(r))}})}sendTo(r,e,s){return this.connected?new Promise(t=>this._socket.emit("sendTo",r,e,s,i=>t(i))):Promise.reject(M)}extendObject(r,e){return this.connected?(e=JSON.parse(JSON.stringify(e)),e.hasOwnProperty("from")&&delete e.from,e.hasOwnProperty("user")&&delete e.user,e.hasOwnProperty("ts")&&delete e.ts,new Promise((s,t)=>this._socket.emit("extendObject",r,e,i=>i?t(i):s()))):Promise.reject(M)}registerLogHandler(r){!this.onLogHandlers.includes(r)&&this.onLogHandlers.push(r)}unregisterLogHandler(r){const e=this.onLogHandlers.indexOf(r);e!==-1&&this.onLogHandlers.splice(e,1)}registerConnectionHandler(r){!this.onConnectionHandlers.includes(r)&&this.onConnectionHandlers.push(r)}unregisterConnectionHandler(r){const e=this.onConnectionHandlers.indexOf(r);e!==-1&&this.onConnectionHandlers.splice(e,1)}registerCmdStdoutHandler(r){this.onCmdStdoutHandler=r}unregisterCmdStdoutHandler(){this.onCmdStdoutHandler=void 0}registerCmdStderrHandler(r){this.onCmdStderrHandler=r}unregisterCmdStderrHandler(){this.onCmdStderrHandler=void 0}registerCmdExitHandler(r){this.onCmdExitHandler=r}unregisterCmdExitHandler(){this.onCmdExitHandler=void 0}getEnums(r,e){return!e&&this._promises[`enums_${r||"all"}`]?this._promises[`enums_${r||"all"}`]:this.connected?(this._promises[`enums_${r||"all"}`]=new Promise((s,t)=>{this._socket.emit("getObjectView","system","enum",{startkey:`enum.${r||""}`,endkey:`enum.${r?`${r}.`:""}\u9999`},(i,n)=>{if(!i&&n){const o={};for(let c=0;c<n.rows.length;c++)r&&n.rows[c].id===`enum.${r}`||(o[n.rows[c].id]=n.rows[c].value);s(o)}else t(i)})}),this._promises[`enums_${r||"all"}`]):Promise.reject(M)}getObjectViewCustom(r,e,s,t){return new Promise((i,n)=>{this._socket.emit("getObjectView",r,e,{startkey:s,endkey:t},(o,c)=>{if(o)n(o);else{const p={};if(c&&c.rows)for(let w=0;w<c.rows.length;w++)p[c.rows[w].id]=c.rows[w].value;i(p)}})})}getObjectViewSystem(r,e,s){return this.getObjectViewCustom("system",r,e,s)}getObjectView(r,e,s){return this.connected?(r=r||"",e=e||"\u9999",this.getObjectViewCustom("system",s,r,e)):Promise.reject(M)}getCertificates(r){return d.isWeb()?Promise.reject("Allowed only in admin"):this._promises.cert&&!r?this._promises.cert:this.connected?(this._promises.cert=this.getObject("system.certificates").then(e=>{const s=[];return e&&e.native&&e.native.certificates&&Object.keys(e.native.certificates).forEach(t=>{const i=e.native.certificates[t];if(!i)return;const n={name:t,type:""};i.length<700&&(i.includes("/")||i.includes("\\"))?(t.toLowerCase().includes("private")||i.toLowerCase().includes("private")?n.type="private":(t.toLowerCase().includes("public")||i.toLowerCase().includes("public"))&&(n.type="public"),s.push(n)):(n.type=i.substring(0,26)==="-----BEGIN RSA PRIVATE KEY"||i.substring(0,22)==="-----BEGIN PRIVATE KEY"?"private":"public",n.type==="public"&&i.split("-----END CERTIFICATE-----").filter(c=>c.replace(/\r\n|\r|\n/,"").trim()).length>1&&(n.type="chained"),s.push(n))}),s}),this._promises.cert):Promise.reject(M)}getLogs(r,e){return d.isWeb()?Promise.reject("Allowed only in admin"):this.connected?new Promise(s=>this._socket.emit("sendToHost",r,"getLogs",e||200,t=>s(t))):Promise.reject(M)}getLogsFiles(r){return d.isWeb()?Promise.reject("Allowed only in admin"):this.connected?new Promise((e,s)=>this._socket.emit("readLogs",r,(t,i)=>t?s(t):e(i))):Promise.reject(M)}delLogs(r){return d.isWeb()?Promise.reject("Allowed only in admin"):this.connected?new Promise((e,s)=>this._socket.emit("sendToHost",r,"delLogs",null,t=>t?s(t):e())):Promise.reject(M)}readMetaItems(){return this.connected?new Promise((r,e)=>this._socket.emit("getObjectView","system","meta",{startkey:"",endkey:"\u9999"},(s,t)=>s?e(s):r(t.rows&&t.rows.map(i=>i.value)))):Promise.reject(M)}readDir(r,e){return this.connected?new Promise((s,t)=>this._socket.emit("readDir",r,e,(i,n)=>i?t(i):s(n))):Promise.reject(M)}readFile(r,e,s){return this.connected?new Promise((t,i)=>{s?this._socket.emit("readFile64",r,e,s,(n,o)=>n?i(n):t(o)):this._socket.emit("readFile",r,e,(n,o,c)=>{n?i(n):t({data:o,type:c})})}):Promise.reject(M)}writeFile64(r,e,s){return this.connected?new Promise((t,i)=>{if(typeof s=="string")this._socket.emit("writeFile",r,e,s,n=>n?i(n):t());else{const n=btoa(new Uint8Array(s).reduce((o,c)=>o+String.fromCharCode(c),""));this._socket.emit("writeFile64",r,e,n,o=>o?i(o):t())}}):Promise.reject(M)}deleteFile(r,e){return this.connected?new Promise((s,t)=>this._socket.emit("unlink",r,e,i=>i?t(i):s())):Promise.reject(M)}deleteFolder(r,e){return this.connected?new Promise((s,t)=>this._socket.emit("deleteFolder",r,e,i=>i?t(i):s())):Promise.reject(M)}getHosts(r){return d.isWeb()?Promise.reject("Allowed only in admin"):!r&&this._promises.hosts?this._promises.hosts:this.connected?(this._promises.hosts=new Promise((e,s)=>this._socket.emit("getObjectView","system","host",{startkey:"system.host.",endkey:"system.host.\u9999"},(t,i)=>{t?s(t):e(i.rows.map(n=>n.value))})),this._promises.hosts):Promise.reject(M)}getUsers(r){return d.isWeb()?Promise.reject("Allowed only in admin"):!r&&this._promises.users?this._promises.users:this.connected?(this._promises.users=new Promise((e,s)=>this._socket.emit("getObjectView","system","user",{startkey:"system.user.",endkey:"system.user.\u9999"},(t,i)=>{t?s(t):e(i.rows.map(n=>n.value))})),this._promises.users):Promise.reject(M)}getGroups(r){return!r&&this._promises.groups?this._promises.groups:this.connected?(this._promises.groups=new Promise((e,s)=>this._socket.emit("getObjectView","system","group",{startkey:"system.group.",endkey:"system.group.\u9999"},(t,i)=>{t?s(t):e(i.rows.map(n=>n.value))})),this._promises.groups):Promise.reject(M)}getHostInfo(r,e,s){return d.isWeb()?Promise.reject("Allowed only in admin"):(r.startsWith("system.host.")||(r+=`system.host.${r}`),!e&&this._promises[`hostInfo_${r}`]?this._promises[`hostInfo_${r}`]:this.connected?(this._promises[`hostInfo_${r}`]=new Promise((t,i)=>{let n=setTimeout(()=>{n&&(n=null,i("getHostInfo timeout"))},s||this.props.cmdTimeout);this._socket.emit("sendToHost",r,"getHostInfo",null,o=>{n&&(clearTimeout(n),n=null,o===L?i('May not read "getHostInfo"'):!o||typeof o!="object"?i('Cannot read "getHostInfo"'):t(o))})}),this._promises[`hostInfo_${r}`]):Promise.reject(M))}getHostInfoShort(r,e,s){return d.isWeb()?Promise.reject("Allowed only in admin"):(r.startsWith("system.host.")||(r+=`system.host.${r}`),!e&&this._promises[`hostInfoShort_${r}`]?this._promises[`hostInfoShort_${r}`]:this.connected?(this._promises[`hostInfoShort_${r}`]=new Promise((t,i)=>{let n=setTimeout(()=>{n&&(n=null,i("hostInfoShort timeout"))},s||this.props.cmdTimeout);this._socket.emit("sendToHost",r,"getHostInfoShort",null,o=>{n&&(clearTimeout(n),n=null,o===L?i('May not read "getHostInfoShort"'):!o||typeof o!="object"?i('Cannot read "getHostInfoShort"'):t(o))})}),this._promises[`hostInfoShort_${r}`]):Promise.reject(M))}getRepository(r,e,s,t){return d.isWeb()?Promise.reject("Allowed only in admin"):!s&&this._promises.repo?this._promises.repo:this.connected?(r.startsWith("system.host.")||(r+=`system.host.${r}`),this._promises.repo=new Promise((i,n)=>{let o=setTimeout(()=>{o&&(o=null,n("getRepository timeout"))},t||this.props.cmdTimeout);this._socket.emit("sendToHost",r,"getRepository",e,c=>{o&&(clearTimeout(o),o=null,c===L?n('May not read "getRepository"'):!c||typeof c!="object"?n('Cannot read "getRepository"'):i(c))})}),this._promises.repo):Promise.reject(M)}getInstalled(r,e,s){return d.isWeb()?Promise.reject("Allowed only in admin"):(this._promises.installed=this._promises.installed||{},!e&&this._promises.installed[r]?this._promises.installed[r]:this.connected?(r.startsWith("system.host.")||(r+=`system.host.${r}`),this._promises.installed[r]=new Promise((t,i)=>{let n=setTimeout(()=>{n&&(n=null,i("getInstalled timeout"))},s||this.props.cmdTimeout);this._socket.emit("sendToHost",r,"getInstalled",null,o=>{n&&(clearTimeout(n),n=null,o===L?i('May not read "getInstalled"'):!o||typeof o!="object"?i('Cannot read "getInstalled"'):t(o))})}),this._promises.installed[r]):Promise.reject(M))}rename(r,e,s){return this.connected?new Promise((t,i)=>this._socket.emit("rename",r,e,s,n=>n?i(n):t())):Promise.reject(M)}renameFile(r,e,s){return this.connected?new Promise((t,i)=>this._socket.emit("renameFile",r,e,s,n=>n?i(n):t())):Promise.reject(M)}cmdExec(r,e,s,t){return d.isWeb()?Promise.reject("Allowed only in admin"):this.connected?(r.startsWith(r)||(r+=`system.host.${r}`),new Promise((i,n)=>{let o=t?setTimeout(()=>{o&&(o=null,n("cmdExec timeout"))},t):null;this._socket.emit("cmdExec",r,s,e,null,c=>{(!t||o)&&(o&&clearTimeout(o),o=null,c?n(c):i())})})):Promise.reject(M)}checkFeatureSupported(r,e){return!e&&this._promises[`supportedFeatures_${r}`]?this._promises[`supportedFeatures_${r}`]:this.connected?(this._promises[`supportedFeatures_${r}`]=new Promise((s,t)=>this._socket.emit("checkFeatureSupported",r,(i,n)=>{i?t(i):s(n)})),this._promises[`supportedFeatures_${r}`]):Promise.reject(M)}readBaseSettings(r){return Nt(this,null,function*(){return d.isWeb()?Promise.reject("Allowed only in admin"):(yield this.checkFeatureSupported("CONTROLLER_READWRITE_BASE_SETTINGS"))?this.connected?new Promise((s,t)=>{let i=setTimeout(()=>{i&&(i=null,t("readBaseSettings timeout"))},this.props.cmdTimeout);r.startsWith("system.host.")&&(r=r.replace(/^system\.host\./,"")),this._socket.emit("sendToHost",r,"readBaseSettings",null,n=>{i&&(clearTimeout(i),i=null,n===L?t('May not read "BaseSettings"'):!n||typeof n!="object"?t('Cannot read "BaseSettings"'):s(n))})}):Promise.reject(M):yield Promise.reject("Not supported")})}writeBaseSettings(r,e){return d.isWeb()?Promise.reject("Allowed only in admin"):this.checkFeatureSupported("CONTROLLER_READWRITE_BASE_SETTINGS").then(s=>s?this.connected?new Promise((t,i)=>{let n=setTimeout(()=>{n&&(n=null,i("writeBaseSettings timeout"))},this.props.cmdTimeout);this._socket.emit("sendToHost",r,"writeBaseSettings",e,o=>{n&&(clearTimeout(n),n=null,o===L?i(new Error('May not write "BaseSettings"')):o?t(o):i(new Error('Cannot write "BaseSettings"')))})}):Promise.reject(M):Promise.reject(new Error("Not supported")))}restartController(r){return d.isWeb()?Promise.reject("Allowed only in admin"):new Promise((e,s)=>{this._socket.emit("sendToHost",r,"restartController",null,t=>{t?s(t):e(!0)})})}getDiagData(r,e){return d.isWeb()?Promise.reject("Allowed only in admin"):new Promise(s=>{this._socket.emit("sendToHost",r,"getDiagData",e,t=>s(t))})}getForeignStates(r){return this.connected?d.isWeb()?new Promise((e,s)=>this._socket.emit("getStates",r||"*",(t,i)=>t?s(t):e(i))):new Promise((e,s)=>this._socket.emit("getForeignStates",r||"*",(t,i)=>t?s(t):e(i))):Promise.reject(M)}getForeignObjects(r,e){return d.isWeb()?Promise.reject("Allowed only in admin"):this.connected?new Promise((s,t)=>this._socket.emit("getForeignObjects",r||"*",e,(i,n)=>i?t(i):s(n))):Promise.reject(M)}getSystemConfig(r){return!r&&this._promises.systemConfig?this._promises.systemConfig:this.connected?(this._promises.systemConfig=this.getObject("system.config").then(e=>(e=e||{},e.common=e.common||{},e.native=e.native||{},e)),this._promises.systemConfig):Promise.reject(M)}setSystemConfig(r){return this.setObject("system.config",r).then(()=>this._promises.systemConfig=Promise.resolve(r))}getRawSocket(){return this._socket}getHistory(r,e){return this.connected?new Promise((s,t)=>this._socket.emit("getHistory",r,e,(i,n)=>i?t(i):s(n))):Promise.reject(M)}getHistoryEx(r,e){return this.connected?new Promise((s,t)=>this._socket.emit("getHistory",r,e,(i,n,o,c)=>i?t(i):s({values:n,sessionId:c,stepIgnore:o}))):Promise.reject(M)}changePassword(r,e){return d.isWeb()?Promise.reject("Allowed only in admin"):new Promise((s,t)=>this._socket.emit("changePassword",r,e,i=>i?t(i):s()))}getIpAddresses(r,e){return d.isWeb()?Promise.reject("Allowed only in admin"):(r.startsWith("system.host.")||(r=`system.host.${r}`),!e&&this._promises[`IPs_${r}`]?this._promises[`IPs_${r}`]:(this._promises[`IPs_${r}`]=this.getObject(r).then(s=>s&&s.common?s.common.address||[]:[]),this._promises[`IPs_${r}`]))}getHostByIp(r,e){return d.isWeb()?Promise.reject("Allowed only in admin"):(r.startsWith("system.host.")&&(r=r.replace(/^system\.host\./,"")),!e&&this._promises[`rIPs_${r}`]?this._promises[`rIPs_${r}`]:(this._promises[`rIPs_${r}`]=new Promise(s=>this._socket.emit("getHostByIp",r,(t,i)=>{var n,o;const c=[{name:"[IPv4] 0.0.0.0 - Listen on all IPs",address:"0.0.0.0",family:"ipv4"}],p=[{name:"[IPv6] :: - Listen on all IPs",address:"::",family:"ipv6"}];if(!((o=(n=i==null?void 0:i.native)===null||n===void 0?void 0:n.hardware)===null||o===void 0)&&o.networkInterfaces){for(const w in i.native.hardware.networkInterfaces)if(i.native.hardware.networkInterfaces.hasOwnProperty(w))for(let E=0;E<i.native.hardware.networkInterfaces[w].length;E++)i.native.hardware.networkInterfaces[w][E].family!=="IPv6"?c.push({name:`[${i.native.hardware.networkInterfaces[w][E].family}] ${i.native.hardware.networkInterfaces[w][E].address} - ${w}`,address:i.native.hardware.networkInterfaces[w][E].address,family:"ipv4"}):p.push({name:`[${i.native.hardware.networkInterfaces[w][E].family}] ${i.native.hardware.networkInterfaces[w][E].address} - ${w}`,address:i.native.hardware.networkInterfaces[w][E].address,family:"ipv6"})}for(let w=0;w<p.length;w++)c.push(p[w]);s(c)})),this._promises[`rIPs_${r}`]))}encrypt(r){return d.isWeb()?Promise.reject("Allowed only in admin"):new Promise((e,s)=>this._socket.emit("encrypt",r,(t,i)=>t?s(t):e(i)))}decrypt(r){return d.isWeb()?Promise.reject("Allowed only in admin"):new Promise((e,s)=>this._socket.emit("decrypt",r,(t,i)=>t?s(t):e(i)))}getVersion(r){return r&&this._promises.version&&delete this._promises.version,this._promises.version=this._promises.version||new Promise((e,s)=>this._socket.emit("getVersion",(t,i,n)=>{if(t&&!i&&typeof t=="string"&&t.match(/\d+\.\d+\.\d+/))e({version:t,serverName:"socketio"});else return t?s(t):e({version:i,serverName:n})})),this._promises.version}getWebServerName(){return this._promises.webName=this._promises.webName||new Promise((r,e)=>this._socket.emit("getAdapterName",(s,t)=>s?e(s):r(t))),this._promises.webName}getAdminVersion(){return console.log("Deprecated: use getVersion"),this.getVersion()}chmodFile(r,e,s){return d.isWeb()?Promise.reject("Allowed only in admin"):this.connected?new Promise((t,i)=>this._socket.emit("chmodFile",r,e,s,(n,o,c)=>n?i(n):t({entries:o,id:c}))):Promise.reject(M)}chownFile(r,e,s){return d.isWeb()?Promise.reject("Allowed only in admin"):this.connected?new Promise((t,i)=>this._socket.emit("chownFile",r,e,s,(n,o,c)=>n?i(n):t({entries:o,id:c}))):Promise.reject(M)}fileExists(r,e){return this.connected?new Promise((s,t)=>this._socket.emit("fileExists",r,e,(i,n)=>i?t(i):s(n))):Promise.reject(M)}getNotifications(r,e){return d.isWeb()?Promise.reject("Allowed only in admin"):this.connected?new Promise(s=>this._socket.emit("sendToHost",r,"getNotifications",{category:e},t=>s(t))):Promise.reject(M)}clearNotifications(r,e){return d.isWeb()?Promise.reject("Allowed only in admin"):this.connected?new Promise(s=>this._socket.emit("sendToHost",r,"clearNotifications",{category:e},t=>s(t))):Promise.reject(M)}getIsEasyModeStrict(){return d.isWeb()?Promise.reject("Allowed only in admin"):this.connected?new Promise((r,e)=>this._socket.emit("getIsEasyModeStrict",(s,t)=>s?e(s):r(t))):Promise.reject(M)}getEasyMode(){return d.isWeb()?Promise.reject("Allowed only in admin"):this.connected?new Promise((r,e)=>this._socket.emit("getEasyMode",(s,t)=>s?e(s):r(t))):Promise.reject(M)}getCurrentUser(){return this.connected?new Promise(r=>this._socket.emit("authEnabled",(e,s)=>r(s))):Promise.reject(M)}getCurrentSession(r){return this.connected?new Promise((e,s)=>{const t=new AbortController;let i=setTimeout(()=>{i&&(i=null,t.abort(),s("getCurrentSession timeout"))},r||5e3);return fetch("./session",{signal:t.signal}).then(n=>n.json()).then(n=>{i&&(clearTimeout(i),i=null,e(n))}).catch(n=>s(`getCurrentSession: ${n}`))}):Promise.reject(M)}getRatings(r){return d.isWeb()?Promise.reject("Allowed only in admin"):this.connected?new Promise((e,s)=>this._socket.emit("getRatings",r,(t,i)=>t?s(t):e(i))):Promise.reject(M)}getCurrentInstance(){return this.connected?(this._promises.currentInstance=this._promises.currentInstance||new Promise((r,e)=>this._socket.emit("getCurrentInstance",(s,t)=>s?e(s):r(t))),this._promises.currentInstance):Promise.reject(M)}getCompactAdapters(r){return d.isWeb()?Promise.reject("Allowed only in admin"):!r&&this._promises.compactAdapters?this._promises.compactAdapters:this.connected?(this._promises.compactAdapters=new Promise((e,s)=>this._socket.emit("getCompactAdapters",(t,i)=>t?s(t):e(i))),this._promises.compactAdapters):Promise.reject(M)}getAdaptersResetCache(r){r=r||"",delete this._promises.compactAdapters,delete this._promises[`adapter_${r}`]}getCompactInstances(r){return d.isWeb()?Promise.reject("Allowed only in admin"):!r&&this._promises.compactInstances?this._promises.compactInstances:this.connected?(this._promises.compactInstances=new Promise((e,s)=>this._socket.emit("getCompactInstances",(t,i)=>t?s(t):e(i))),this._promises.compactInstances):Promise.reject(M)}getAdapternInstancesResetCache(r){r=r||"",delete this._promises.compactInstances,delete this._promises[`instances_${r}`]}getCompactInstalled(r,e,s){return d.isWeb()?Promise.reject("Allowed only in admin"):(this._promises.installedCompact=this._promises.installedCompact||{},!e&&this._promises.installedCompact[r]?this._promises.installedCompact[r]:this.connected?(r.startsWith("system.host.")||(r+=`system.host.${r}`),this._promises.installedCompact[r]=new Promise((t,i)=>{let n=setTimeout(()=>{n&&(n=null,i("getCompactInstalled timeout"))},s||this.props.cmdTimeout);this._socket.emit("getCompactInstalled",r,o=>{n&&(clearTimeout(n),n=null,o===L?i('May not read "getCompactInstalled"'):!o||typeof o!="object"?i('Cannot read "getCompactInstalled"'):t(o))})}),this._promises.installedCompact[r]):Promise.reject(M))}getCompactSystemRepositories(r,e){return d.isWeb()?Promise.reject("Allowed only in admin"):!r&&this._promises.getCompactSystemRepositories?this._promises.getCompactSystemRepositories:this.connected?(this._promises.getCompactSystemRepositories=new Promise((s,t)=>{let i=setTimeout(()=>{i&&(i=null,t("getCompactSystemRepositories timeout"))},e||this.props.cmdTimeout);this._socket.emit("getCompactSystemRepositories",n=>{i&&(clearTimeout(i),i=null,n===L?t('May not read "getCompactSystemRepositories"'):!n||typeof n!="object"?t('Cannot read "getCompactSystemRepositories"'):s(n))})}),this._promises.getCompactSystemRepositories):Promise.reject(M)}getCompactSystemConfig(r){return!r&&this._promises.systemConfigCommon?this._promises.systemConfigCommon:this.connected?(this._promises.systemConfigCommon=new Promise((e,s)=>this._socket.emit("getCompactSystemConfig",(t,i)=>t?s(t):e(i))),this._promises.systemConfigCommon):Promise.reject(M)}getCompactRepository(r,e,s){return d.isWeb()?Promise.reject("Allowed only in admin"):!e&&this._promises.repoCompact?this._promises.repoCompact:this.connected?(r.startsWith("system.host.")||(r+=`system.host.${r}`),this._promises.repoCompact=new Promise((t,i)=>{let n=setTimeout(()=>{n&&(n=null,i("getCompactRepository timeout"))},s||this.props.cmdTimeout);this._socket.emit("getCompactRepository",r,o=>{n&&(clearTimeout(n),n=null,o===L?i('May not read "getCompactRepository"'):o?t(o):i('Cannot read "getCompactRepository"'))})}),this._promises.repoCompact):Promise.reject(M)}getInstalledResetCache(){delete this._promises.repoCompact,delete this._promises.repo}getCompactHosts(r){return d.isWeb()?Promise.reject("Allowed only in admin"):!r&&this._promises.hostsCompact?this._promises.hostsCompact:this.connected?(this._promises.hostsCompact=new Promise((e,s)=>this._socket.emit("getCompactHosts",(t,i)=>t?s(t):e(i))),this._promises.hostsCompact):Promise.reject(M)}getUuid(){return this._promises.uuid?this._promises.uuid:this.connected?(this._promises.uuid=this.getObject("system.meta.uuid").then(r=>{var e;return(e=r==null?void 0:r.native)===null||e===void 0?void 0:e.uuid}),this._promises.uuid):Promise.reject(M)}subscribeOnInstance(r,e,s,t){return this.connected?new Promise((i,n)=>this._socket.emit("clientSubscribe",r,e,s,(o,c)=>{o?n(o):c&&c.error?n(c.error):(r.startsWith("system.adapter.")||(r=`system.adapter.${r}`),this._instanceSubscriptions[r]=this._instanceSubscriptions[r]||[],this._instanceSubscriptions[r].find(p=>p.messageType===e&&p.callback===t)||this._instanceSubscriptions[r].push({messageType:e,callback:t}),i(c))})):Promise.reject(M)}unsubscribeFromInstance(r,e,s){var t;r.startsWith("system.adapter.")||(r=`system.adapter.${r}`);let i;const n=[];do{i=!1;const o=(t=this._instanceSubscriptions[r])===null||t===void 0?void 0:t.findIndex(c=>(!e||c.messageType===e)&&(!s||c.callback===s));if(o!=null&&o!==-1){i=!0;const c=this._instanceSubscriptions[r][o].messageType;this._instanceSubscriptions[r].splice(o,1),this._instanceSubscriptions[r].length||delete this._instanceSubscriptions[r],this._instanceSubscriptions[r]&&this._instanceSubscriptions[r].find(w=>w.messageType===c)||n.push(new Promise((w,E)=>this._socket.emit("clientUnsubscribe",r,e,(k,f)=>{k?E(k):w(f)})))}}while(i&&(!s||!e));return n.length?Promise.all(n).then(o=>o.find(c=>c)||!1):Promise.resolve(!1)}log(r,e){r&&this._socket.emit("log",r,e||"debug")}logout(){return this.connected?new Promise((r,e)=>this._socket.emit("logout",s=>s?e(s):r())):Promise.reject(M)}setStateToIgnore(r){this.ignoreState=r||""}}j.default=d},93623:()=>{},76407:()=>{},50410:()=>{},96862:()=>{},19309:function(X,j,L){"use strict";var M=this&&this.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(j,"__esModule",{value:!0});const h=M(L(28437)),F=b=>h.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",onClick:d=>b.onClick&&b.onClick(d),viewBox:"0 0 512 512",width:b.width||(b.fontSize==="small"?16:20),height:b.height||b.width||(b.fontSize==="small"?16:20),className:b.className,style:b.style},h.default.createElement("path",{fill:"currentColor",d:"M448 0L320 96v62.06l-83.03 83.03c6.79 4.25 13.27 9.06 19.07 14.87 5.8 5.8 10.62 12.28 14.87 19.07L353.94 192H416l96-128-64-64zM128 278.59L10.92 395.67c-14.55 14.55-14.55 38.15 0 52.71l52.7 52.7c14.56 14.56 38.15 14.56 52.71 0L233.41 384c29.11-29.11 29.11-76.3 0-105.41s-76.3-29.11-105.41 0z"}));j.default=F},89646:function(X,j,L){"use strict";var M=this&&this.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(j,"__esModule",{value:!0});const h=M(L(28437)),F=b=>h.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",onClick:d=>b.onClick&&b.onClick(d),viewBox:"0 0 512 512",width:b.width||(b.fontSize==="small"?16:20),height:b.height||b.width||(b.fontSize==="small"?16:20),className:b.className,style:b.style},h.default.createElement("path",{fill:"currentColor",d:"M96.06 454.35c.01 6.29 1.87 12.45 5.36 17.69l17.09 25.69a31.99 31.99 0 0 0 26.64 14.28h61.71a31.99 31.99 0 0 0 26.64-14.28l17.09-25.69a31.989 31.989 0 0 0 5.36-17.69l.04-38.35H96.01l.05 38.35zM0 176c0 44.37 16.45 84.85 43.56 115.78 16.52 18.85 42.36 58.23 52.21 91.45.04.26.07.52.11.78h160.24c.04-.26.07-.51.11-.78 9.85-33.22 35.69-72.6 52.21-91.45C335.55 260.85 352 220.37 352 176 352 78.61 272.91-.3 175.45 0 73.44.31 0 82.97 0 176zm176-80c-44.11 0-80 35.89-80 80 0 8.84-7.16 16-16 16s-16-7.16-16-16c0-61.76 50.24-112 112-112 8.84 0 16 7.16 16 16s-7.16 16-16 16z"}));j.default=F},29221:function(X,j,L){"use strict";var M=this&&this.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(j,"__esModule",{value:!0});const h=M(L(28437)),F=b=>h.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",onClick:d=>b.onClick&&b.onClick(d),viewBox:"0 0 320 320",width:b.width||(b.fontSize==="small"?16:20),height:b.height||b.width||(b.fontSize==="small"?16:20),className:b.className,style:b.style},h.default.createElement("g",{fill:"currentColor"},h.default.createElement("rect",{rx:"32",height:"272",width:"267",y:"25",x:"25",strokeWidth:"15",stroke:"currentColor",fill:"none"}),h.default.createElement("ellipse",{stroke:"currentColor",ry:"26",rx:"26",cy:"248",cx:"160",fill:"none",strokeWidth:"15"}),h.default.createElement("line",{y2:"201.94531",x2:"159.5",y1:"46.94531",x1:"159.5",fillOpacity:"null",strokeOpacity:"null",strokeWidth:"15",stroke:"currentColor",fill:"none"}),h.default.createElement("rect",{height:"27",width:"50",y:"79.7979",x:"133.5",fillOpacity:"null",strokeOpacity:"null",strokeWidth:"15",stroke:"currentColor",fill:"#fff"})));j.default=F},4769:function(X,j,L){"use strict";var M=this&&this.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(j,"__esModule",{value:!0});const h=M(L(28437)),F=b=>h.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",onClick:d=>b.onClick&&b.onClick(d),viewBox:"0 0 24 24",width:b.width||(b.fontSize==="small"?16:20),height:b.height||b.width||(b.fontSize==="small"?16:20),className:b.className,style:b.style},h.default.createElement("path",{fill:"currentColor",stroke:"currentColor",d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39A.998.998 0 0 0 18.95 4H5.04c-.83 0-1.3.95-.79 1.61z"}));j.default=F},57572:function(X,j,L){"use strict";var M=this&&this.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(j,"__esModule",{value:!0});const h=M(L(28437)),F=b=>h.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",onClick:d=>b.onClick&&b.onClick(d),viewBox:"0 0 650 512",width:b.width||(b.fontSize==="small"?16:20),height:b.height||b.width||(b.fontSize==="small"?16:20),className:b.className,style:b.style},h.default.createElement("path",{fill:"currentColor",d:"M464 128H272l-64-64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V176c0-26.51-21.49-48-48-48z"}));j.default=F},74229:function(X,j,L){"use strict";var M=this&&this.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(j,"__esModule",{value:!0});const h=M(L(28437)),F=b=>h.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",onClick:d=>b.onClick&&b.onClick(d),viewBox:"0 0 512 512",width:b.width||(b.fontSize==="small"?16:20),height:b.height||b.width||(b.fontSize==="small"?16:20),className:b.className,style:b.style},h.default.createElement("path",{fill:"currentColor",d:"M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"}));j.default=F},25714:function(X,j,L){"use strict";var M=this&&this.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(j,"__esModule",{value:!0});const h=M(L(28437)),F=b=>h.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",onClick:d=>b.onClick&&b.onClick(d),viewBox:"0 0 320 320",width:b.width||(b.fontSize==="small"?16:20),height:b.height||b.width||(b.fontSize==="small"?16:20),className:b.className,style:b.style},h.default.createElement("g",{fill:"currentColor"},h.default.createElement("rect",{rx:"32",height:"272",width:"267",y:"25",x:"25",strokeWidth:"15",stroke:"currentColor",fill:"none"}),h.default.createElement("ellipse",{stroke:"currentColor",ry:"26",rx:"26",cy:"252",cx:"160",fillOpacity:"null",strokeOpacity:"null",strokeWidth:"15",fill:"#fff"}),h.default.createElement("line",{y2:"201.94531",x2:"159.5",y1:"46.94531",x1:"159.5",fillOpacity:"null",strokeOpacity:"null",strokeWidth:"15",stroke:"currentColor",fill:"none"}),h.default.createElement("rect",{height:"27",width:"50",y:"140.83068",x:"133.5",fillOpacity:"null",strokeOpacity:"null",strokeWidth:"15",stroke:"currentColor",fill:"#fff"}),h.default.createElement("ellipse",{stroke:"currentColor",ry:"26",rx:"26",cy:"251",cx:"241",fillOpacity:"null",strokeOpacity:"null",strokeWidth:"15",fill:"#fff"}),h.default.createElement("line",{y2:"200.94531",x2:"240.5",y1:"45.94531",x1:"240.5",fillOpacity:"null",strokeOpacity:"null",strokeWidth:"15",stroke:"currentColor",fill:"none"}),h.default.createElement("rect",{height:"27",width:"50",y:"78.7979",x:"214.5",strokeWidth:"15",stroke:"currentColor",fill:"#fff"}),h.default.createElement("ellipse",{stroke:"currentColor",ry:"26",rx:"26",cy:"252",cx:"84",fillOpacity:"null",strokeOpacity:"null",strokeWidth:"15",fill:"#fff"}),h.default.createElement("line",{y2:"201.94531",x2:"83.5",y1:"46.94531",x1:"83.5",fillOpacity:"null",strokeOpacity:"null",strokeWidth:"15",stroke:"currentColor",fill:"none"}),h.default.createElement("rect",{height:"27",width:"50",y:"79.7979",x:"57.5",fillOpacity:"null",strokeOpacity:"null",strokeWidth:"15",stroke:"currentColor",fill:"#fff"})));j.default=F},48649:function(X,j,L){"use strict";var M=this&&this.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(j,"__esModule",{value:!0});const h=M(L(28437)),F=b=>h.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",onClick:d=>b.onClick&&b.onClick(d),width:b.width||(b.fontSize==="small"?16:20),height:b.height||b.width||(b.fontSize==="small"?16:20),className:b.className,style:b.style},h.default.createElement("path",{fill:"currentColor",d:"M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48z"}));j.default=F},73367:function(X,j,L){"use strict";var M=this&&this.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(j,"__esModule",{value:!0});const h=M(L(28437)),F=b=>h.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",onClick:d=>b.onClick&&b.onClick(d),viewBox:"0 0 512 512",width:b.width||(b.fontSize==="small"?16:20),height:b.height||b.width||(b.fontSize==="small"?16:20),className:b.className,style:b.style},h.default.createElement("path",{fill:"currentColor",d:"M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48z"}),h.default.createElement("path",{fill:"currentColor",stroke:"null",d:"m261,270l-12,0l0,-24c0,-33.12 -26.88,-60 -60,-60s-60,26.88 -60,60l0,24l-12,0c-13.2,0 -24,10.8 -24,24l0,120c0,13.2 10.8,24 24,24l144,0c13.2,0 24,-10.8 24,-24l0,-120c0,-13.2 -10.8,-24 -24,-24zm-72,108c-13.2,0 -24,-10.8 -24,-24s10.8,-24 24,-24s24,10.8 24,24s-10.8,24 -24,24zm37.2,-108l-74.4,0l0,-24c0,-20.52 16.68,-37.2 37.2,-37.2c20.52,0 37.2,16.68 37.2,37.2l0,24z"}));j.default=F},56232:function(X,j,L){"use strict";var M=this&&this.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(j,"__esModule",{value:!0});const h=M(L(28437)),F=b=>h.default.createElement("svg",{onClick:d=>b.onClick&&b.onClick(d),viewBox:"0 0 486 486",width:b.width||(b.fontSize==="small"?16:20),height:b.height||b.width||(b.fontSize==="small"?16:20),xmlns:"http://www.w3.org/2000/svg",className:b.className,style:b.style},h.default.createElement("path",{fill:"currentColor",d:"m414.928297,149.715165 c-2.639376,-57.222555 -35.669446,-106.505345 -83.345894,-132.039151 c-3.758948,-2.049842 -7.636885,-3.932022 -11.590542,-5.641125 c-19.303146,-8.394083 -40.607459,-13.050853 -63.004303,-13.050853 c-84.113909,0 -152.791790,65.703174 -157.718988,148.605566 l0.043268,-0.010816 v0.281245 c0,3.061243 -0.146031,16.750306 -0.146031,16.750306 l-2.352723,5.224668 h15.744315 c5.916964,-19.384275 24.078904,-32.635245 45.513024,-32.635245 c26.231510,0 47.573684,21.915481 47.573684,48.146991 c0,26.226103 -21.342174,47.146409 -47.573684,47.146409 c-25.111939,0 -45.734774,-19.735831 -47.443879,-44.658471 h-18.789334 c-0.400232,0 -0.778832,0.638209 -1.162839,0.584122 l-19.762875,55.199753 c-2.774590,7.696379 2.926030,16.214860 11.103771,16.214860 h17.020735 l-0.129805,87.899899 c0,17.356066 14.073071,31.174935 31.429136,31.174935 h56.205745 v82.648189 c0,12.877778 12.937273,22.580734 25.815051,22.580734 h144.597825 c12.877778,0 23.429877,-9.702955 23.429877,-22.580734 v-166.037352 c0,-22.645636 5.976457,-44.761234 16.561008,-64.789128 c11.055093,-20.925714 17.523731,-44.620611 18.129489,-69.792045 c0.027042,-1.260193 0.037858,-2.552839 0.037858,-3.845485 c0,-2.466302 -0.070310,-4.938014 -0.183890,-7.377273 zm-155.393308,-11.731165 h-13.456494 v13.559257 c0,4.732489 -4.267352,8.567157 -8.999842,8.567157 c-4.727079,0 -8.999842,-3.834667 -8.999842,-8.567157 v-13.559257 h-12.185483 c-4.732489,0 -8.567157,-4.267352 -8.567157,-8.999842 c0,-4.727079 3.834667,-8.999842 8.567157,-8.999842 h12.185483 v-12.077311 c0,-4.732489 4.272762,-8.567157 8.999842,-8.567157 c4.732489,0 8.999842,3.834667 8.999842,8.567157 v12.077311 h13.456494 c4.727079,0 8.567157,4.272762 8.567157,8.999842 c0,4.732489 -3.840077,8.999842 -8.567157,8.999842 zm0,0"}),h.default.createElement("path",{fill:"currentColor",d:"m187.695312 285.875c3.9375-3.980469 6.414063-9.449219 6.414063-15.523438 0-12.128906-9.855469-21.980468-21.984375-21.980468-6.007812 0-11.472656 2.410156-15.457031 6.347656-4.023438 4.003906-6.523438 9.539062-6.523438 15.636719 0 12.125 9.855469 21.980469 21.980469 21.980469 6.078125 0 11.585938-2.476563 15.570312-6.460938zm0 0"}));j.default=F},23886:function(X,j,L){"use strict";var M=this&&this.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(j,"__esModule",{value:!0});const h=M(L(28437)),F=b=>h.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",onClick:d=>b.onClick&&b.onClick(d),viewBox:"0 0 95 95",width:b.width||(b.fontSize==="small"?16:20),height:b.height||b.width||(b.fontSize==="small"?16:20),className:b.className,style:b.style},h.default.createElement("path",{fill:"currentColor",d:`M93.779,63.676c-0.981-1.082-2.24-1.653-3.639-1.653c-1.145,0-3.953,0.396-5.318,4.062
        c-0.344,0.922-0.443,1.413-0.907,1.363c-0.786-0.078-3.845-3.346-4.845-8.145l-2.482-11.6c1.961-3.177,3.977-5.629,5.988-7.292
        c1.08-0.882,2.314-1.349,3.808-1.43c3.815-0.26,5.203-0.74,6.14-1.399c1.547-1.115,2.397-2.728,2.397-4.542
        c0-1.596-0.604-3.019-1.75-4.115c-1.106-1.059-2.581-1.618-4.26-1.618c-2.468,0-5.239,1.142-8.474,3.49
        c-1.91,1.388-3.935,3.406-6.121,6.111c-0.711-2.653-1.319-3.889-1.771-4.628c-1.396-2.303-3.664-2.303-4.41-2.303l-0.813,0.013
        l-23.045,0.544l1.297-5.506c0.828-3.593,1.915-6.436,3.226-8.45c0.638-0.98,1.614-2.148,2.638-2.148
        c0.387,0,1.152,0.063,2.582,0.36c3.978,0.86,5.465,0.959,6.239,0.959c1.708,0,3.21-0.571,4.347-1.651
        c1.176-1.119,1.797-2.583,1.797-4.233c0-1.29-0.424-3.156-2.445-4.722c-1.396-1.081-3.311-1.629-5.691-1.629
        c-3.568,0-7.349,1.141-11.241,3.39c-3.862,2.232-7.038,5.317-9.438,9.171c-2.105,3.379-3.929,8.124-5.555,14.459H21.877
        l-2.238,8.831h10.186l-7.74,31.116c-1.603,6.443-2.777,8.028-3.098,8.361c-0.875,0.904-2.68,1.094-4.04,1.094
        c-1.683,0-3.477-0.121-5.349-0.361c-1.286-0.157-2.265-0.234-2.991-0.234c-1.878,0-3.423,0.488-4.59,1.448
        C0.716,81.858,0,83.403,0,85.14c0,1.357,0.44,3.309,2.539,4.895c1.434,1.08,3.389,1.628,5.813,1.628
        c6.069,0,11.725-2.411,16.813-7.165c4.947-4.624,8.571-11.413,10.773-20.195l6.119-24.935l20.87,0.354l2.244,9.64l-4.573,6.748
        c-0.824,1.209-2.051,2.701-3.658,4.441c-0.84,0.92-1.398,1.426-1.721,1.689c-1.316-1.608-2.809-2.424-4.432-2.424
        c-1.525,0-2.91,0.625-4.002,1.804c-1.036,1.116-1.583,2.514-1.583,4.038c0,1.83,0.783,3.459,2.264,4.709
        c1.357,1.146,3.034,1.728,4.981,1.728c2.414,0,4.884-0.921,7.344-2.737c2.053-1.519,4.697-4.526,8.074-9.189
        c2.17,6.24,5.248,10.252,6.714,11.927c2.313,2.644,6.049,4.22,9.993,4.22c3.348,0,5.244-1.402,6.916-2.641l0.148-0.109
        c2.926-2.164,3.54-4.545,3.54-6.166C95.174,65.965,94.691,64.679,93.779,63.676z`}));j.default=F},38943:function(X,j,L){"use strict";var M=this&&this.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(j,"__esModule",{value:!0});const h=M(L(28437)),F=b=>h.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",onClick:d=>b.onClick&&b.onClick(d),viewBox:"0 0 512 512",width:b.width||(b.fontSize==="small"?16:20),height:b.height||b.width||(b.fontSize==="small"?16:20),className:b.className,style:b.style},h.default.createElement("path",{fill:"currentColor",d:"M448 0L320 96v62.06l-83.03 83.03c6.79 4.25 13.27 9.06 19.07 14.87 5.8 5.8 10.62 12.28 14.87 19.07L353.94 192H416l96-128-64-64zM128 278.59L10.92 395.67c-14.55 14.55-14.55 38.15 0 52.71l52.7 52.7c14.56 14.56 38.15 14.56 52.71 0L233.41 384c29.11-29.11 29.11-76.3 0-105.41s-76.3-29.11-105.41 0z"}));j.default=F},94038:function(X,j,L){"use strict";var M=this&&this.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(j,"__esModule",{value:!0});const h=M(L(28437)),F=b=>h.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",onClick:d=>b.onClick&&b.onClick(d),viewBox:"0 0 512 512",width:b.width||(b.fontSize==="small"?16:20),height:b.height||b.width||(b.fontSize==="small"?16:20),className:b.className,style:b.style},h.default.createElement("path",{fill:"currentColor",d:"M510.371,226.513c-1.088-2.603-2.645-4.971-4.629-6.955l-63.979-63.979c-8.341-8.32-21.824-8.32-30.165,0 c-8.341,8.341-8.341,21.845,0,30.165l27.584,27.584H320.013c-11.797,0-21.333,9.557-21.333,21.333s9.536,21.333,21.333,21.333 h119.168l-27.584,27.584c-8.341,8.341-8.341,21.845,0,30.165c4.16,4.181,9.621,6.251,15.083,6.251s10.923-2.069,15.083-6.251 l63.979-63.979c1.984-1.963,3.541-4.331,4.629-6.955C512.525,237.606,512.525,231.718,510.371,226.513z"}),h.default.createElement("path",{fill:"currentColor",d:`M362.68,298.667c-11.797,0-21.333,9.557-21.333,21.333v106.667h-85.333V85.333c0-9.408-6.187-17.728-15.211-20.437
        l-74.091-22.229h174.635v106.667c0,11.776,9.536,21.333,21.333,21.333s21.333-9.557,21.333-21.333v-128
        C384.013,9.557,374.477,0,362.68,0H21.347c-0.768,0-1.451,0.32-2.197,0.405c-1.003,0.107-1.92,0.277-2.88,0.512
        c-2.24,0.576-4.267,1.451-6.165,2.645c-0.469,0.299-1.045,0.32-1.493,0.661C8.44,4.352,8.376,4.587,8.205,4.715
        C5.88,6.549,3.939,8.789,2.531,11.456c-0.299,0.576-0.363,1.195-0.597,1.792c-0.683,1.621-1.429,3.2-1.685,4.992
        c-0.107,0.64,0.085,1.237,0.064,1.856c-0.021,0.427-0.299,0.811-0.299,1.237V448c0,10.176,7.189,18.923,17.152,20.907
        l213.333,42.667c1.387,0.299,2.795,0.427,4.181,0.427c4.885,0,9.685-1.685,13.525-4.843c4.928-4.053,7.808-10.091,7.808-16.491
        v-21.333H362.68c11.797,0,21.333-9.557,21.333-21.333V320C384.013,308.224,374.477,298.667,362.68,298.667z`}));j.default=F},71778:function(X,j,L){"use strict";var M=this&&this.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(j,"__esModule",{value:!0});const h=M(L(28437)),F=b=>h.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",onClick:d=>b.onClick&&b.onClick(d),viewBox:"0 0 512 512",width:b.width||(b.fontSize==="small"?16:20),height:b.height||b.width||(b.fontSize==="small"?16:20),className:b.className,style:b.style},h.default.createElement("path",{fill:"#EE3333",d:"M256,0C114.844,0,0,114.844,0,256s114.844,256,256,256s256-114.844,256-256S397.156,0,256,0z M256,448 c-105.865,0-192-86.135-192-192c0-40.406,12.25-78.604,35.542-111.198l267.656,267.656C334.604,435.75,296.406,448,256,448z M412.458,367.198L144.802,99.542C177.396,76.25,215.594,64,256,64c105.865,0,192,86.135,192,192 C448,296.406,435.75,334.604,412.458,367.198z"}));j.default=F},20340:function(X,j,L){"use strict";var M=this&&this.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(j,"__esModule",{value:!0});const h=M(L(28437)),F=b=>h.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",onClick:d=>b.onClick&&b.onClick(d),viewBox:"0 0 650 512",width:b.width||(b.fontSize==="small"?16:20),height:b.height||b.width||(b.fontSize==="small"?16:20),className:b.className,style:b.style},h.default.createElement("path",{fill:"currentColor",d:"M572.694 292.093L500.27 416.248A63.997 63.997 0 0 1 444.989 448H45.025c-18.523 0-30.064-20.093-20.731-36.093l72.424-124.155A64 64 0 0 1 152 256h399.964c18.523 0 30.064 20.093 20.73 36.093zM152 224h328v-48c0-26.51-21.49-48-48-48H272l-64-64H48C21.49 64 0 85.49 0 112v278.046l69.077-118.418C86.214 242.25 117.989 224 152 224z"}));j.default=F},9979:function(X,j,L){"use strict";var M=this&&this.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(j,"__esModule",{value:!0});const h=M(L(28437)),F=b=>h.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",onClick:d=>b.onClick&&b.onClick(d),viewBox:"0 0 320 320",width:b.width||(b.fontSize==="small"?16:20),height:b.height||b.width||(b.fontSize==="small"?16:20),className:b.className,style:b.style},h.default.createElement("rect",{fill:"none",rx:"32",height:"272",width:"267",y:"25",x:"25",strokeWidth:"15",stroke:"currentColor"}),h.default.createElement("ellipse",{fill:"none",ry:"54",rx:"54",cy:"160",cx:"160",fillOpacity:"null",strokeOpacity:"null",strokeWidth:"15",stroke:"currentColor"}));j.default=F},64620:function(X,j,L){"use strict";var M=this&&this.__createBinding||(Object.create?function(cn,pe,$,H){H===void 0&&(H=$);var G=Object.getOwnPropertyDescriptor(pe,$);(!G||("get"in G?!pe.__esModule:G.writable||G.configurable))&&(G={enumerable:!0,get:function(){return pe[$]}}),Object.defineProperty(cn,H,G)}:function(cn,pe,$,H){H===void 0&&(H=$),cn[H]=pe[$]}),h=this&&this.__exportStar||function(cn,pe){for(var $ in cn)$!=="default"&&!Object.prototype.hasOwnProperty.call(pe,$)&&M(pe,cn,$)},F=this&&this.__importDefault||function(cn){return cn&&cn.__esModule?cn:{default:cn}};Object.defineProperty(j,"__esModule",{value:!0}),j.IconOpen=j.IconLogout=j.IconInstance=j.IconFx=j.IconExpert=j.IconDocument=j.IconDevice=j.IconCopy=j.IconClosed=j.IconChannel=j.IconAlias=j.IconAdapter=j.JsonConfigComponent=j.LoaderMV=j.LoaderPT=j.LoaderVendor=j.SimpleCron=j.withWidth=j.Utils=j.UploadImage=j.TreeTable=j.ToggleThemeMenu=j.TextWithIcon=j.TableResize=j.TabHeader=j.TabContent=j.TabContainer=j.SelectWithIcon=j.Schedule=j.SaveCloseButtons=j.Router=j.ObjectBrowser=j.MDUtils=j.Logo=j.Loader=j.Image=j.IconSelector=j.IconPicker=j.Icon=j.FileViewer=j.FileBrowser=j.CustomModal=j.copy=j.ComplexCron=j.ColorPicker=j.Prompt=j.I18n=j.i18n=j.GenericApp=j.Theme=void 0,j.LegacyConnection=j.AdminConnection=j.PROGRESS=j.Connection=j.ConfigGeneric=j.TextInput=j.SimpleCronDialog=j.SelectFile=j.SelectID=j.Message=j.Error=j.Cron=j.Confirm=j.ComplexCronDialog=j.IconClearFilter=j.IconDocumentReadOnly=j.IconNoIcon=j.IconState=void 0;var b=L(86465);Object.defineProperty(j,"Theme",{enumerable:!0,get:function(){return F(b).default}}),h(L(86465),j);var d=L(65262);Object.defineProperty(j,"GenericApp",{enumerable:!0,get:function(){return F(d).default}});var D=L(42854);Object.defineProperty(j,"i18n",{enumerable:!0,get:function(){return F(D).default}});var r=L(42854);Object.defineProperty(j,"I18n",{enumerable:!0,get:function(){return F(r).default}}),h(L(42854),j);var e=L(84380);Object.defineProperty(j,"Prompt",{enumerable:!0,get:function(){return F(e).default}}),h(L(84380),j);var s=L(10712);Object.defineProperty(j,"ColorPicker",{enumerable:!0,get:function(){return F(s).default}}),h(L(10712),j);var t=L(43021);Object.defineProperty(j,"ComplexCron",{enumerable:!0,get:function(){return F(t).default}}),h(L(43021),j);var i=L(62023);Object.defineProperty(j,"copy",{enumerable:!0,get:function(){return F(i).default}});var n=L(93497);Object.defineProperty(j,"CustomModal",{enumerable:!0,get:function(){return F(n).default}}),h(L(93497),j);var o=L(10927);Object.defineProperty(j,"FileBrowser",{enumerable:!0,get:function(){return F(o).default}}),h(L(10927),j);var c=L(83221);Object.defineProperty(j,"FileViewer",{enumerable:!0,get:function(){return F(c).default}}),h(L(83221),j);var p=L(82216);Object.defineProperty(j,"Icon",{enumerable:!0,get:function(){return F(p).default}}),h(L(82216),j);var w=L(80754);Object.defineProperty(j,"IconPicker",{enumerable:!0,get:function(){return F(w).default}}),h(L(80754),j);var E=L(99405);Object.defineProperty(j,"IconSelector",{enumerable:!0,get:function(){return F(E).default}}),h(L(99405),j);var k=L(87008);Object.defineProperty(j,"Image",{enumerable:!0,get:function(){return F(k).default}}),h(L(87008),j);var f=L(59434);Object.defineProperty(j,"Loader",{enumerable:!0,get:function(){return F(f).default}}),h(L(59434),j);var C=L(99650);Object.defineProperty(j,"Logo",{enumerable:!0,get:function(){return F(C).default}}),h(L(99650),j);var g=L(96295);Object.defineProperty(j,"MDUtils",{enumerable:!0,get:function(){return F(g).default}}),h(L(96295),j);var m=L(59076);Object.defineProperty(j,"ObjectBrowser",{enumerable:!0,get:function(){return F(m).default}}),h(L(59076),j);var S=L(67220);Object.defineProperty(j,"Router",{enumerable:!0,get:function(){return F(S).default}}),h(L(67220),j);var A=L(80317);Object.defineProperty(j,"SaveCloseButtons",{enumerable:!0,get:function(){return F(A).default}}),h(L(80317),j);var R=L(93312);Object.defineProperty(j,"Schedule",{enumerable:!0,get:function(){return F(R).default}}),h(L(93312),j);var P=L(22980);Object.defineProperty(j,"SelectWithIcon",{enumerable:!0,get:function(){return F(P).default}}),h(L(22980),j);var W=L(32199);Object.defineProperty(j,"TabContainer",{enumerable:!0,get:function(){return F(W).default}}),h(L(32199),j);var _=L(71277);Object.defineProperty(j,"TabContent",{enumerable:!0,get:function(){return F(_).default}}),h(L(71277),j);var T=L(56295);Object.defineProperty(j,"TabHeader",{enumerable:!0,get:function(){return F(T).default}}),h(L(56295),j);var N=L(57449);Object.defineProperty(j,"TableResize",{enumerable:!0,get:function(){return F(N).default}}),h(L(57449),j);var V=L(49251);Object.defineProperty(j,"TextWithIcon",{enumerable:!0,get:function(){return F(V).default}}),h(L(49251),j);var K=L(98511);Object.defineProperty(j,"ToggleThemeMenu",{enumerable:!0,get:function(){return F(K).default}}),h(L(98511),j);var I=L(25713);Object.defineProperty(j,"TreeTable",{enumerable:!0,get:function(){return F(I).default}}),h(L(25713),j);var q=L(28047);Object.defineProperty(j,"UploadImage",{enumerable:!0,get:function(){return F(q).default}}),h(L(28047),j);var U=L(96808);Object.defineProperty(j,"Utils",{enumerable:!0,get:function(){return F(U).default}}),h(L(96808),j);var J=L(13129);Object.defineProperty(j,"withWidth",{enumerable:!0,get:function(){return F(J).default}}),h(L(13129),j);var Q=L(87784);Object.defineProperty(j,"SimpleCron",{enumerable:!0,get:function(){return F(Q).default}}),h(L(87784),j);var ee=L(26834);Object.defineProperty(j,"LoaderVendor",{enumerable:!0,get:function(){return F(ee).default}}),h(L(26834),j);var se=L(61996);Object.defineProperty(j,"LoaderPT",{enumerable:!0,get:function(){return F(se).default}}),h(L(61996),j);var ue=L(30523);Object.defineProperty(j,"LoaderMV",{enumerable:!0,get:function(){return F(ue).default}}),h(L(30523),j);var xe=L(74475);Object.defineProperty(j,"JsonConfigComponent",{enumerable:!0,get:function(){return xe.JsonConfigComponent}});var _e=L(19309);Object.defineProperty(j,"IconAdapter",{enumerable:!0,get:function(){return F(_e).default}}),h(L(19309),j);var Je=L(89646);Object.defineProperty(j,"IconAlias",{enumerable:!0,get:function(){return F(Je).default}}),h(L(89646),j);var Be=L(29221);Object.defineProperty(j,"IconChannel",{enumerable:!0,get:function(){return F(Be).default}}),h(L(29221),j);var He=L(57572);Object.defineProperty(j,"IconClosed",{enumerable:!0,get:function(){return F(He).default}}),h(L(57572),j);var Xe=L(74229);Object.defineProperty(j,"IconCopy",{enumerable:!0,get:function(){return F(Xe).default}}),h(L(74229),j);var Ue=L(25714);Object.defineProperty(j,"IconDevice",{enumerable:!0,get:function(){return F(Ue).default}}),h(L(25714),j);var rt=L(48649);Object.defineProperty(j,"IconDocument",{enumerable:!0,get:function(){return F(rt).default}}),h(L(48649),j);var St=L(56232);Object.defineProperty(j,"IconExpert",{enumerable:!0,get:function(){return F(St).default}}),h(L(56232),j);var kt=L(23886);Object.defineProperty(j,"IconFx",{enumerable:!0,get:function(){return F(kt).default}}),h(L(23886),j);var It=L(38943);Object.defineProperty(j,"IconInstance",{enumerable:!0,get:function(){return F(It).default}}),h(L(38943),j);var zt=L(94038);Object.defineProperty(j,"IconLogout",{enumerable:!0,get:function(){return F(zt).default}}),h(L(94038),j);var Xt=L(20340);Object.defineProperty(j,"IconOpen",{enumerable:!0,get:function(){return F(Xt).default}}),h(L(20340),j);var on=L(9979);Object.defineProperty(j,"IconState",{enumerable:!0,get:function(){return F(on).default}}),h(L(9979),j);var Jt=L(71778);Object.defineProperty(j,"IconNoIcon",{enumerable:!0,get:function(){return F(Jt).default}}),h(L(71778),j);var tn=L(73367);Object.defineProperty(j,"IconDocumentReadOnly",{enumerable:!0,get:function(){return F(tn).default}}),h(L(73367),j);var rn=L(4769);Object.defineProperty(j,"IconClearFilter",{enumerable:!0,get:function(){return F(rn).default}}),h(L(4769),j);var Cn=L(59170);Object.defineProperty(j,"ComplexCronDialog",{enumerable:!0,get:function(){return F(Cn).default}}),h(L(59170),j);var Tn=L(15090);Object.defineProperty(j,"Confirm",{enumerable:!0,get:function(){return F(Tn).default}}),h(L(15090),j);var Rt=L(78200);Object.defineProperty(j,"Cron",{enumerable:!0,get:function(){return F(Rt).default}}),h(L(78200),j);var Ae=L(74732);Object.defineProperty(j,"Error",{enumerable:!0,get:function(){return F(Ae).default}}),h(L(74732),j);var pt=L(26393);Object.defineProperty(j,"Message",{enumerable:!0,get:function(){return F(pt).default}}),h(L(26393),j);var mt=L(38389);Object.defineProperty(j,"SelectID",{enumerable:!0,get:function(){return F(mt).default}}),h(L(38389),j);var lt=L(14874);Object.defineProperty(j,"SelectFile",{enumerable:!0,get:function(){return F(lt).default}}),h(L(14874),j);var Bt=L(4930);Object.defineProperty(j,"SimpleCronDialog",{enumerable:!0,get:function(){return F(Bt).default}}),h(L(4930),j);var Gt=L(30819);Object.defineProperty(j,"TextInput",{enumerable:!0,get:function(){return F(Gt).default}}),h(L(30819),j);var Oe=L(74475);Object.defineProperty(j,"ConfigGeneric",{enumerable:!0,get:function(){return Oe.ConfigGeneric}});var nn=L(3774);Object.defineProperty(j,"Connection",{enumerable:!0,get:function(){return F(nn).default}}),h(L(3774),j);var dt=L(3774);Object.defineProperty(j,"PROGRESS",{enumerable:!0,get:function(){return dt.PROGRESS}});var Wt=L(58263);Object.defineProperty(j,"AdminConnection",{enumerable:!0,get:function(){return F(Wt).default}}),h(L(58263),j);var an=L(38953);Object.defineProperty(j,"LegacyConnection",{enumerable:!0,get:function(){return F(an).default}})},74475:(X,j,L)=>{"use strict";L.r(j),L.d(j,{ConfigGeneric:()=>f,ConfigPanel:()=>es,JsonConfig:()=>ff,JsonConfigComponent:()=>xs,JsonConfigComponentClass:()=>Wo});var M=L(28437),h=L.n(M),F=L(70143),b=L(85589),d=L.n(b),D=L(91778),r=L.n(D),e=L(67085),s=L(21839),t=L(46768);const i="material",n=["Su","Mo","Tu","We","Th","Fr","Sa"],o=["Jan","Feb","Mar","Apr","Mai","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],c={0:"0x00 - good",1:"0x01 - general problem",2:"0x02 - no connection problem",16:"0x10 - substitute value from controller",32:"0x20 - substitute initial value",64:"0x40 - substitute value from device or instance",128:"0x80 - substitute value from sensor",17:"0x11 - general problem by instance",65:"0x41 - general problem by device",129:"0x81 - general problem by sensor",18:"0x12 - instance not connected",66:"0x42 - device not connected",130:"0x82 - sensor not connected",68:"0x44 - device reports error",132:"0x84 - sensor reports error"},p={JVBERi0:"pdf",R0lGODdh:"gif",R0lGODlh:"gif",iVBORw0KGgo:"png","/9j/":"jpg",PHN2Zw:"svg",Qk1:"bmp",AAABAA:"ico"},gn=class gn{static CapitalWords(a){return(a||"").split(/[\s_]/).filter(l=>l).map(l=>l?l[0].toUpperCase()+l.substring(1).toLowerCase():"").join(" ")}static formatSeconds(a){const l=Math.floor(a/86400);a%=3600*24;let u=Math.floor(a/3600);u<10&&(u=`0${u}`),a%=3600;let v=Math.floor(a/60);v<10&&(v=`0${v}`),a%=60,a=Math.floor(a),a<10&&(a=`0${a}`);let x="";return l&&(x+=`${l} ${t.I18n.t("ra_daysShortText")} `),x+=`${u}:${v}:${a}`,x}static getObjectName(a,l,u,v,x){const O=a[l];let B;const z=x?"desc":"name";if(typeof u=="string"&&!v&&(v={language:u},u=null),v=v||{},v.language||(v.language=a["system.config"]&&a["system.config"].common&&a["system.config"].common.language||window.sysLang||"en"),u&&u.name)B=u.name,typeof B=="object"&&(B=B[v.language]||B.en);else if(O&&O.common&&O.common[z])B=O.common[z],z!=="desc"&&!B&&O.common.desc&&(B=O.common.desc),typeof B=="object"&&(B=B[v.language]||B.en||B.de||B.ru||""),B=(B||"").toString().replace(/[_.]/g," "),B===B.toUpperCase()&&(B=B[0]+B.substring(1).toLowerCase());else{const Y=l.lastIndexOf(".");B=l.substring(Y+1).replace(/[_.]/g," "),B=gn.CapitalWords(B)}return B.trim()}static getObjectNameFromObj(a,l,u,v,x){const O=a;let B=a&&a._id||"";const z=v?"desc":"name";return typeof l=="string"&&!u&&(u={language:l},l=null),u=u||{},l&&l.name?(B=l.name,typeof B=="object"&&(B=B[u.language]||B.en)):O&&O.common&&O.common[z]&&(B=O.common[z],z!=="desc"&&!B&&O.common.desc&&(B=O.common.desc),typeof B=="object"&&(B=B[u.language]||B.en),B=(B||"").toString().replace(/[_.]/g," "),B===B.toUpperCase()&&(B=B[0]+B.substring(1).toLowerCase())),x?B:B.trim()}static getSettingsOrder(a,l,u){a&&Object.prototype.hasOwnProperty.call(a,"common")&&(a=a.common);let v;if(a&&a.custom){v=(a.custom||{})[i];const x=u.user||"admin";if(v&&v[x]){if(l){if(v[x].subOrder&&v[x].subOrder[l])return JSON.parse(JSON.stringify(v[x].subOrder[l]))}else if(v[x].order)return JSON.parse(JSON.stringify(v[x].order))}}return null}static getSettingsCustomURLs(a,l,u){a&&Object.prototype.hasOwnProperty.call(a,"common")&&(a=a.common);let v;if(a&&a.custom){v=(a.custom||{})[i];const x=u.user||"admin";if(v&&v[x]){if(l){if(v[x].subURLs&&v[x].subURLs[l])return JSON.parse(JSON.stringify(v[x].subURLs[l]))}else if(v[x].URLs)return JSON.parse(JSON.stringify(v[x].URLs))}}return null}static reorder(a,l,u){const v=Array.from(a),[x]=v.splice(l,1);return v.splice(u,0,x),v}static getSettings(a,l,u){let v;const x=a&&a._id||l&&l.id;if(a&&Object.prototype.hasOwnProperty.call(a,"common")&&(a=a.common),a!=null&&a.custom?(v=a.custom,v=v[i]&&v[i][l.user||"admin"]?JSON.parse(JSON.stringify(v[i][l.user||"admin"])):{enabled:!0}):v={enabled:u===void 0?!0:u,useCustom:!1},Object.prototype.hasOwnProperty.call(v,"enabled")||(v.enabled=u===void 0?!0:u),l&&(!v.name&&l.name&&(v.name=l.name),!v.icon&&l.icon&&(v.icon=l.icon),!v.color&&l.color&&(v.color=l.color)),a&&(!v.color&&a.color&&(v.color=a.color),!v.icon&&a.icon&&(v.icon=a.icon),!v.name&&a.name&&(v.name=a.name)),typeof v.name=="object"&&(v.name=v.name[l.language]||v.name.en,v.name=(v.name||"").toString().replace(/_/g," "),v.name===v.name.toUpperCase()&&(v.name=v.name[0]+v.name.substring(1).toLowerCase())),!v.name&&x){const O=x.lastIndexOf(".");v.name=x.substring(O+1).replace(/[_.]/g," "),v.name=(v.name||"").toString().replace(/_/g," "),v.name=gn.CapitalWords(v.name)}return v}static setSettings(a,l,u){if(a){a.common=a.common||{},a.common.custom=a.common.custom||{},a.common.custom[i]=a.common.custom[i]||{},a.common.custom[i][u.user||"admin"]=l;const v=a.common.custom[i][u.user||"admin"];return v.useCommon&&(v.color!==void 0&&(a.common.color=v.color,delete v.color),v.icon!==void 0&&(a.common.icon=v.icon,delete v.icon),v.name!==void 0&&(typeof a.common.name!="object"&&(a.common.name={}),a.common.name[u.language]=v.name,delete v.name)),!0}return!1}static getIcon(a,l){return a&&a.icon?a.icon.length<=2?h().createElement("span",{style:l||{}},a.icon):a.icon.startsWith("data:image")?h().createElement("img",{alt:a.name,src:a.icon,style:l||{}}):h().createElement("img",{alt:a.name,src:(a.prefix||"")+a.icon,style:l||{}}):null}static getObjectIcon(a,l){if(typeof a=="object"&&(l=a,a=l._id),l&&l.common&&l.common.icon){let u=l.common.icon;if(typeof u=="string"&&u.length<=2||u.startsWith("data:image"))return u;const v=a.split(".");return v[0]==="system"?u=`adapter/${v[2]}${u.startsWith("/")?"":"/"}${u}`:u=`adapter/${v[0]}${u.startsWith("/")?"":"/"}${u}`,window.location.pathname.match(/adapter\/[^/]+\/[^/]+\.html/)?u=`../../${u}`:window.location.pathname.match(/material\/[.\d]+/)?u=`../../${u}`:window.location.pathname.match(/material\//)&&(u=`../${u}`),u}return null}static splitCamelCase(a){return gn.CapitalWords(a)}static isUseBright(a,l){if(a==null||a==="")return l===void 0?!0:l;a=a.toString(),a.startsWith("#")&&(a=a.slice(1));let u,v,x;const O=a.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i);if(O&&O.length===4)u=parseInt(O[1],10),v=parseInt(O[2],10),x=parseInt(O[3],10);else{if(a.length===3&&(a=a[0]+a[0]+a[1]+a[1]+a[2]+a[2]),a.length===8)a=a.substring(0,6);else if(a.length!==6)return!1;u=parseInt(a.slice(0,2),16),v=parseInt(a.slice(2,4),16),x=parseInt(a.slice(4,6),16)}return u*.299+v*.587+x*.114<=186}static getTimeString(a){if(a=parseFloat(a),Number.isNaN(a))return"--:--";const l=Math.floor(a/3600);let u=Math.floor(a%3600/60),v=a%60;return l?(u<10&&(u=`0${u}`),v<10&&(v=`0${v}`),`${l}:${u}:${v}`):(v<10&&(v=`0${v}`),`${u}:${v}`)}static getWindDirection(a){return a>=0&&a<11.25?"N":a>=11.25&&a<33.75?"NNE":a>=33.75&&a<56.25?"NE":a>=56.25&&a<78.75?"ENE":a>=78.75&&a<101.25?"E":a>=101.25&&a<123.75?"ESE":a>=123.75&&a<146.25?"SE":a>=146.25&&a<168.75?"SSE":a>=168.75&&a<191.25?"S":a>=191.25&&a<213.75?"SSW":a>=213.75&&a<236.25?"SW":a>=236.25&&a<258.75?"WSW":a>=258.75&&a<281.25?"W":a>=281.25&&a<303.75?"WNW":a>=303.75&&a<326.25?"NW":a>=326.25&&a<348.75?"NNW":"N"}static padding(a){return typeof a=="string"?a.length<2?`0${a}`:a:a<10?`0${a}`:a}static setDataFormat(a){a&&(gn.dateFormat=a.toUpperCase().split(/[.-/]/),gn.dateFormat.splice(gn.dateFormat.indexOf("YYYY"),1))}static date2string(a){if(typeof a=="string"){if(a=a.trim(),!a)return"";if(a.match(/^[\w\s]+$/))return a;const u=a.match(/(\d{1,4})[-./](\d{1,2})[-./](\d{1,4})/);if(u){const v=[parseInt(u[1],10),parseInt(u[2],10),parseInt(u[3],10)],x=v.find(B=>B>31);v.splice(v.indexOf(x),1);const O=v.find(B=>B>12);O?(v.splice(v.indexOf(O),1),a=new Date(x,v[0]-1,O)):gn.dateFormat[0][0]==="M"&&gn.dateFormat[1][0]==="D"?(a=new Date(x,v[0]-1,v[1]),Math.abs(a.getTime-Date.now())>36e5*24*10&&(a=new Date(x,v[1]-1,v[0]))):gn.dateFormat[0][0]==="D"&&gn.dateFormat[1][0]==="M"?(a=new Date(x,v[1]-1,v[0]),Math.abs(a.getTime-Date.now())>36e5*24*10&&(a=new Date(x,v[0]-1,v[1]))):a=new Date(a)}else a=new Date(a)}else a=new Date(a);let l=t.I18n.t(`ra_dow_${n[a.getDay()]}`).replace("ra_dow_","");return l+=`. ${a.getDate()} ${t.I18n.t(`ra_month_${o[a.getMonth()]}`).replace("ra_month_","")}`,l}static renderTextWithA(a){let l=a.match(/<a [^<]+<\/a>|<br\/?>|<b>[^<]+<\/b>|<i>[^<]+<\/i>/);if(l){const u=[];let v=1;do{const x=a.substring(0,l.index);if(a=a.substring(l.index+l[0].length),x&&u.push(h().createElement("span",{key:`a${v++}`},x)),l[0].startsWith("<b>"))u.push(h().createElement("b",{key:`a${v++}`},l[0].substring(3,l[0].length-4)));else if(l[0].startsWith("<i>"))u.push(h().createElement("i",{key:`a${v++}`},l[0].substring(3,l[0].length-4)));else if(l[0].startsWith("<br"))u.push(h().createElement("br",{key:`a${v++}`}));else{const O=l[0].match(/href="([^"]+)"/)||l[0].match(/href='([^']+)'/),B=l[0].match(/target="([^"]+)"/)||l[0].match(/target='([^']+)'/),z=l[0].match(/rel="([^"]+)"/)||l[0].match(/rel='([^']+)'/),Y=l[0].match(/>([^<]*)</);u.push(h().createElement("a",{key:`a${v++}`,href:O?O[1]:"",target:B?B[1]:"_blank",rel:z?z[1]:"",style:{color:"inherit"}},Y?Y[1]:""))}l=a&&a.match(/<a [^<]+<\/a>|<br\/?>|<b>[^<]+<\/b>|<i>[^<]+<\/i>/),l||a&&u.push(h().createElement("span",{key:`a${v++}`},a))}while(l);return u}return a}static getSmartName(a,l,u,v){var x,O;return l?v?a[l]&&((O=a[l].common)!=null&&O.custom)&&a[l].common.custom[u]&&a[l].common.custom[u].smartName||null:a[l].common.smartName:v?a&&!a.common?a.smartName:(x=a==null?void 0:a.common)!=null&&x.custom&&a.common.custom[u]?a.common.custom[u].smartName:void 0:!a.common||a&&!a.common?a.smartName:a.common.smartName}static getSmartNameFromObj(a,l,u){var v;return u?a&&!a.common?a.smartName:(v=a==null?void 0:a.common)!=null&&v.custom&&a.common.custom[l]?a.common.custom[l].smartName:void 0:!a.common||a&&!a.common?a.smartName:a.common.smartName}static enableSmartName(a,l,u){u?(a.common.custom=a.common.custom||{},a.common.custom[l]=a.common.custom[l]||{},a.common.custom[l].smartName={}):a.common.smartName={}}static removeSmartName(a,l,u){u?a.common&&a.common.custom&&a.common.custom[l]&&(a.common.custom[l]=null):a.common.smartName=null}static updateSmartName(a,l,u,v,x,O){const B=t.I18n.getLanguage();if(typeof a.common.smartName=="string"){const z=a.common.smartName;a.common.smartName={},a.common.smartName[B]=z}if(a.native&&a.native.byON){delete a.native.byON;let z=a.common.smartName;(!z||typeof z!="object")&&(z={en:z},z[B]=z.en),a.common.smartName=z}if(v!==void 0&&(O?(a.common.custom=a.common.custom||{},a.common.custom[x]=a.common.custom[x]||{},a.common.custom[x].smartName=a.common.custom[x].smartName||{},v?a.common.custom[x].smartName.smartType=v:delete a.common.custom[x].smartName.smartType):(a.common.smartName=a.common.smartName||{},v?a.common.smartName.smartType=v:delete a.common.smartName.smartType)),u!==void 0&&(O?(a.common.custom=a.common.custom||{},a.common.custom[x]=a.common.custom[x]||{},a.common.custom[x].smartName=a.common.custom[x].smartName||{},a.common.custom[x].smartName.byON=u):(a.common.smartName=a.common.smartName||{},a.common.smartName.byON=u)),l!==void 0){let z;if(O?(a.common.custom=a.common.custom||{},a.common.custom[x]=a.common.custom[x]||{},a.common.custom[x].smartName=a.common.custom[x].smartName||{},z=a.common.custom[x].smartName):(a.common.smartName=a.common.smartName||{},z=a.common.smartName),z[B]=l,z&&(!z[B]||z[B]===a.common.name&&(!a.common.role||a.common.role.includes("button")))){delete z[B];let Y=!0;for(const te in z)if(Object.prototype.hasOwnProperty.call(z,te)){Y=!1;break}Y&&(O?a.common.custom[x].smartName.byON===void 0?delete a.common.custom[x]:(delete a.common.custom[x].en,delete a.common.custom[x].de,delete a.common.custom[x].ru,delete a.common.custom[x].nl,delete a.common.custom[x].pl,delete a.common.custom[x].it,delete a.common.custom[x].fr,delete a.common.custom[x].pt,delete a.common.custom[x].es,delete a.common.custom[x].uk,delete a.common.custom[x]["zh-cn"]):a.common.smartName.byON!==void 0?(delete a.common.smartName.en,delete a.common.smartName.de,delete a.common.smartName.ru,delete a.common.smartName.nl,delete a.common.smartName.pl,delete a.common.smartName.it,delete a.common.smartName.fr,delete a.common.smartName.pt,delete a.common.smartName.es,delete a.common.smartName.uk,delete a.common.smartName["zh-cn"]):a.common.smartName=null)}}}static disableSmartName(a,l,u){u?(a.common.custom=a.common.custom||{},a.common.custom[l]=a.common.custom[l]||{},a.common.custom[l].smartName=!1):a.common.smartName=!1}static copyToClipboard(a,l){return l&&l.stopPropagation(),l&&l.preventDefault(),t.Utils.copyToClipboard(a)}static getFileExtension(a){const l=(a||"").lastIndexOf(".");return l!==-1?a.substring(l+1).toLowerCase():null}static formatBytes(a){if(Math.abs(a)<1024)return`${a} B`;const l=["KB","MB","GB"];let u=-1;do a/=1024,++u;while(Math.abs(a)>=1024&&u<l.length-1);return`${a.toFixed(1)} ${l[u]}`}static getInvertedColor(a,l,u){if(!a)return;const v=gn.invertColor(a,!0);if(v==="#FFFFFF"&&(l==="dark"||u&&l==="light"))return"#DDD";if(v==="#000000"&&(l==="light"||u&&l==="dark"))return"#222"}static invertColor(a,l){if(a==null||a===""||typeof a!="string")return"";if(a.startsWith("rgba")){const B=a.match(/rgba?\((\d+),\s*(\d+),\s*(\d+),\s*([.\d]+)\)/);B&&(a=parseInt(B[1],10).toString(16).padStart(2,"0")+parseInt(B[2],10).toString(16).padStart(2,"0")+parseInt(B[2],10).toString(16).padStart(2,"0"))}else if(a.startsWith("rgb")){const B=a.match(/rgb?\((\d+),\s*(\d+),\s*(\d+)\)/);B&&(a=parseInt(B[1],10).toString(16).padStart(2,"0")+parseInt(B[2],10).toString(16).padStart(2,"0")+parseInt(B[2],10).toString(16).padStart(2,"0"))}else a.startsWith("#")&&(a=a.slice(1));a.length===3&&(a=a[0]+a[0]+a[1]+a[1]+a[2]+a[2]);let u=null;if(a.length===8)u=a.substring(6,8),a=a.substring(0,6);else if(a.length!==6)return console.warn(`Cannot invert color: ${a}`),a;let v=parseInt(a.slice(0,2),16),x=parseInt(a.slice(2,4),16),O=parseInt(a.slice(4,6),16);return l?v*.299+x*.587+O*.114>186?`#000000${u||""}`:`#FFFFFF${u||""}`:(v=(255-v).toString(16),x=(255-x).toString(16),O=(255-O).toString(16),`#${v.padStart(2,"0")}${x.padStart(2,"0")}${O.padStart(2,"0")}${u||""}`)}static color2rgb(a){if(a==null||a===""||typeof a!="string")return"";if(a.startsWith("rgba")){const l=a.match(/rgba?\((\d+),\s*(\d+),\s*(\d+),\s*([.\d]+)\)/);l&&(a=parseInt(l[1],10).toString(16).padStart(2,"0")+parseInt(l[2],10).toString(16).padStart(2,"0")+parseInt(l[2],10).toString(16).padStart(2,"0"))}else if(a.startsWith("rgb")){const l=a.match(/rgb?\((\d+),\s*(\d+),\s*(\d+)\)/);l&&(a=parseInt(l[1],10).toString(16).padStart(2,"0")+parseInt(l[2],10).toString(16).padStart(2,"0")+parseInt(l[2],10).toString(16).padStart(2,"0"))}else a.startsWith("#")&&(a=a.slice(1));return a.length===3&&(a=a[0]+a[0]+a[1]+a[1]+a[2]+a[2]),a.length!==6&&a.length!==8?(console.warn(`Cannot invert color: ${a}`),!1):[parseInt(a.slice(0,2),16),parseInt(a.slice(2,4),16),parseInt(a.slice(4,6),16)]}static rgb2lab(a){let l=a[0]/255,u=a[1]/255,v=a[2]/255;l=l>.04045?fi((l+.055)/1.055,2.4):l/12.92,u=u>.04045?fi((u+.055)/1.055,2.4):u/12.92,v=v>.04045?fi((v+.055)/1.055,2.4):v/12.92;let x=(l*.4124+u*.3576+v*.1805)/.95047,O=l*.2126+u*.7152+v*.0722,B=(l*.0193+u*.1192+v*.9505)/1.08883;return x=x>.008856?fi(x,.33333333):7.787*x+.137931,O=O>.008856?fi(O,.33333333):7.787*O+.137931,B=B>.008856?fi(B,.33333333):7.787*B+.137931,[116*O-16,500*(x-O),200*(O-B)]}static colorDistance(a,l){const u=gn.rgb2lab(gn.color2rgb(a)),v=gn.rgb2lab(gn.color2rgb(l)),x=u[0]-v[0],O=u[1]-v[1],B=u[2]-v[2],z=Math.sqrt(u[1]*u[1]+u[2]*u[2]),Y=Math.sqrt(v[1]*v[1]+v[2]*v[2]),te=z-Y;let re=O*O+B*B-te*te;re=re<0?0:Math.sqrt(re);const oe=1+.045*z,he=1+.015*z,ce=x,de=te/oe,ve=re/he,ye=ce*ce+de*de+ve*ve;return ye<0?0:ye}static _toVal(a){let l,u="";if(typeof a=="string"||typeof a=="number")u+=a;else if(typeof a=="object")if(Array.isArray(a))for(let v=0;v<a.length;v++)a[v]&&(l=gn._toVal(a[v]),l&&(u&&(u+=" "),u+=l));else for(const v in a)a[v]&&(u&&(u+=" "),u+=v);return u}static clsx(){let a=0,l,u,v="";for(;a<arguments.length;)l=arguments[a++],l&&(u=gn._toVal(l),u&&(v&&(v+=" "),v+=u));return v}static getThemeName(a=""){return window.vendorPrefix&&window.vendorPrefix!=="@@vendorPrefix@@"?window.vendorPrefix:a||((window._localStorage||window.localStorage).getItem("App.themeName")?(window._localStorage||window.localStorage).getItem("App.themeName"):window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"colored")}static getThemeType(a=""){return window.vendorPrefix&&window.vendorPrefix!=="@@vendorPrefix@@"?"light":(a=a||(window._localStorage||window.localStorage).getItem("App.themeName"),a==="dark"||a==="blue"?"dark":"light")}static setThemeName(a){window.vendorPrefix&&window.vendorPrefix!=="@@vendorPrefix@@"||((window._localStorage||window.localStorage).setItem("App.themeName",a),(window._localStorage||window.localStorage).setItem("App.theme",a==="dark"||a==="blue"?"dark":"light"))}static toggleTheme(a){if(window.vendorPrefix&&window.vendorPrefix!=="@@vendorPrefix@@")return window.vendorPrefix;a=a||(window._localStorage||window.localStorage).getItem("App.themeName");const l=gn.getThemeNames(),u=l.indexOf(a);let v;return u!==-1?v=l[(u+1)%l.length]:v=l[0],gn.setThemeName(v),v}static getThemeNames(){return window.vendorPrefix&&window.vendorPrefix!=="@@vendorPrefix@@"?[window.vendorPrefix]:["light","dark","blue","colored"]}static parseQuery(a){a=(a||"").toString().replace(/^\?/,"");const l={};return a.split("&").forEach(u=>{if(u=u.trim(),u){const v=u.split("="),x=decodeURIComponent(v[0]).trim();if(v.length>1)if(l[x]=decodeURIComponent(v[1]),l[x]==="true")l[x]=!0;else if(l[x]==="false")l[x]=!1;else{const O=parseFloat(l[x]);O.toString()===l[x]&&(l[x]=O)}else l[x]=!0}}),l}static getParentId(a){const l=(a||"").toString().split(".");return l.length>1?(l.pop(),l.join(".")):null}static formatDate(a,l){if(!a)return"";let u,v=a.getMonth()+1;v<10&&(v=`0${v}`);let x=a.getDate();x<10&&(x=`0${x}`),l==="MM/DD/YYYY"?u=`${v}/${x}/${a.getFullYear()}`:u=`${a.getFullYear()}-${v}-${x}`;let O=a.getHours();return O<10?u+=` 0${O}`:u+=` ${O}`,O=a.getMinutes(),O<10?u+=`:0${O}`:u+=`:${O}`,O=a.getSeconds(),O<10?u+=`:0${O}`:u+=`:${O}`,O=a.getMilliseconds(),O<10?u+=`.00${O}`:O<100?u+=`.0${O}`:u+=`.${O}`,u}static formatTime(a){if(a){a=Math.round(a);const l=Math.floor(a/(3600*24)),u=Math.floor(a%(3600*24)/3600),v=Math.floor(a%3600/60),x=a%60;return l?`${l}.${u.toString().padStart(2,"0")}:${v.toString().padStart(2,"0")}:${x.toString().padStart(2,"0")}`:u?`${u}:${v.toString().padStart(2,"0")}:${x.toString().padStart(2,"0")}`:`0:${v.toString().padStart(2,"0")}:${x.toString().padStart(2,"0")}`}return"0:00:00"}static MDtext2link(a){const l=a.match(/\d+\.\)\s/);return l&&(a=a.replace(l[0],l[0].replace(/\s/,"&nbsp;"))),a.replace(/[^a-zA-Z--0-9]/g,"").trim().replace(/\s/g,"").toLowerCase()}static openLink(a,l){a=a.replace(/\/\/([0-9a-f]*:[0-9a-f]*:[0-9a-f]*:[0-9a-f]*:[0-9a-f]*:[0-9a-f]*)(:\d+)?\//i,"//[$1]$2/"),l==="this"?window.location=a:window.open(a,l||"_blank")}static MDgetTitle(a){const l=gn.extractHeader(a),u=l.header;let v=l.body;if(!u.title){v=v.replace(/{[^}]*}/g,""),v=v.trim();const x=v.replace(/\r/g,"").split(`
`);for(let O=0;O<x.length;O++)if(x[O].startsWith("# "))return x[O].substring(2).trim();return""}return u.title}static MDextractHeader(a){const l={};if(a.substring(0,3)==="---"){const u=a.substring(3).indexOf(`
---`);u!==-1&&(a.substring(3,u+3).replace(/\r/g,"").split(`
`).forEach(O=>{if(!O.trim())return;const B=O.indexOf(":");if(B!==-1){const z=O.substring(0,B).trim();l[z]=O.substring(B+1).trim(),l[z]=l[z].replace(/^['"]|['"]$/g,""),l[z]==="true"?l[z]=!0:l[z]==="false"?l[z]=!1:parseFloat(l[z]).toString()===l[z]&&(l[z]=parseFloat(l[z]))}else l[O.trim()]=!0}),a=a.substring(u+7))}return{header:l,body:a}}static MDremoveDocsify(a){const l=a.match(/{docsify-[^}]*}/g);return l&&l.forEach(u=>a=a.replace(u,"")),a}static generateFile(a,l){const u=document.createElement("a");u.setAttribute("href",`data:application/json;charset=utf-8,${encodeURIComponent(JSON.stringify(l,null,2))}`),u.setAttribute("download",a),u.style.display="none",document.body.appendChild(u),u.click(),document.body.removeChild(u)}static quality2text(a){const l=a&4294901760,u=c[a];let v;return u?v=[u]:a&1?v=[c[1],`0x${(a&65534).toString(16)}`]:a&2?v=[c[2],`0x${(a&65533).toString(16)}`]:v=[`0x${a.toString(16)}`],l&&v.push(`0x${(l>>16).toString(16).toUpperCase()}`),v}static clone(a){return JSON.parse(JSON.stringify(a))}static getStates(a){var u;let l=(u=a==null?void 0:a.common)==null?void 0:u.states;if(l){if(typeof l=="string"&&l[0]==="{")try{l=JSON.parse(l)}catch(v){console.error(`Cannot parse states: ${l}`),l=null}else if(typeof l=="string"){const v=l.split(";");l={};for(let x=0;x<v.length;x++){const O=v[x].split(":");l[O[0]]=O[1]}}else if(Array.isArray(l)){const v={};return a.common.type==="number"?l.forEach((x,O)=>v[O]=x):a.common.type==="string"?l.forEach(x=>v[x]=x):a.common.type==="boolean"&&(v.false=l[0],v.true=l[1]),v}}return l}static getSvg(a){return fetch(a).then(l=>l.blob()).then(l=>new Promise(u=>{const v=new FileReader;v.onload=function(){u(this.result)},v.readAsDataURL(l)}))}static detectMimeType(a){const l=Object.keys(p).find(u=>a.startsWith(u));return l?p[l]:null}static isStableRepository(a){return!!(typeof a=="string"&&a.toLowerCase().startsWith("stable")||a&&typeof a!="string"&&a.find(l=>l.toLowerCase().startsWith("stable")))}static isStringInteger(a){return parseInt(a).toString()===a}static isValidDate(a){return a instanceof Date&&!isNaN(a)}};$t(gn,"namespace",i),$t(gn,"INSTANCES","instances"),$t(gn,"dateFormat",["DD","MM"]),$t(gn,"FORBIDDEN_CHARS",/[^._\-/ :!#$%&()+=@^{}|~\p{Ll}\p{Lu}\p{Nd}]+/gu);let w=gn;const E=w;function k(y){return Object.prototype.toString.call(y)==="[object Object]"}const Dn=class Dn extends M.Component{constructor(l){super(l);$t(this,"defaultValue");$t(this,"isError");$t(this,"lang");$t(this,"defaultSendToDone");$t(this,"sendToTimeout");$t(this,"noPlaceRequired");$t(this,"onUpdate",l=>{const u=Dn.getValue(l||this.props.data,this.props.attr)||"";this.state.value!==u?this.setState({value:u}):this.forceUpdate()});this.state={confirmDialog:!1,confirmNewValue:null,confirmAttr:null,confirmData:null},this.isError={},l.schema&&(l.custom?this.defaultValue=l.schema.defaultFunc?this.executeCustom(l.schema.defaultFunc,l.data,l.customObj,l.instanceObj,l.arrayIndex,l.globalData):l.schema.default:this.defaultValue=l.schema.defaultFunc?this.execute(l.schema.defaultFunc,l.schema.default,l.data,l.arrayIndex,l.globalData):l.schema.default),this.lang=t.I18n.getLanguage()}componentDidMount(){this.props.registerOnForceUpdate&&this.props.registerOnForceUpdate(this.props.attr,this.onUpdate);const l=["select","autocomplete","autocompleteSendTo"];if(this.defaultValue!==void 0){const u=Dn.getValue(this.props.data,this.props.attr);(u===void 0||l.includes(this.props.schema.type)&&(u===""||u===null))&&setTimeout(()=>{this.props.custom?this.props.onChange(this.props.attr,this.defaultValue,()=>setTimeout(()=>this.props.forceUpdate([this.props.attr],this.props.data),100)):(Dn.setValue(this.props.data,this.props.attr,this.defaultValue),this.props.onChange(this.props.data,void 0,()=>this.props.forceUpdate([this.props.attr],this.props.data)))},100)}else this.props.schema.defaultSendTo&&this.sendTo()}sendTo(){if(this.props.alive){this.defaultSendToDone=!0;let l=this.props.schema.data;if(l===void 0&&this.props.schema.jsonData){const u=this.getPattern(this.props.schema.jsonData);try{l=JSON.parse(u)}catch(v){console.error(`Cannot parse json data: ${u}`)}}else l={attr:this.props.attr,value:Dn.getValue(this.props.data,this.props.attr)};l===void 0&&(l=null),this.props.socket.sendTo(`${this.props.adapterName}.${this.props.instance}`,this.props.schema.defaultSendTo,l).then(u=>{u!=null&&(this.props.custom?this.props.onChange(this.props.attr,u,()=>this.props.forceUpdate([this.props.attr],this.props.data)):(Dn.setValue(this.props.data,this.props.attr,u),this.props.onChange(this.props.data,void 0,()=>this.props.forceUpdate([this.props.attr],this.props.data))))})}else this.defaultSendToDone=!1,this.onError(this.props.attr,t.I18n.t("ra_Instance %s is not alive",this.props.instance.toString()))}componentWillUnmount(){this.props.registerOnForceUpdate&&this.props.registerOnForceUpdate(this.props.attr),this.sendToTimeout&&(clearTimeout(this.sendToTimeout),this.sendToTimeout=null)}static getValue(l,u){if(typeof u=="string")return Dn.getValue(l,u.split("."));if(u.length===1)return l[u[0]];const v=u.shift();return typeof v=="string"&&typeof l[v]=="object"?Dn.getValue(l[v],u):null}static setValue(l,u,v){if(typeof u=="string"){Dn.setValue(l,u.split("."),v);return}if(u.length===1)v===null?delete l[u[0]]:l[u[0]]=v;else{const x=u.shift();if(typeof x!="string")return;(!l[x]||typeof l[x]=="object")&&(l[x]=l[x]||{}),Dn.setValue(l[x],u,v)}}getText(l,u){if(!l)return"";if(typeof l=="string"){const v=u?l:t.I18n.t(l);return v.includes("${")?this.getPattern(v):v}return k(l)?l.func?typeof l.func=="object"?this.getPattern(l.func[this.lang]||l.func.en||""):this.getPattern(l.func):l[this.lang]||l.en||"":l.toString()}renderConfirmDialog(){if(!this.state.confirmDialog)return null;const l=this.state.confirmData||this.props.schema.confirm;let u=null;return l.type==="warning"?u=h().createElement(s.Warning,null):l.type==="error"?u=h().createElement(s.Error,null):l.type==="info"&&(u=h().createElement(s.Info,null)),h().createElement(t.Confirm,{title:this.getText(l.title)||t.I18n.t("ra_Please confirm"),text:this.getText(l.text),ok:this.getText(l.ok)||t.I18n.t("ra_Ok"),cancel:this.getText(l.cancel)||t.I18n.t("ra_Cancel"),icon:u||void 0,onClose:v=>this.setState({confirmDialog:!1},()=>{if(v){const x=JSON.parse(JSON.stringify(this.props.data));this.state.confirmDepAttr&&Dn.setValue(x,this.state.confirmDepAttr,this.state.confirmDepNewValue),Dn.setValue(x,this.state.confirmAttr,this.state.confirmNewValue),this.setState({confirmDialog:!1,confirmDepAttr:null,confirmDepNewValue:null,confirmNewValue:null,confirmAttr:null,confirmData:null},()=>this.props.onChange(x))}else this.setState({confirmDialog:!1,confirmDepAttr:null,confirmDepNewValue:null,confirmNewValue:null,confirmAttr:null,confirmData:null})})})}getIcon(l){l=l||this.props.schema.icon;let u=null;return l==="auth"?u=h().createElement(s.Key,null):l==="send"?u=h().createElement(s.Send,null):l==="web"?u=h().createElement(s.Public,null):l==="warning"?u=h().createElement(s.Warning,null):l==="error"?u=h().createElement(s.Error,null):l==="info"?u=h().createElement(s.Info,null):l==="search"?u=h().createElement(s.Search,null):l==="book"?u=h().createElement(s.MenuBook,null):l==="help"?u=h().createElement(s.Help,null):l==="upload"?u=h().createElement(s.UploadFile,null):l&&((l.endsWith(".png")||l.endsWith(".svg")||l.endsWith(".jpg"))&&!l.startsWith("http://")&&!l.startsWith("https://")&&(l=`./adapter/${this.props.adapterName}/${l}`),u=h().createElement(t.Icon,{src:l,style:{width:22,height:22}})),u}onChangeAsync(l,u){return new Promise(v=>{this.onChange(l,u,v)})}onChange(l,u,v){const x=JSON.parse(JSON.stringify(this.props.data));if(Dn.setValue(x,l,u),this.props.schema.confirm&&this.execute(this.props.schema.confirm.condition,!1,x,this.props.arrayIndex,this.props.globalData))return new Promise(B=>{this.setState({confirmDialog:!0,confirmNewValue:u,confirmAttr:l,confirmData:null},()=>{typeof v=="function"?v():B()})});if(this.props.schema.confirmDependsOn)for(let B=0;B<this.props.schema.confirmDependsOn.length;B++){const z=this.props.schema.confirmDependsOn[B];if(z.confirm){const Y=Dn.getValue(x,z.attr);if(this.execute(z.confirm.condition,!1,x,this.props.arrayIndex,this.props.globalData))return new Promise(te=>{this.setState({confirmDialog:!0,confirmNewValue:u,confirmAttr:l,confirmDepNewValue:Y,confirmDepAttr:z.attr,confirmData:z.confirm},()=>{typeof v=="function"?v():te()})})}}const O=[];if(this.props.schema.onChangeDependsOn)for(let B=0;B<this.props.schema.onChangeDependsOn.length;B++){const z=this.props.schema.onChangeDependsOn[B];if(z.onChange){const Y=Dn.getValue(x,z.attr);let te;this.props.custom?te=this.executeCustom(z.onChange.calculateFunc,x,this.props.customObj,this.props.instanceObj,this.props.arrayIndex,this.props.globalData):te=this.execute(z.onChange.calculateFunc,Y,x,this.props.arrayIndex,this.props.globalData),te!==Y&&(Dn.setValue(x,z.attr,te),O.push(z.attr))}}if(this.props.schema.hiddenDependsOn)for(let B=0;B<this.props.schema.hiddenDependsOn.length;B++){const z=this.props.schema.hiddenDependsOn[B];z.hidden&&O.push(z.attr)}if(this.props.schema.labelDependsOn)for(let B=0;B<this.props.schema.labelDependsOn.length;B++){const z=this.props.schema.labelDependsOn[B];z.hidden&&O.push(z.attr)}if(this.props.schema.helpDependsOn)for(let B=0;B<this.props.schema.helpDependsOn.length;B++){const z=this.props.schema.helpDependsOn[B];z.hidden&&O.push(z.attr)}if(this.props.schema.onChange&&!this.props.schema.onChange.ignoreOwnChanges){const B=Dn.getValue(x,this.props.attr),z=this.props.custom?this.executeCustom(this.props.schema.onChange.calculateFunc,x,this.props.customObj,this.props.instanceObj,this.props.arrayIndex,this.props.globalData):this.execute(this.props.schema.onChange.calculateFunc,B,x,this.props.arrayIndex,this.props.globalData);z!==B&&Dn.setValue(x,this.props.attr,z)}return this.props.custom?(this.props.onChange(l,u,()=>v&&v()),O&&O.length&&O.forEach((B,z)=>setTimeout(()=>this.props.onChange(B,Dn.getValue(x,B)),z*50))):this.props.onChange(x,void 0,()=>{O.length&&this.props.forceUpdate(O,x),v&&v()}),Promise.resolve()}execute(l,u,v,x,O){let B;if(k(l))B=l.func;else if(typeof l=="string")B=l;else return l;if(!B)return u;try{return new Function("data","originalData","_system","_alive","_common","_socket","_instance","arrayIndex","globalData","_changed",B.includes("return")?B:`return ${B}`)(v||this.props.data,this.props.originalData,this.props.systemConfig,this.props.alive,this.props.common,this.props.socket,this.props.instance,x,O,this.props.changed)}catch(z){return console.error(`Cannot execute ${l}: ${z}`),u}}executeCustom(l,u,v,x,O,B){let z;if(k(l))z=l.func;else if(typeof l=="string")z=l;else return l;if(!z)return null;try{return new Function("data","originalData","_system","instanceObj","customObj","_socket","arrayIndex","globalData","_changed",z.includes("return")?z:`return ${z}`)(u||this.props.data,this.props.originalData,this.props.systemConfig,x,v,this.props.socket,O,B,this.props.changed)}catch(Y){return console.error(`Cannot execute ${z}: ${Y}`),null}}calculate(l){let u,v,x,O;return this.props.custom?(u=l.validator?!this.executeCustom(l.validator,this.props.data,this.props.customObj,this.props.instanceObj,this.props.arrayIndex,this.props.globalData):!1,v=l.disabled?this.executeCustom(l.disabled,this.props.data,this.props.customObj,this.props.instanceObj,this.props.arrayIndex,this.props.globalData):!1,x=l.hidden?this.executeCustom(l.hidden,this.props.data,this.props.customObj,this.props.instanceObj,this.props.arrayIndex,this.props.globalData):!1,O=l.defaultFunc?this.executeCustom(l.defaultFunc,this.props.data,this.props.customObj,this.props.instanceObj,this.props.arrayIndex,this.props.globalData):l.default):(u=l.validator?!this.execute(l.validator,!1,this.props.data,this.props.arrayIndex,this.props.globalData):!1,v=l.disabled?this.execute(l.disabled,!1,this.props.data,this.props.arrayIndex,this.props.globalData):!1,x=l.hidden?this.execute(l.hidden,!1,this.props.data,this.props.arrayIndex,this.props.globalData):!1,O=l.defaultFunc?this.execute(l.defaultFunc,l.default,this.props.data,this.props.arrayIndex,this.props.globalData):l.default),{error:u,disabled:v,hidden:x,defaultValue:O}}onError(l,u){u?this.isError[l]=u:delete this.isError[l],this.props.onError&&this.props.onError(l,u)}renderItem(l,u,v){return this.getText(this.props.schema.label)||this.getText(this.props.schema.text)}renderHelp(l,u,v){return u?h().createElement("a",{href:u,target:"_blank",rel:"noreferrer",style:{color:this.props.themeType==="dark"?"#a147ff":"#5b238f",textDecoration:"underline"}},this.getText(l,v)):(l=this.getText(l,v)||"",l&&(l.includes("<a ")||l.includes("<br")||l.includes("<b>")||l.includes("<i>"))?t.Utils.renderTextWithA(l):l)}getPattern(l,u){if(u=u||this.props.data,!l)return"";let v;typeof l=="object"?l.func?v=l.func:(console.log(`Object must be stringified: ${JSON.stringify(l)}`),v=JSON.stringify(l)):v=l;try{return this.props.custom?new Function("data","originalData","arrayIndex","globalData","_system","instanceObj","customObj","_socket","_changed",`return \`${v.replace(/`/g,"\\`")}\``)(u,this.props.originalData,this.props.arrayIndex,this.props.globalData,this.props.systemConfig,this.props.instanceObj,this.props.customObj,this.props.socket,this.props.changed):new Function("data","originalData","arrayIndex","globalData","_system","_alive","_common","_socket","_changed",`return \`${v.replace(/`/g,"\\`")}\``)(u,this.props.originalData,this.props.arrayIndex,this.props.globalData,this.props.systemConfig,this.props.alive,this.props.common,this.props.socket,this.props.changed)}catch(x){return console.error(`Cannot execute ${v}: ${x}`),v}}render(){const l=this.props.schema;if(!l)return null;this.props.alive&&this.defaultSendToDone===!1&&(this.sendToTimeout=setTimeout(()=>{this.sendToTimeout=null,this.sendTo()},200));const{error:u,disabled:v,hidden:x,defaultValue:O}=this.calculate(l);if(x){if(Object.keys(this.isError).length&&(setTimeout(Y=>Object.keys(Y).forEach(te=>this.props.onError(te)),100,JSON.parse(JSON.stringify(this.isError))),this.isError={}),l.hideOnlyControl){const Y=h().createElement(e.Grid,{item:!0,xs:l.xs||void 0,lg:l.lg||void 0,md:l.md||void 0,sm:l.sm||void 0,style:Yt(Yt({marginBottom:0,textAlign:"left"},l.style),this.props.themeType==="dark"?l.darkStyle:{})});return l.newLine?h().createElement(h().Fragment,null,h().createElement("div",{style:{flexBasis:"100%",height:0}}),Y):Y}return null}l.validatorNoSaveOnError&&(u&&!Object.keys(this.isError).length?(this.isError={[this.props.attr]:l.validatorErrorText?t.I18n.t(l.validatorErrorText):!0},setTimeout(Y=>Object.keys(Y).forEach(te=>this.props.onError(te,Y[te])),100,JSON.parse(JSON.stringify(this.isError)))):!u&&Object.keys(this.isError).length&&(setTimeout(Y=>Object.keys(Y).forEach(te=>this.props.onError(te)),100,JSON.parse(JSON.stringify(this.isError))),this.isError={}));const B=this.renderItem(u,v||this.props.commandRunning||this.props.disabled,O);if(this.noPlaceRequired)return B;const z=h().createElement(e.Grid,{item:!0,title:this.getText(l.tooltip),xs:l.xs||void 0,lg:l.lg||void 0,md:l.md||void 0,sm:l.sm||void 0,style:Yt(Yt({marginBottom:0,textAlign:"left",width:l.type==="divider"||l.type==="header"?l.width||"100%":void 0},l.style),this.props.themeType==="dark"?l.darkStyle:{})},this.props.schema.defaultSendTo&&this.props.schema.button?h().createElement(e.Grid,{container:!0,style:{width:"100%"}},h().createElement(e.Grid,{item:!0,flex:1},B),h().createElement(e.Grid,{item:!0},h().createElement(e.Button,{variant:"outlined",onClick:()=>this.sendTo(),title:this.props.schema.buttonTooltip?this.getText(this.props.schema.buttonTooltip,this.props.schema.buttonTooltipNoTranslation):t.I18n.t("ra_Request data by instance")},this.getText(this.props.schema.button)))):B);return l.newLine?h().createElement(h().Fragment,null,h().createElement("div",{style:{flexBasis:"100%",height:0}}),this.renderConfirmDialog(),z):this.state.confirmDialog?h().createElement(h().Fragment,null,this.renderConfirmDialog(),z):z}};$t(Dn,"DIFFERENT_VALUE","__different__"),$t(Dn,"DIFFERENT_LABEL","ra___different__"),$t(Dn,"NONE_VALUE",""),$t(Dn,"NONE_LABEL","ra_none");let f=Dn;const C=y=>({fullWidth:{width:"100%"},accordionSummary:{backgroundColor:y.palette.mode==="dark"?"rgba(255, 255, 255, 0.08)":"rgba(0, 0, 0, 0.08)"},accordionTitle:{},toolbar:{backgroundColor:y.palette.mode==="dark"?"rgba(255, 255, 255, 0.08)":"rgba(0, 0, 0, 0.08)",borderRadius:3}});class g extends f{constructor(l){super(l);$t(this,"typingTimer",null);$t(this,"onDelete",l=>()=>{const u=JSON.parse(JSON.stringify(this.state.value));u.splice(l,1),this.setState({value:u,iteration:this.state.iteration+1e4},()=>this.onChangeWrapper(u))});$t(this,"onClone",l=>()=>{const u=JSON.parse(JSON.stringify(this.state.value)),v=JSON.parse(JSON.stringify(u[l]));if(typeof this.props.schema.clone=="string"&&typeof v[this.props.schema.clone]=="string"){let x=1,O=v[this.props.schema.clone];const B=O.match(/(\d+)$/);for(B?(O=O.replace(B[0],""),x=parseInt(B[0],10)+1):O+="_";u.find(z=>z[this.props.schema.clone]===O+x.toString());)x++;v[this.props.schema.clone]=`${v[this.props.schema.clone]}_${x}`}u.splice(l,0,v),this.setState({value:u,activeIndex:-1,iteration:this.state.iteration+1e4},()=>this.onChangeWrapper(u))});$t(this,"onChangeWrapper",l=>{this.typingTimer&&clearTimeout(this.typingTimer),this.typingTimer=setTimeout(u=>{this.typingTimer=null,this.onChange(this.props.attr,u)},300,l)});$t(this,"onAdd",()=>{const{schema:l}=this.props,u=JSON.parse(JSON.stringify(this.state.value)),v=l.items&&l.items.reduce((x,O)=>{let B;return O.defaultFunc?this.props.custom?B=O.defaultFunc?this.executeCustom(O.defaultFunc,this.props.data,this.props.customObj,this.props.instanceObj,u.length,this.props.data):this.props.schema.default:B=O.defaultFunc?this.execute(O.defaultFunc,this.props.schema.default,this.props.data,u.length,this.props.data):this.props.schema.default:B=O.default===void 0?null:O.default,x[O.attr]=B,x},{});u.push(v),this.setState({value:u,activeIndex:u.length-1},()=>this.onChangeWrapper(u))});this.props.schema.items=this.props.schema.items||[]}componentDidMount(){return Nt(this,null,function*(){Wn(g.prototype,this,"componentDidMount").call(this);let l=f.getValue(this.props.data,this.props.attr)||[];Array.isArray(l)||(l=[]),this.setState({value:l,activeIndex:-1,iteration:0})})}componentWillUnmount(){this.typingTimer&&clearTimeout(this.typingTimer),this.typingTimer=null,super.componentWillUnmount()}itemAccordion(l,u){const{value:v}=this.state,{schema:x}=this.props,O={type:"panel",items:x.items.reduce((B,z)=>(B[z.attr]=z,B),{}),style:{marginLeft:-8,marginTop:10,marginBottom:10}};return h().createElement(es,{index:u+this.state.iteration,arrayIndex:u,changed:this.props.changed,globalData:this.props.data,socket:this.props.socket,adapterName:this.props.adapterName,instance:this.props.instance,common:this.props.common,alive:this.props.alive,themeType:this.props.themeType,themeName:this.props.themeName,data:l,custom:!0,schema:O,systemConfig:this.props.systemConfig,originalData:this.props.originalData,customs:this.props.customs,dateFormat:this.props.dateFormat,isFloatComma:this.props.isFloatComma,forceUpdate:this.props.forceUpdate,imagePrefix:this.props.imagePrefix,onCommandRunning:this.props.onCommandRunning,onChange:(B,z)=>{const Y=JSON.parse(JSON.stringify(v));Y[u][B]=z,this.setState({value:Y},()=>this.onChangeWrapper(Y))},onError:(B,z)=>this.onError(B,z),table:this.props.table})}onMoveUp(l){const u=JSON.parse(JSON.stringify(this.state.value)),v=u[l];u.splice(l,1),u.splice(l-1,0,v);const x=this.state.activeIndex-1;this.setState({value:u,activeIndex:x,iteration:this.state.iteration+1e4},()=>this.onChangeWrapper(u))}onMoveDown(l){const u=JSON.parse(JSON.stringify(this.state.value)),v=u[l];u.splice(l,1),u.splice(l+1,0,v);const x=this.state.activeIndex+1;this.setState({value:u,activeIndex:x,iteration:this.state.iteration+1e4},()=>this.onChangeWrapper(u))}renderItem(){const{classes:l,schema:u}=this.props,{value:v}=this.state;return v?h().createElement(e.Paper,null,u.label||!u.noDelete?h().createElement(e.Toolbar,{variant:"dense"},u.label?h().createElement(e.Typography,{className:l.title,variant:"h6",id:"tableTitle",component:"div"},this.getText(u.label)):null,u.noDelete?null:h().createElement(e.IconButton,{size:"small",color:"primary",onClick:this.onAdd},h().createElement(s.Add,null))):null,v.map((x,O)=>h().createElement(e.Accordion,{key:`${x}_${O}`,expanded:this.state.activeIndex===O,onChange:(B,z)=>{this.setState({activeIndex:z?O:-1})}},h().createElement(e.AccordionSummary,{expandIcon:h().createElement(s.ExpandMore,null),className:t.Utils.clsx(l.fullWidth,l.accordionSummary)},h().createElement(e.Typography,{className:l.accordionTitle},x[u.titleAttr])),h().createElement(e.AccordionDetails,{style:Yt(Yt({},u.style),this.props.themeType?u.darkStyle:{})},this.itemAccordion(v[O],O),h().createElement(e.Toolbar,{className:l.toolbar},O?h().createElement(e.Tooltip,{title:t.I18n.t("ra_Move up")},h().createElement(e.IconButton,{size:"small",onClick:()=>this.onMoveUp(O)},h().createElement(s.ArrowUpward,null))):h().createElement("div",{className:l.buttonEmpty}),O<v.length-1?h().createElement(e.Tooltip,{title:t.I18n.t("ra_Move down")},h().createElement(e.IconButton,{size:"small",onClick:()=>this.onMoveDown(O)},h().createElement(s.ArrowDownward,null))):h().createElement("div",{className:l.buttonEmpty}),u.noDelete?null:h().createElement(e.Tooltip,{title:t.I18n.t("ra_Delete current row")},h().createElement(e.IconButton,{size:"small",onClick:this.onDelete(O)},h().createElement(s.Delete,null))),u.clone?h().createElement(e.Tooltip,{title:t.I18n.t("ra_Clone current row")},h().createElement(e.IconButton,{size:"small",onClick:this.onClone(O)},h().createElement(s.ContentCopy,null))):null)))),!u.noDelete&&v.length>0?h().createElement(e.Toolbar,{variant:"dense",className:l.rootTool},h().createElement(e.IconButton,{size:"small",color:"primary",onClick:this.onAdd},h().createElement(s.Add,null))):null,u.help?h().createElement(e.FormHelperText,null,this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)):null):null}}const m=(0,F.withStyles)(C)(g),S={root:{width:"100%"},notAlive:{color:"#a30000"}};class A extends f{componentDidMount(){super.componentDidMount();const a=this.getInstance();this.props.socket.getState(`${a}.alive`).then(l=>this.setState({alive:!!(l&&l.val),instance:a}))}getInstance(){let a=this.props.schema.instance||`${this.props.adapterName}.${this.props.instance}`;return a.includes("${")&&(a=this.getPattern(a)),a&&!a.startsWith("system.adapter.")&&(a=`system.adapter.${a}`),a}renderItem(){if(this.getInstance()!==this.state.instance&&setTimeout(()=>{const l=this.getInstance();l?this.props.socket.getState(`${l}.alive`).then(u=>this.setState({alive:!!(u&&u.val),instance:l})):this.setState({alive:null,instance:l})},200),this.state.alive!==!1&&this.state.alive!==!0)return null;const a=this.state.instance.replace(/^system.adapter./,"");return h().createElement("div",{className:t.Utils.clsx(this.props.classes.root,!this.state.alive&&this.props.classes.notAlive)},this.state.alive?this.props.schema.textAlive!==void 0?this.props.schema.textAlive?t.I18n.t(this.props.schema.textAlive,a):"":t.I18n.t("ra_Instance %s is alive",a):this.props.schema.textNotAlive!==void 0?this.props.schema.textNotAlive?t.I18n.t(this.props.schema.textNotAlive,a):"":t.I18n.t("ra_Instance %s is not alive",a))}}const R=(0,F.withStyles)(S)(A),P={fullWidth:{width:"100%"}};class W extends f{componentDidMount(){super.componentDidMount();const a=f.getValue(this.props.data,this.props.attr),l=this.props.schema.options.map(u=>typeof u=="string"?{label:u,value:u}:JSON.parse(JSON.stringify(u)));Array.isArray(a)?(l.unshift({label:t.I18n.t(f.DIFFERENT_LABEL),value:f.DIFFERENT_VALUE}),this.setState({value:f.DIFFERENT_VALUE,selectOptions:l})):this.setState({value:a,selectOptions:l})}renderItem(a,l){if(!this.state.selectOptions)return null;let u;const v=JSON.parse(JSON.stringify(this.state.selectOptions));return Array.isArray(this.state.value)||this.state.value===f.DIFFERENT_VALUE?([...this.state.value].filter(O=>!v.find(B=>typeof B=="object"?B.value===O:B===O)).forEach(O=>v.push({label:O.toString(),value:O})),u={label:t.I18n.t(f.DIFFERENT_LABEL),value:f.DIFFERENT_VALUE},v.unshift(u)):(u=this.state.value!==null&&this.state.value!==void 0&&v.find(O=>typeof O=="object"?O.value==this.state.value:O==this.state.value),this.state.value!==null&&this.state.value!==void 0&&!u&&this.props.schema.freeSolo&&(u={value:this.state.value,label:this.state.value},v.push(u))),h().createElement(e.Autocomplete,{className:this.props.classes.indeterminate,fullWidth:!0,freeSolo:!!this.props.schema.freeSolo,value:u,options:v,onInputChange:O=>{if(!O||!this.props.schema.freeSolo)return;const B=O.target.value;B!==this.state.value&&this.setState({value:B},()=>this.onChange(this.props.attr,B))},onChange:(O,B)=>{const z=typeof B=="object"?B?B.value:"":B;z!==this.state.value&&this.setState({value:z},()=>this.onChange(this.props.attr,z))},getOptionLabel:O=>{var B;return typeof O=="object"&&(B=O==null?void 0:O.label)!=null?B:""},renderInput:O=>h().createElement(e.TextField,zn(Yt({variant:"standard"},O),{error:!!a,placeholder:this.getText(this.props.schema.placeholder),label:this.getText(this.props.schema.label),helperText:this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation),disabled:l}))})}}const _=(0,F.withStyles)(P)(W),T={fullWidth:{width:"100%"}};class N extends f{componentDidMount(){super.componentDidMount(),this.askInstance()}askInstance(){const a=f.getValue(this.props.data,this.props.attr),l=this.props.schema.options?this.props.schema.options.map(u=>typeof u=="string"?{label:u,value:u}:JSON.parse(JSON.stringify(u))):[];if(this.props.alive){let u=this.props.schema.data;if(u===void 0&&this.props.schema.jsonData){u=this.getPattern(this.props.schema.jsonData);try{typeof u=="string"&&(u=JSON.parse(u))}catch(v){console.error(`Cannot parse json data: ${u}`)}}u===void 0&&(u=null),this.props.socket.sendTo(`${this.props.adapterName}.${this.props.instance}`,this.props.schema.command||"send",u).then(v=>{v&&Array.isArray(v)&&v.forEach(x=>l.push(typeof x=="string"?{label:x,value:x}:JSON.parse(JSON.stringify(x)))),Array.isArray(a)?(l.unshift({label:t.I18n.t(f.DIFFERENT_LABEL),value:f.DIFFERENT_VALUE}),this.setState({value:f.DIFFERENT_VALUE,selectOptions:l,context:this.getContext()})):this.setState({value:a,selectOptions:l,context:this.getContext()})})}else Array.isArray(a)?(l.unshift({label:t.I18n.t(f.DIFFERENT_LABEL),value:f.DIFFERENT_VALUE}),this.setState({value:f.DIFFERENT_VALUE,selectOptions:l})):this.setState({value:a,selectOptions:l})}getContext(){const a={};return Array.isArray(this.props.schema.alsoDependsOn)&&this.props.schema.alsoDependsOn.forEach(l=>a[l]=f.getValue(this.props.data,l)),JSON.stringify(a)}renderItem(a,l){if(!this.state.selectOptions)return null;this.props.alive&&this.getContext()!==this.state.context&&setTimeout(()=>this.askInstance(),300);let u;const v=JSON.parse(JSON.stringify(this.state.selectOptions));return Array.isArray(this.state.value)||this.state.value===f.DIFFERENT_LABEL?([...this.state.value].filter(O=>!v.find(B=>B.value===O)).forEach(O=>v.push({label:O.toString(),value:O})),u={label:t.I18n.t(f.DIFFERENT_LABEL),value:f.DIFFERENT_VALUE},v.unshift(u)):(u=this.state.value!==null&&this.state.value!==void 0&&v.find(O=>O.value==this.state.value),this.state.value!==null&&this.state.value!==void 0&&!u&&this.props.schema.freeSolo&&(u={value:this.state.value,label:this.state.value},v.push(u)),u=u||null),v.length?h().createElement(e.Autocomplete,{value:u,fullWidth:!0,freeSolo:!!this.props.schema.freeSolo,options:v,getOptionLabel:O=>{var B;return(B=O==null?void 0:O.label)!=null?B:""},className:this.props.classes.indeterminate,onInputChange:O=>{if(!O||!this.props.schema.freeSolo)return;const B=O.target.value;B!==this.state.value&&this.setState({value:B},()=>this.onChange(this.props.attr,B))},onChange:(O,B)=>{const z=typeof B=="object"?B?B.value:"":B;z!==this.state.value&&this.setState({value:z},()=>this.onChange(this.props.attr,z))},renderInput:O=>h().createElement(e.TextField,zn(Yt({variant:"standard"},O),{error:!!a,placeholder:this.getText(this.props.schema.placeholder),label:this.getText(this.props.schema.label),helperText:this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation),disabled:l}))}):h().createElement(e.TextField,{variant:"standard",fullWidth:!0,value:this.state.value===null||this.state.value===void 0?"":this.state.value,error:!!a,disabled:l,inputProps:{maxLength:this.props.schema.maxLength||this.props.schema.max||void 0},onChange:O=>{const B=O.target.value;this.setState({value:B},()=>this.onChange(this.props.attr,(B||"").trim()))},placeholder:this.getText(this.props.schema.placeholder),label:this.getText(this.props.schema.label),helperText:this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)})}}const V=(0,F.withStyles)(T)(N);var K=L(95973),I=L.n(K);const q=()=>({fullWidth:{width:"100%"},flex:{display:"flex"},button:{height:48,marginLeft:4,minWidth:48}});class U extends f{componentDidMount(){return Nt(this,null,function*(){Wn(U.prototype,this,"componentDidMount").call(this);const{data:a,attr:l}=this.props,u=f.getValue(a,l)||"";this.setState({value:u,showDialog:!1})})}renderItem(a,l){const{classes:u,schema:v,attr:x}=this.props,{value:O,showDialog:B}=this.state;return h().createElement(e.FormControl,{className:u.fullWidth,variant:"standard"},v.label?h().createElement(e.InputLabel,{shrink:!0},this.getText(v.label)):null,h().createElement("div",{className:u.flex},h().createElement(e.TextField,{variant:"standard",fullWidth:!0,value:O!=null?O:"",error:!!a,disabled:l,placeholder:this.getText(v.placeholder),label:this.getText(v.label),helperText:this.renderHelp(v.help,v.helpLink,v.noTranslation),onChange:z=>{const Y=z.target.value;this.setState({value:Y},()=>this.onChange(x,Y))}}),h().createElement(e.Button,{color:"grey",className:this.props.classes.button,size:"small",variant:"outlined",onClick:()=>this.setState({showDialog:!0})},"...")),B?h().createElement(t.Cron,{title:t.I18n.t("ra_Define schedule"),simple:v.simple,complex:v.complex,cron:O,language:t.I18n.getLanguage(),onClose:()=>this.setState({showDialog:!1}),cancel:t.I18n.t("ra_Cancel"),ok:t.I18n.t("ra_Ok"),onOk:z=>this.setState({showDialog:!1,value:z},()=>this.onChange(x,z))}):null)}}U.propTypes={themeType:I().string,themeName:I().string,style:I().object,className:I().string,data:I().object.isRequired,schema:I().object,onError:I().func,onChange:I().func,dateFormat:I().string,isFloatComma:I().bool};const J=(0,F.withStyles)(q)(U),Q={fullWidth:{width:"100%"}};class ee extends f{componentDidMount(){return Nt(this,null,function*(){Wn(ee.prototype,this,"componentDidMount").call(this);const a=f.getValue(this.props.data,this.props.attr),u=(yield this.props.socket.getCertificates()).filter(v=>{const x=this.props.attr.toLowerCase();return x.includes(v.type)||v.type==="public"&&x.includes("cert")||v.type==="private"&&(x.includes("priv")||x.includes("key"))?!0:!!(v.type==="chained"&&(x.includes("chain")||x.includes("ca")))}).map(v=>({label:v.name,value:v.name}));u.unshift({label:t.I18n.t(f.NONE_LABEL),value:f.NONE_VALUE}),this.setState({value:a,selectOptions:u})})}renderItem(a,l){var v,x;if(!this.state.selectOptions)return null;const u=(v=this.state.selectOptions)==null?void 0:v.find(O=>O.value===this.state.value);return h().createElement(e.FormControl,{className:this.props.classes.fullWidth,variant:"standard"},this.props.schema.label?h().createElement(e.InputLabel,{shrink:!0},this.getText(this.props.schema.label)):null,h().createElement(e.Select,{variant:"standard",error:!!a,displayEmpty:!0,disabled:!!l,value:this.state.value,renderValue:()=>this.getText(u==null?void 0:u.label,this.props.schema.noTranslation!==!1),onChange:O=>this.setState({value:O.target.value},()=>this.onChange(this.props.attr,this.state.value))},(x=this.state.selectOptions)==null?void 0:x.map(O=>h().createElement(e.MenuItem,{key:O.value,value:O.value,style:O.value===f.NONE_VALUE?{opacity:.5}:{}},this.getText(O.label,this.props.schema.noTranslation!==!1)))),this.props.schema.help?h().createElement(e.FormHelperText,null,this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)):null)}}const se=(0,F.withStyles)(Q)(ee),ue={fullWidth:{width:"100%"},leWidth:{width:620,marginBottom:10},certWidth:{width:200,marginRight:10}};class xe extends f{componentDidMount(){return Nt(this,null,function*(){var B;Wn(xe.prototype,this,"componentDidMount").call(this);const a=yield this.props.socket.getCertificates(),l=[],u=[],v=[];let x=[];const O=yield this.props.socket.getObject("system.certificates");(B=O==null?void 0:O.native)!=null&&B.collections?x=Object.keys(O.native.collections):x=null,a.forEach(z=>{z.type==="public"?l.push({label:z.name,value:z.name}):z.type==="private"?u.push({label:z.name,value:z.name}):z.type==="chained"?v.push({label:z.name,value:z.name}):(l.push({label:z.name,value:z.name}),u.push({label:z.name,value:z.name}),v.push({label:z.name,value:z.name}))}),l.unshift({label:t.I18n.t(f.NONE_LABEL),value:f.NONE_VALUE}),u.unshift({label:t.I18n.t(f.NONE_LABEL),value:f.NONE_VALUE}),v.unshift({label:t.I18n.t(f.NONE_LABEL),value:f.NONE_VALUE}),this.setState({certsPublicOptions:l,certsChainOptions:v,certsPrivateOptions:u,collectionsOptions:x})})}renderItem(a,l){var te,re,oe,he,ce,de,ve;if(!this.state.certsPublicOptions||!this.state.certsPrivateOptions||!this.state.certsChainOptions)return null;const u=(f.getValue(this.props.data,this.props.schema.leCollectionName||"leCollection")||"false").toString(),v=f.getValue(this.props.data,this.props.schema.certPublicName||"certPublic"),x=f.getValue(this.props.data,this.props.schema.certPrivateName||"certPrivate"),O=f.getValue(this.props.data,this.props.schema.certChainedName||"certChained"),B=(te=this.state.certsPublicOptions)==null?void 0:te.find(ye=>ye.value===v),z=(re=this.state.certsPrivateOptions)==null?void 0:re.find(ye=>ye.value===x),Y=(oe=this.state.certsChainOptions)==null?void 0:oe.find(ye=>ye.value===O);return h().createElement("div",{className:this.props.classes.fullWidth},this.state.collectionsOptions?h().createElement(e.FormControl,{className:this.props.classes.leWidth,variant:"standard"},h().createElement(e.InputLabel,{shrink:!0},"Let's encrypt"),h().createElement(e.Select,{variant:"standard",error:!!a,displayEmpty:!0,disabled:!!l,value:u,onChange:ye=>this.onChange(this.props.schema.leCollectionName||"leCollection",ye.target.value==="false"?!1:ye.target.value==="true"?!0:ye.target.value)},h().createElement(e.MenuItem,{key:"_false",value:"false",style:{fontWeight:"bold"}},t.I18n.t("ra_Do not use let's encrypt")),h().createElement(e.MenuItem,{key:"_true",value:"true",style:{fontWeight:"bold"}},t.I18n.t("ra_Use all available let's encrypt certificates")),(he=this.state.collectionsOptions)==null?void 0:he.map(ye=>h().createElement(e.MenuItem,{key:ye,value:ye},ye)))):null,this.state.collectionsOptions?h().createElement("br",null):null,this.state.collectionsOptions&&u!=="false"?h().createElement("div",null,t.I18n.t("ra_Fallback custom certificates")):null,h().createElement(e.FormControl,{className:this.props.classes.certWidth,variant:"standard"},h().createElement(e.InputLabel,{shrink:!0},t.I18n.t("ra_Public certificate")),h().createElement(e.Select,{variant:"standard",error:!!a,displayEmpty:!0,disabled:!!l,value:v||"",renderValue:()=>this.getText(B==null?void 0:B.label),onChange:ye=>this.onChange(this.props.schema.certPublicName||"certPublic",ye.target.value)},(ce=this.state.certsPublicOptions)==null?void 0:ce.map((ye,be)=>h().createElement(e.MenuItem,{key:`${ye.value}_${be}`,value:ye.value,style:ye.value===f.NONE_VALUE?{opacity:.5}:{}},this.getText(ye.label))))),h().createElement(e.FormControl,{className:this.props.classes.certWidth,variant:"standard"},h().createElement(e.InputLabel,{shrink:!0},t.I18n.t("ra_Private certificate")),h().createElement(e.Select,{variant:"standard",error:!!a,displayEmpty:!0,disabled:!!l,value:x||"",renderValue:()=>this.getText(z==null?void 0:z.label),onChange:ye=>this.onChange(this.props.schema.certPrivateName||"certPrivate",ye.target.value)},(de=this.state.certsPrivateOptions)==null?void 0:de.map((ye,be)=>h().createElement(e.MenuItem,{key:`${ye.value}_${be}`,value:ye.value,style:ye.value===f.NONE_VALUE?{opacity:.5}:{}},this.getText(ye.label))))),h().createElement(e.FormControl,{className:this.props.classes.certWidth,variant:"standard"},h().createElement(e.InputLabel,{shrink:!0},t.I18n.t("ra_Chained certificate")),h().createElement(e.Select,{variant:"standard",error:!!a,displayEmpty:!0,disabled:!!l,value:O||"",renderValue:()=>this.getText(Y==null?void 0:Y.label),onChange:ye=>this.onChange(this.props.schema.certChainedName||"certChained",ye.target.value)},(ve=this.state.certsChainOptions)==null?void 0:ve.map((ye,be)=>h().createElement(e.MenuItem,{key:`${ye.value}_${be}`,value:ye.value,style:ye.value===f.NONE_VALUE?{opacity:.5}:{}},this.getText(ye.label))))))}}const _e=(0,F.withStyles)(ue)(xe),Je={fullWidth:{width:"100%"}};class Be extends f{componentDidMount(){return Nt(this,null,function*(){var u;Wn(Be.prototype,this,"componentDidMount").call(this);let a;const l=yield this.props.socket.getObject("system.certificates");(u=l==null?void 0:l.native)!=null&&u.collections?a=Object.keys(l.native.collections):a=[],this.setState({collectionsOptions:a})})}renderItem(a,l){var v;if(!this.state.collectionsOptions)return null;const u=(f.getValue(this.props.data,this.props.schema.leCollectionName||"leCollection")||"false").toString();return h().createElement(e.FormControl,{className:this.props.classes.fullWidth,variant:"standard"},this.props.schema.label?h().createElement(e.InputLabel,{shrink:!0},this.getText(this.props.schema.label)):null,h().createElement(e.Select,{variant:"standard",error:!!a,displayEmpty:!0,disabled:!!l,value:u,onChange:x=>this.onChange(this.props.schema.leCollectionName||"leCollection",x.target.value==="false"?!1:x.target.value==="true"?!0:x.target.value)},h().createElement(e.MenuItem,{key:"_false",value:"false",style:{fontWeight:"bold"}},t.I18n.t("ra_Do not use let's encrypt")),h().createElement(e.MenuItem,{key:"_true",value:"true",style:{fontWeight:"bold"}},t.I18n.t("ra_Use all available let's encrypt certificates")),(v=this.state.collectionsOptions)==null?void 0:v.map(x=>h().createElement(e.MenuItem,{key:x,value:x},x))),this.props.schema.help?h().createElement(e.FormHelperText,null,this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)):null)}}const He=(0,F.withStyles)(Je)(Be),Xe=y=>({fullWidth:{width:"100%"},icon:{width:24,height:24,marginRight:4},licLabel:{fontWeight:"bold",minWidth:100,marginRight:10,textTransform:"capitalize",display:"inline-block"},licValue:{fontWeight:"normal"},errorTitle:{color:y.palette.mode==="dark"?"#e39191":"#b62020"},okTitle:{color:y.palette.mode==="dark"?"#6fd56f":"#007c00"},errorText:{color:y.palette.mode==="dark"?"#e39191":"#b62020",marginBottom:30}});class Ue extends f{componentDidMount(){return Nt(this,null,function*(){Wn(Ue.prototype,this,"componentDidMount").call(this),this.setState({_error:"",running:!1,showLicenseData:null,foundSuitableLicense:!1,licenseOfflineCheck:!1,result:null,allLicenses:null,askForUpdate:!1,showLinkToProfile:!1})})}renderErrorDialog(){if(this.state._error&&!this.state.showLicenseData){let a=this.state._error;return this.state.allLicenses&&(a=[h().createElement("div",{key:"error"},a)],a.push(h().createElement(e.Button,{key:"button",variant:"contained",onClick:()=>window.open("https://iobroker.net/www/account/licenses","_blank")},t.I18n.t("iobroker.net"))),this.state.allLicenses.length?a.push(h().createElement(e.TableContainer,{key:"table"},h().createElement(e.Table,{size:"small"},h().createElement(e.TableHead,null,h().createElement(e.TableRow,null,h().createElement(e.TableCell,null,t.I18n.t("ra_Product")),h().createElement(e.TableCell,null,t.I18n.t("ra_Version")),h().createElement(e.TableCell,null,"UUID"),h().createElement(e.TableCell,null,t.I18n.t("ra_ValidTill")),h().createElement(e.TableCell,null,t.I18n.t("ra_Commercial")),h().createElement(e.TableCell,null,"ID"))),h().createElement(e.TableBody,null,this.state.allLicenses.map(l=>h().createElement(e.TableRow,{key:l.id},h().createElement(e.TableCell,{className:l.validName?"":this.props.classes.errorText},l.license.product),h().createElement(e.TableCell,{className:l.validVersion?"":this.props.classes.errorText},l.license.version),h().createElement(e.TableCell,{className:l.validUuid?"":this.props.classes.errorText},l.license.uuid||"--"),h().createElement(e.TableCell,{className:l.validTill?"":this.props.classes.errorText},l.license.validTill&&l.license.validTill!=="0000-00-00 00:00:00"?new Date(l.license.validTill).toLocaleDateString():"--"),h().createElement(e.TableCell,null,l.license.invoice!=="free"?l.license.invoice==="MANUALLY_CREATED"?"\u2713":l.license.invoice:"-"),h().createElement(e.TableCell,null,l.id))))))):(a.push(h().createElement("div",{key:"text1"},t.I18n.t("ra_No one license found in license manager"))),a.push(h().createElement("div",{key:"text2"},t.I18n.t("ra_Please create license"))))),h().createElement(e.Dialog,{open:!0,maxWidth:"xl",fullWidth:this.props.fullWidth!==void 0?this.props.fullWidth:!0,onClick:()=>this.setState({_error:"",allLicenses:null})},h().createElement(e.DialogTitle,null,t.I18n.t("ra_Error")),h().createElement(e.DialogContent,null,h().createElement(e.DialogContentText,null,a)),h().createElement(e.DialogActions,null,h().createElement(e.Button,{variant:"contained",onClick:()=>this.setState({_error:"",allLicenses:null}),color:"primary",autoFocus:!0,startIcon:h().createElement(s.Check,null)},t.I18n.t("ra_Ok"))))}return null}renderMessageDialog(){if(this.state.showLicenseData){const a=[],l=this.state.showLicenseData;return Object.keys(l).forEach(u=>{if(!(l[u]===null||l[u]===void 0))if(typeof l[u]=="object"){const v=l[u];Object.keys(v).forEach(x=>{v[x]!==null&&v[x]!==void 0&&(typeof v[x]=="object"?a.push(h().createElement("div",{key:x},h().createElement("div",{className:this.props.classes.licLabel},x,":"),JSON.stringify(v[x],null,2))):a.push(h().createElement("div",{key:x},h().createElement("div",{className:this.props.classes.licLabel},u," ","-",x,":"),v[x].toString())))})}else a.push(h().createElement("div",{key:u},h().createElement("div",{className:this.props.classes.licLabel},u.replace(/_/g," "),":"),l[u].toString()))}),a.push(h().createElement("div",{key:"checked"},h().createElement("div",{className:this.props.classes.licLabel},t.I18n.t("ra_Checked"),":"),this.state.licenseOfflineCheck?t.I18n.t("ra_locally"):t.I18n.t("ra_via internet"))),h().createElement(e.Dialog,{open:!0,onClose:()=>this.setState({showLicenseData:null})},h().createElement(e.DialogTitle,null,h().createElement("span",{className:this.state.result?this.props.classes.okTitle:this.props.classes.errorTitle},t.I18n.t("ra_License %s",this.state.result?"OK":"INVALID"))),h().createElement(e.DialogContent,null,this.state.showLinkToProfile?h().createElement(e.Button,{variant:"contained",onClick:()=>window.open("https://iobroker.net/www/account/licenses","_blank")},"https://iobroker.net"):null,this.state._error?h().createElement("div",{className:this.props.classes.errorText},this.state._error):null,a),h().createElement(e.DialogActions,null,h().createElement(e.Button,{onClick:()=>this.setState({showLicenseData:null,_error:""}),color:"primary",variant:"contained"},t.I18n.t("ra_Close"))))}return null}static parseJwt(a){const u=a.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),v=decodeURIComponent(atob(u).split("").map(x=>`%${`00${x.charCodeAt(0).toString(16)}`.slice(-2)}`).join(""));try{return JSON.parse(v)}catch(x){return null}}static isVersionValid(a,l,u,v){if(!l||!a)return!0;let x=!0;const[O]=a.split(".");return l.startsWith(">=")?x=parseInt(O,10)>=parseInt(l.substring(2,10)):l.startsWith("<=")?x=parseInt(O,10)<=parseInt(l.substring(2,10)):l.startsWith(">")?x=parseInt(O,10)>parseInt(l.substring(1,10)):l.startsWith("<")?x=parseInt(O,10)<parseInt(l.substring(1,10)):l.startsWith("=")?x=parseInt(O,10)===parseInt(l.substring(1,10)):l.startsWith("==")?x=parseInt(O,10)===parseInt(l.substring(2,10)):l.startsWith("===")&&(x=parseInt(O,10)===parseInt(l.substring(3,10))),!0}findInLicenseManager(a){return Nt(this,null,function*(){var v,x,O,B;const l=yield this.props.socket.getObject("system.licenses"),u=[];if((x=(v=l==null?void 0:l.native)==null?void 0:v.licenses)!=null&&x.length){let z=null;const Y=Date.now();let te;if(this.props.schema.uuid){const oe=yield this.props.socket.getObject("system.meta.uuid");te=(O=oe==null?void 0:oe.native)==null?void 0:O.uuid}let re;if(this.props.schema.version){const oe=yield this.props.socket.getObject(`system.adapter.${a}`);re=(B=oe==null?void 0:oe.common)==null?void 0:B.version}l.native.licenses.forEach(oe=>{const he=!oe.validTill||oe.validTill==="0000-00-00 00:00:00"||new Date(oe.validTill).getTime()>Y,ce=(oe.product||"").split("."),de=ce[1]===a||a==="vis-2"&&ce[1]==="vis",ve=!te||!oe.uuid||oe.uuid===te,ye=Ue.isVersionValid(re,oe.version,oe.invoice,a);(!z||oe.invoice!=="free")&&he&&de&&ve&&ye&&(z=oe),u.push({id:oe.id,validName:de,validUuid:ve,validVersion:ye,validTill:he,license:oe})}),z&&(u.find(oe=>oe.id===z.id).used=!0)}return u})}checkLicense(a,l){return Nt(this,null,function*(){var B,z,Y;let u;if(this.props.schema.uuid){const te=yield this.props.socket.getObject("system.meta.uuid");u=(B=te==null?void 0:te.native)==null?void 0:B.uuid}let v;if(this.props.schema.version){const te=yield this.props.socket.getObject(`system.adapter.${l}`);v=(z=te==null?void 0:te.common)==null?void 0:z.version}const x=new AbortController;let O=setTimeout(()=>{O=null,x.abort()},5e3);try{const te=yield window.fetch("https://iobroker.net/api/v1/public/cert/",{method:"POST",body:JSON.stringify({json:a,uuid:u}),headers:{"Content-Type":"text/plain"},signal:x.signal});O&&clearTimeout(O);const re=yield te.text();let oe;try{oe=JSON.parse(re)}catch(he){}if(oe!=null&&oe.error)try{const he=Ue.parseJwt(a),ce=t.I18n.t(`ra_${he.error||oe.error||"Unknown error"}`).replace(/^ra_/,"");return this.setState({_error:ce,licenseOfflineCheck:!1,showLicenseData:he,result:!1,running:!1})}catch(he){return console.log("Cannot parse license"),this.setState({_error:oe.error,result:!1,running:!1})}else{let he=null;try{he=Ue.parseJwt(a)}catch(ce){}if(oe){const ce=oe.validTill||oe.valid_till;if(ce&&ce!=="0000-00-00 00:00:00"&&new Date(ce).getTime()<Date.now())return this.setState({_error:t.I18n.t("ra_License expired on %s",new Date(ce).toLocaleString()),licenseOfflineCheck:!1,showLicenseData:he,result:!1,running:!1});const de=(oe.name||"").split(".");return de[1]===l||de[1]==="vis"&&l==="vis-2"?u&&!oe.uuid&&l==="vis-2"?this.setState({_error:t.I18n.t("ra_License must be converted",oe.uuid),showLinkToProfile:!0,licenseOfflineCheck:!1,showLicenseData:he,result:!1,running:!1}):u&&oe.uuid&&oe.uuid!==u?this.setState({_error:t.I18n.t('ra_Serial number (UUID) "%s" in license is for other device.',oe.uuid),licenseOfflineCheck:!1,showLicenseData:he,result:!1,running:!1}):Ue.isVersionValid(v,oe.version,oe.invoice,l)?this.setState({licenseOfflineCheck:!1,showLicenseData:he,result:!0,running:!1}):this.setState({_error:t.I18n.t("ra_License is for version %s, but required version is %s",oe.version,this.props.schema.version),licenseOfflineCheck:!1,showLicenseData:he,result:!1,running:!1}):this.setState({_error:t.I18n.t('ra_License for other product "%s"',oe.name),licenseOfflineCheck:!1,showLicenseData:he,result:!1,running:!1})}throw new Error("ra_Invalid answer from server")}}catch(te){if(((Y=te==null?void 0:te.response)==null?void 0:Y.status)===404)return this.setState({_error:t.I18n.t("ra_License does not exist"),result:!1,running:!1});try{const re=Ue.parseJwt(a),oe=(re.name||"").split(".");return re.valid_till&&re.valid_till!=="0000-00-00 00:00:00"&&new Date(re.valid_till).getTime()<Date.now()?this.setState({_error:t.I18n.t("ra_License expired on %s",new Date(re.valid_till).toLocaleString()),showLicenseData:re,licenseOfflineCheck:!0,running:!1,result:!1}):oe[1]===l?u&&re.uuid&&re.uuid!==u?this.setState({_error:t.I18n.t('ra_Serial number (UUID) "%s" in license is for other device.',re.uuid),showLicenseData:re,licenseOfflineCheck:!0,result:!1,running:!1}):Ue.isVersionValid(v,re.version,re.invoice,l)?this.setState({running:!1,result:!0,licenseOfflineCheck:!0,showLicenseData:re}):this.setState({_error:t.I18n.t("ra_License is for version %s, but required version is %s",re.version,this.props.schema.version),licenseOfflineCheck:!0,showLicenseData:re,result:!1,running:!1}):this.setState({_error:t.I18n.t('ra_License for other product "%s"',re.name),licenseOfflineCheck:!0,showLicenseData:re,result:!1,running:!1})}catch(re){return this.setState({_error:t.I18n.t("ra_Cannot decode license"),result:!1,licenseOfflineCheck:!0,running:!1})}}})}renderAskForUpdate(){return this.state.askForUpdate?h().createElement(t.Confirm,{text:t.I18n.t("ra_License not found in license manager. Do you want to read licenses from iobroker.net?"),ok:t.I18n.t("ra_Yes"),onClose:a=>Nt(this,null,function*(){if(a){this.setState({askForUpdate:!1});try{yield this.props.socket.updateLicenses(null,null)}catch(l){window.alert(t.I18n.t("ra_Cannot read licenses: %s",l));return}yield this._onClick(!0)}else this.setState({askForUpdate:!1,running:!1})})}):null}_onClick(a){return Nt(this,null,function*(){const l=this.props.adapterName==="vis-2"?"vis":this.props.adapterName;this.setState({running:!0});let u,v;if(this.props.data.useLicenseManager){if(v=yield this.findInLicenseManager(l),u=v.find(x=>x.used),u&&(u=u.license.json),!u&&!a){this.setState({askForUpdate:!0});return}}else u=this.props.data.license;u?yield this.checkLicense(u,l):this.props.data.useLicenseManager?this.setState({_error:t.I18n.t("ra_Suitable license not found in license manager"),result:!1,running:!1,allLicenses:v}):this.setState({_error:t.I18n.t("ra_Please enter the license"),result:!1,running:!1})})}renderItem(){return h().createElement("div",{className:this.props.classes.fullWidth},h().createElement(e.Button,{variant:this.props.schema.variant||"outlined",color:this.props.schema.color||"primary",className:this.props.classes.fullWidth,disabled:!this.props.data.license&&!this.props.data.useLicenseManager||this.state.running,startIcon:h().createElement(s.Send,null),onClick:()=>this._onClick()},this.state.running?h().createElement(e.CircularProgress,{size:20,style:{marginRight:8}}):null,this.getText(this.props.schema.label||"ra_Check license",this.props.schema.noTranslation)),this.renderMessageDialog(),this.renderErrorDialog(),this.renderAskForUpdate())}}const rt=(0,F.withStyles)(Xe)(Ue),St={error:{color:"red"}};class kt extends f{renderItem(a,l){const u=f.getValue(this.props.data,this.props.attr),v=Array.isArray(u);return h().createElement(e.FormControl,{className:this.props.classes.fullWidth,variant:"standard"},h().createElement(e.FormControlLabel,{onClick:x=>{x.preventDefault(),x.stopPropagation(),l||this.onChange(this.props.attr,!u)},control:h().createElement(e.Checkbox,{indeterminate:v,checked:!!u,onChange:x=>{v?this.onChange(this.props.attr,!0):this.onChange(this.props.attr,x.target.checked)},disabled:l}),label:this.getText(this.props.schema.label)}),h().createElement(e.FormHelperText,{className:this.props.classes.error},a?this.props.schema.validatorErrorText?t.I18n.t(this.props.schema.validatorErrorText):t.I18n.t("ra_Error"):null),this.props.schema.help?h().createElement(e.FormHelperText,null,this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)):null)}}const It=(0,F.withStyles)(St)(kt);var zt=L(23479),Xt=L.n(zt),on=L(98625),Jt=L(34603);const tn={standard:e.Input,filled:on.A,outlined:e.OutlinedInput},rn=y=>{const a=y.palette.type==="light",l=a?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return{root:{},inputRoot:{display:"inline-flex",flexWrap:"wrap",flex:1,marginTop:0,minWidth:70,"&$outlined,&$filled":{boxSizing:"border-box"},"&$outlined":{paddingTop:14},"&$filled":{paddingTop:28}},input:{display:"inline-block",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",appearance:"none",WebkitTapHighlightColor:"rgba(0,0,0,0)",float:"left",flex:1},chipContainer:{display:"flex",flexFlow:"row wrap",cursor:"text",marginBottom:-2,minHeight:40,"&$labeled&$standard":{marginTop:18}},outlined:{"& input":{height:16,paddingTop:4,paddingBottom:12,marginTop:4,marginBottom:4}},standard:{},filled:{"& input":{height:22,marginBottom:4,marginTop:4,paddingTop:0},"$marginDense & input":{height:26}},labeled:{},label:{top:4,"&$outlined&:not($labelShrink)":{top:2,"$marginDense &":{top:5}},"&$filled&:not($labelShrink)":{top:15,"$marginDense &":{top:20}}},labelShrink:{top:0},helperText:{marginBottom:-20},focused:{},disabled:{},underline:{"&:after":{borderBottom:`2px solid ${y.palette.primary[a?"dark":"light"]}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:y.transitions.create("transform",{duration:y.transitions.duration.shorter,easing:y.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:y.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:`1px solid ${l}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:y.transitions.create("border-bottom-color",{duration:y.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:not($disabled):not($focused):not($error):before":{borderBottom:`2px solid ${y.palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${l}`}},"&$disabled:before":{borderBottomStyle:"dotted"}},error:{"&:after":{backgroundColor:y.palette.error.main,transform:"scaleX(1)"}},chip:{margin:"0 8px 8px 0",float:"left"},marginDense:{}}},Cn={BACKSPACE:8,DELETE:46,LEFT_ARROW:37,RIGHT_ARROW:39},Tn=({value:y,isFocused:a,isDisabled:l,isReadOnly:u,handleClick:v,handleDelete:x,className:O},B)=>h().createElement(e.Chip,{key:B,className:O,style:{pointerEvents:l||u?"none":void 0,backgroundColor:a?Jt.A[300]:void 0},onClick:v,onDelete:x,label:y});class Rt extends h().Component{constructor(l){super(l);$t(this,"labelRef");$t(this,"labelNode",null);$t(this,"input");$t(this,"newChipKeyCodes");$t(this,"newChipKeys");$t(this,"actualInput",null);$t(this,"inputBlurTimeout",null);$t(this,"_keyPressed");$t(this,"_preventChipCreation");$t(this,"focus",()=>{var l;(l=this.actualInput)==null||l.focus(),this.state.focusedChip&&this.setState({focusedChip:null})});$t(this,"handleInputBlur",l=>{this.props.onBlur&&this.props.onBlur(l),this.setState({isFocused:!1}),this.state.focusedChip&&this.setState({focusedChip:null});const u=l.target.value;let v;switch(this.props.blurBehavior||"clear"){case"add-or-clear":v={clearInputOnFail:!0};case"add":if(this.props.delayBeforeAdd){const x=(this.props.value||this.state.chips).length;this.inputBlurTimeout=setTimeout(()=>{const O=(this.props.value||this.state.chips).length;x===O?this.handleAddChip(u,v):this.clearInput()},150)}else this.handleAddChip(u,v);break;case"clear":this.clearInput();break;default:break}});$t(this,"handleInputFocus",l=>{this.setState({isFocused:!0}),this.props.onFocus&&this.props.onFocus(l)});$t(this,"handleKeyDown",l=>{const{focusedChip:u}=this.state;if(this._keyPressed=!1,this._preventChipCreation=!1,this.props.onKeyDown&&(this.props.onKeyDown(l),l.isDefaultPrevented()))return;const v=this.props.value||this.state.chips;if(this.newChipKeyCodes.includes(l.keyCode)||this.newChipKeys.includes(l.key)){this.handleAddChip(l.target.value)!==!1&&l.preventDefault();return}switch(l.keyCode){case Cn.BACKSPACE:l.target.value===""&&(u?(this.handleDeleteChip(v[u],u),u&&this.setState({focusedChip:u-1})):this.setState({focusedChip:v.length-1}));break;case Cn.DELETE:l.target.value===""&&u&&(this.handleDeleteChip(v[u],u),u<=v.length-1&&this.setState({focusedChip:u}));break;case Cn.LEFT_ARROW:u===null&&l.target.value===""&&v.length?this.setState({focusedChip:v.length-1}):u!==null&&u>0&&this.setState({focusedChip:u-1});break;case Cn.RIGHT_ARROW:u!==null&&u<v.length-1?this.setState({focusedChip:u+1}):this.setState({focusedChip:null});break;default:this.setState({focusedChip:null});break}});$t(this,"handleKeyUp",l=>{!this._preventChipCreation&&(this.newChipKeyCodes.includes(l.keyCode)||this.newChipKeys.includes(l.key))&&this._keyPressed?this.clearInput():this.updateInput(l.target.value),this.props.onKeyUp&&this.props.onKeyUp(l)});$t(this,"handleKeyPress",l=>{this._keyPressed=!0,this.props.onKeyPress&&this.props.onKeyPress(l)});$t(this,"handleUpdateInput",l=>{(this.props.inputValue===null||this.props.inputValue===void 0)&&this.updateInput(l.target.value),this.props.onUpdateInput&&this.props.onUpdateInput(l)});$t(this,"setActualInputRef",l=>{this.actualInput=l,this.props.inputRef&&this.props.inputRef(l)});this.state={chips:l.defaultValue||[],focusedChip:null,inputValue:"",isFocused:!1,chipsUpdated:!1,prevPropsValue:[],variant:this.props.variant||"standard"},this.newChipKeyCodes=l.newChipKeyCodes||[13],this.newChipKeys=l.newChipKeys||["Enter"],this.labelRef=h().createRef(),this.input=h().createRef()}componentDidMount(){this.state.variant==="outlined"&&(this.labelNode=Xt().findDOMNode(this.labelRef.current),this.forceUpdate())}componentWillUnmount(){this.inputBlurTimeout&&clearTimeout(this.inputBlurTimeout)}static getDerivedStateFromProps(l,u){let v=null;return l.value&&l.value.length!==u.prevPropsValue.length&&(v={prevPropsValue:l.value},l.clearInputValueOnChange&&(v.inputValue="")),l.clearInputValueOnChange&&l.value&&l.value.length!==u.prevPropsValue.length&&(v={prevPropsValue:l.value,inputValue:""}),l.disabled&&(v=zn(Yt({},v),{focusedChip:null})),!u.chipsUpdated&&l.defaultValue&&(v=zn(Yt({},v),{chips:l.defaultValue})),v}handleAddChip(l,u){if(this.props.onBeforeAdd&&!this.props.onBeforeAdd(l))return this._preventChipCreation=!0,u&&u.clearInputOnFail&&this.clearInput(),!1;this.clearInput();const v=this.props.value||this.state.chips;return l.trim().length?((this.props.allowDuplicates||!v.includes(l))&&(this.props.value&&this.props.onAdd?this.props.onAdd(l):this.updateChips([...this.state.chips,l])),!0):!1}handleDeleteChip(l,u){if(this.props.value)this.props.onDelete&&this.props.onDelete(l,u);else{const v=this.state.chips.slice();if(v.splice(u,1)){let O=this.state.focusedChip;this.state.focusedChip===u?O=null:this.state.focusedChip>u&&(O=this.state.focusedChip-1),this.updateChips(v,{focusedChip:O})}}}updateChips(l,u={}){this.setState(Yt({chips:l,chipsUpdated:!0},u)),this.props.onChange&&this.props.onChange(l)}clearInput(){this.updateInput("")}updateInput(l){this.setState({inputValue:l})}render(){const{alwaysShowPlaceholder:l,chipRenderer:u=Tn,classes:v,className:x,disabled:O,disableUnderline:B,error:z,FormHelperTextProps:Y,fullWidth:te,fullWidthInput:re,helperText:oe,id:he,InputProps:ce={},InputLabelProps:de={},inputValue:ve,label:ye,placeholder:be,readOnly:Ie,required:Ge,rootRef:Pe,value:We,margin:ze}=this.props,$e=this.state.variant;let Ze=We||this.state.chips||[];Array.isArray(Ze)||(Ze=(Ze||"").toString().split(/[,\s]+/).map(Tt=>Tt.trim()));const qe=ve!=null?ve:this.state.inputValue,Ve=(this.props.value||qe).length||qe.length,Qe=typeof de.shrink=="boolean"?de.shrink:ye!==null&&(Ve||this.state.isFocused||Ze.length),Me=Ze.map((Tt,Dt)=>u({value:Tt,isDisabled:!!O,isReadOnly:Ie,isFocused:this.state.focusedChip===Dt,handleClick:()=>this.setState({focusedChip:Dt}),handleDelete:()=>this.handleDeleteChip(Tt,Dt),className:v.chip},Dt.toString())),ot={};$e==="outlined"&&(ot.notched=!!Qe,ot.labelWidth=Qe&&this.labelNode&&this.labelNode.offsetWidth||0),$e!=="standard"?ot.startAdornment=Me:ce.disableUnderline=!0;const bt=tn[$e];return h().createElement(e.FormControl,{ref:Pe,fullWidth:te,className:E.clsx(x,v.root,ze==="dense"&&v.marginDense),error:z,required:Ze.length>0?void 0:Ge,onClick:this.focus,disabled:O,variant:$e,component:"div",margin:ze},ye&&h().createElement(e.InputLabel,Yt({htmlFor:he,classes:{root:E.clsx(v[$e],v.label),shrink:v.labelShrink},shrink:!!Qe,focused:this.state.isFocused,variant:$e,ref:this.labelRef,required:Ge,component:"label"},de),ye),h().createElement("div",{className:E.clsx(v[$e],v.chipContainer,this.state.isFocused&&v.focused,!B&&$e==="standard"&&v.underline,O&&v.disabled,ye&&v.labeled,z&&v.error)},$e==="standard"&&Me,h().createElement(bt,Yt(Yt({ref:this.input,classes:{input:E.clsx(v.input,v[$e]),root:E.clsx(v.inputRoot,v[$e])},id:he,value:qe,onChange:this.handleUpdateInput,onKeyDown:this.handleKeyDown,onKeyPress:this.handleKeyPress,onKeyUp:this.handleKeyUp,onFocus:this.handleInputFocus,onBlur:this.handleInputBlur,inputRef:this.setActualInputRef,disabled:O,fullWidth:re,placeholder:!Ve&&(Qe||ye===null||ye===void 0)||l?be:null,readOnly:Ie},ce),ot))),oe&&h().createElement(e.FormHelperText,zn(Yt({},Y),{className:Y?E.clsx(Y.className,v.helperText):v.helperText}),oe))}}const Ae=(0,F.withStyles)(rn,{name:"WAMuiChipInput"})(Rt),pt=()=>({fullWidth:{width:"100%"}});class mt extends f{componentDidMount(){super.componentDidMount();const{data:a,attr:l}=this.props,u=f.getValue(a,l);if(this.props.schema.delimiter&&typeof u=="string"){const v=u.split(this.props.schema.delimiter).map(x=>x.trim()).filter(x=>x);this.setState({value:v})}else this.setState({value:u||[]})}renderItem(a,l){const{attr:u,schema:v}=this.props,{value:x}=this.state;return h().createElement(e.FormControl,{className:this.props.classes.fullWidth,variant:"standard"},h().createElement(Ae,{value:x,disabled:!!l,label:this.getText(v.label),error:!!a,onAdd:O=>{const B=JSON.parse(JSON.stringify(x));B.push(O),this.setState({value:B,prevValue:""},()=>{this.props.schema.delimiter?this.onChange(u,B.join(`${this.props.schema.delimiter} `)):this.onChange(u,B)})},onDelete:(O,B)=>{const z=JSON.parse(JSON.stringify(x));z.splice(B,1),this.setState({value:z,prevValue:""},()=>{this.props.schema.delimiter?this.onChange(u,z.join(`${this.props.schema.delimiter} `)):this.onChange(u,z)})}}),this.props.schema.help?h().createElement(e.FormHelperText,null,this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)):null)}}mt.propTypes={socket:I().object.isRequired,themeType:I().string,themeName:I().string,style:I().object,className:I().string,data:I().object.isRequired,schema:I().object,onError:I().func,onChange:I().func};const lt=(0,F.withStyles)(pt)(mt);var Bt=L(55385);class Gt extends f{renderColorDialog(){return!!this.state.showColorDialog&&h().createElement(e.Dialog,{onClose:()=>this.setState({showColorDialog:!1}),open:this.state.showColorDialog},h().createElement(Bt.ChromePicker,{color:this.state.colorDialogValue,onChange:a=>this.setState({colorDialogValue:a.hex},()=>this.onChange(this.props.attr,this.state.colorDialogValue))}))}renderItem(a,l){const u=f.getValue(this.props.data,this.props.attr);let v=t.Utils.isUseBright(u,null);return v===null&&(v=void 0),h().createElement(h().Fragment,null,this.renderColorDialog(),h().createElement(e.TextField,{variant:"standard",disabled:!!l,style:{minWidth:100,width:"calc(100% - 8px)"},label:this.getText(this.props.schema.label),value:u||"",onClick:()=>!this.props.schema.readOnly&&this.setState({showColorDialog:!0,colorDialogValue:u||""}),onChange:x=>{const O=x.target.value;this.onChange(this.props.attr,O)},inputProps:{style:{backgroundColor:u,color:v?"#FFF":"#000"},readOnly:this.props.schema.readOnly||!1},InputProps:{endAdornment:u&&!this.props.schema.noClearButton?h().createElement(e.IconButton,{size:"small",onClick:x=>{x.stopPropagation(),this.onChange(this.props.attr,"")}},h().createElement(s.Close,null)):void 0},InputLabelProps:{shrink:!0}}))}}const Oe=Gt,nn={width:{width:"calc(100% - 85px)"},width50:{width:120,marginRight:5}};class dt extends f{componentDidMount(){super.componentDidMount();const a=f.getValue(this.props.data,this.props.attr);this.setState({value:a});const l={};this.props.schema.useSystemName&&(l.useSystem=!!f.getValue(this.props.data,this.props.schema.useSystemName)),this.props.schema.longitudeName&&this.props.schema.latitudeName?(l.longitude=f.getValue(this.props.data,this.props.schema.longitudeName),l.latitude=f.getValue(this.props.data,this.props.schema.latitudeName),!l.longitude&&!l.latitude&&this.props.schema.autoInit&&setTimeout(()=>this.getCoordinates(),300)):!f.getValue(this.props.data,this.props.attr)&&this.props.schema.autoInit&&setTimeout(()=>this.getCoordinates(),300),Object.keys(l).length&&setTimeout(()=>this.setState(l),50)}getSystemCoordinates(){return Nt(this,null,function*(){const a=yield this.props.socket.getCompactSystemConfig();if(a!=null&&a.common&&(a.common.longitude||a.common.latitude))if(window.alert(t.I18n.t("ra_Used system settings")),this.props.schema.longitudeName&&this.props.schema.latitudeName)this.setState({longitude:a.common.longitude,latitude:a.common.latitude},()=>Nt(this,null,function*(){yield this.onChange(this.props.schema.longitudeName,(a.common.longitude||"").trim()),yield this.onChange(this.props.schema.latitudeName,(a.common.latitude||"").trim())}));else{const l=a.common.latitude+(this.props.schema.divider||",")+a.common.longitude;this.setState({value:l},()=>{this.onChange(this.props.attr,l)})}else window.alert(t.I18n.t("ra_Cannot determine position: System settings are empty and GPS detection is disabled in browser"))})}getCoordinates(){navigator.geolocation?navigator.geolocation.getCurrentPosition(a=>{if(a!=null&&a.coords)if(this.props.schema.longitudeName&&this.props.schema.latitudeName)this.setState({longitude:a.coords.longitude,latitude:a.coords.latitude},()=>Nt(this,null,function*(){yield this.onChange(this.props.schema.longitudeName,a.coords.longitude||""),yield this.onChange(this.props.schema.latitudeName,a.coords.latitude||"")}));else{const l=a.coords.latitude+(this.props.schema.divider||",")+a.coords.longitude;this.setState({value:l},()=>{this.onChange(this.props.attr,l)})}else this.getSystemCoordinates()},a=>{console.error(`Cannot determine coordinates from browser: ${a}`),this.getSystemCoordinates()}):this.getSystemCoordinates()}renderItem(a,l){var u,v;return h().createElement(h().Fragment,null,this.props.schema.useSystemName?h().createElement(e.FormControlLabel,{control:h().createElement(e.Checkbox,{checked:!!this.state.useSystem,onChange:x=>{const O=x.target.checked;O&&this.getSystemCoordinates(),this.setState({useSystem:O},()=>this.onChange(this.props.schema.useSystemName,O))}}),label:t.I18n.t("ra_Use system settings for position")}):null,this.props.schema.longitudeName&&this.props.schema.latitudeName?h().createElement(e.TextField,{variant:"standard",className:this.props.classes.width50,value:(u=this.state.longitude)!=null?u:"",error:!!a,disabled:this.state.useSystem||!!l,onChange:x=>{const O=x.target.value;this.setState({longitude:O},()=>{this.onChange(this.props.schema.longitudeName,(O||"").trim())})},label:t.I18n.t("ra_Longitude")}):null,this.props.schema.longitudeName&&this.props.schema.latitudeName?h().createElement(e.TextField,{variant:"standard",className:this.props.classes.width50,value:(v=this.state.latitude)!=null?v:"",error:!!a,disabled:this.state.useSystem||!!l,onChange:x=>{const O=x.target.value;this.setState({latitude:O},()=>this.onChange(this.props.schema.latitudeName,(O||"").trim()))},label:t.I18n.t("ra_Latitude")}):null,!this.props.schema.longitudeName||!this.props.schema.latitudeName?h().createElement(e.TextField,{variant:"standard",className:this.props.classes.width,value:this.state.value===null||this.state.value===void 0?"":this.state.value,error:!!a,disabled:!!l,inputProps:{maxLength:this.props.schema.maxLength||this.props.schema.max||void 0,readOnly:this.state.useSystem},onChange:x=>{const O=x.target.value;this.setState({value:O},()=>this.onChange(this.props.attr,(O||"").trim()))},placeholder:this.getText(this.props.schema.placeholder),label:this.getText(this.props.schema.label),helperText:this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)}):null,this.state.useSystem?null:h().createElement(e.Fab,{size:"small",onClick:()=>this.getCoordinates(),title:t.I18n.t("ra_Take browser position"),style:{marginRight:4}},h().createElement(s.LocationOn,null)),this.state.useSystem?null:h().createElement(e.Fab,{size:"small",onClick:()=>this.getSystemCoordinates(),title:t.I18n.t("ra_Take position from system settings")},h().createElement(s.GpsFixed,null)))}}const Wt=(0,F.withStyles)(nn)(dt),an=(y,a,l)=>new Promise((u,v)=>{if(window[y])u(window[y]);else{const x=document.querySelector(`script[data-webpack="${y}"]`),O=()=>Nt(this,null,function*(){if(window[y])window[y].__initialized||(yield window[y].init(L.S[a]),window[y].__initialized=!0);else{console.error(`Cannot load ${y}`),v(new Error(`Cannot load ${y}`));return}u(window[y])});if(x)x.onload=O,x.onerror=v;else if(l){const B=document,z=B.createElement("script");z.type="text/javascript",z.setAttribute("data-webpack",`${y}`),z.async=!0,z.onerror=v,z.onload=O,z.src=l,B.getElementsByTagName("head")[0].appendChild(z)}else v(new Error(`Cannot Find Remote ${y} to inject`))}});function cn(y,a,l,u){return()=>Nt(this,null,function*(){return(yield(yield an(y,a,u)).get(l))()})}const ts=class ts extends M.Component{constructor(a){super(a),this.state={Component:null,error:""}}componentDidMount(){return Nt(this,null,function*(){if(!this.props.schema.url){console.error("URL is empty. Cannot load custom component!"),this.setState({error:"URL is empty. Cannot load custom component!"});return}let a;this.props.schema.url.startsWith("./")?a=`${window.location.protocol}//${window.location.host}${this.props.schema.url.replace(/^\./,"")}`:a=`${window.location.protocol}//${window.location.host}/adapter/${this.props.adapterName}/${this.props.schema.url}`;const[l,u,...v]=this.props.schema.name.split("/"),x=v.join("/");if(!a){console.error('Cannot find URL for custom component! Please define "url" as "custom/customComponents.js" in the schema');return}if(!l||!u||!x){console.error('Invalid format of "name"! Please define "name" as "ConfigCustomBackItUpSet/Components/AdapterExist" in the schema');return}let O=ts.runningLoads[`${a}!${u}`];if(!O){let B;if(this.props.schema.i18n===!0){const z=a.lastIndexOf("/");let Y;z!==-1?Y=a.substring(0,z):Y=a;const te=t.I18n.getLanguage(),re=`${Y}/i18n/${te}.json`;B=fetch(re).then(oe=>oe.json()).then(oe=>t.I18n.extendTranslations(oe,te)).catch(oe=>{if(te!=="en"){fetch(`${Y}/i18n/en.json`).then(he=>he.json()).then(he=>t.I18n.extendTranslations(he,te)).catch(he=>console.log(`Cannot load i18n "${re}": ${he}`));return}console.log(`Cannot load i18n "${re}": ${oe}`)})}else if(this.props.schema.i18n&&typeof this.props.schema.i18n=="object")try{t.I18n.extendTranslations(this.props.schema.i18n)}catch(z){console.error(`Cannot import i18n: ${z}`)}try{console.log(l,u,x),O=cn(l,"default",`./${u}`,a)(),B&&(O=Promise.all([O,B]).then(z=>z[0])),ts.runningLoads[`${a}!${u}`]=O}catch(z){this.setState({error:`Cannot import from ${this.props.schema.url}: ${z}`})}}try{const B=(yield O).default;if(B!=null&&B[x])this.setState({Component:B[x]});else{const z=Object.keys(B||{});console.error("URL is empty. Cannot load custom component!"),this.setState({error:`Component ${this.props.schema.name} not found in ${this.props.schema.url}. Found: ${z.join(", ")}`})}}catch(B){this.setState({error:`Cannot import from ${this.props.schema.url}: ${B}`})}})}render(){const a=this.state.Component;if(!a){if(this.state.error)return null;const l=this.props.schema||{},u=h().createElement(e.Grid,{item:!0,xs:l.xs||void 0,lg:l.lg||void 0,md:l.md||void 0,sm:l.sm||void 0,style:Yt(Yt({marginBottom:0,textAlign:"left"},l.style),this.props.themeType==="dark"?l.darkStyle:{})},this.state.error?h().createElement("div",null,this.state.error):h().createElement(e.LinearProgress,null));return l.newLine?h().createElement(h().Fragment,null,h().createElement("div",{style:{flexBasis:"100%",height:0}}),u):u}return h().createElement(a,Yt({},this.props))}};$t(ts,"runningLoads",{});let pe=ts;var $=L(58168),H=L(98587),G=L(85437),Z=L(48399);function ne(y,a,l){return typeof y=="function"?y(a,l):y}const De=I().oneOfType([I().func,I().object]),me=(y,a)=>y.length!==a.length?!1:a.every(l=>y.includes(l)),Le=({openTo:y,defaultOpenTo:a,views:l,defaultViews:u})=>{const v=l!=null?l:u;let x;if(y!=null)x=y;else if(v.includes(a))x=a;else if(v.length>0)x=v[0];else throw new Error("MUI X: The `views` prop must contain at least one view.");return{views:v,openTo:x}},Ne=(y,a,l)=>{let u=a;return u=y.setHours(u,y.getHours(l)),u=y.setMinutes(u,y.getMinutes(l)),u=y.setSeconds(u,y.getSeconds(l)),u},Ye=({date:y,disableFuture:a,disablePast:l,maxDate:u,minDate:v,isDateDisabled:x,utils:O,timezone:B})=>{const z=Ne(O,O.date(void 0,B),y);l&&O.isBefore(v,z)&&(v=z),a&&O.isAfter(u,z)&&(u=z);let Y=y,te=y;for(O.isBefore(y,v)&&(Y=v,te=null),O.isAfter(y,u)&&(te&&(te=u),Y=null);Y||te;){if(Y&&O.isAfter(Y,u)&&(Y=null),te&&O.isBefore(te,v)&&(te=null),Y){if(!x(Y))return Y;Y=O.addDays(Y,1)}if(te){if(!x(te))return te;te=O.addDays(te,-1)}}return null},ft=(y,a)=>a==null||!y.isValid(a)?null:a,at=(y,a,l)=>a==null||!y.isValid(a)?l:a,ae=(y,a,l)=>!y.isValid(a)&&a!=null&&!y.isValid(l)&&l!=null?!0:y.isEqual(a,l),Ee=(y,a)=>{const u=[y.startOfYear(a)];for(;u.length<12;){const v=u[u.length-1];u.push(y.addMonths(v,1))}return u},fe=(y,a,l)=>l==="date"?y.startOfDay(y.date(void 0,a)):y.date(void 0,a),ke=(y,a)=>{const l=y.setHours(y.date(),a==="am"?2:14);return y.format(l,"meridiem")},we=["year","month","day"],Te=y=>we.includes(y),Se=(y,{format:a,views:l},u)=>{if(a!=null)return a;const v=y.formats;return me(l,["year"])?v.year:me(l,["month"])?v.month:me(l,["day"])?v.dayOfMonth:me(l,["month","year"])?`${v.month} ${v.year}`:me(l,["day","month"])?`${v.month} ${v.dayOfMonth}`:u?/en/.test(y.getCurrentLocaleCode())?v.normalDateWithWeekday:v.normalDate:v.keyboardDate},et=(y,a)=>{const l=y.startOfWeek(a);return[0,1,2,3,4,5,6].map(u=>y.addDays(l,u))},yt=["hours","minutes","seconds"],Vt=y=>yt.includes(y),Ut=y=>yt.includes(y)||y==="meridiem",An=(y,a)=>y?a.getHours(y)>=12?"pm":"am":null,dn=(y,a,l)=>l&&(y>=12?"pm":"am")!==a?a==="am"?y-12:y+12:y,mn=(y,a,l,u)=>{const v=dn(u.getHours(y),a,l);return u.setHours(y,v)},Vn=(y,a)=>a.getHours(y)*3600+a.getMinutes(y)*60+a.getSeconds(y),jn=(y,a)=>(l,u)=>y?a.isAfter(l,u):Vn(l,a)>Vn(u,a),un=(y,{format:a,views:l,ampm:u})=>{if(a!=null)return a;const v=y.formats;return me(l,["hours"])?u?`${v.hours12h} ${v.meridiem}`:v.hours24h:me(l,["minutes"])?v.minutes:me(l,["seconds"])?v.seconds:me(l,["minutes","seconds"])?`${v.minutes}:${v.seconds}`:me(l,["hours","minutes","seconds"])?u?`${v.hours12h}:${v.minutes}:${v.seconds} ${v.meridiem}`:`${v.hours24h}:${v.minutes}:${v.seconds}`:u?`${v.hours12h}:${v.minutes} ${v.meridiem}`:`${v.hours24h}:${v.minutes}`},In={year:1,month:2,day:3,hours:4,minutes:5,seconds:6,milliseconds:7},Qn=y=>Math.max(...y.map(a=>{var l;return(l=In[a.type])!=null?l:1})),Ht=(y,a,l)=>{if(a===In.year)return y.startOfYear(l);if(a===In.month)return y.startOfMonth(l);if(a===In.day)return y.startOfDay(l);let u=l;return a<In.minutes&&(u=y.setMinutes(u,0)),a<In.seconds&&(u=y.setSeconds(u,0)),a<In.milliseconds&&(u=y.setMilliseconds(u,0)),u},xn=({props:y,utils:a,granularity:l,timezone:u,getTodayDate:v})=>{var B;let x=v?v():Ht(a,l,fe(a,u));y.minDate!=null&&a.isAfterDay(y.minDate,x)&&(x=Ht(a,l,y.minDate)),y.maxDate!=null&&a.isBeforeDay(y.maxDate,x)&&(x=Ht(a,l,y.maxDate));const O=jn((B=y.disableIgnoringDatePartForTimeValidation)!=null?B:!1,a);return y.minTime!=null&&O(y.minTime,x)&&(x=Ht(a,l,y.disableIgnoringDatePartForTimeValidation?y.minTime:Ne(a,x,y.minTime))),y.maxTime!=null&&O(x,y.maxTime)&&(x=Ht(a,l,y.disableIgnoringDatePartForTimeValidation?y.maxTime:Ne(a,x,y.maxTime))),x},jt=(y,a)=>{const l=y.formatTokenMap[a];if(l==null)throw new Error([`MUI X: The token "${a}" is not supported by the Date and Time Pickers.`,"Please try using another token or open an issue on https://github.com/mui/mui-x/issues/new/choose if you think it should be supported."].join(`
`));return typeof l=="string"?{type:l,contentType:l==="meridiem"?"letter":"digit",maxLength:void 0}:{type:l.sectionType,contentType:l.contentType,maxLength:l.maxLength}},fn=y=>{switch(y){case"ArrowUp":return 1;case"ArrowDown":return-1;case"PageUp":return 5;case"PageDown":return-5;default:return 0}},Et=(y,a,l)=>{const u=[],v=y.date(void 0,a),x=y.startOfWeek(v),O=y.endOfWeek(v);let B=x;for(;y.isBefore(B,O);)u.push(B),B=y.addDays(B,1);return u.map(z=>y.formatByString(z,l))},sn=(y,a,l,u)=>{switch(l){case"month":return Ee(y,y.date(void 0,a)).map(v=>y.formatByString(v,u));case"weekDay":return Et(y,a,u);case"meridiem":{const v=y.date(void 0,a);return[y.startOfDay(v),y.endOfDay(v)].map(x=>y.formatByString(x,u))}default:return[]}},Sn="s",Fn=["0","1","2","3","4","5","6","7","8","9"],bn=y=>{const a=y.date(void 0);return y.formatByString(y.setSeconds(a,0),Sn)==="0"?Fn:Array.from({length:10}).map((u,v)=>y.formatByString(y.setSeconds(a,v),Sn))},Pn=(y,a)=>{if(a[0]==="0")return y;const l=[];let u="";for(let v=0;v<y.length;v+=1){u+=y[v];const x=a.indexOf(u);x>-1&&(l.push(x.toString()),u="")}return l.join("")},ni=(y,a)=>a[0]==="0"?y:y.split("").map(l=>a[Number(l)]).join(""),ki=(y,a)=>{const l=Pn(y,a);return!Number.isNaN(Number(l))},ss=(y,a)=>{let l=y;for(l=Number(l).toString();l.length<a;)l=`0${l}`;return l},wi=(y,a,l,u,v)=>{if(v.type==="day"&&v.contentType==="digit-with-letter"){const O=y.setDate(l.longestMonth,a);return y.formatByString(O,v.format)}let x=a.toString();return v.hasLeadingZerosInInput&&(x=ss(x,v.maxLength)),ni(x,u)},ks=(y,a,l,u,v,x,O,B)=>{const z=fn(u),Y=u==="Home",te=u==="End",re=l.value===""||Y||te,oe=()=>{const ce=v[l.type]({currentDate:O,format:l.format,contentType:l.contentType}),de=Ie=>wi(y,Ie,ce,x,l),ve=l.type==="minutes"&&(B!=null&&B.minutesStep)?B.minutesStep:1;let be=parseInt(Pn(l.value,x),10)+z*ve;if(re){if(l.type==="year"&&!te&&!Y)return y.formatByString(y.date(void 0,a),l.format);z>0||Y?be=ce.minimum:be=ce.maximum}return be%ve!==0&&((z<0||Y)&&(be+=ve-(ve+be)%ve),(z>0||te)&&(be-=be%ve)),be>ce.maximum?de(ce.minimum+(be-ce.maximum-1)%(ce.maximum-ce.minimum+1)):be<ce.minimum?de(ce.maximum-(ce.minimum-be-1)%(ce.maximum-ce.minimum+1)):de(be)},he=()=>{const ce=sn(y,a,l.type,l.format);if(ce.length===0)return l.value;if(re)return z>0||Y?ce[0]:ce[ce.length-1];const ve=(ce.indexOf(l.value)+ce.length+z)%ce.length;return ce[ve]};return l.contentType==="digit"||l.contentType==="digit-with-letter"?oe():he()},ci=(y,a,l)=>{let u=y.value||y.placeholder;const v=a==="non-input"?y.hasLeadingZerosInFormat:y.hasLeadingZerosInInput;return a==="non-input"&&y.hasLeadingZerosInInput&&!y.hasLeadingZerosInFormat&&(u=Number(Pn(u,l)).toString()),["input-rtl","input-ltr"].includes(a)&&y.contentType==="digit"&&!v&&u.length===1&&(u=`${u}\u200E`),a==="input-rtl"&&(u=`\u2068${u}\u2069`),u},Wi=(y,a,l,u)=>y.formatByString(y.parse(a,l),u),ji=(y,a,l)=>y.formatByString(y.date(void 0,a),l).length===4,rs=(y,a,l,u,v)=>{if(l!=="digit")return!1;const x=y.date(void 0,a);switch(u){case"year":return ji(y,a,v)?y.formatByString(y.setYear(x,1),v)==="0001":y.formatByString(y.setYear(x,2001),v)==="01";case"month":return y.formatByString(y.startOfYear(x),v).length>1;case"day":return y.formatByString(y.startOfMonth(x),v).length>1;case"weekDay":return y.formatByString(y.startOfWeek(x),v).length>1;case"hours":return y.formatByString(y.setHours(x,1),v).length>1;case"minutes":return y.formatByString(y.setMinutes(x,1),v).length>1;case"seconds":return y.formatByString(y.setSeconds(x,1),v).length>1;default:throw new Error("Invalid section type")}},Ts=(y,a,l)=>{const u=a.some(z=>z.type==="day"),v=[],x=[];for(let z=0;z<a.length;z+=1){const Y=a[z];u&&Y.type==="weekDay"||(v.push(Y.format),x.push(ci(Y,"non-input",l)))}const O=v.join(" "),B=x.join(" ");return y.parse(B,O)},_s=y=>y.map(a=>`${a.startSeparator}${a.value||a.placeholder}${a.endSeparator}`).join(""),$s=(y,a,l)=>{const v=y.map(x=>{const O=ci(x,l?"input-rtl":"input-ltr",a);return`${x.startSeparator}${O}${x.endSeparator}`}).join("");return l?`\u2066${v}\u2069`:v},os=(y,a,l)=>{const u=y.date(void 0,l),v=y.endOfYear(u),x=y.endOfDay(u),{maxDaysInMonth:O,longestMonth:B}=Ee(y,u).reduce((z,Y)=>{const te=y.getDaysInMonth(Y);return te>z.maxDaysInMonth?{maxDaysInMonth:te,longestMonth:Y}:z},{maxDaysInMonth:0,longestMonth:null});return{year:({format:z})=>({minimum:0,maximum:ji(y,l,z)?9999:99}),month:()=>({minimum:1,maximum:y.getMonth(v)+1}),day:({currentDate:z})=>({minimum:1,maximum:z!=null&&y.isValid(z)?y.getDaysInMonth(z):O,longestMonth:B}),weekDay:({format:z,contentType:Y})=>{if(Y==="digit"){const te=Et(y,l,z).map(Number);return{minimum:Math.min(...te),maximum:Math.max(...te)}}return{minimum:1,maximum:7}},hours:({format:z})=>{const Y=y.getHours(x);return Pn(y.formatByString(y.endOfDay(u),z),a)!==Y.toString()?{minimum:1,maximum:Number(Pn(y.formatByString(y.startOfDay(u),z),a))}:{minimum:0,maximum:Y}},minutes:()=>({minimum:0,maximum:y.getMinutes(x)}),seconds:()=>({minimum:0,maximum:y.getSeconds(x)}),meridiem:()=>({minimum:0,maximum:1}),empty:()=>({minimum:0,maximum:0})}};let cr=!1;const as=(y,a)=>{},ls=(y,a,l,u,v)=>{switch(l.type){case"year":return y.setYear(v,y.getYear(u));case"month":return y.setMonth(v,y.getMonth(u));case"weekDay":{const x=Et(y,a,l.format),O=y.formatByString(u,l.format),B=x.indexOf(O),Y=x.indexOf(l.value)-B;return y.addDays(u,Y)}case"day":return y.setDate(v,y.getDate(u));case"meridiem":{const x=y.getHours(u)<12,O=y.getHours(v);return x&&O>=12?y.addHours(v,-12):!x&&O<12?y.addHours(v,12):v}case"hours":return y.setHours(v,y.getHours(u));case"minutes":return y.setMinutes(v,y.getMinutes(u));case"seconds":return y.setSeconds(v,y.getSeconds(u));default:return v}},Ci={year:1,month:2,day:3,weekDay:4,hours:5,minutes:6,seconds:7,meridiem:8,empty:9},ui=(y,a,l,u,v,x)=>[...u].sort((O,B)=>Ci[O.type]-Ci[B.type]).reduce((O,B)=>!x||B.modified?ls(y,a,B,l,O):O,v),Ms=()=>navigator.userAgent.toLowerCase().indexOf("android")>-1,Is=(y,a)=>{const l={};if(!a)return y.forEach((z,Y)=>{const te=Y===0?null:Y-1,re=Y===y.length-1?null:Y+1;l[Y]={leftIndex:te,rightIndex:re}}),{neighbors:l,startIndex:0,endIndex:y.length-1};const u={},v={};let x=0,O=0,B=y.length-1;for(;B>=0;){O=y.findIndex((z,Y)=>{var te;return Y>=x&&((te=z.endSeparator)==null?void 0:te.includes(" "))&&z.endSeparator!==" / "}),O===-1&&(O=y.length-1);for(let z=O;z>=x;z-=1)v[z]=B,u[B]=z,B-=1;x=O+1}return y.forEach((z,Y)=>{const te=v[Y],re=te===0?null:u[te-1],oe=te===y.length-1?null:u[te+1];l[Y]={leftIndex:re,rightIndex:oe}}),{neighbors:l,startIndex:u[0],endIndex:u[y.length-1]}},Yn=(y,a)=>y==null?null:y==="all"?"all":typeof y=="string"?a.findIndex(l=>l.type===y):y,Fs=(y,a)=>{if(y.value)switch(y.type){case"month":{if(y.contentType==="digit")return a.format(a.setMonth(a.date(),Number(y.value)-1),"month");const l=a.parse(y.value,y.format);return l?a.format(l,"month"):void 0}case"day":return y.contentType==="digit"?a.format(a.setDate(a.startOfYear(a.date()),Number(y.value)),"dayOfMonthFull"):y.value;case"weekDay":return;default:return}},Os=(y,a)=>{if(y.value)switch(y.type){case"weekDay":return y.contentType==="letter"?void 0:Number(y.value);case"meridiem":{const l=a.parse(`01:00 ${y.value}`,`${a.formats.hours12h}:${a.formats.minutes} ${y.format}`);return l?a.getHours(l)>=12?1:0:void 0}case"day":return y.contentType==="digit-with-letter"?parseInt(y.value,10):Number(y.value);case"month":{if(y.contentType==="digit")return Number(y.value);const l=a.parse(y.value,y.format);return l?a.getMonth(l)+1:void 0}default:return y.contentType!=="letter"?Number(y.value):void 0}},Ls=["value","referenceDate"],Nn={emptyValue:null,getTodayValue:fe,getInitialReferenceValue:y=>{let{value:a,referenceDate:l}=y,u=(0,H.A)(y,Ls);return a!=null&&u.utils.isValid(a)?a:l!=null?l:xn(u)},cleanValue:ft,areValuesEqual:ae,isSameError:(y,a)=>y===a,hasError:y=>y!=null,defaultErrorState:null,getTimezone:(y,a)=>a==null||!y.isValid(a)?null:y.getTimezone(a),setTimezone:(y,a,l)=>l==null?null:y.setTimezone(l,a)},cs={updateReferenceValue:(y,a,l)=>a==null||!y.isValid(a)?l:a,getSectionsFromValue:(y,a,l,u)=>!y.isValid(a)&&!!l?l:u(a),getV7HiddenInputValueFromSections:_s,getV6InputValueFromSections:$s,getActiveDateManager:(y,a)=>({date:a.value,referenceDate:a.referenceValue,getSections:l=>l,getNewValuesFromNewActiveDate:l=>({value:l,referenceValue:l==null||!y.isValid(l)?a.referenceValue:l})}),parseValueStr:(y,a,l)=>l(y.trim(),a)};var Ce=L(64922);const us=["localeText"],zi=M.createContext(null),Si=function(a){var ye;const{localeText:l}=a,u=(0,H.A)(a,us),{utils:v,localeText:x}=(ye=M.useContext(zi))!=null?ye:{utils:void 0,localeText:void 0},O=(0,Z.A)({props:u,name:"MuiLocalizationProvider"}),{children:B,dateAdapter:z,dateFormats:Y,dateLibInstance:te,adapterLocale:re,localeText:oe}=O,he=M.useMemo(()=>(0,$.A)({},oe,x,l),[oe,x,l]),ce=M.useMemo(()=>{if(!z)return v||null;const be=new z({locale:re,formats:Y,instance:te});if(!be.isMUIAdapter)throw new Error(["MUI X: The date adapter should be imported from `@mui/x-date-pickers` or `@mui/x-date-pickers-pro`, not from `@date-io`","For example, `import { AdapterDayjs } from '@mui/x-date-pickers/AdapterDayjs'` instead of `import AdapterDayjs from '@date-io/dayjs'`","More information on the installation documentation: https://mui.com/x/react-date-pickers/getting-started/#installation"].join(`
`));return be},[z,re,Y,te,v]),de=M.useMemo(()=>ce?{minDate:ce.date("1900-01-01T00:00:00.000"),maxDate:ce.date("2099-12-31T00:00:00.000")}:null,[ce]),ve=M.useMemo(()=>({utils:ce,defaultDates:de,localeText:he}),[de,ce,he]);return(0,Ce.jsx)(zi.Provider,{value:ve,children:B})},Ns=y=>({components:{MuiLocalizationProvider:{defaultProps:{localeText:(0,$.A)({},y)}}}}),Ti={previousMonth:"Previous month",nextMonth:"Next month",openPreviousView:"Open previous view",openNextView:"Open next view",calendarViewSwitchingButtonAriaLabel:y=>y==="year"?"year view is open, switch to calendar view":"calendar view is open, switch to year view",start:"Start",end:"End",startDate:"Start date",startTime:"Start time",endDate:"End date",endTime:"End time",cancelButtonLabel:"Cancel",clearButtonLabel:"Clear",okButtonLabel:"OK",todayButtonLabel:"Today",datePickerToolbarTitle:"Select date",dateTimePickerToolbarTitle:"Select date & time",timePickerToolbarTitle:"Select time",dateRangePickerToolbarTitle:"Select date range",clockLabelText:(y,a,l)=>`Select ${y}. ${a===null?"No time selected":`Selected time is ${l.format(a,"fullTime")}`}`,hoursClockNumberText:y=>`${y} hours`,minutesClockNumberText:y=>`${y} minutes`,secondsClockNumberText:y=>`${y} seconds`,selectViewText:y=>`Select ${y}`,calendarWeekNumberHeaderLabel:"Week number",calendarWeekNumberHeaderText:"#",calendarWeekNumberAriaLabelText:y=>`Week ${y}`,calendarWeekNumberText:y=>`${y}`,openDatePickerDialogue:(y,a)=>y!==null&&a.isValid(y)?`Choose date, selected date is ${a.format(y,"fullDate")}`:"Choose date",openTimePickerDialogue:(y,a)=>y!==null&&a.isValid(y)?`Choose time, selected time is ${a.format(y,"fullTime")}`:"Choose time",fieldClearLabel:"Clear value",timeTableLabel:"pick time",dateTableLabel:"pick date",fieldYearPlaceholder:y=>"Y".repeat(y.digitAmount),fieldMonthPlaceholder:y=>y.contentType==="letter"?"MMMM":"MM",fieldDayPlaceholder:()=>"DD",fieldWeekDayPlaceholder:y=>y.contentType==="letter"?"EEEE":"EE",fieldHoursPlaceholder:()=>"hh",fieldMinutesPlaceholder:()=>"mm",fieldSecondsPlaceholder:()=>"ss",fieldMeridiemPlaceholder:()=>"aa",year:"Year",month:"Month",day:"Day",weekDay:"Week day",hours:"Hours",minutes:"Minutes",seconds:"Seconds",meridiem:"Meridiem",empty:"Empty"},Ps=Ti,Rs=Ns(Ti),ii=()=>{const y=M.useContext(zi);if(y===null)throw new Error(["MUI X: Can not find the date and time pickers localization context.","It looks like you forgot to wrap your component in LocalizationProvider.","This can also happen if you are bundling multiple versions of the `@mui/x-date-pickers` package"].join(`
`));if(y.utils===null)throw new Error(["MUI X: Can not find the date and time pickers adapter from its localization context.","It looks like you forgot to pass a `dateAdapter` to your LocalizationProvider."].join(`
`));const a=M.useMemo(()=>(0,$.A)({},Ps,y.localeText),[y.localeText]);return M.useMemo(()=>(0,$.A)({},y,{localeText:a}),[y,a])},Zt=()=>ii().utils,qn=()=>ii().defaultDates,On=()=>ii().localeText,di=y=>{const a=Zt(),l=M.useRef();return l.current===void 0&&(l.current=a.date(void 0,y)),l.current};var ln=L(74984),si=L(55437),ie=L(46186),ge=L(86249),Re=L(35583),it=L(95227);function hn(y){return(0,Re.Ay)("MuiPickersToolbar",y)}const Kt=(0,it.A)("MuiPickersToolbar",["root","content"]),En=["children","className","toolbarTitle","hidden","titleId","isLandscape","classes","landscapeDirection"],$n=y=>{const{classes:a,isLandscape:l}=y,u={root:["root"],content:["content"],penIconButton:["penIconButton",l&&"penIconButtonLandscape"]};return(0,ge.A)(u,hn,a)},Ln=(0,ie.Ay)("div",{name:"MuiPickersToolbar",slot:"Root",overridesResolver:(y,a)=>a.root})(({theme:y})=>({display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"space-between",padding:y.spacing(2,3),variants:[{props:{isLandscape:!0},style:{height:"auto",maxWidth:160,padding:16,justifyContent:"flex-start",flexWrap:"wrap"}}]})),wn=(0,ie.Ay)("div",{name:"MuiPickersToolbar",slot:"Content",overridesResolver:(y,a)=>a.content})({display:"flex",flexWrap:"wrap",width:"100%",flex:1,justifyContent:"space-between",alignItems:"center",flexDirection:"row",variants:[{props:{isLandscape:!0},style:{justifyContent:"flex-start",alignItems:"flex-start",flexDirection:"column"}},{props:{isLandscape:!0,landscapeDirection:"row"},style:{flexDirection:"row"}}]}),Bn=M.forwardRef(function(a,l){const u=(0,Z.A)({props:a,name:"MuiPickersToolbar"}),{children:v,className:x,toolbarTitle:O,hidden:B,titleId:z}=u,Y=(0,H.A)(u,En),te=u,re=$n(te);return B?null:(0,Ce.jsxs)(Ln,(0,$.A)({ref:l,className:(0,ln.A)(re.root,x),ownerState:te},Y,{children:[(0,Ce.jsx)(si.A,{color:"text.secondary",variant:"overline",id:z,children:O}),(0,Ce.jsx)(wn,{className:re.content,ownerState:te,children:v})]}))});function Jn(y){return(0,Re.Ay)("MuiDatePickerToolbar",y)}const Rn=(0,it.A)("MuiDatePickerToolbar",["root","title"]),Hn=["value","isLandscape","onChange","toolbarFormat","toolbarPlaceholder","views","className","onViewChange","view"],Un=y=>{const{classes:a}=y,l={root:["root"],title:["title"]};return(0,ge.A)(l,Jn,a)},ri=(0,ie.Ay)(Bn,{name:"MuiDatePickerToolbar",slot:"Root",overridesResolver:(y,a)=>a.root})({}),ei=(0,ie.Ay)(si.A,{name:"MuiDatePickerToolbar",slot:"Title",overridesResolver:(y,a)=>a.title})({variants:[{props:{isLandscape:!0},style:{margin:"auto 16px auto auto"}}]}),hi=M.forwardRef(function(a,l){const u=(0,Z.A)({props:a,name:"MuiDatePickerToolbar"}),{value:v,isLandscape:x,toolbarFormat:O,toolbarPlaceholder:B="\u2013\u2013",views:z,className:Y}=u,te=(0,H.A)(u,Hn),re=Zt(),oe=On(),he=Un(u),ce=M.useMemo(()=>{if(!v)return B;const ve=Se(re,{format:O,views:z},!0);return re.formatByString(v,ve)},[v,O,B,re,z]),de=u;return(0,Ce.jsx)(ri,(0,$.A)({ref:l,toolbarTitle:oe.datePickerToolbarTitle,isLandscape:x,className:(0,ln.A)(he.root,Y)},te,{children:(0,Ce.jsx)(ei,{variant:"h4",align:x?"left":"center",ownerState:de,className:he.title,children:ce})}))});function Vi(y,a){var O,B;const l=Zt(),u=qn(),v=(0,Z.A)({props:y,name:a}),x=M.useMemo(()=>{var z;return((z=v.localeText)==null?void 0:z.toolbarTitle)==null?v.localeText:(0,$.A)({},v.localeText,{datePickerToolbarTitle:v.localeText.toolbarTitle})},[v.localeText]);return(0,$.A)({},v,{localeText:x},Le({views:v.views,openTo:v.openTo,defaultViews:["year","day"],defaultOpenTo:"day"}),{disableFuture:(O=v.disableFuture)!=null?O:!1,disablePast:(B=v.disablePast)!=null?B:!1,minDate:at(l,v.minDate,u.minDate),maxDate:at(l,v.maxDate,u.maxDate),slots:(0,$.A)({toolbar:hi},v.slots)})}const pi=({props:y,value:a,adapter:l})=>{if(a===null)return null;const{shouldDisableDate:u,shouldDisableMonth:v,shouldDisableYear:x,disablePast:O,disableFuture:B,timezone:z}=y,Y=l.utils.date(void 0,z),te=at(l.utils,y.minDate,l.defaultDates.minDate),re=at(l.utils,y.maxDate,l.defaultDates.maxDate);switch(!0){case!l.utils.isValid(a):return"invalidDate";case!!(u&&u(a)):return"shouldDisableDate";case!!(v&&v(a)):return"shouldDisableMonth";case!!(x&&x(a)):return"shouldDisableYear";case!!(B&&l.utils.isAfterDay(a,Y)):return"disableFuture";case!!(O&&l.utils.isBeforeDay(a,Y)):return"disablePast";case!!(te&&l.utils.isBeforeDay(a,te)):return"minDate";case!!(re&&l.utils.isAfterDay(a,re)):return"maxDate";default:return null}};var Mn=L(33769);function Go(y){return typeof y=="string"}function Jo(y,a,l){return y===void 0||Go(y)?a:(0,$.A)({},a,{ownerState:(0,$.A)({},a.ownerState,l)})}function Ko(y,a=[]){if(y===void 0)return{};const l={};return Object.keys(y).filter(u=>u.match(/^on[A-Z]/)&&typeof y[u]=="function"&&!a.includes(u)).forEach(u=>{l[u]=y[u]}),l}function ur(y){if(y===void 0)return{};const a={};return Object.keys(y).filter(l=>!(l.match(/^on[A-Z]/)&&typeof y[l]=="function")).forEach(l=>{a[l]=y[l]}),a}function Yo(y){const{getSlotProps:a,additionalProps:l,externalSlotProps:u,externalForwardedProps:v,className:x}=y;if(!a){const he=(0,ln.A)(l==null?void 0:l.className,x,v==null?void 0:v.className,u==null?void 0:u.className),ce=(0,$.A)({},l==null?void 0:l.style,v==null?void 0:v.style,u==null?void 0:u.style),de=(0,$.A)({},l,v,u);return he.length>0&&(de.className=he),Object.keys(ce).length>0&&(de.style=ce),{props:de,internalRef:void 0}}const O=Ko((0,$.A)({},v,u)),B=ur(u),z=ur(v),Y=a(O),te=(0,ln.A)(Y==null?void 0:Y.className,l==null?void 0:l.className,x,v==null?void 0:v.className,u==null?void 0:u.className),re=(0,$.A)({},Y==null?void 0:Y.style,l==null?void 0:l.style,v==null?void 0:v.style,u==null?void 0:u.style),oe=(0,$.A)({},Y,l,z,B);return te.length>0&&(oe.className=te),Object.keys(re).length>0&&(oe.style=re),{props:oe,internalRef:Y.ref}}const Xo=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function pn(y){var a;const{elementType:l,externalSlotProps:u,ownerState:v,skipResolvingSlotProps:x=!1}=y,O=(0,H.A)(y,Xo),B=x?{}:ne(u,v),{props:z,internalRef:Y}=Yo((0,$.A)({},O,{externalSlotProps:B})),te=(0,Mn.A)(Y,B==null?void 0:B.ref,(a=y.additionalProps)==null?void 0:a.ref);return Jo(l,(0,$.A)({},z,{ref:te}),v)}var dr=L(82735),_i=L(25325),$i=L(81019),Zo=L(86193),ds=L(67987),Qo=L(21593),qo=L(78176),ea=L(58289),Ft=L(16745),Bs=L(41011);function ta(y){return(0,Re.Ay)("MuiPickersPopper",y)}const kf=(0,it.A)("MuiPickersPopper",["root","paper"]);function Mi(y,a){return Array.isArray(a)?a.every(l=>y.indexOf(l)!==-1):y.indexOf(a)!==-1}const na=(y,a)=>l=>{(l.key==="Enter"||l.key===" ")&&(y(l),l.preventDefault(),l.stopPropagation()),a&&a(l)},Tf=y=>{setTimeout(y,0)},Xn=(y=document)=>{const a=y.activeElement;return a?a.shadowRoot?Xn(a.shadowRoot):a:null},hr="@media (pointer: fine)",ia="@media (prefers-reduced-motion: reduce)",Ii=typeof navigator!="undefined"&&navigator.userAgent.match(/android\s(\d+)|OS\s(\d+)/i),pr=Ii&&Ii[1]?parseInt(Ii[1],10):null,fr=Ii&&Ii[2]?parseInt(Ii[2],10):null,sa=pr&&pr<10||fr&&fr<13||!1,mr=()=>(0,G.A)(ia,{defaultMatches:!1})||sa,ra=["PaperComponent","popperPlacement","ownerState","children","paperSlotProps","paperClasses","onPaperClick","onPaperTouchStart"],oa=y=>{const{classes:a}=y,l={root:["root"],paper:["paper"]};return(0,ge.A)(l,ta,a)},aa=(0,ie.Ay)(qo.A,{name:"MuiPickersPopper",slot:"Root",overridesResolver:(y,a)=>a.root})(({theme:y})=>({zIndex:y.zIndex.modal})),la=(0,ie.Ay)(Qo.A,{name:"MuiPickersPopper",slot:"Paper",overridesResolver:(y,a)=>a.paper})({outline:0,transformOrigin:"top center",variants:[{props:({placement:y})=>["top","top-start","top-end"].includes(y),style:{transformOrigin:"bottom center"}}]});function ca(y,a){return a.documentElement.clientWidth<y.clientX||a.documentElement.clientHeight<y.clientY}function ua(y,a){const l=M.useRef(!1),u=M.useRef(!1),v=M.useRef(null),x=M.useRef(!1);M.useEffect(()=>{if(!y)return;function z(){x.current=!0}return document.addEventListener("mousedown",z,!0),document.addEventListener("touchstart",z,!0),()=>{document.removeEventListener("mousedown",z,!0),document.removeEventListener("touchstart",z,!0),x.current=!1}},[y]);const O=(0,Ft.A)(z=>{if(!x.current)return;const Y=u.current;u.current=!1;const te=(0,Bs.A)(v.current);if(!v.current||"clientX"in z&&ca(z,te))return;if(l.current){l.current=!1;return}let re;z.composedPath?re=z.composedPath().indexOf(v.current)>-1:re=!te.documentElement.contains(z.target)||v.current.contains(z.target),!re&&!Y&&a(z)}),B=()=>{u.current=!0};return M.useEffect(()=>{if(y){const z=(0,Bs.A)(v.current),Y=()=>{l.current=!0};return z.addEventListener("touchstart",O),z.addEventListener("touchmove",Y),()=>{z.removeEventListener("touchstart",O),z.removeEventListener("touchmove",Y)}}},[y,O]),M.useEffect(()=>{if(y){const z=(0,Bs.A)(v.current);return z.addEventListener("click",O),()=>{z.removeEventListener("click",O),u.current=!1}}},[y,O]),[v,B,B]}const da=M.forwardRef((y,a)=>{const{PaperComponent:l,popperPlacement:u,ownerState:v,children:x,paperSlotProps:O,paperClasses:B,onPaperClick:z,onPaperTouchStart:Y}=y,te=(0,H.A)(y,ra),re=(0,$.A)({},v,{placement:u}),oe=pn({elementType:l,externalSlotProps:O,additionalProps:{tabIndex:-1,elevation:8,ref:a},className:B,ownerState:re});return(0,Ce.jsx)(l,(0,$.A)({},te,oe,{onClick:he=>{var ce;z(he),(ce=oe.onClick)==null||ce.call(oe,he)},onTouchStart:he=>{var ce;Y(he),(ce=oe.onTouchStart)==null||ce.call(oe,he)},ownerState:re,children:x}))});function ha(y){var bt,Tt,Dt,gt;const a=(0,Z.A)({props:y,name:"MuiPickersPopper"}),{anchorEl:l,children:u,containerRef:v=null,shouldRestoreFocus:x,onBlur:O,onDismiss:B,open:z,role:Y,placement:te,slots:re,slotProps:oe,reduceAnimations:he}=a;M.useEffect(()=>{function nt(wt){z&&wt.key==="Escape"&&B()}return document.addEventListener("keydown",nt),()=>{document.removeEventListener("keydown",nt)}},[B,z]);const ce=M.useRef(null);M.useEffect(()=>{Y==="tooltip"||x&&!x()||(z?ce.current=Xn(document):ce.current&&ce.current instanceof HTMLElement&&setTimeout(()=>{ce.current instanceof HTMLElement&&ce.current.focus()}))},[z,Y,x]);const[de,ve,ye]=ua(z,O!=null?O:B),be=M.useRef(null),Ie=(0,Mn.A)(be,v),Ge=(0,Mn.A)(Ie,de),Pe=a,We=oa(Pe),ze=mr(),$e=he!=null?he:ze,Ze=nt=>{nt.key==="Escape"&&(nt.stopPropagation(),B())},qe=((bt=re==null?void 0:re.desktopTransition)!=null?bt:$e)?ds.A:Zo.A,Ve=(Tt=re==null?void 0:re.desktopTrapFocus)!=null?Tt:ea.s,Qe=(Dt=re==null?void 0:re.desktopPaper)!=null?Dt:la,Me=(gt=re==null?void 0:re.popper)!=null?gt:aa,ot=pn({elementType:Me,externalSlotProps:oe==null?void 0:oe.popper,additionalProps:{transition:!0,role:Y,open:z,anchorEl:l,placement:te,onKeyDown:Ze},className:We.root,ownerState:a});return(0,Ce.jsx)(Me,(0,$.A)({},ot,{children:({TransitionProps:nt,placement:wt})=>(0,Ce.jsx)(Ve,(0,$.A)({open:z,disableAutoFocus:!0,disableRestoreFocus:!0,disableEnforceFocus:Y==="tooltip",isEnabled:()=>!0},oe==null?void 0:oe.desktopTrapFocus,{children:(0,Ce.jsx)(qe,(0,$.A)({},nt,oe==null?void 0:oe.desktopTransition,{children:(0,Ce.jsx)(da,{PaperComponent:Qe,ownerState:Pe,popperPlacement:wt,ref:Ge,onPaperClick:ve,onPaperTouchStart:ye,paperClasses:We.paper,paperSlotProps:oe==null?void 0:oe.desktopPaper,children:u})}))}))}))}const pa=({open:y,onOpen:a,onClose:l})=>{const u=M.useRef(typeof y=="boolean").current,[v,x]=M.useState(!1);M.useEffect(()=>{if(u){if(typeof y!="boolean")throw new Error("You must not mix controlling and uncontrolled mode for `open` prop");x(y)}},[u,y]);const O=M.useCallback(B=>{u||x(B),B&&a&&a(),!B&&l&&l()},[u,a,l]);return{isOpen:v,setIsOpen:O}};function gr(y,a,l,u){const{value:v,onError:x}=y,O=ii(),B=M.useRef(u),z=a({adapter:O,value:v,props:y});return M.useEffect(()=>{x&&!l(z,B.current)&&x(z,v),B.current=z},[l,x,B,z,v]),z}var Ei=L(40243);const Ws=({timezone:y,value:a,defaultValue:l,onChange:u,valueManager:v})=>{var he,ce;const x=Zt(),O=M.useRef(l),B=(he=a!=null?a:O.current)!=null?he:v.emptyValue,z=M.useMemo(()=>v.getTimezone(x,B),[x,v,B]),Y=(0,Ft.A)(de=>z==null?de:v.setTimezone(x,z,de)),te=(ce=y!=null?y:z)!=null?ce:"default",re=M.useMemo(()=>v.setTimezone(x,te,B),[v,x,te,B]),oe=(0,Ft.A)((de,...ve)=>{const ye=Y(de);u==null||u(ye,...ve)});return{value:re,handleValueChange:oe,timezone:te}},Fi=({name:y,timezone:a,value:l,defaultValue:u,onChange:v,valueManager:x})=>{const[O,B]=(0,Ei.A)({name:y,state:"value",controlled:l,default:u!=null?u:x.emptyValue}),z=(0,Ft.A)((Y,...te)=>{B(Y),v==null||v(Y,...te)});return Ws({timezone:a,value:O,defaultValue:void 0,onChange:z,valueManager:x})},fa=y=>{const{action:a,hasChanged:l,dateState:u,isControlled:v}=y,x=!v&&!u.hasBeenModifiedSinceMount;return a.name==="setValueFromField"?!0:a.name==="setValueFromAction"?x&&["accept","today","clear"].includes(a.pickerAction)?!0:l(u.lastPublishedValue):a.name==="setValueFromView"&&a.selectionState!=="shallow"||a.name==="setValueFromShortcut"?x?!0:l(u.lastPublishedValue):!1},ma=y=>{const{action:a,hasChanged:l,dateState:u,isControlled:v,closeOnSelect:x}=y,O=!v&&!u.hasBeenModifiedSinceMount;return a.name==="setValueFromAction"?O&&["accept","today","clear"].includes(a.pickerAction)?!0:l(u.lastCommittedValue):a.name==="setValueFromView"&&a.selectionState==="finish"&&x?O?!0:l(u.lastCommittedValue):a.name==="setValueFromShortcut"?a.changeImportance==="accept"&&l(u.lastCommittedValue):!1},ga=y=>{const{action:a,closeOnSelect:l}=y;return a.name==="setValueFromAction"?!0:a.name==="setValueFromView"?a.selectionState==="finish"&&l:a.name==="setValueFromShortcut"?a.changeImportance==="accept":!1},va=({props:y,valueManager:a,valueType:l,wrapperVariant:u,validator:v})=>{const{onAccept:x,onChange:O,value:B,defaultValue:z,closeOnSelect:Y=u==="desktop",timezone:te}=y,{current:re}=M.useRef(z),{current:oe}=M.useRef(B!==void 0),he=Zt(),ce=ii(),{isOpen:de,setIsOpen:ve}=pa(y),[ye,be]=M.useState(()=>{let ct;return B!==void 0?ct=B:re!==void 0?ct=re:ct=a.emptyValue,{draft:ct,lastPublishedValue:ct,lastCommittedValue:ct,lastControlledValue:B,hasBeenModifiedSinceMount:!1}}),{timezone:Ie,handleValueChange:Ge}=Ws({timezone:te,value:B,defaultValue:re,onChange:O,valueManager:a});gr((0,$.A)({},y,{value:ye.draft,timezone:Ie}),v,a.isSameError,a.defaultErrorState);const Pe=(0,Ft.A)(ct=>{const ht={action:ct,dateState:ye,hasChanged:Ke=>!a.areValuesEqual(he,ct.value,Ke),isControlled:oe,closeOnSelect:Y},qt=fa(ht),Qt=ma(ht),je=ga(ht);if(be(Ke=>(0,$.A)({},Ke,{draft:ct.value,lastPublishedValue:qt?ct.value:Ke.lastPublishedValue,lastCommittedValue:Qt?ct.value:Ke.lastCommittedValue,hasBeenModifiedSinceMount:!0})),qt){const _t={validationError:ct.name==="setValueFromField"?ct.context.validationError:v({adapter:ce,value:ct.value,props:(0,$.A)({},y,{value:ct.value,timezone:Ie})})};ct.name==="setValueFromShortcut"&&(_t.shortcut=ct.shortcut),Ge(ct.value,_t)}Qt&&x&&x(ct.value),je&&ve(!1)});if(B!==void 0&&(ye.lastControlledValue===void 0||!a.areValuesEqual(he,ye.lastControlledValue,B))){const ct=a.areValuesEqual(he,ye.draft,B);be(ht=>(0,$.A)({},ht,{lastControlledValue:B},ct?{}:{lastCommittedValue:B,lastPublishedValue:B,draft:B,hasBeenModifiedSinceMount:!0}))}const We=(0,Ft.A)(()=>{Pe({value:a.emptyValue,name:"setValueFromAction",pickerAction:"clear"})}),ze=(0,Ft.A)(()=>{Pe({value:ye.lastPublishedValue,name:"setValueFromAction",pickerAction:"accept"})}),$e=(0,Ft.A)(()=>{Pe({value:ye.lastPublishedValue,name:"setValueFromAction",pickerAction:"dismiss"})}),Ze=(0,Ft.A)(()=>{Pe({value:ye.lastCommittedValue,name:"setValueFromAction",pickerAction:"cancel"})}),qe=(0,Ft.A)(()=>{Pe({value:a.getTodayValue(he,Ie,l),name:"setValueFromAction",pickerAction:"today"})}),Ve=(0,Ft.A)(ct=>{ct.preventDefault(),ve(!0)}),Qe=(0,Ft.A)(ct=>{ct==null||ct.preventDefault(),ve(!1)}),Me=(0,Ft.A)((ct,ht="partial")=>Pe({name:"setValueFromView",value:ct,selectionState:ht})),ot=(0,Ft.A)((ct,ht,qt)=>Pe({name:"setValueFromShortcut",value:ct,changeImportance:ht,shortcut:qt})),bt=(0,Ft.A)((ct,ht)=>Pe({name:"setValueFromField",value:ct,context:ht})),Tt={onClear:We,onAccept:ze,onDismiss:$e,onCancel:Ze,onSetToday:qe,onOpen:Ve,onClose:Qe},Dt={value:ye.draft,onChange:bt},gt=M.useMemo(()=>a.cleanValue(he,ye.draft),[he,a,ye.draft]),nt={value:gt,onChange:Me,onClose:Qe,open:de},wt=ct=>{const ht=v({adapter:ce,value:ct,props:(0,$.A)({},y,{value:ct,timezone:Ie})});return!a.hasError(ht)},Pt=(0,$.A)({},Tt,{value:gt,onChange:Me,onSelectShortcut:ot,isValid:wt});return{open:de,fieldProps:Dt,viewProps:nt,layoutProps:Pt,actions:Tt}};var mi=L(55791);let _f=!1;function Hi({onChange:y,onViewChange:a,openTo:l,view:u,views:v,autoFocus:x,focusedView:O,onFocusedViewChange:B}){var ze,$e;const z=M.useRef(l),Y=M.useRef(v),te=M.useRef(v.includes(l)?l:v[0]),[re,oe]=(0,Ei.A)({name:"useViews",state:"view",controlled:u,default:te.current}),he=M.useRef(x?re:null),[ce,de]=(0,Ei.A)({name:"useViews",state:"focusedView",controlled:O,default:he.current});M.useEffect(()=>{(z.current&&z.current!==l||Y.current&&Y.current.some(Ze=>!v.includes(Ze)))&&(oe(v.includes(l)?l:v[0]),Y.current=v,z.current=l)},[l,oe,re,v]);const ve=v.indexOf(re),ye=(ze=v[ve-1])!=null?ze:null,be=($e=v[ve+1])!=null?$e:null,Ie=(0,Ft.A)((Ze,qe)=>{de(qe?Ze:Ve=>Ze===Ve?null:Ve),B==null||B(Ze,qe)}),Ge=(0,Ft.A)(Ze=>{Ie(Ze,!0),Ze!==re&&(oe(Ze),a&&a(Ze))}),Pe=(0,Ft.A)(()=>{be&&Ge(be)}),We=(0,Ft.A)((Ze,qe,Ve)=>{const Qe=qe==="finish",Me=Ve?v.indexOf(Ve)<v.length-1:!!be;if(y(Ze,Qe&&Me?"partial":qe,Ve),Ve&&Ve!==re){const bt=v[v.indexOf(Ve)+1];bt&&Ge(bt)}else Qe&&Pe()});return{view:re,setView:Ge,focusedView:ce,setFocusedView:Ie,nextView:be,previousView:ye,defaultView:v.includes(l)?l:v[0],goToNextView:Pe,setValueAndGoToNextView:We}}const ya=["className","sx"],ba=({props:y,propsFromPickerValue:a,additionalViewProps:l,autoFocusView:u,rendererInterceptor:v,fieldRef:x})=>{const{onChange:O,open:B,onClose:z}=a,{views:Y,openTo:te,onViewChange:re,viewRenderers:oe,timezone:he}=y,ce=(0,H.A)(y,ya),{view:de,setView:ve,defaultView:ye,focusedView:be,setFocusedView:Ie,setValueAndGoToNextView:Ge}=Hi({view:void 0,views:Y,openTo:te,onChange:O,onViewChange:re,autoFocus:u}),{hasUIView:Pe,viewModeLookup:We}=M.useMemo(()=>Y.reduce((Me,ot)=>{let bt;return oe[ot]!=null?bt="UI":bt="field",Me.viewModeLookup[ot]=bt,bt==="UI"&&(Me.hasUIView=!0),Me},{hasUIView:!1,viewModeLookup:{}}),[oe,Y]),ze=M.useMemo(()=>Y.reduce((Me,ot)=>oe[ot]!=null&&Vt(ot)?Me+1:Me,0),[oe,Y]),$e=We[de],Ze=(0,Ft.A)(()=>$e==="UI"),[qe,Ve]=M.useState($e==="UI"?de:null);return qe!==de&&We[de]==="UI"&&Ve(de),(0,mi.A)(()=>{$e==="field"&&B&&(z(),setTimeout(()=>{var Me,ot;(Me=x==null?void 0:x.current)==null||Me.setSelectedSections(de),(ot=x==null?void 0:x.current)==null||ot.focusField(de)}))},[de]),(0,mi.A)(()=>{if(!B)return;let Me=de;$e==="field"&&qe!=null&&(Me=qe),Me!==ye&&We[Me]==="UI"&&We[ye]==="UI"&&(Me=ye),Me!==de&&ve(Me),Ie(Me,!0)},[B]),{hasUIView:Pe,shouldRestoreFocus:Ze,layoutProps:{views:Y,view:qe,onViewChange:ve},renderCurrentView:()=>{if(qe==null)return null;const Me=oe[qe];if(Me==null)return null;const ot=(0,$.A)({},ce,l,a,{views:Y,timezone:he,onChange:Ge,view:qe,onViewChange:ve,focusedView:be,onFocusedViewChange:Ie,showViewSwitcher:ze>1,timeViewsCount:ze});return v?v(oe,qe,ot):Me(ot)}}};function vr(){return typeof window=="undefined"?"portrait":window.screen&&window.screen.orientation&&window.screen.orientation.angle?Math.abs(window.screen.orientation.angle)===90?"landscape":"portrait":window.orientation&&Math.abs(Number(window.orientation))===90?"landscape":"portrait"}const wa=(y,a)=>{const[l,u]=M.useState(vr);return(0,mi.A)(()=>{const x=()=>{u(vr())};return window.addEventListener("orientationchange",x),()=>{window.removeEventListener("orientationchange",x)}},[]),Mi(y,["hours","minutes","seconds"])?!1:(a||l)==="landscape"},Ca=({props:y,propsFromPickerValue:a,propsFromPickerViews:l,wrapperVariant:u})=>{const{orientation:v}=y,x=wa(l.views,v);return{layoutProps:(0,$.A)({},l,a,{isLandscape:x,wrapperVariant:u,disabled:y.disabled,readOnly:y.readOnly})}},$f=y=>{let a=!1;return()=>{}},If=((y,a="warning")=>{let l=!1;const u=Array.isArray(y)?y.join(`
`):y;return()=>{l||(l=!0,a==="error"?console.error(u):console.warn(u))}})(["The `renderInput` prop has been removed in version 6.0 of the Date and Time Pickers.","You can replace it with the `textField` component slot in most cases.","For more information, please have a look at the migration guide (https://mui.com/x/migration/migration-pickers-v5/#input-renderer-required-in-v5)."]),yr=({props:y,valueManager:a,valueType:l,wrapperVariant:u,additionalViewProps:v,validator:x,autoFocusView:O,rendererInterceptor:B,fieldRef:z})=>{const Y=va({props:y,valueManager:a,valueType:l,wrapperVariant:u,validator:x}),te=ba({props:y,additionalViewProps:v,autoFocusView:O,fieldRef:z,propsFromPickerValue:Y.viewProps,rendererInterceptor:B}),re=Ca({props:y,wrapperVariant:u,propsFromPickerValue:Y.layoutProps,propsFromPickerViews:te.layoutProps});return{open:Y.open,actions:Y.actions,fieldProps:Y.fieldProps,renderCurrentView:te.renderCurrentView,hasUIView:te.hasUIView,shouldRestoreFocus:te.shouldRestoreFocus,layoutProps:re.layoutProps}};function br(y){return(0,Re.Ay)("MuiPickersLayout",y)}const Ui=(0,it.A)("MuiPickersLayout",["root","landscape","contentWrapper","toolbar","actionBar","tabs","shortcuts"]);var Gi=L(12811),Sa=L(59589);const Ea=["onAccept","onClear","onCancel","onSetToday","actions"];function Da(y){const{onAccept:a,onClear:l,onCancel:u,onSetToday:v,actions:x}=y,O=(0,H.A)(y,Ea),B=On();if(x==null||x.length===0)return null;const z=x==null?void 0:x.map(Y=>{switch(Y){case"clear":return(0,Ce.jsx)(Gi.A,{onClick:l,children:B.clearButtonLabel},Y);case"cancel":return(0,Ce.jsx)(Gi.A,{onClick:u,children:B.cancelButtonLabel},Y);case"accept":return(0,Ce.jsx)(Gi.A,{onClick:a,children:B.okButtonLabel},Y);case"today":return(0,Ce.jsx)(Gi.A,{onClick:v,children:B.todayButtonLabel},Y);default:return null}});return(0,Ce.jsx)(Sa.A,(0,$.A)({},O,{children:z}))}var Aa=L(6319),xa=L(28677),ka=L(49813);const Ji=36,hs=2,ps=320,Ta=280,js=336,wr=232,_a=48,$a=["items","changeImportance","isLandscape","onChange","isValid"],Ma=["getValue"];function Ia(y){const{items:a,changeImportance:l="accept",onChange:u,isValid:v}=y,x=(0,H.A)(y,$a);if(a==null||a.length===0)return null;const O=a.map(B=>{let{getValue:z}=B,Y=(0,H.A)(B,Ma);const te=z({isValid:v});return(0,$.A)({},Y,{label:Y.label,onClick:()=>{u(te,l,Y)},disabled:!v(te)})});return(0,Ce.jsx)(Aa.A,(0,$.A)({dense:!0,sx:[{maxHeight:js,maxWidth:200,overflow:"auto"},...Array.isArray(x.sx)?x.sx:[x.sx]]},x,{children:O.map(B=>{var z;return(0,Ce.jsx)(xa.Ay,{children:(0,Ce.jsx)(ka.A,(0,$.A)({},B))},(z=B.id)!=null?z:B.label)})}))}function Fa(y){return y.view!==null}const Oa=y=>{const{classes:a,isLandscape:l}=y,u={root:["root",l&&"landscape"],contentWrapper:["contentWrapper"],toolbar:["toolbar"],actionBar:["actionBar"],tabs:["tabs"],landscape:["landscape"],shortcuts:["shortcuts"]};return(0,ge.A)(u,br,a)},La=y=>{var Tt,Dt;const{wrapperVariant:a,onAccept:l,onClear:u,onCancel:v,onSetToday:x,view:O,views:B,onViewChange:z,value:Y,onChange:te,onSelectShortcut:re,isValid:oe,isLandscape:he,disabled:ce,readOnly:de,children:ve,slots:ye,slotProps:be}=y,Ie=Oa(y),Ge=(Tt=ye==null?void 0:ye.actionBar)!=null?Tt:Da,Pe=pn({elementType:Ge,externalSlotProps:be==null?void 0:be.actionBar,additionalProps:{onAccept:l,onClear:u,onCancel:v,onSetToday:x,actions:a==="desktop"?[]:["cancel","accept"]},className:Ie.actionBar,ownerState:(0,$.A)({},y,{wrapperVariant:a})}),We=(0,Ce.jsx)(Ge,(0,$.A)({},Pe)),ze=ye==null?void 0:ye.toolbar,$e=pn({elementType:ze,externalSlotProps:be==null?void 0:be.toolbar,additionalProps:{isLandscape:he,onChange:te,value:Y,view:O,onViewChange:z,views:B,disabled:ce,readOnly:de},className:Ie.toolbar,ownerState:(0,$.A)({},y,{wrapperVariant:a})}),Ze=Fa($e)&&ze?(0,Ce.jsx)(ze,(0,$.A)({},$e)):null,qe=ve,Ve=ye==null?void 0:ye.tabs,Qe=O&&Ve?(0,Ce.jsx)(Ve,(0,$.A)({view:O,onViewChange:z,className:Ie.tabs},be==null?void 0:be.tabs)):null,Me=(Dt=ye==null?void 0:ye.shortcuts)!=null?Dt:Ia,ot=pn({elementType:Me,externalSlotProps:be==null?void 0:be.shortcuts,additionalProps:{isValid:oe,isLandscape:he,onChange:re},className:Ie.shortcuts,ownerState:{isValid:oe,isLandscape:he,onChange:re,wrapperVariant:a}}),bt=O&&Me?(0,Ce.jsx)(Me,(0,$.A)({},ot)):null;return{toolbar:Ze,content:qe,tabs:Qe,actionBar:We,shortcuts:bt}},Na=y=>{const{isLandscape:a,classes:l}=y,u={root:["root",a&&"landscape"],contentWrapper:["contentWrapper"]};return(0,ge.A)(u,br,l)},Pa=(0,ie.Ay)("div",{name:"MuiPickersLayout",slot:"Root",overridesResolver:(y,a)=>a.root})(({theme:y})=>({display:"grid",gridAutoColumns:"max-content auto max-content",gridAutoRows:"max-content auto max-content",[`& .${Ui.actionBar}`]:{gridColumn:"1 / 4",gridRow:3},variants:[{props:{isLandscape:!0},style:{[`& .${Ui.toolbar}`]:{gridColumn:y.direction==="rtl"?3:1,gridRow:"2 / 3"},[`.${Ui.shortcuts}`]:{gridColumn:"2 / 4",gridRow:1}}},{props:{isLandscape:!1},style:{[`& .${Ui.toolbar}`]:{gridColumn:"2 / 4",gridRow:1},[`& .${Ui.shortcuts}`]:{gridColumn:y.direction==="rtl"?3:1,gridRow:"2 / 3"}}}]})),Ra=(0,ie.Ay)("div",{name:"MuiPickersLayout",slot:"ContentWrapper",overridesResolver:(y,a)=>a.contentWrapper})({gridColumn:2,gridRow:2,display:"flex",flexDirection:"column"}),Cr=function(a){const l=(0,Z.A)({props:a,name:"MuiPickersLayout"}),{toolbar:u,content:v,tabs:x,actionBar:O,shortcuts:B}=La(l),{sx:z,className:Y,isLandscape:te,ref:re,wrapperVariant:oe}=l,he=l,ce=Na(he);return(0,Ce.jsxs)(Pa,{ref:re,sx:z,className:(0,ln.A)(Y,ce.root),ownerState:he,children:[te?B:u,te?u:B,(0,Ce.jsx)(Ra,{className:ce.contentWrapper,children:oe==="desktop"?(0,Ce.jsxs)(M.Fragment,{children:[v,x]}):(0,Ce.jsxs)(M.Fragment,{children:[x,v]})}),O]})},Ba=["props","getOpenDialogAriaText"],Wa=["ownerState"],ja=["ownerState"],Sr=y=>{var Fe,At,Ct,vt,xt;let{props:a,getOpenDialogAriaText:l}=y,u=(0,H.A)(y,Ba);const{slots:v,slotProps:x,className:O,sx:B,format:z,formatDensity:Y,enableAccessibleFieldDOMStructure:te,selectedSections:re,onSelectedSectionsChange:oe,timezone:he,name:ce,label:de,inputRef:ve,readOnly:ye,disabled:be,autoFocus:Ie,localeText:Ge,reduceAnimations:Pe}=a,We=Zt(),ze=M.useRef(null),$e=M.useRef(null),Ze=(0,$i.A)(),qe=(At=(Fe=x==null?void 0:x.toolbar)==null?void 0:Fe.hidden)!=null?At:!1,{open:Ve,actions:Qe,hasUIView:Me,layoutProps:ot,renderCurrentView:bt,shouldRestoreFocus:Tt,fieldProps:Dt}=yr((0,$.A)({},u,{props:a,fieldRef:$e,autoFocusView:!0,additionalViewProps:{},wrapperVariant:"desktop"})),gt=(Ct=v.inputAdornment)!=null?Ct:dr.A,nt=pn({elementType:gt,externalSlotProps:x==null?void 0:x.inputAdornment,additionalProps:{position:"end"},ownerState:a}),wt=(0,H.A)(nt,Wa),Pt=(vt=v.openPickerButton)!=null?vt:_i.A,ct=pn({elementType:Pt,externalSlotProps:x==null?void 0:x.openPickerButton,additionalProps:{disabled:be||ye,onClick:Ve?Qe.onClose:Qe.onOpen,"aria-label":l(Dt.value,We),edge:wt.position},ownerState:a}),ht=(0,H.A)(ct,ja),qt=v.openPickerIcon,Qt=v.field,je=pn({elementType:Qt,externalSlotProps:x==null?void 0:x.field,additionalProps:(0,$.A)({},Dt,qe&&{id:Ze},{readOnly:ye,disabled:be,className:O,sx:B,format:z,formatDensity:Y,enableAccessibleFieldDOMStructure:te,selectedSections:re,onSelectedSectionsChange:oe,timezone:he,label:de,name:ce,autoFocus:Ie&&!a.open,focused:Ve?!0:void 0},ve?{inputRef:ve}:{}),ownerState:a});Me&&(je.InputProps=(0,$.A)({},je.InputProps,{ref:ze},!a.disableOpenPicker&&{[`${wt.position}Adornment`]:(0,Ce.jsx)(gt,(0,$.A)({},wt,{children:(0,Ce.jsx)(Pt,(0,$.A)({},ht,{children:(0,Ce.jsx)(qt,(0,$.A)({},x==null?void 0:x.openPickerIcon))}))}))}));const Ke=(0,$.A)({textField:v.textField,clearIcon:v.clearIcon,clearButton:v.clearButton},je.slots),_t=(xt=v.layout)!=null?xt:Cr;let Ot=Ze;qe&&(de?Ot=`${Ze}-label`:Ot=void 0);const st=(0,$.A)({},x,{toolbar:(0,$.A)({},x==null?void 0:x.toolbar,{titleId:Ze}),popper:(0,$.A)({"aria-labelledby":Ot},x==null?void 0:x.popper)}),Lt=(0,Mn.A)($e,je.unstableFieldRef);return{renderPicker:()=>(0,Ce.jsxs)(Si,{localeText:Ge,children:[(0,Ce.jsx)(Qt,(0,$.A)({},je,{slots:Ke,slotProps:st,unstableFieldRef:Lt})),(0,Ce.jsx)(ha,(0,$.A)({role:"dialog",placement:"bottom-start",anchorEl:ze.current},Qe,{open:Ve,slots:v,slotProps:st,shouldRestoreFocus:Tt,reduceAnimations:Pe,children:(0,Ce.jsx)(_t,(0,$.A)({},ot,st==null?void 0:st.layout,{slots:v,slotProps:st,children:bt()}))}))]})}};var gi=L(35131);const za=(0,gi.A)((0,Ce.jsx)("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),Va=(0,gi.A)((0,Ce.jsx)("path",{d:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"}),"ArrowLeft"),Ha=(0,gi.A)((0,Ce.jsx)("path",{d:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"ArrowRight"),Ua=(0,gi.A)((0,Ce.jsx)("path",{d:"M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"}),"Calendar"),Ga=(0,gi.A)((0,Ce.jsxs)(M.Fragment,{children:[(0,Ce.jsx)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),(0,Ce.jsx)("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Clock"),Of=(0,gi.A)((0,Ce.jsx)("path",{d:"M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"}),"DateRange"),Lf=(0,gi.A)((0,Ce.jsxs)(M.Fragment,{children:[(0,Ce.jsx)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),(0,Ce.jsx)("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"})]}),"Time"),Ja=(0,gi.A)((0,Ce.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");var Er=L(24273),vi=L(89437);const Ka=({utils:y,format:a})=>{let l=10,u=a,v=y.expandFormat(a);for(;v!==u;)if(u=v,v=y.expandFormat(u),l-=1,l<0)throw new Error("MUI X: The format expansion seems to be in an infinite loop. Please open an issue with the format passed to the picker component.");return v},Ya=({utils:y,expandedFormat:a})=>{const l=[],{start:u,end:v}=y.escapedCharacters,x=new RegExp(`(\\${u}[^\\${v}]*\\${v})+`,"g");let O=null;for(;O=x.exec(a);)l.push({start:O.index,end:x.lastIndex-1});return l},Xa=(y,a,l,u,v)=>{switch(u.type){case"year":return l.fieldYearPlaceholder({digitAmount:y.formatByString(y.date(void 0,a),v).length,format:v});case"month":return l.fieldMonthPlaceholder({contentType:u.contentType,format:v});case"day":return l.fieldDayPlaceholder({format:v});case"weekDay":return l.fieldWeekDayPlaceholder({contentType:u.contentType,format:v});case"hours":return l.fieldHoursPlaceholder({format:v});case"minutes":return l.fieldMinutesPlaceholder({format:v});case"seconds":return l.fieldSecondsPlaceholder({format:v});case"meridiem":return l.fieldMeridiemPlaceholder({format:v});default:return v}},Za=({utils:y,timezone:a,date:l,shouldRespectLeadingZeros:u,localeText:v,localizedDigits:x,now:O,token:B,startSeparator:z})=>{if(B==="")throw new Error("MUI X: Should not call `commitToken` with an empty token");const Y=jt(y,B),te=rs(y,a,Y.contentType,Y.type,B),re=u?te:Y.contentType==="digit",oe=l!=null&&y.isValid(l);let he=oe?y.formatByString(l,B):"",ce=null;if(re)if(te)ce=he===""?y.formatByString(O,B).length:he.length;else{if(Y.maxLength==null)throw new Error(`MUI X: The token ${B} should have a 'maxDigitNumber' property on it's adapter`);ce=Y.maxLength,oe&&(he=ni(ss(Pn(he,x),ce),x))}return(0,$.A)({},Y,{format:B,maxLength:ce,value:he,placeholder:Xa(y,a,v,Y,B),hasLeadingZerosInFormat:te,hasLeadingZerosInInput:re,startSeparator:z,endSeparator:"",modified:!1})},Qa=y=>{var he;const{utils:a,expandedFormat:l,escapedParts:u}=y,v=a.date(void 0),x=[];let O="";const B=Object.keys(a.formatTokenMap).sort((ce,de)=>de.length-ce.length),z=/^([a-zA-Z]+)/,Y=new RegExp(`^(${B.join("|")})*$`),te=new RegExp(`^(${B.join("|")})`),re=ce=>u.find(de=>de.start<=ce&&de.end>=ce);let oe=0;for(;oe<l.length;){const ce=re(oe),de=ce!=null,ve=(he=z.exec(l.slice(oe)))==null?void 0:he[1];if(!de&&ve!=null&&Y.test(ve)){let ye=ve;for(;ye.length>0;){const be=te.exec(ye)[1];ye=ye.slice(be.length),x.push(Za((0,$.A)({},y,{now:v,token:be,startSeparator:O}))),O=""}oe+=ve.length}else{const ye=l[oe];de&&(ce==null?void 0:ce.start)===oe||(ce==null?void 0:ce.end)===oe||(x.length===0?O+=ye:x[x.length-1].endSeparator+=ye),oe+=1}}return x.length===0&&O.length>0&&x.push({type:"empty",contentType:"letter",maxLength:null,format:"",value:"",placeholder:"",hasLeadingZerosInFormat:!1,hasLeadingZerosInInput:!1,startSeparator:O,endSeparator:"",modified:!1}),x},qa=({isRTL:y,formatDensity:a,sections:l})=>l.map(u=>{const v=x=>{let O=x;return y&&O!==null&&O.includes(" ")&&(O=`\u2069${O}\u2066`),a==="spacious"&&["/",".","-"].includes(O)&&(O=` ${O} `),O};return u.startSeparator=v(u.startSeparator),u.endSeparator=v(u.endSeparator),u}),Dr=y=>{let a=Ka(y);y.isRTL&&y.enableAccessibleFieldDOMStructure&&(a=a.split(" ").reverse().join(" "));const l=Ya((0,$.A)({},y,{expandedFormat:a})),u=Qa((0,$.A)({},y,{expandedFormat:a,escapedParts:l}));return qa((0,$.A)({},y,{sections:u}))},el=y=>{const a=Zt(),l=On(),u=ii(),x=(0,vi.A)().direction==="rtl",{valueManager:O,fieldValueManager:B,valueType:z,validator:Y,internalProps:te,internalProps:{value:re,defaultValue:oe,referenceDate:he,onChange:ce,format:de,formatDensity:ve="dense",selectedSections:ye,onSelectedSectionsChange:be,shouldRespectLeadingZeros:Ie=!1,timezone:Ge,enableAccessibleFieldDOMStructure:Pe=!1}}=y,{timezone:We,value:ze,handleValueChange:$e}=Ws({timezone:Ge,value:re,defaultValue:oe,onChange:ce,valueManager:O}),Ze=M.useMemo(()=>bn(a),[a]),qe=M.useMemo(()=>os(a,Ze,We),[a,Ze,We]),Ve=M.useCallback((je,Ke=null)=>B.getSectionsFromValue(a,je,Ke,_t=>Dr({utils:a,timezone:We,localeText:l,localizedDigits:Ze,format:de,date:_t,formatDensity:ve,shouldRespectLeadingZeros:Ie,enableAccessibleFieldDOMStructure:Pe,isRTL:x})),[B,de,l,Ze,x,Ie,a,ve,We,Pe]),[Qe,Me]=M.useState(()=>{const je=Ve(ze);as(je,z);const Ke={sections:je,value:ze,referenceValue:O.emptyValue,tempValueStrAndroid:null},_t=Qn(je),Ot=O.getInitialReferenceValue({referenceDate:he,value:ze,utils:a,props:te,granularity:_t,timezone:We});return(0,$.A)({},Ke,{referenceValue:Ot})}),[ot,bt]=(0,Ei.A)({controlled:ye,default:null,name:"useField",state:"selectedSections"}),Tt=je=>{bt(je),be==null||be(je)},Dt=M.useMemo(()=>Yn(ot,Qe.sections),[ot,Qe.sections]),gt=Dt==="all"?0:Dt,nt=({value:je,referenceValue:Ke,sections:_t})=>{if(Me(st=>(0,$.A)({},st,{sections:_t,value:je,referenceValue:Ke,tempValueStrAndroid:null})),O.areValuesEqual(a,Qe.value,je))return;const Ot={validationError:Y({adapter:u,value:je,props:(0,$.A)({},te,{value:je,timezone:We})})};$e(je,Ot)},wt=(je,Ke)=>{const _t=[...Qe.sections];return _t[je]=(0,$.A)({},_t[je],{value:Ke,modified:!0}),_t},Pt=()=>{nt({value:O.emptyValue,referenceValue:Qe.referenceValue,sections:Ve(O.emptyValue)})},ct=()=>{if(gt==null)return;const je=Qe.sections[gt],Ke=B.getActiveDateManager(a,Qe,je),Ot=Ke.getSections(Qe.sections).filter(Fe=>Fe.value!=="").length===(je.value===""?0:1),st=wt(gt,""),Lt=Ot?null:a.getInvalidDate(),ut=Ke.getNewValuesFromNewActiveDate(Lt);nt((0,$.A)({},ut,{sections:st}))},ht=je=>{const Ke=(st,Lt)=>{const ut=a.parse(st,de);if(ut==null||!a.isValid(ut))return null;const Fe=Dr({utils:a,timezone:We,localeText:l,localizedDigits:Ze,format:de,date:ut,formatDensity:ve,shouldRespectLeadingZeros:Ie,enableAccessibleFieldDOMStructure:Pe,isRTL:x});return ui(a,We,ut,Fe,Lt,!1)},_t=B.parseValueStr(je,Qe.referenceValue,Ke),Ot=B.updateReferenceValue(a,_t,Qe.referenceValue);nt({value:_t,referenceValue:Ot,sections:Ve(_t,Qe.sections)})},qt=({activeSection:je,newSectionValue:Ke,shouldGoToNextSection:_t})=>{_t&&gt<Qe.sections.length-1&&Tt(gt+1);const Ot=B.getActiveDateManager(a,Qe,je),st=wt(gt,Ke),Lt=Ot.getSections(st),ut=Ts(a,Lt,Ze);let Fe,At;if(ut!=null&&a.isValid(ut)){const Ct=ui(a,We,ut,Lt,Ot.referenceDate,!0);Fe=Ot.getNewValuesFromNewActiveDate(Ct),At=!0}else Fe=Ot.getNewValuesFromNewActiveDate(ut),At=(ut!=null&&!a.isValid(ut))!=(Ot.date!=null&&!a.isValid(Ot.date));return At?nt((0,$.A)({},Fe,{sections:st})):Me(Ct=>(0,$.A)({},Ct,Fe,{sections:st,tempValueStrAndroid:null}))},Qt=je=>Me(Ke=>(0,$.A)({},Ke,{tempValueStrAndroid:je}));return M.useEffect(()=>{const je=Ve(Qe.value);as(je,z),Me(Ke=>(0,$.A)({},Ke,{sections:je}))},[de,a.locale,x]),M.useEffect(()=>{let je;O.areValuesEqual(a,Qe.value,ze)?je=O.getTimezone(a,Qe.value)!==O.getTimezone(a,ze):je=!0,je&&Me(Ke=>(0,$.A)({},Ke,{value:ze,referenceValue:B.updateReferenceValue(a,ze,Ke.referenceValue),sections:Ve(ze)}))},[ze]),{state:Qe,activeSectionIndex:gt,parsedSelectedSections:Dt,setSelectedSections:Tt,clearValue:Pt,clearActiveSection:ct,updateSectionValue:qt,updateValueFromValueStr:ht,setTempAndroidValueStr:Qt,getSectionsFromValue:Ve,sectionsValueBoundaries:qe,localizedDigits:Ze,timezone:We}},tl=5e3,Oi=y=>y.saveQuery!=null,nl=({sections:y,updateSectionValue:a,sectionsValueBoundaries:l,localizedDigits:u,setTempAndroidValueStr:v,timezone:x})=>{const O=Zt(),[B,z]=M.useState(null),Y=(0,Ft.A)(()=>z(null));M.useEffect(()=>{var ce;B!=null&&((ce=y[B.sectionIndex])==null?void 0:ce.type)!==B.sectionType&&Y()},[y,B,Y]),M.useEffect(()=>{if(B!=null){const ce=setTimeout(()=>Y(),tl);return()=>{clearTimeout(ce)}}return()=>{}},[B,Y]);const te=({keyPressed:ce,sectionIndex:de},ve,ye)=>{const be=ce.toLowerCase(),Ie=y[de];if(B!=null&&(!ye||ye(B.value))&&B.sectionIndex===de){const Pe=`${B.value}${be}`,We=ve(Pe,Ie);if(!Oi(We))return z({sectionIndex:de,value:Pe,sectionType:Ie.type}),We}const Ge=ve(be,Ie);return Oi(Ge)&&!Ge.saveQuery?(Y(),null):(z({sectionIndex:de,value:be,sectionType:Ie.type}),Oi(Ge)?null:Ge)},re=ce=>{const de=(be,Ie,Ge)=>{const Pe=Ie.filter(We=>We.toLowerCase().startsWith(Ge));return Pe.length===0?{saveQuery:!1}:{sectionValue:Pe[0],shouldGoToNextSection:Pe.length===1}},ve=(be,Ie,Ge,Pe)=>{const We=ze=>sn(O,x,Ie.type,ze);if(Ie.contentType==="letter")return de(Ie.format,We(Ie.format),be);if(Ge&&Pe!=null&&jt(O,Ge).contentType==="letter"){const ze=We(Ge),$e=de(Ge,ze,be);return Oi($e)?{saveQuery:!1}:(0,$.A)({},$e,{sectionValue:Pe($e.sectionValue,ze)})}return{saveQuery:!1}};return te(ce,(be,Ie)=>{switch(Ie.type){case"month":{const Ge=Pe=>Wi(O,Pe,O.formats.month,Ie.format);return ve(be,Ie,O.formats.month,Ge)}case"weekDay":{const Ge=(Pe,We)=>We.indexOf(Pe).toString();return ve(be,Ie,O.formats.weekday,Ge)}case"meridiem":return ve(be,Ie);default:return{saveQuery:!1}}})},oe=ce=>{const de=(ye,be)=>{const Ie=Pn(ye,u),Ge=Number(Ie),Pe=l[be.type]({currentDate:null,format:be.format,contentType:be.contentType});if(Ge>Pe.maximum)return{saveQuery:!1};if(Ge<Pe.minimum)return{saveQuery:!0};const We=Ge*10>Pe.maximum||Ie.length===Pe.maximum.toString().length;return{sectionValue:wi(O,Ge,Pe,u,be),shouldGoToNextSection:We}};return te(ce,(ye,be)=>{if(be.contentType==="digit"||be.contentType==="digit-with-letter")return de(ye,be);if(be.type==="month"){const Ie=rs(O,x,"digit","month","MM"),Ge=de(ye,{type:be.type,format:"MM",hasLeadingZerosInFormat:Ie,hasLeadingZerosInInput:!0,contentType:"digit",maxLength:2});if(Oi(Ge))return Ge;const Pe=Wi(O,Ge.sectionValue,"MM",be.format);return(0,$.A)({},Ge,{sectionValue:Pe})}if(be.type==="weekDay"){const Ie=de(ye,be);if(Oi(Ie))return Ie;const Ge=Et(O,x,be.format)[Number(Ie.sectionValue)-1];return(0,$.A)({},Ie,{sectionValue:Ge})}return{saveQuery:!1}},ye=>ki(ye,u))};return{applyCharacterEditing:(0,Ft.A)(ce=>{const de=y[ce.sectionIndex],ye=ki(ce.keyPressed,u)?oe((0,$.A)({},ce,{keyPressed:ni(ce.keyPressed,u)})):re(ce);if(ye==null){v(null);return}a({activeSection:de,newSectionValue:ye.sectionValue,shouldGoToNextSection:ye.shouldGoToNextSection})}),resetCharacterQuery:Y}},il=y=>{const{internalProps:{disabled:a,readOnly:l=!1},forwardedProps:{sectionListRef:u,onBlur:v,onClick:x,onFocus:O,onInput:B,onPaste:z,focused:Y,autoFocus:te=!1},fieldValueManager:re,applyCharacterEditing:oe,resetCharacterQuery:he,setSelectedSections:ce,parsedSelectedSections:de,state:ve,clearActiveSection:ye,clearValue:be,updateSectionValue:Ie,updateValueFromValueStr:Ge,sectionOrder:Pe,areAllSectionsEmpty:We,sectionsValueBoundaries:ze}=y,$e=M.useRef(null),Ze=(0,Mn.A)(u,$e),qe=On(),Ve=Zt(),Qe=(0,$i.A)(),[Me,ot]=M.useState(!1),bt=M.useMemo(()=>({syncSelectionToDOM:()=>{if(!$e.current)return;const Fe=document.getSelection();if(!Fe)return;if(de==null){Fe.rangeCount>0&&$e.current.getRoot().contains(Fe.getRangeAt(0).startContainer)&&Fe.removeAllRanges(),Me&&$e.current.getRoot().blur();return}if(!$e.current.getRoot().contains(Xn(document)))return;const At=new window.Range;let Ct;de==="all"?Ct=$e.current.getRoot():ve.sections[de].type==="empty"?Ct=$e.current.getSectionContainer(de):Ct=$e.current.getSectionContent(de),At.selectNodeContents(Ct),Ct.focus(),Fe.removeAllRanges(),Fe.addRange(At)},getActiveSectionIndexFromDOM:()=>{const Fe=Xn(document);return!Fe||!$e.current||!$e.current.getRoot().contains(Fe)?null:$e.current.getSectionIndexFromDOMElement(Fe)},focusField:(Fe=0)=>{if(!$e.current)return;const At=Yn(Fe,ve.sections);ot(!0),$e.current.getSectionContent(At).focus()},setSelectedSections:Fe=>{if(!$e.current)return;const At=Yn(Fe,ve.sections);ot((At==="all"?0:At)!==null),ce(Fe)},isFieldFocused:()=>{const Fe=Xn(document);return!!$e.current&&$e.current.getRoot().contains(Fe)}}),[de,ce,ve.sections,Me]),Tt=(0,Ft.A)(Fe=>{if(!$e.current)return;const At=ve.sections[Fe];$e.current.getSectionContent(Fe).innerHTML=At.value||At.placeholder,bt.syncSelectionToDOM()}),Dt=(0,Ft.A)((Fe,...At)=>{Fe.isDefaultPrevented()||!$e.current||(ot(!0),x==null||x(Fe,...At),de==="all"?setTimeout(()=>{const Ct=document.getSelection().getRangeAt(0).startOffset;if(Ct===0){ce(Pe.startIndex);return}let vt=0,xt=0;for(;xt<Ct&&vt<ve.sections.length;){const tt=ve.sections[vt];vt+=1,xt+=`${tt.startSeparator}${tt.value||tt.placeholder}${tt.endSeparator}`.length}ce(vt-1)}):Me?$e.current.getRoot().contains(Fe.target)||ce(Pe.startIndex):(ot(!0),ce(Pe.startIndex)))}),gt=(0,Ft.A)(Fe=>{var vt;if(B==null||B(Fe),!$e.current||de!=="all")return;const Ct=(vt=Fe.target.textContent)!=null?vt:"";$e.current.getRoot().innerHTML=ve.sections.map(xt=>`${xt.startSeparator}${xt.value||xt.placeholder}${xt.endSeparator}`).join(""),bt.syncSelectionToDOM(),Ct.length===0||Ct.charCodeAt(0)===10?(he(),be(),ce("all")):Ct.length>1?Ge(Ct):oe({keyPressed:Ct,sectionIndex:0})}),nt=(0,Ft.A)(Fe=>{if(z==null||z(Fe),l||de!=="all"){Fe.preventDefault();return}const At=Fe.clipboardData.getData("text");Fe.preventDefault(),he(),Ge(At)}),wt=(0,Ft.A)((...Fe)=>{if(O==null||O(...Fe),Me||!$e.current)return;ot(!0),$e.current.getSectionIndexFromDOMElement(Xn(document))!=null||ce(Pe.startIndex)}),Pt=(0,Ft.A)((...Fe)=>{v==null||v(...Fe),setTimeout(()=>{if(!$e.current)return;const At=Xn(document);!$e.current.getRoot().contains(At)&&(ot(!1),ce(null))})}),ct=(0,Ft.A)(Fe=>At=>{At.isDefaultPrevented()||l||ce(Fe)}),ht=(0,Ft.A)(Fe=>{Fe.preventDefault()}),qt=(0,Ft.A)(Fe=>()=>{l||ce(Fe)}),Qt=(0,Ft.A)(Fe=>{if(Fe.preventDefault(),l||typeof de!="number")return;const At=ve.sections[de],Ct=Fe.clipboardData.getData("text"),vt=/^[a-zA-Z]+$/.test(Ct),xt=/^[0-9]+$/.test(Ct),tt=/^(([a-zA-Z]+)|)([0-9]+)(([a-zA-Z]+)|)$/.test(Ct);At.contentType==="letter"&&vt||At.contentType==="digit"&&xt||At.contentType==="digit-with-letter"&&tt?(he(),Ie({activeSection:At,newSectionValue:Ct,shouldGoToNextSection:!0})):!vt&&!xt&&(he(),Ge(Ct))}),je=(0,Ft.A)(Fe=>{Fe.preventDefault(),Fe.dataTransfer.dropEffect="none"}),Ke=(0,Ft.A)(Fe=>{var tt;if(!$e.current)return;const At=Fe.target,Ct=(tt=At.textContent)!=null?tt:"",vt=$e.current.getSectionIndexFromDOMElement(At),xt=ve.sections[vt];if(l||!$e.current){Tt(vt);return}if(Ct.length===0){if(xt.value===""){Tt(vt);return}const Mt=Fe.nativeEvent.inputType;if(Mt==="insertParagraph"||Mt==="insertLineBreak"){Tt(vt);return}he(),ye();return}oe({keyPressed:Ct,sectionIndex:vt}),Tt(vt)});(0,mi.A)(()=>{if(!(!Me||!$e.current)){if(de==="all")$e.current.getRoot().focus();else if(typeof de=="number"){const Fe=$e.current.getSectionContent(de);Fe&&Fe.focus()}}},[de,Me]);const _t=M.useMemo(()=>ve.sections.reduce((Fe,At)=>(Fe[At.type]=ze[At.type]({currentDate:null,contentType:At.contentType,format:At.format}),Fe),{}),[ze,ve.sections]),Ot=de==="all",st=M.useMemo(()=>ve.sections.map((Fe,At)=>{const Ct=!Ot&&!a&&!l;return{container:{"data-sectionindex":At,onClick:ct(At)},content:{tabIndex:Ot||At>0?-1:0,contentEditable:!Ot&&!a&&!l,role:"spinbutton",id:`${Qe}-${Fe.type}`,"aria-labelledby":`${Qe}-${Fe.type}`,"aria-readonly":l,"aria-valuenow":Os(Fe,Ve),"aria-valuemin":_t[Fe.type].minimum,"aria-valuemax":_t[Fe.type].maximum,"aria-valuetext":Fe.value?Fs(Fe,Ve):qe.empty,"aria-label":qe[Fe.type],"aria-disabled":a,spellCheck:Ct?!1:void 0,autoCapitalize:Ct?"off":void 0,autoCorrect:Ct?"off":void 0,[parseInt(M.version,10)>=17?"enterKeyHint":"enterkeyhint"]:Ct?"next":void 0,children:Fe.value||Fe.placeholder,onInput:Ke,onPaste:Qt,onFocus:qt(At),onDragOver:je,onMouseUp:ht,inputMode:Fe.contentType==="letter"?"text":"numeric"},before:{children:Fe.startSeparator},after:{children:Fe.endSeparator}}}),[ve.sections,qt,Qt,je,Ke,ct,ht,a,l,Ot,qe,Ve,_t,Qe]),Lt=(0,Ft.A)(Fe=>{Ge(Fe.target.value)}),ut=M.useMemo(()=>We?"":re.getV7HiddenInputValueFromSections(ve.sections),[We,ve.sections,re]);return M.useEffect(()=>{if($e.current==null)throw new Error(["MUI X: The `sectionListRef` prop has not been initialized by `PickersSectionList`","You probably tried to pass a component to the `textField` slot that contains an `<input />` element instead of a `PickersSectionList`.","","If you want to keep using an `<input />` HTML element for the editing, please remove the `enableAccessibleFieldDOMStructure` prop from your picker or field component:","","<DatePicker slots={{ textField: MyCustomTextField }} />","","Learn more about the field accessible DOM structure on the MUI documentation: https://mui.com/x/react-date-pickers/fields/#fields-to-edit-a-single-element"].join(`
`));te&&$e.current&&$e.current.getSectionContent(Pe.startIndex).focus()},[]),{interactions:bt,returnedValue:{autoFocus:te,readOnly:l,focused:Y!=null?Y:Me,sectionListRef:Ze,onBlur:Pt,onClick:Dt,onFocus:wt,onInput:gt,onPaste:nt,enableAccessibleFieldDOMStructure:!0,elements:st,tabIndex:de===0?-1:0,contentEditable:Ot,value:ut,onChange:Lt,areAllSectionsEmpty:We}}},Li=y=>y.replace(/[\u2066\u2067\u2068\u2069]/g,""),sl=(y,a,l)=>{let u=0,v=l?1:0;const x=[];for(let O=0;O<y.length;O+=1){const B=y[O],z=ci(B,l?"input-rtl":"input-ltr",a),Y=`${B.startSeparator}${z}${B.endSeparator}`,te=Li(Y).length,re=Y.length,oe=Li(z),he=v+(oe===""?0:z.indexOf(oe[0]))+B.startSeparator.length,ce=he+oe.length;x.push((0,$.A)({},B,{start:u,end:u+te,startInInput:he,endInInput:ce})),u+=te,v+=re}return x},rl=y=>{const l=(0,vi.A)().direction==="rtl",u=M.useRef(),{forwardedProps:{onFocus:v,onClick:x,onPaste:O,onBlur:B,inputRef:z,placeholder:Y},internalProps:{readOnly:te=!1},parsedSelectedSections:re,activeSectionIndex:oe,state:he,fieldValueManager:ce,valueManager:de,applyCharacterEditing:ve,resetCharacterQuery:ye,updateSectionValue:be,updateValueFromValueStr:Ie,clearActiveSection:Ge,clearValue:Pe,setTempAndroidValueStr:We,setSelectedSections:ze,getSectionsFromValue:$e,areAllSectionsEmpty:Ze,localizedDigits:qe}=y,Ve=M.useRef(null),Qe=(0,Mn.A)(z,Ve),Me=M.useMemo(()=>sl(he.sections,qe,l),[he.sections,qe,l]),ot=M.useMemo(()=>({syncSelectionToDOM:()=>{if(!Ve.current)return;if(re==null){Ve.current.scrollLeft&&(Ve.current.scrollLeft=0);return}if(Ve.current!==Xn(document))return;const je=Ve.current.scrollTop;if(re==="all")Ve.current.select();else{const Ke=Me[re],_t=Ke.type==="empty"?Ke.startInInput-Ke.startSeparator.length:Ke.startInInput,Ot=Ke.type==="empty"?Ke.endInInput+Ke.endSeparator.length:Ke.endInInput;(_t!==Ve.current.selectionStart||Ot!==Ve.current.selectionEnd)&&Ve.current===Xn(document)&&Ve.current.setSelectionRange(_t,Ot)}Ve.current.scrollTop=je},getActiveSectionIndexFromDOM:()=>{var st,Lt,ut;const je=(st=Ve.current.selectionStart)!=null?st:0,Ke=(Lt=Ve.current.selectionEnd)!=null?Lt:0,_t=!!((ut=Ve.current)!=null&&ut.readOnly);if(je===0&&Ke===0||_t)return null;const Ot=je<=Me[0].startInInput?1:Me.findIndex(Fe=>Fe.startInInput-Fe.startSeparator.length>je);return Ot===-1?Me.length-1:Ot-1},focusField:(je=0)=>{var Ke;(Ke=Ve.current)==null||Ke.focus(),ze(je)},setSelectedSections:je=>ze(je),isFieldFocused:()=>Ve.current===Xn(document)}),[Ve,re,Me,ze]),bt=()=>{var Ot;if(te){ze(null);return}const je=(Ot=Ve.current.selectionStart)!=null?Ot:0;let Ke;je<=Me[0].startInInput||je>=Me[Me.length-1].endInInput?Ke=1:Ke=Me.findIndex(st=>st.startInInput-st.startSeparator.length>je);const _t=Ke===-1?Me.length-1:Ke-1;ze(_t)},Tt=(0,Ft.A)((...je)=>{v==null||v(...je);const Ke=Ve.current;clearTimeout(u.current),u.current=setTimeout(()=>{!Ke||Ke!==Ve.current||oe!=null||te||(Ke.value.length&&Number(Ke.selectionEnd)-Number(Ke.selectionStart)===Ke.value.length?ze("all"):bt())})}),Dt=(0,Ft.A)((je,...Ke)=>{je.isDefaultPrevented()||(x==null||x(je,...Ke),bt())}),gt=(0,Ft.A)(je=>{if(O==null||O(je),je.preventDefault(),te)return;const Ke=je.clipboardData.getData("text");if(typeof re=="number"){const _t=he.sections[re],Ot=/^[a-zA-Z]+$/.test(Ke),st=/^[0-9]+$/.test(Ke),Lt=/^(([a-zA-Z]+)|)([0-9]+)(([a-zA-Z]+)|)$/.test(Ke);if(_t.contentType==="letter"&&Ot||_t.contentType==="digit"&&st||_t.contentType==="digit-with-letter"&&Lt){ye(),be({activeSection:_t,newSectionValue:Ke,shouldGoToNextSection:!0});return}if(Ot||st)return}ye(),Ie(Ke)}),nt=(0,Ft.A)((...je)=>{B==null||B(...je),ze(null)}),wt=(0,Ft.A)(je=>{if(te)return;const Ke=je.target.value;if(Ke===""){ye(),Pe();return}const _t=je.nativeEvent.data,Ot=_t&&_t.length>1,st=Ot?_t:Ke,Lt=Li(st);if(oe==null||Ot){Ie(Ot?_t:Lt);return}let ut;if(re==="all"&&Lt.length===1)ut=Lt;else{const Fe=Li(ce.getV6InputValueFromSections(Me,qe,l));let At=-1,Ct=-1;for(let Mt=0;Mt<Fe.length;Mt+=1)At===-1&&Fe[Mt]!==Lt[Mt]&&(At=Mt),Ct===-1&&Fe[Fe.length-Mt-1]!==Lt[Lt.length-Mt-1]&&(Ct=Mt);const vt=Me[oe];if(At<vt.start||Fe.length-Ct-1>vt.end)return;const tt=Lt.length-Fe.length+vt.end-Li(vt.endSeparator||"").length;ut=Lt.slice(vt.start+Li(vt.startSeparator||"").length,tt)}if(ut.length===0){Ms()?We(st):(ye(),Ge());return}ve({keyPressed:ut,sectionIndex:oe})}),Pt=M.useMemo(()=>Y!==void 0?Y:ce.getV6InputValueFromSections($e(de.emptyValue),qe,l),[Y,ce,$e,de.emptyValue,qe,l]),ct=M.useMemo(()=>{var je;return(je=he.tempValueStrAndroid)!=null?je:ce.getV6InputValueFromSections(he.sections,qe,l)},[he.sections,ce,he.tempValueStrAndroid,qe,l]);M.useEffect(()=>(Ve.current&&Ve.current===Xn(document)&&ze("all"),()=>{clearTimeout(u.current)}),[]);const ht=M.useMemo(()=>oe==null||he.sections[oe].contentType==="letter"?"text":"numeric",[oe,he.sections]),Qt=!(Ve.current&&Ve.current===Xn(document))&&Ze;return{interactions:ot,returnedValue:{readOnly:te,onBlur:nt,onClick:Dt,onFocus:Tt,onPaste:gt,inputRef:Qe,enableAccessibleFieldDOMStructure:!1,placeholder:Pt,inputMode:ht,autoComplete:"off",value:Qt?"":ct,onChange:wt}}},Ar=y=>{const a=Zt(),{internalProps:l,internalProps:{unstableFieldRef:u,minutesStep:v,enableAccessibleFieldDOMStructure:x=!1,disabled:O=!1,readOnly:B=!1},forwardedProps:{onKeyDown:z,error:Y,clearable:te,onClear:re},fieldValueManager:oe,valueManager:he,validator:ce}=y,ve=(0,vi.A)().direction==="rtl",ye=el(y),{state:be,activeSectionIndex:Ie,parsedSelectedSections:Ge,setSelectedSections:Pe,clearValue:We,clearActiveSection:ze,updateSectionValue:$e,setTempAndroidValueStr:Ze,sectionsValueBoundaries:qe,localizedDigits:Ve,timezone:Qe}=ye,Me=nl({sections:be.sections,updateSectionValue:$e,sectionsValueBoundaries:qe,localizedDigits:Ve,setTempAndroidValueStr:Ze,timezone:Qe}),{resetCharacterQuery:ot}=Me,bt=he.areValuesEqual(a,be.value,he.emptyValue),Tt=x?il:rl,Dt=M.useMemo(()=>Is(be.sections,ve&&!x),[be.sections,ve,x]),{returnedValue:gt,interactions:nt}=Tt((0,$.A)({},y,ye,Me,{areAllSectionsEmpty:bt,sectionOrder:Dt})),wt=(0,Ft.A)(je=>{switch(z==null||z(je),!0){case((je.ctrlKey||je.metaKey)&&je.key.toLowerCase()==="a"&&!je.shiftKey&&!je.altKey):{je.preventDefault(),Pe("all");break}case je.key==="ArrowRight":{if(je.preventDefault(),Ge==null)Pe(Dt.startIndex);else if(Ge==="all")Pe(Dt.endIndex);else{const Ke=Dt.neighbors[Ge].rightIndex;Ke!==null&&Pe(Ke)}break}case je.key==="ArrowLeft":{if(je.preventDefault(),Ge==null)Pe(Dt.endIndex);else if(Ge==="all")Pe(Dt.startIndex);else{const Ke=Dt.neighbors[Ge].leftIndex;Ke!==null&&Pe(Ke)}break}case je.key==="Delete":{if(je.preventDefault(),B)break;Ge==null||Ge==="all"?We():ze(),ot();break}case["ArrowUp","ArrowDown","Home","End","PageUp","PageDown"].includes(je.key):{if(je.preventDefault(),B||Ie==null)break;const Ke=be.sections[Ie],_t=oe.getActiveDateManager(a,be,Ke),Ot=ks(a,Qe,Ke,je.key,qe,Ve,_t.date,{minutesStep:v});$e({activeSection:Ke,newSectionValue:Ot,shouldGoToNextSection:!1});break}}});(0,mi.A)(()=>{nt.syncSelectionToDOM()});const Pt=gr((0,$.A)({},l,{value:be.value,timezone:Qe}),ce,he.isSameError,he.defaultErrorState),ct=M.useMemo(()=>Y!==void 0?Y:he.hasError(Pt),[he,Pt,Y]);M.useEffect(()=>{!ct&&Ie==null&&ot()},[be.referenceValue,Ie,ct]),M.useEffect(()=>{be.tempValueStrAndroid!=null&&Ie!=null&&(ot(),ze())},[be.sections]),M.useImperativeHandle(u,()=>({getSections:()=>be.sections,getActiveSectionIndex:nt.getActiveSectionIndexFromDOM,setSelectedSections:nt.setSelectedSections,focusField:nt.focusField,isFieldFocused:nt.isFieldFocused}));const ht=(0,Ft.A)((je,...Ke)=>{je.preventDefault(),re==null||re(je,...Ke),We(),nt.isFieldFocused()?Pe(Dt.startIndex):nt.focusField(0)}),qt={onKeyDown:wt,onClear:ht,error:ct,clearable:!!(te&&!bt&&!B&&!O)},Qt={disabled:O,readOnly:B};return(0,$.A)({},y.forwardedProps,qt,Qt,gt)},zs=["disablePast","disableFuture","minDate","maxDate","shouldDisableDate","shouldDisableMonth","shouldDisableYear"],Vs=["disablePast","disableFuture","minTime","maxTime","shouldDisableTime","minutesStep","ampm","disableIgnoringDatePartForTimeValidation"],xr=["minDateTime","maxDateTime"],ol=[...zs,...Vs,...xr],fs=y=>ol.reduce((a,l)=>(y.hasOwnProperty(l)&&(a[l]=y[l]),a),{}),al=["value","defaultValue","referenceDate","format","formatDensity","onChange","timezone","onError","shouldRespectLeadingZeros","selectedSections","onSelectedSectionsChange","unstableFieldRef","enableAccessibleFieldDOMStructure","disabled","readOnly","dateSeparator"],kr=(y,a)=>{const l=(0,$.A)({},y),u={},v=x=>{l.hasOwnProperty(x)&&(u[x]=l[x],delete l[x])};return al.forEach(v),a==="date"?zs.forEach(v):a==="time"?Vs.forEach(v):a==="date-time"&&(zs.forEach(v),Vs.forEach(v),xr.forEach(v)),{forwardedProps:l,internalProps:u}},ll=y=>{var u,v,x;const a=Zt(),l=qn();return(0,$.A)({},y,{disablePast:(u=y.disablePast)!=null?u:!1,disableFuture:(v=y.disableFuture)!=null?v:!1,format:(x=y.format)!=null?x:a.formats.keyboardDate,minDate:at(a,y.minDate,l.minDate),maxDate:at(a,y.maxDate,l.maxDate)})},cl=y=>{var v,x,O,B;const a=Zt(),u=((v=y.ampm)!=null?v:a.is12HourCycleInCurrentLocale())?a.formats.fullTime12h:a.formats.fullTime24h;return(0,$.A)({},y,{disablePast:(x=y.disablePast)!=null?x:!1,disableFuture:(O=y.disableFuture)!=null?O:!1,format:(B=y.format)!=null?B:u})},Nf=y=>{var x,O,B,z,Y,te,re,oe;const a=useUtils(),l=useDefaultDates(),v=((x=y.ampm)!=null?x:a.is12HourCycleInCurrentLocale())?a.formats.keyboardDateTime12h:a.formats.keyboardDateTime24h;return _extends({},y,{disablePast:(O=y.disablePast)!=null?O:!1,disableFuture:(B=y.disableFuture)!=null?B:!1,format:(z=y.format)!=null?z:v,disableIgnoringDatePartForTimeValidation:!!(y.minDateTime||y.maxDateTime),minDate:applyDefaultDate(a,(Y=y.minDateTime)!=null?Y:y.minDate,l.minDate),maxDate:applyDefaultDate(a,(te=y.maxDateTime)!=null?te:y.maxDate,l.maxDate),minTime:(re=y.minDateTime)!=null?re:y.minTime,maxTime:(oe=y.maxDateTime)!=null?oe:y.maxTime})},ul=y=>{const a=ll(y),{forwardedProps:l,internalProps:u}=kr(a,"date");return Ar({forwardedProps:l,internalProps:u,valueManager:Nn,fieldValueManager:cs,validator:pi,valueType:"date"})},dl=["clearable","onClear","InputProps","sx","slots","slotProps"],hl=["ownerState"],Tr=y=>{var ce,de;const a=On(),{clearable:l,onClear:u,InputProps:v,sx:x,slots:O,slotProps:B}=y,z=(0,H.A)(y,dl),Y=(ce=O==null?void 0:O.clearButton)!=null?ce:_i.A,te=pn({elementType:Y,externalSlotProps:B==null?void 0:B.clearButton,ownerState:{},className:"clearButton",additionalProps:{title:a.fieldClearLabel}}),re=(0,H.A)(te,hl),oe=(de=O==null?void 0:O.clearIcon)!=null?de:Ja,he=pn({elementType:oe,externalSlotProps:B==null?void 0:B.clearIcon,ownerState:{}});return(0,$.A)({},z,{InputProps:(0,$.A)({},v,{endAdornment:(0,Ce.jsxs)(M.Fragment,{children:[l&&(0,Ce.jsx)(dr.A,{position:"end",sx:{marginRight:v!=null&&v.endAdornment?-1:-1.5},children:(0,Ce.jsx)(Y,(0,$.A)({},re,{onClick:u,children:(0,Ce.jsx)(oe,(0,$.A)({fontSize:"small"},he))}))}),v==null?void 0:v.endAdornment]})}),sx:[{"& .clearButton":{opacity:1},"@media (pointer: fine)":{"& .clearButton":{opacity:0},"&:hover, &:focus-within":{".clearButton":{opacity:1}}}},...Array.isArray(x)?x:[x]]})};var pl=L(10743),fl=L(11085),ml=L(48845);function gl(y){return(0,Re.Ay)("MuiPickersTextField",y)}const Pf=(0,it.A)("MuiPickersTextField",["root","focused","disabled","error","required"]);var ms=L(64186);function vl(y){return(0,Re.Ay)("MuiPickersInputBase",y)}const Ni=(0,it.A)("MuiPickersInputBase",["root","focused","disabled","error","notchedOutline","sectionContent","sectionBefore","sectionAfter","adornedStart","adornedEnd","input"]);function yl(y){return(0,Re.Ay)("MuiPickersOutlinedInput",y)}const ti=(0,$.A)({},Ni,(0,it.A)("MuiPickersOutlinedInput",["root","notchedOutline","input"])),bl=["children","className","label","notched","shrink"],wl=(0,ie.Ay)("fieldset",{name:"MuiPickersOutlinedInput",slot:"NotchedOutline",overridesResolver:(y,a)=>a.notchedOutline})(({theme:y})=>{const a=y.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%",borderColor:y.vars?`rgba(${y.vars.palette.common.onBackgroundChannel} / 0.23)`:a}}),_r=(0,ie.Ay)("span")(({theme:y})=>({fontFamily:y.typography.fontFamily,fontSize:"inherit"})),Cl=(0,ie.Ay)("legend")(({theme:y})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:{withLabel:!1},style:{padding:0,lineHeight:"11px",transition:y.transitions.create("width",{duration:150,easing:y.transitions.easing.easeOut})}},{props:{withLabel:!0},style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:y.transitions.create("max-width",{duration:50,easing:y.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:{withLabel:!0,notched:!0},style:{maxWidth:"100%",transition:y.transitions.create("max-width",{duration:100,easing:y.transitions.easing.easeOut,delay:50})}}]}));function Sl(y){const{className:a,label:l}=y,u=(0,H.A)(y,bl),v=l!=null&&l!=="",x=(0,$.A)({},y,{withLabel:v});return(0,Ce.jsx)(wl,(0,$.A)({"aria-hidden":!0,className:a},u,{ownerState:x,children:(0,Ce.jsx)(Cl,{ownerState:x,children:v?(0,Ce.jsx)(_r,{children:l}):(0,Ce.jsx)(_r,{className:"notranslate",children:"\u200B"})})}))}var El=L(62917),Dl=L(34027);function Al(y){return(0,Re.Ay)("MuiPickersSectionList",y)}const Ki=(0,it.A)("MuiPickersSectionList",["root","section","sectionContent"]),xl=["slots","slotProps","elements","sectionListRef"],$r=(0,ie.Ay)("div",{name:"MuiPickersSectionList",slot:"Root",overridesResolver:(y,a)=>a.root})({direction:"ltr /*! @noflip */",outline:"none"}),Mr=(0,ie.Ay)("span",{name:"MuiPickersSectionList",slot:"Section",overridesResolver:(y,a)=>a.section})({}),Ir=(0,ie.Ay)("span",{name:"MuiPickersSectionList",slot:"SectionSeparator",overridesResolver:(y,a)=>a.sectionSeparator})({whiteSpace:"pre"}),Fr=(0,ie.Ay)("span",{name:"MuiPickersSectionList",slot:"SectionContent",overridesResolver:(y,a)=>a.sectionContent})({outline:"none"}),kl=y=>{const{classes:a}=y,l={root:["root"],section:["section"],sectionContent:["sectionContent"]};return(0,ge.A)(l,Al,a)};function Tl(y){var oe,he,ce;const{slots:a,slotProps:l,element:u,classes:v}=y,x=(oe=a==null?void 0:a.section)!=null?oe:Mr,O=pn({elementType:x,externalSlotProps:l==null?void 0:l.section,externalForwardedProps:u.container,className:v.section,ownerState:{}}),B=(he=a==null?void 0:a.sectionContent)!=null?he:Fr,z=pn({elementType:B,externalSlotProps:l==null?void 0:l.sectionContent,externalForwardedProps:u.content,additionalProps:{suppressContentEditableWarning:!0},className:v.sectionContent,ownerState:{}}),Y=(ce=a==null?void 0:a.sectionSeparator)!=null?ce:Ir,te=pn({elementType:Y,externalSlotProps:l==null?void 0:l.sectionSeparator,externalForwardedProps:u.before,ownerState:{position:"before"}}),re=pn({elementType:Y,externalSlotProps:l==null?void 0:l.sectionSeparator,externalForwardedProps:u.after,ownerState:{position:"after"}});return(0,Ce.jsxs)(x,(0,$.A)({},O,{children:[(0,Ce.jsx)(Y,(0,$.A)({},te)),(0,Ce.jsx)(B,(0,$.A)({},z)),(0,Ce.jsx)(Y,(0,$.A)({},re))]}))}const _l=M.forwardRef(function(a,l){var de;const u=(0,Z.A)({props:a,name:"MuiPickersSectionList"}),{slots:v,slotProps:x,elements:O,sectionListRef:B}=u,z=(0,H.A)(u,xl),Y=kl(u),te=M.useRef(null),re=(0,Mn.A)(l,te),oe=ve=>{if(!te.current)throw new Error(`MUI X: Cannot call sectionListRef.${ve} before the mount of the component.`);return te.current};M.useImperativeHandle(B,()=>({getRoot(){return oe("getRoot")},getSectionContainer(ve){return oe("getSectionContainer").querySelector(`.${Ki.section}[data-sectionindex="${ve}"]`)},getSectionContent(ve){return oe("getSectionContent").querySelector(`.${Ki.section}[data-sectionindex="${ve}"] .${Ki.sectionContent}`)},getSectionIndexFromDOMElement(ve){const ye=oe("getSectionIndexFromDOMElement");if(ve==null||!ye.contains(ve))return null;let be=null;return ve.classList.contains(Ki.section)?be=ve:ve.classList.contains(Ki.sectionContent)&&(be=ve.parentElement),be==null?null:Number(be.dataset.sectionindex)}}));const he=(de=v==null?void 0:v.root)!=null?de:$r,ce=pn({elementType:he,externalSlotProps:x==null?void 0:x.root,externalForwardedProps:z,additionalProps:{ref:re,suppressContentEditableWarning:!0},className:Y.root,ownerState:{}});return(0,Ce.jsx)(he,(0,$.A)({},ce,{children:ce.contentEditable?O.map(({content:ve,before:ye,after:be})=>`${ye.children}${ve.children}${be.children}`).join(""):(0,Ce.jsx)(M.Fragment,{children:O.map((ve,ye)=>(0,Ce.jsx)(Tl,{slots:v,slotProps:x,element:ve,classes:Y},ye))})}))}),$l=["elements","areAllSectionsEmpty","defaultValue","label","value","onChange","id","autoFocus","endAdornment","startAdornment","renderSuffix","slots","slotProps","contentEditable","tabIndex","onInput","onPaste","onKeyDown","fullWidth","name","readOnly","inputProps","inputRef","sectionListRef"],Ml=y=>Math.round(y*1e5)/1e5,gs=(0,ie.Ay)("div",{name:"MuiPickersInputBase",slot:"Root",overridesResolver:(y,a)=>a.root})(({theme:y})=>(0,$.A)({},y.typography.body1,{color:(y.vars||y).palette.text.primary,cursor:"text",padding:0,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",boxSizing:"border-box",letterSpacing:`${Ml(.15/16)}em`,variants:[{props:{fullWidth:!0},style:{width:"100%"}}]})),Hs=(0,ie.Ay)($r,{name:"MuiPickersInputBase",slot:"SectionsContainer",overridesResolver:(y,a)=>a.sectionsContainer})(({theme:y})=>(0,$.A)({padding:"4px 0 5px",fontFamily:y.typography.fontFamily,fontSize:"inherit",lineHeight:"1.4375em",flexGrow:1,outline:"none",display:"flex",flexWrap:"nowrap",overflow:"hidden",letterSpacing:"inherit",width:"182px"},y.direction==="rtl"&&{textAlign:"right /*! @noflip */"},{variants:[{props:{size:"small"},style:{paddingTop:1}},{props:{adornedStart:!1,focused:!1,filled:!1},style:{color:"currentColor",opacity:0}},{props:({adornedStart:a,focused:l,filled:u,label:v})=>!a&&!l&&!u&&v==null,style:y.vars?{opacity:y.vars.opacity.inputPlaceholder}:{opacity:y.palette.mode==="light"?.42:.5}}]})),Il=(0,ie.Ay)(Mr,{name:"MuiPickersInputBase",slot:"Section",overridesResolver:(y,a)=>a.section})(({theme:y})=>({fontFamily:y.typography.fontFamily,fontSize:"inherit",letterSpacing:"inherit",lineHeight:"1.4375em",display:"flex"})),Fl=(0,ie.Ay)(Fr,{name:"MuiPickersInputBase",slot:"SectionContent",overridesResolver:(y,a)=>a.content})(({theme:y})=>({fontFamily:y.typography.fontFamily,lineHeight:"1.4375em",letterSpacing:"inherit",width:"fit-content",outline:"none"})),Ol=(0,ie.Ay)(Ir,{name:"MuiPickersInputBase",slot:"Separator",overridesResolver:(y,a)=>a.separator})(()=>({whiteSpace:"pre",letterSpacing:"inherit"})),Ll=(0,ie.Ay)("input",{name:"MuiPickersInputBase",slot:"Input",overridesResolver:(y,a)=>a.hiddenInput})((0,$.A)({},Dl.A)),Nl=y=>{const{focused:a,disabled:l,error:u,classes:v,fullWidth:x,readOnly:O,color:B,size:z,endAdornment:Y,startAdornment:te}=y,re={root:["root",a&&!l&&"focused",l&&"disabled",O&&"readOnly",u&&"error",x&&"fullWidth",`color${(0,El.A)(B)}`,z==="small"&&"inputSizeSmall",!!te&&"adornedStart",!!Y&&"adornedEnd"],notchedOutline:["notchedOutline"],input:["input"],sectionsContainer:["sectionsContainer"],sectionContent:["sectionContent"],sectionBefore:["sectionBefore"],sectionAfter:["sectionAfter"]};return(0,ge.A)(re,vl,v)},Us=M.forwardRef(function(a,l){const u=(0,Z.A)({props:a,name:"MuiPickersInputBase"}),{elements:v,areAllSectionsEmpty:x,value:O,onChange:B,id:z,endAdornment:Y,startAdornment:te,renderSuffix:re,slots:oe,slotProps:he,contentEditable:ce,tabIndex:de,onInput:ve,onPaste:ye,onKeyDown:be,name:Ie,readOnly:Ge,inputProps:Pe,inputRef:We,sectionListRef:ze}=u,$e=(0,H.A)(u,$l),Ze=M.useRef(null),qe=(0,Mn.A)(l,Ze),Ve=(0,Mn.A)(Pe==null?void 0:Pe.ref,We),Qe=(0,ms.A)();if(!Qe)throw new Error("MUI X: PickersInputBase should always be used inside a PickersTextField component");const Me=nt=>{var wt;if(Qe.disabled){nt.stopPropagation();return}(wt=Qe.onFocus)==null||wt.call(Qe,nt)};M.useEffect(()=>{Qe&&Qe.setAdornedStart(!!te)},[Qe,te]),M.useEffect(()=>{Qe&&(x?Qe.onEmpty():Qe.onFilled())},[Qe,x]);const ot=(0,$.A)({},u,Qe),bt=Nl(ot),Tt=(oe==null?void 0:oe.root)||gs,Dt=pn({elementType:Tt,externalSlotProps:he==null?void 0:he.root,externalForwardedProps:$e,additionalProps:{"aria-invalid":Qe.error,ref:qe},className:bt.root,ownerState:ot}),gt=(oe==null?void 0:oe.input)||Hs;return(0,Ce.jsxs)(Tt,(0,$.A)({},Dt,{children:[te,(0,Ce.jsx)(_l,{sectionListRef:ze,elements:v,contentEditable:ce,tabIndex:de,className:bt.sectionsContainer,onFocus:Me,onBlur:Qe.onBlur,onInput:ve,onPaste:ye,onKeyDown:be,slots:{root:gt,section:Il,sectionContent:Fl,sectionSeparator:Ol},slotProps:{root:{ownerState:ot},sectionContent:{className:Ni.sectionContent},sectionSeparator:({position:nt})=>({className:nt==="before"?Ni.sectionBefore:Ni.sectionAfter})}}),Y,re?re((0,$.A)({},Qe)):null,(0,Ce.jsx)(Ll,(0,$.A)({name:Ie,className:bt.input,value:O,onChange:B,id:z,"aria-hidden":"true",tabIndex:-1,readOnly:Ge,required:Qe.required,disabled:Qe.disabled},Pe,{ref:Ve}))]}))}),Pl=["label","autoFocus","ownerState","notched"],Rl=(0,ie.Ay)(gs,{name:"MuiPickersOutlinedInput",slot:"Root",overridesResolver:(y,a)=>a.root})(({theme:y})=>{var l;const a=y.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{padding:"0 14px",borderRadius:(y.vars||y).shape.borderRadius,[`&:hover .${ti.notchedOutline}`]:{borderColor:(y.vars||y).palette.text.primary},"@media (hover: none)":{[`&:hover .${ti.notchedOutline}`]:{borderColor:y.vars?`rgba(${y.vars.palette.common.onBackgroundChannel} / 0.23)`:a}},[`&.${ti.focused} .${ti.notchedOutline}`]:{borderStyle:"solid",borderWidth:2},[`&.${ti.disabled}`]:{[`& .${ti.notchedOutline}`]:{borderColor:(y.vars||y).palette.action.disabled},"*":{color:(y.vars||y).palette.action.disabled}},[`&.${ti.error} .${ti.notchedOutline}`]:{borderColor:(y.vars||y).palette.error.main},variants:Object.keys(((l=y.vars)!=null?l:y).palette).filter(u=>{var v,x,O;return(O=(x=((v=y.vars)!=null?v:y).palette[u])==null?void 0:x.main)!=null?O:!1}).map(u=>({props:{color:u},style:{[`&.${ti.focused}:not(.${ti.error}) .${ti.notchedOutline}`]:{borderColor:(y.vars||y).palette[u].main}}}))}}),Bl=(0,ie.Ay)(Hs,{name:"MuiPickersOutlinedInput",slot:"SectionsContainer",overridesResolver:(y,a)=>a.sectionsContainer})({padding:"16.5px 0",variants:[{props:{size:"small"},style:{padding:"8.5px 0"}}]}),Wl=y=>{const{classes:a}=y,l={root:["root"],notchedOutline:["notchedOutline"],input:["input"]},u=(0,ge.A)(l,yl,a);return(0,$.A)({},a,u)},Or=M.forwardRef(function(a,l){const u=(0,Z.A)({props:a,name:"MuiPickersOutlinedInput"}),{label:v,ownerState:x,notched:O}=u,B=(0,H.A)(u,Pl),z=(0,ms.A)(),Y=(0,$.A)({},u,x,z,{color:(z==null?void 0:z.color)||"primary"}),te=Wl(Y);return(0,Ce.jsx)(Us,(0,$.A)({slots:{root:Rl,input:Bl},renderSuffix:re=>(0,Ce.jsx)(Sl,{shrink:!!(O||re.adornedStart||re.focused||re.filled),notched:!!(O||re.adornedStart||re.focused||re.filled),className:te.notchedOutline,label:v!=null&&v!==""&&(z!=null&&z.required)?(0,Ce.jsxs)(M.Fragment,{children:[v,"\u2009","*"]}):v,ownerState:Y})},B,{label:v,classes:te,ref:l}))});Or.muiName="Input";var jl=L(29239);function zl(y){return(0,Re.Ay)("MuiPickersFilledInput",y)}const Di=(0,$.A)({},Ni,(0,it.A)("MuiPickersFilledInput",["root","underline","input"])),Vl=["label","autoFocus","disableUnderline","ownerState"],Hl=(0,ie.Ay)(gs,{name:"MuiPickersFilledInput",slot:"Root",overridesResolver:(y,a)=>a.root,shouldForwardProp:y=>(0,jl.MC)(y)&&y!=="disableUnderline"})(({theme:y})=>{var O;const a=y.palette.mode==="light",l=a?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",u=a?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",v=a?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",x=a?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{backgroundColor:y.vars?y.vars.palette.FilledInput.bg:u,borderTopLeftRadius:(y.vars||y).shape.borderRadius,borderTopRightRadius:(y.vars||y).shape.borderRadius,transition:y.transitions.create("background-color",{duration:y.transitions.duration.shorter,easing:y.transitions.easing.easeOut}),"&:hover":{backgroundColor:y.vars?y.vars.palette.FilledInput.hoverBg:v,"@media (hover: none)":{backgroundColor:y.vars?y.vars.palette.FilledInput.bg:u}},[`&.${Di.focused}`]:{backgroundColor:y.vars?y.vars.palette.FilledInput.bg:u},[`&.${Di.disabled}`]:{backgroundColor:y.vars?y.vars.palette.FilledInput.disabledBg:x},variants:[...Object.keys(((O=y.vars)!=null?O:y).palette).filter(B=>{var z;return((z=y.vars)!=null?z:y).palette[B].main}).map(B=>{var z;return{props:{color:B,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(z=(y.vars||y).palette[B])==null?void 0:z.main}`}}}}),{props:{disableUnderline:!1},style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:y.transitions.create("transform",{duration:y.transitions.duration.shorter,easing:y.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Di.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Di.error}`]:{"&:before, &:after":{borderBottomColor:(y.vars||y).palette.error.main}},"&::before":{borderBottom:`1px solid ${y.vars?`rgba(${y.vars.palette.common.onBackgroundChannel} / ${y.vars.opacity.inputUnderline})`:l}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:y.transitions.create("border-bottom-color",{duration:y.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Di.disabled}, .${Di.error}):before`]:{borderBottom:`1px solid ${(y.vars||y).palette.text.primary}`},[`&.${Di.disabled}:before`]:{borderBottomStyle:"dotted"}}},{props:({startAdornment:B})=>!!B,style:{paddingLeft:12}},{props:({endAdornment:B})=>!!B,style:{paddingRight:12}}]}}),Ul=(0,ie.Ay)(Hs,{name:"MuiPickersFilledInput",slot:"sectionsContainer",overridesResolver:(y,a)=>a.sectionsContainer})({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({startAdornment:y})=>!!y,style:{paddingLeft:0}},{props:({endAdornment:y})=>!!y,style:{paddingRight:0}},{props:{hiddenLabel:!0},style:{paddingTop:16,paddingBottom:17}},{props:{hiddenLabel:!0,size:"small"},style:{paddingTop:8,paddingBottom:9}}]}),Gl=y=>{const{classes:a,disableUnderline:l}=y,u={root:["root",!l&&"underline"],input:["input"]},v=(0,ge.A)(u,zl,a);return(0,$.A)({},a,v)},Lr=M.forwardRef(function(a,l){const u=(0,Z.A)({props:a,name:"MuiPickersFilledInput"}),{label:v,disableUnderline:x=!1,ownerState:O}=u,B=(0,H.A)(u,Vl),z=(0,ms.A)(),Y=(0,$.A)({},u,O,z,{color:(z==null?void 0:z.color)||"primary"}),te=Gl(Y);return(0,Ce.jsx)(Us,(0,$.A)({slots:{root:Hl,input:Ul},slotProps:{root:{disableUnderline:x}}},B,{label:v,classes:te,ref:l}))});Lr.muiName="Input";function Jl(y){return(0,Re.Ay)("MuiPickersFilledInput",y)}const Yi=(0,$.A)({},Ni,(0,it.A)("MuiPickersInput",["root","input"])),Kl=["label","autoFocus","disableUnderline","ownerState"],Yl=(0,ie.Ay)(gs,{name:"MuiPickersInput",slot:"Root",overridesResolver:(y,a)=>a.root})(({theme:y})=>{var u;let l=y.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return y.vars&&(l=`rgba(${y.vars.palette.common.onBackgroundChannel} / ${y.vars.opacity.inputUnderline})`),{"label + &":{marginTop:16},variants:[...Object.keys(((u=y.vars)!=null?u:y).palette).filter(v=>{var x;return((x=y.vars)!=null?x:y).palette[v].main}).map(v=>({props:{color:v},style:{"&::after":{borderBottom:`2px solid ${(y.vars||y).palette[v].main}`}}})),{props:{disableUnderline:!1},style:{"&::after":{background:"red",left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:y.transitions.create("transform",{duration:y.transitions.duration.shorter,easing:y.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Yi.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Yi.error}`]:{"&:before, &:after":{borderBottomColor:(y.vars||y).palette.error.main}},"&::before":{borderBottom:`1px solid ${l}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:y.transitions.create("border-bottom-color",{duration:y.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Yi.disabled}, .${Yi.error}):before`]:{borderBottom:`2px solid ${(y.vars||y).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${l}`}},[`&.${Yi.disabled}:before`]:{borderBottomStyle:"dotted"}}}]}}),Xl=y=>{const{classes:a,disableUnderline:l}=y,u={root:["root",!l&&"underline"],input:["input"]},v=(0,ge.A)(u,Jl,a);return(0,$.A)({},a,v)},Nr=M.forwardRef(function(a,l){const u=(0,Z.A)({props:a,name:"MuiPickersInput"}),{label:v,disableUnderline:x=!1,ownerState:O}=u,B=(0,H.A)(u,Kl),z=(0,ms.A)(),Y=(0,$.A)({},u,O,z,{disableUnderline:x,color:(z==null?void 0:z.color)||"primary"}),te=Xl(Y);return(0,Ce.jsx)(Us,(0,$.A)({slots:{root:Yl}},B,{label:v,classes:te,ref:l}))});Nr.muiName="Input";const Zl=["onFocus","onBlur","className","color","disabled","error","variant","required","InputProps","inputProps","inputRef","sectionListRef","elements","areAllSectionsEmpty","onClick","onKeyDown","onKeyUp","onPaste","onInput","endAdornment","startAdornment","tabIndex","contentEditable","focused","value","onChange","fullWidth","id","name","helperText","FormHelperTextProps","label","InputLabelProps"],Ql={standard:Nr,filled:Lr,outlined:Or},ql=(0,ie.Ay)(ml.A,{name:"MuiPickersTextField",slot:"Root",overridesResolver:(y,a)=>a.root})({}),ec=y=>{const{focused:a,disabled:l,classes:u,required:v}=y,x={root:["root",a&&!l&&"focused",l&&"disabled",v&&"required"]};return(0,ge.A)(x,gl,u)},Pr=M.forwardRef(function(a,l){const u=(0,Z.A)({props:a,name:"MuiPickersTextField"}),{onFocus:v,onBlur:x,className:O,color:B="primary",disabled:z=!1,error:Y=!1,variant:te="outlined",required:re=!1,InputProps:oe,inputProps:he,inputRef:ce,sectionListRef:de,elements:ve,areAllSectionsEmpty:ye,onClick:be,onKeyDown:Ie,onPaste:Ge,onInput:Pe,endAdornment:We,startAdornment:ze,tabIndex:$e,contentEditable:Ze,focused:qe,value:Ve,onChange:Qe,fullWidth:Me,id:ot,name:bt,helperText:Tt,FormHelperTextProps:Dt,label:gt,InputLabelProps:nt}=u,wt=(0,H.A)(u,Zl),Pt=M.useRef(null),ct=(0,Mn.A)(l,Pt),ht=(0,$i.A)(ot),qt=Tt&&ht?`${ht}-helper-text`:void 0,Qt=gt&&ht?`${ht}-label`:void 0,je=(0,$.A)({},u,{color:B,disabled:z,error:Y,focused:qe,required:re,variant:te}),Ke=ec(je),_t=Ql[te];return(0,Ce.jsxs)(ql,(0,$.A)({className:(0,ln.A)(Ke.root,O),ref:ct,focused:qe,onFocus:v,onBlur:x,disabled:z,variant:te,error:Y,color:B,fullWidth:Me,required:re,ownerState:je},wt,{children:[(0,Ce.jsx)(pl.A,(0,$.A)({htmlFor:ht,id:Qt},nt,{children:gt})),(0,Ce.jsx)(_t,(0,$.A)({elements:ve,areAllSectionsEmpty:ye,onClick:be,onKeyDown:Ie,onInput:Pe,onPaste:Ge,endAdornment:We,startAdornment:ze,tabIndex:$e,contentEditable:Ze,value:Ve,onChange:Qe,id:ht,fullWidth:Me,inputProps:he,inputRef:ce,sectionListRef:de,label:gt,name:bt,role:"group","aria-labelledby":Qt},oe)),Tt&&(0,Ce.jsx)(fl.A,(0,$.A)({id:qt},Dt,{children:Tt}))]}))}),tc=["enableAccessibleFieldDOMStructure"],nc=["InputProps","readOnly"],ic=["onPaste","onKeyDown","inputMode","readOnly","InputProps","inputProps","inputRef"],Rr=y=>{let{enableAccessibleFieldDOMStructure:a}=y,l=(0,H.A)(y,tc);if(a){const{InputProps:re,readOnly:oe}=l,he=(0,H.A)(l,nc);return(0,$.A)({},he,{InputProps:(0,$.A)({},re!=null?re:{},{readOnly:oe})})}const{onPaste:u,onKeyDown:v,inputMode:x,readOnly:O,InputProps:B,inputProps:z,inputRef:Y}=l,te=(0,H.A)(l,ic);return(0,$.A)({},te,{InputProps:(0,$.A)({},B!=null?B:{},{readOnly:O}),inputProps:(0,$.A)({},z!=null?z:{},{inputMode:x,onPaste:u,onKeyDown:v,ref:Y})})},sc=["slots","slotProps","InputProps","inputProps"],Br=M.forwardRef(function(a,l){var de;const u=(0,Z.A)({props:a,name:"MuiDateField"}),{slots:v,slotProps:x,InputProps:O,inputProps:B}=u,z=(0,H.A)(u,sc),Y=u,te=(de=v==null?void 0:v.textField)!=null?de:a.enableAccessibleFieldDOMStructure?Pr:Er.A,re=pn({elementType:te,externalSlotProps:x==null?void 0:x.textField,externalForwardedProps:z,additionalProps:{ref:l},ownerState:Y});re.inputProps=(0,$.A)({},B,re.inputProps),re.InputProps=(0,$.A)({},O,re.InputProps);const oe=ul(re),he=Rr(oe),ce=Tr((0,$.A)({},he,{slots:v,slotProps:x}));return(0,Ce.jsx)(te,(0,$.A)({},ce))}),Wr=({shouldDisableDate:y,shouldDisableMonth:a,shouldDisableYear:l,minDate:u,maxDate:v,disableFuture:x,disablePast:O,timezone:B})=>{const z=ii();return M.useCallback(Y=>pi({adapter:z,value:Y,props:{shouldDisableDate:y,shouldDisableMonth:a,shouldDisableYear:l,minDate:u,maxDate:v,disableFuture:x,disablePast:O,timezone:B}})!==null,[z,y,a,l,u,v,x,O,B])},rc=(y,a,l)=>(u,v)=>{switch(v.type){case"changeMonth":return(0,$.A)({},u,{slideDirection:v.direction,currentMonth:v.newMonth,isMonthSwitchingAnimating:!y});case"finishMonthSwitchingAnimation":return(0,$.A)({},u,{isMonthSwitchingAnimating:!1});case"changeFocusedDay":{if(u.focusedDay!=null&&v.focusedDay!=null&&l.isSameDay(v.focusedDay,u.focusedDay))return u;const x=v.focusedDay!=null&&!a&&!l.isSameMonth(u.currentMonth,v.focusedDay);return(0,$.A)({},u,{focusedDay:v.focusedDay,isMonthSwitchingAnimating:x&&!y&&!v.withoutMonthSwitchingAnimation,currentMonth:x?l.startOfMonth(v.focusedDay):u.currentMonth,slideDirection:v.focusedDay!=null&&l.isAfterDay(v.focusedDay,u.currentMonth)?"left":"right"})}default:throw new Error("missing support")}},oc=y=>{const{value:a,referenceDate:l,disableFuture:u,disablePast:v,disableSwitchToMonthOnDayFocus:x=!1,maxDate:O,minDate:B,onMonthChange:z,reduceAnimations:Y,shouldDisableDate:te,timezone:re}=y,oe=Zt(),he=M.useRef(rc(!!Y,x,oe)).current,ce=M.useMemo(()=>Nn.getInitialReferenceValue({value:a,utils:oe,timezone:re,props:y,referenceDate:l,granularity:In.day}),[]),[de,ve]=M.useReducer(he,{isMonthSwitchingAnimating:!1,focusedDay:ce,currentMonth:oe.startOfMonth(ce),slideDirection:"left"}),ye=M.useCallback(We=>{ve((0,$.A)({type:"changeMonth"},We)),z&&z(We.newMonth)},[z]),be=M.useCallback(We=>{const ze=We;oe.isSameMonth(ze,de.currentMonth)||ye({newMonth:oe.startOfMonth(ze),direction:oe.isAfterDay(ze,de.currentMonth)?"left":"right"})},[de.currentMonth,ye,oe]),Ie=Wr({shouldDisableDate:te,minDate:B,maxDate:O,disableFuture:u,disablePast:v,timezone:re}),Ge=M.useCallback(()=>{ve({type:"finishMonthSwitchingAnimation"})},[]),Pe=(0,Ft.A)((We,ze)=>{Ie(We)||ve({type:"changeFocusedDay",focusedDay:We,withoutMonthSwitchingAnimation:ze})});return{referenceDate:ce,calendarState:de,changeMonth:be,changeFocusedDay:Pe,isDateDisabled:Ie,onMonthSwitchingAnimationEnd:Ge,handleChangeMonth:ye}};var jr=L(89449);const ac=y=>(0,Re.Ay)("MuiPickersFadeTransitionGroup",y),Rf=(0,it.A)("MuiPickersFadeTransitionGroup",["root"]),lc=y=>{const{classes:a}=y,l={root:["root"]};return(0,ge.A)(l,ac,a)},cc=(0,ie.Ay)(jr.A,{name:"MuiPickersFadeTransitionGroup",slot:"Root",overridesResolver:(y,a)=>a.root})({display:"block",position:"relative"});function zr(y){const a=(0,Z.A)({props:y,name:"MuiPickersFadeTransitionGroup"}),{children:l,className:u,reduceAnimations:v,transKey:x}=a,O=lc(a),B=(0,vi.A)();return v?l:(0,Ce.jsx)(cc,{className:(0,ln.A)(O.root,u),children:(0,Ce.jsx)(ds.A,{appear:!1,mountOnEnter:!0,unmountOnExit:!0,timeout:{appear:B.transitions.duration.enteringScreen,enter:B.transitions.duration.enteringScreen,exit:0},children:l},x)})}var uc=L(64571),oi=L(42118);function dc(y){return(0,Re.Ay)("MuiPickersDay",y)}const Ai=(0,it.A)("MuiPickersDay",["root","dayWithMargin","dayOutsideMonth","hiddenDaySpacingFiller","today","selected","disabled"]),hc=["autoFocus","className","day","disabled","disableHighlightToday","disableMargin","hidden","isAnimating","onClick","onDaySelect","onFocus","onBlur","onKeyDown","onMouseDown","onMouseEnter","outsideCurrentMonth","selected","showDaysOutsideCurrentMonth","children","today","isFirstVisibleCell","isLastVisibleCell"],pc=y=>{const{selected:a,disableMargin:l,disableHighlightToday:u,today:v,disabled:x,outsideCurrentMonth:O,showDaysOutsideCurrentMonth:B,classes:z}=y,Y=O&&!B,te={root:["root",a&&!Y&&"selected",x&&"disabled",!l&&"dayWithMargin",!u&&v&&"today",O&&B&&"dayOutsideMonth",Y&&"hiddenDaySpacingFiller"],hiddenDaySpacingFiller:["hiddenDaySpacingFiller"]};return(0,ge.A)(te,dc,z)},Vr=({theme:y})=>(0,$.A)({},y.typography.caption,{width:Ji,height:Ji,borderRadius:"50%",padding:0,backgroundColor:"transparent",transition:y.transitions.create("background-color",{duration:y.transitions.duration.short}),color:(y.vars||y).palette.text.primary,"@media (pointer: fine)":{"&:hover":{backgroundColor:y.vars?`rgba(${y.vars.palette.primary.mainChannel} / ${y.vars.palette.action.hoverOpacity})`:(0,oi.X4)(y.palette.primary.main,y.palette.action.hoverOpacity)}},"&:focus":{backgroundColor:y.vars?`rgba(${y.vars.palette.primary.mainChannel} / ${y.vars.palette.action.focusOpacity})`:(0,oi.X4)(y.palette.primary.main,y.palette.action.focusOpacity),[`&.${Ai.selected}`]:{willChange:"background-color",backgroundColor:(y.vars||y).palette.primary.dark}},[`&.${Ai.selected}`]:{color:(y.vars||y).palette.primary.contrastText,backgroundColor:(y.vars||y).palette.primary.main,fontWeight:y.typography.fontWeightMedium,"&:hover":{willChange:"background-color",backgroundColor:(y.vars||y).palette.primary.dark}},[`&.${Ai.disabled}:not(.${Ai.selected})`]:{color:(y.vars||y).palette.text.disabled},[`&.${Ai.disabled}&.${Ai.selected}`]:{opacity:.6},variants:[{props:{disableMargin:!1},style:{margin:`0 ${hs}px`}},{props:{outsideCurrentMonth:!0,showDaysOutsideCurrentMonth:!0},style:{color:(y.vars||y).palette.text.secondary}},{props:{disableHighlightToday:!1,today:!0},style:{[`&:not(.${Ai.selected})`]:{border:`1px solid ${(y.vars||y).palette.text.secondary}`}}}]}),Hr=(y,a)=>{const{ownerState:l}=y;return[a.root,!l.disableMargin&&a.dayWithMargin,!l.disableHighlightToday&&l.today&&a.today,!l.outsideCurrentMonth&&l.showDaysOutsideCurrentMonth&&a.dayOutsideMonth,l.outsideCurrentMonth&&!l.showDaysOutsideCurrentMonth&&a.hiddenDaySpacingFiller]},fc=(0,ie.Ay)(uc.A,{name:"MuiPickersDay",slot:"Root",overridesResolver:Hr})(Vr),mc=(0,ie.Ay)("div",{name:"MuiPickersDay",slot:"Root",overridesResolver:Hr})(({theme:y})=>(0,$.A)({},Vr({theme:y}),{opacity:0,pointerEvents:"none"})),Xi=()=>{},gc=M.forwardRef(function(a,l){const u=(0,Z.A)({props:a,name:"MuiPickersDay"}),{autoFocus:v=!1,className:x,day:O,disabled:B=!1,disableHighlightToday:z=!1,disableMargin:Y=!1,isAnimating:te,onClick:re,onDaySelect:oe,onFocus:he=Xi,onBlur:ce=Xi,onKeyDown:de=Xi,onMouseDown:ve=Xi,onMouseEnter:ye=Xi,outsideCurrentMonth:be,selected:Ie=!1,showDaysOutsideCurrentMonth:Ge=!1,children:Pe,today:We=!1}=u,ze=(0,H.A)(u,hc),$e=(0,$.A)({},u,{autoFocus:v,disabled:B,disableHighlightToday:z,disableMargin:Y,selected:Ie,showDaysOutsideCurrentMonth:Ge,today:We}),Ze=pc($e),qe=Zt(),Ve=M.useRef(null),Qe=(0,Mn.A)(Ve,l);(0,mi.A)(()=>{v&&!B&&!te&&!be&&Ve.current.focus()},[v,B,te,be]);const Me=bt=>{ve(bt),be&&bt.preventDefault()},ot=bt=>{B||oe(O),be&&bt.currentTarget.focus(),re&&re(bt)};return be&&!Ge?(0,Ce.jsx)(mc,{className:(0,ln.A)(Ze.root,Ze.hiddenDaySpacingFiller,x),ownerState:$e,role:ze.role}):(0,Ce.jsx)(fc,(0,$.A)({className:(0,ln.A)(Ze.root,x),ref:Qe,centerRipple:!0,disabled:B,tabIndex:Ie?0:-1,onKeyDown:bt=>de(bt,O),onFocus:bt=>he(bt,O),onBlur:bt=>ce(bt,O),onMouseEnter:bt=>ye(bt,O),onClick:ot,onMouseDown:Me},ze,{ownerState:$e,children:Pe||qe.format(O,"dayOfMonth")}))}),vc=M.memo(gc);var yc=L(25540);function bc(y,a){return y.classList?!!a&&y.classList.contains(a):(" "+(y.className.baseVal||y.className)+" ").indexOf(" "+a+" ")!==-1}function wc(y,a){y.classList?y.classList.add(a):bc(y,a)||(typeof y.className=="string"?y.className=y.className+" "+a:y.setAttribute("class",(y.className&&y.className.baseVal||"")+" "+a))}function Ur(y,a){return y.replace(new RegExp("(^|\\s)"+a+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function Cc(y,a){y.classList?y.classList.remove(a):typeof y.className=="string"?y.className=Ur(y.className,a):y.setAttribute("class",Ur(y.className&&y.className.baseVal||"",a))}var Sc=L(39878),Ec=L(34093),Dc=function(a,l){return a&&l&&l.split(" ").forEach(function(u){return wc(a,u)})},Gs=function(a,l){return a&&l&&l.split(" ").forEach(function(u){return Cc(a,u)})},Js=function(y){(0,yc.A)(a,y);function a(){for(var u,v=arguments.length,x=new Array(v),O=0;O<v;O++)x[O]=arguments[O];return u=y.call.apply(y,[this].concat(x))||this,u.appliedClasses={appear:{},enter:{},exit:{}},u.onEnter=function(B,z){var Y=u.resolveArguments(B,z),te=Y[0],re=Y[1];u.removeClasses(te,"exit"),u.addClass(te,re?"appear":"enter","base"),u.props.onEnter&&u.props.onEnter(B,z)},u.onEntering=function(B,z){var Y=u.resolveArguments(B,z),te=Y[0],re=Y[1],oe=re?"appear":"enter";u.addClass(te,oe,"active"),u.props.onEntering&&u.props.onEntering(B,z)},u.onEntered=function(B,z){var Y=u.resolveArguments(B,z),te=Y[0],re=Y[1],oe=re?"appear":"enter";u.removeClasses(te,oe),u.addClass(te,oe,"done"),u.props.onEntered&&u.props.onEntered(B,z)},u.onExit=function(B){var z=u.resolveArguments(B),Y=z[0];u.removeClasses(Y,"appear"),u.removeClasses(Y,"enter"),u.addClass(Y,"exit","base"),u.props.onExit&&u.props.onExit(B)},u.onExiting=function(B){var z=u.resolveArguments(B),Y=z[0];u.addClass(Y,"exit","active"),u.props.onExiting&&u.props.onExiting(B)},u.onExited=function(B){var z=u.resolveArguments(B),Y=z[0];u.removeClasses(Y,"exit"),u.addClass(Y,"exit","done"),u.props.onExited&&u.props.onExited(B)},u.resolveArguments=function(B,z){return u.props.nodeRef?[u.props.nodeRef.current,B]:[B,z]},u.getClassNames=function(B){var z=u.props.classNames,Y=typeof z=="string",te=Y&&z?z+"-":"",re=Y?""+te+B:z[B],oe=Y?re+"-active":z[B+"Active"],he=Y?re+"-done":z[B+"Done"];return{baseClassName:re,activeClassName:oe,doneClassName:he}},u}var l=a.prototype;return l.addClass=function(v,x,O){var B=this.getClassNames(x)[O+"ClassName"],z=this.getClassNames("enter"),Y=z.doneClassName;x==="appear"&&O==="done"&&Y&&(B+=" "+Y),O==="active"&&v&&(0,Ec.F)(v),B&&(this.appliedClasses[x][O]=B,Dc(v,B))},l.removeClasses=function(v,x){var O=this.appliedClasses[x],B=O.base,z=O.active,Y=O.done;this.appliedClasses[x]={},B&&Gs(v,B),z&&Gs(v,z),Y&&Gs(v,Y)},l.render=function(){var v=this.props,x=v.classNames,O=(0,H.A)(v,["classNames"]);return h().createElement(Sc.Ay,(0,$.A)({},O,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},a}(h().Component);Js.defaultProps={classNames:""},Js.propTypes={};const Ac=Js,xc=y=>(0,Re.Ay)("MuiPickersSlideTransition",y),Zn=(0,it.A)("MuiPickersSlideTransition",["root","slideEnter-left","slideEnter-right","slideEnterActive","slideExit","slideExitActiveLeft-left","slideExitActiveLeft-right"]),kc=["children","className","reduceAnimations","slideDirection","transKey","classes"],Tc=y=>{const{classes:a,slideDirection:l}=y,u={root:["root"],exit:["slideExit"],enterActive:["slideEnterActive"],enter:[`slideEnter-${l}`],exitActive:[`slideExitActiveLeft-${l}`]};return(0,ge.A)(u,xc,a)},_c=(0,ie.Ay)(jr.A,{name:"MuiPickersSlideTransition",slot:"Root",overridesResolver:(y,a)=>[a.root,{[`.${Zn["slideEnter-left"]}`]:a["slideEnter-left"]},{[`.${Zn["slideEnter-right"]}`]:a["slideEnter-right"]},{[`.${Zn.slideEnterActive}`]:a.slideEnterActive},{[`.${Zn.slideExit}`]:a.slideExit},{[`.${Zn["slideExitActiveLeft-left"]}`]:a["slideExitActiveLeft-left"]},{[`.${Zn["slideExitActiveLeft-right"]}`]:a["slideExitActiveLeft-right"]}]})(({theme:y})=>{const a=y.transitions.create("transform",{duration:y.transitions.duration.complex,easing:"cubic-bezier(0.35, 0.8, 0.4, 1)"});return{display:"block",position:"relative",overflowX:"hidden","& > *":{position:"absolute",top:0,right:0,left:0},[`& .${Zn["slideEnter-left"]}`]:{willChange:"transform",transform:"translate(100%)",zIndex:1},[`& .${Zn["slideEnter-right"]}`]:{willChange:"transform",transform:"translate(-100%)",zIndex:1},[`& .${Zn.slideEnterActive}`]:{transform:"translate(0%)",transition:a},[`& .${Zn.slideExit}`]:{transform:"translate(0%)"},[`& .${Zn["slideExitActiveLeft-left"]}`]:{willChange:"transform",transform:"translate(-100%)",transition:a,zIndex:0},[`& .${Zn["slideExitActiveLeft-right"]}`]:{willChange:"transform",transform:"translate(100%)",transition:a,zIndex:0}}});function $c(y){const a=(0,Z.A)({props:y,name:"MuiPickersSlideTransition"}),{children:l,className:u,reduceAnimations:v,transKey:x}=a,O=(0,H.A)(a,kc),B=Tc(a),z=(0,vi.A)();if(v)return(0,Ce.jsx)("div",{className:(0,ln.A)(B.root,u),children:l});const Y={exit:B.exit,enterActive:B.enterActive,enter:B.enter,exitActive:B.exitActive};return(0,Ce.jsx)(_c,{className:(0,ln.A)(B.root,u),childFactory:te=>M.cloneElement(te,{classNames:Y}),role:"presentation",children:(0,Ce.jsx)(Ac,(0,$.A)({mountOnEnter:!0,unmountOnExit:!0,timeout:z.transitions.duration.complex,classNames:Y},O,{children:l}),x)})}const Mc=y=>(0,Re.Ay)("MuiDayCalendar",y),Bf=(0,it.A)("MuiDayCalendar",["root","header","weekDayLabel","loadingContainer","slideTransition","monthContainer","weekContainer","weekNumberLabel","weekNumber"]),Ic=["parentProps","day","focusableDay","selectedDays","isDateDisabled","currentMonthNumber","isViewFocused"],Fc=["ownerState"],Oc=y=>{const{classes:a}=y,l={root:["root"],header:["header"],weekDayLabel:["weekDayLabel"],loadingContainer:["loadingContainer"],slideTransition:["slideTransition"],monthContainer:["monthContainer"],weekContainer:["weekContainer"],weekNumberLabel:["weekNumberLabel"],weekNumber:["weekNumber"]};return(0,ge.A)(l,Mc,a)},Gr=(Ji+hs*2)*6,Lc=(0,ie.Ay)("div",{name:"MuiDayCalendar",slot:"Root",overridesResolver:(y,a)=>a.root})({}),Nc=(0,ie.Ay)("div",{name:"MuiDayCalendar",slot:"Header",overridesResolver:(y,a)=>a.header})({display:"flex",justifyContent:"center",alignItems:"center"}),Pc=(0,ie.Ay)(si.A,{name:"MuiDayCalendar",slot:"WeekDayLabel",overridesResolver:(y,a)=>a.weekDayLabel})(({theme:y})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:(y.vars||y).palette.text.secondary})),Rc=(0,ie.Ay)(si.A,{name:"MuiDayCalendar",slot:"WeekNumberLabel",overridesResolver:(y,a)=>a.weekNumberLabel})(({theme:y})=>({width:36,height:40,margin:"0 2px",textAlign:"center",display:"flex",justifyContent:"center",alignItems:"center",color:y.palette.text.disabled})),Bc=(0,ie.Ay)(si.A,{name:"MuiDayCalendar",slot:"WeekNumber",overridesResolver:(y,a)=>a.weekNumber})(({theme:y})=>(0,$.A)({},y.typography.caption,{width:Ji,height:Ji,padding:0,margin:`0 ${hs}px`,color:y.palette.text.disabled,fontSize:"0.75rem",alignItems:"center",justifyContent:"center",display:"inline-flex"})),Wc=(0,ie.Ay)("div",{name:"MuiDayCalendar",slot:"LoadingContainer",overridesResolver:(y,a)=>a.loadingContainer})({display:"flex",justifyContent:"center",alignItems:"center",minHeight:Gr}),jc=(0,ie.Ay)($c,{name:"MuiDayCalendar",slot:"SlideTransition",overridesResolver:(y,a)=>a.slideTransition})({minHeight:Gr}),zc=(0,ie.Ay)("div",{name:"MuiDayCalendar",slot:"MonthContainer",overridesResolver:(y,a)=>a.monthContainer})({overflow:"hidden"}),Vc=(0,ie.Ay)("div",{name:"MuiDayCalendar",slot:"WeekContainer",overridesResolver:(y,a)=>a.weekContainer})({margin:`${hs}px 0`,display:"flex",justifyContent:"center"});function Hc(y){var Qe;let{parentProps:a,day:l,focusableDay:u,selectedDays:v,isDateDisabled:x,currentMonthNumber:O,isViewFocused:B}=y,z=(0,H.A)(y,Ic);const{disabled:Y,disableHighlightToday:te,isMonthSwitchingAnimating:re,showDaysOutsideCurrentMonth:oe,slots:he,slotProps:ce,timezone:de}=a,ve=Zt(),ye=di(de),be=u!==null&&ve.isSameDay(l,u),Ie=v.some(Me=>ve.isSameDay(Me,l)),Ge=ve.isSameDay(l,ye),Pe=(Qe=he==null?void 0:he.day)!=null?Qe:vc,We=pn({elementType:Pe,externalSlotProps:ce==null?void 0:ce.day,additionalProps:(0,$.A)({disableHighlightToday:te,showDaysOutsideCurrentMonth:oe,role:"gridcell",isAnimating:re,"data-timestamp":ve.toJsDate(l).valueOf()},z),ownerState:(0,$.A)({},a,{day:l,selected:Ie})}),ze=(0,H.A)(We,Fc),$e=M.useMemo(()=>Y||x(l),[Y,x,l]),Ze=M.useMemo(()=>ve.getMonth(l)!==O,[ve,l,O]),qe=M.useMemo(()=>{const Me=ve.startOfMonth(ve.setMonth(l,O));return oe?ve.isSameDay(l,ve.startOfWeek(Me)):ve.isSameDay(l,Me)},[O,l,oe,ve]),Ve=M.useMemo(()=>{const Me=ve.endOfMonth(ve.setMonth(l,O));return oe?ve.isSameDay(l,ve.endOfWeek(Me)):ve.isSameDay(l,Me)},[O,l,oe,ve]);return(0,Ce.jsx)(Pe,(0,$.A)({},ze,{day:l,disabled:$e,autoFocus:B&&be,today:Ge,outsideCurrentMonth:Ze,isFirstVisibleCell:qe,isLastVisibleCell:Ve,selected:Ie,tabIndex:be?0:-1,"aria-selected":Ie,"aria-current":Ge?"date":void 0}))}function Uc(y){const a=(0,Z.A)({props:y,name:"MuiDayCalendar"}),l=Zt(),{onFocusedDayChange:u,className:v,currentMonth:x,selectedDays:O,focusedDay:B,loading:z,onSelectedDaysChange:Y,onMonthSwitchingAnimationEnd:te,readOnly:re,reduceAnimations:oe,renderLoading:he=()=>(0,Ce.jsx)("span",{children:"..."}),slideDirection:ce,TransitionProps:de,disablePast:ve,disableFuture:ye,minDate:be,maxDate:Ie,shouldDisableDate:Ge,shouldDisableMonth:Pe,shouldDisableYear:We,dayOfWeekFormatter:ze=tt=>l.format(tt,"weekdayShort").charAt(0).toUpperCase(),hasFocus:$e,onFocusedViewChange:Ze,gridLabelId:qe,displayWeekNumber:Ve,fixedWeekNumber:Qe,autoFocus:Me,timezone:ot}=a,bt=di(ot),Tt=Oc(a),gt=(0,vi.A)().direction==="rtl",nt=Wr({shouldDisableDate:Ge,shouldDisableMonth:Pe,shouldDisableYear:We,minDate:be,maxDate:Ie,disablePast:ve,disableFuture:ye,timezone:ot}),wt=On(),[Pt,ct]=(0,Ei.A)({name:"DayCalendar",state:"hasFocus",controlled:$e,default:Me!=null?Me:!1}),[ht,qt]=M.useState(()=>B||bt),Qt=(0,Ft.A)(tt=>{re||Y(tt)}),je=tt=>{nt(tt)||(u(tt),qt(tt),Ze==null||Ze(!0),ct(!0))},Ke=(0,Ft.A)((tt,Mt)=>{switch(tt.key){case"ArrowUp":je(l.addDays(Mt,-7)),tt.preventDefault();break;case"ArrowDown":je(l.addDays(Mt,7)),tt.preventDefault();break;case"ArrowLeft":{const vn=l.addDays(Mt,gt?1:-1),en=l.addMonths(Mt,gt?1:-1),_n=Ye({utils:l,date:vn,minDate:gt?vn:l.startOfMonth(en),maxDate:gt?l.endOfMonth(en):vn,isDateDisabled:nt,timezone:ot});je(_n||vn),tt.preventDefault();break}case"ArrowRight":{const vn=l.addDays(Mt,gt?-1:1),en=l.addMonths(Mt,gt?-1:1),_n=Ye({utils:l,date:vn,minDate:gt?l.startOfMonth(en):vn,maxDate:gt?vn:l.endOfMonth(en),isDateDisabled:nt,timezone:ot});je(_n||vn),tt.preventDefault();break}case"Home":je(l.startOfWeek(Mt)),tt.preventDefault();break;case"End":je(l.endOfWeek(Mt)),tt.preventDefault();break;case"PageUp":je(l.addMonths(Mt,1)),tt.preventDefault();break;case"PageDown":je(l.addMonths(Mt,-1)),tt.preventDefault();break;default:break}}),_t=(0,Ft.A)((tt,Mt)=>je(Mt)),Ot=(0,Ft.A)((tt,Mt)=>{Pt&&l.isSameDay(ht,Mt)&&(Ze==null||Ze(!1))}),st=l.getMonth(x),Lt=l.getYear(x),ut=M.useMemo(()=>O.filter(tt=>!!tt).map(tt=>l.startOfDay(tt)),[l,O]),Fe=`${Lt}-${st}`,At=M.useMemo(()=>M.createRef(),[Fe]),Ct=l.startOfWeek(bt),vt=M.useMemo(()=>{const tt=l.startOfMonth(x),Mt=l.endOfMonth(x);return nt(ht)||l.isAfterDay(ht,Mt)||l.isBeforeDay(ht,tt)?Ye({utils:l,date:ht,minDate:tt,maxDate:Mt,disablePast:ve,disableFuture:ye,isDateDisabled:nt,timezone:ot}):ht},[x,ye,ve,ht,nt,l,ot]),xt=M.useMemo(()=>{const tt=l.setTimezone(x,ot),Mt=l.getWeekArray(tt);let vn=l.addMonths(tt,1);for(;Qe&&Mt.length<Qe;){const en=l.getWeekArray(vn),_n=l.isSameDay(Mt[Mt.length-1][0],en[0][0]);en.slice(_n?1:0).forEach(yn=>{Mt.length<Qe&&Mt.push(yn)}),vn=l.addMonths(vn,1)}return Mt},[x,Qe,l,ot]);return(0,Ce.jsxs)(Lc,{role:"grid","aria-labelledby":qe,className:Tt.root,children:[(0,Ce.jsxs)(Nc,{role:"row",className:Tt.header,children:[Ve&&(0,Ce.jsx)(Rc,{variant:"caption",role:"columnheader","aria-label":wt.calendarWeekNumberHeaderLabel,className:Tt.weekNumberLabel,children:wt.calendarWeekNumberHeaderText}),et(l,bt).map((tt,Mt)=>(0,Ce.jsx)(Pc,{variant:"caption",role:"columnheader","aria-label":l.format(l.addDays(Ct,Mt),"weekday"),className:Tt.weekDayLabel,children:ze(tt)},Mt.toString()))]}),z?(0,Ce.jsx)(Wc,{className:Tt.loadingContainer,children:he()}):(0,Ce.jsx)(jc,(0,$.A)({transKey:Fe,onExited:te,reduceAnimations:oe,slideDirection:ce,className:(0,ln.A)(v,Tt.slideTransition)},de,{nodeRef:At,children:(0,Ce.jsx)(zc,{ref:At,role:"rowgroup",className:Tt.monthContainer,children:xt.map((tt,Mt)=>(0,Ce.jsxs)(Vc,{role:"row",className:Tt.weekContainer,"aria-rowindex":Mt+1,children:[Ve&&(0,Ce.jsx)(Bc,{className:Tt.weekNumber,role:"rowheader","aria-label":wt.calendarWeekNumberAriaLabelText(l.getWeekNumber(tt[0])),children:wt.calendarWeekNumberText(l.getWeekNumber(tt[0]))}),tt.map((vn,en)=>(0,Ce.jsx)(Hc,{parentProps:a,day:vn,selectedDays:ut,focusableDay:vt,onKeyDown:Ke,onFocus:_t,onBlur:Ot,onDaySelect:Qt,isDateDisabled:nt,currentMonthNumber:st,isViewFocused:Pt,"aria-colindex":en+1},vn.toString()))]},`week-${tt[0]}`))})}))]})}var Jr=L(86568);function Gc(y){return(0,Re.Ay)("MuiPickersMonth",y)}const vs=(0,it.A)("MuiPickersMonth",["root","monthButton","disabled","selected"]),Jc=["autoFocus","children","disabled","selected","value","tabIndex","onClick","onKeyDown","onFocus","onBlur","aria-current","aria-label","monthsPerRow"],Kc=y=>{const{disabled:a,selected:l,classes:u}=y,v={root:["root"],monthButton:["monthButton",a&&"disabled",l&&"selected"]};return(0,ge.A)(v,Gc,u)},Yc=(0,ie.Ay)("div",{name:"MuiPickersMonth",slot:"Root",overridesResolver:(y,a)=>[a.root]})({display:"flex",alignItems:"center",justifyContent:"center",flexBasis:"33.3%",variants:[{props:{monthsPerRow:4},style:{flexBasis:"25%"}}]}),Xc=(0,ie.Ay)("button",{name:"MuiPickersMonth",slot:"MonthButton",overridesResolver:(y,a)=>[a.monthButton,{[`&.${vs.disabled}`]:a.disabled},{[`&.${vs.selected}`]:a.selected}]})(({theme:y})=>(0,$.A)({color:"unset",backgroundColor:"transparent",border:0,outline:0},y.typography.subtitle1,{margin:"8px 0",height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:y.vars?`rgba(${y.vars.palette.action.activeChannel} / ${y.vars.palette.action.hoverOpacity})`:(0,oi.X4)(y.palette.action.active,y.palette.action.hoverOpacity)},"&:hover":{backgroundColor:y.vars?`rgba(${y.vars.palette.action.activeChannel} / ${y.vars.palette.action.hoverOpacity})`:(0,oi.X4)(y.palette.action.active,y.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${vs.disabled}`]:{color:(y.vars||y).palette.text.secondary},[`&.${vs.selected}`]:{color:(y.vars||y).palette.primary.contrastText,backgroundColor:(y.vars||y).palette.primary.main,"&:focus, &:hover":{backgroundColor:(y.vars||y).palette.primary.dark}}})),Zc=M.memo(function(a){const l=(0,Z.A)({props:a,name:"MuiPickersMonth"}),{autoFocus:u,children:v,disabled:x,selected:O,value:B,tabIndex:z,onClick:Y,onKeyDown:te,onFocus:re,onBlur:oe,"aria-current":he,"aria-label":ce}=l,de=(0,H.A)(l,Jc),ve=M.useRef(null),ye=Kc(l);return(0,mi.A)(()=>{var be;u&&((be=ve.current)==null||be.focus())},[u]),(0,Ce.jsx)(Yc,(0,$.A)({className:ye.root,ownerState:l},de,{children:(0,Ce.jsx)(Xc,{ref:ve,disabled:x,type:"button",role:"radio",tabIndex:x?-1:z,"aria-current":he,"aria-checked":O,"aria-label":ce,onClick:be=>Y(be,B),onKeyDown:be=>te(be,B),onFocus:be=>re(be,B),onBlur:be=>oe(be,B),className:ye.monthButton,ownerState:l,children:v})}))});function Qc(y){return(0,Re.Ay)("MuiMonthCalendar",y)}const Wf=(0,it.A)("MuiMonthCalendar",["root"]),qc=["className","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","shouldDisableMonth","readOnly","disableHighlightToday","autoFocus","onMonthFocus","hasFocus","onFocusedViewChange","monthsPerRow","timezone","gridLabelId"],eu=y=>{const{classes:a}=y,l={root:["root"]};return(0,ge.A)(l,Qc,a)};function tu(y,a){const l=Zt(),u=qn(),v=(0,Z.A)({props:y,name:a});return(0,$.A)({disableFuture:!1,disablePast:!1},v,{minDate:at(l,v.minDate,u.minDate),maxDate:at(l,v.maxDate,u.maxDate)})}const nu=(0,ie.Ay)("div",{name:"MuiMonthCalendar",slot:"Root",overridesResolver:(y,a)=>a.root})({display:"flex",flexWrap:"wrap",alignContent:"stretch",padding:"0 4px",width:ps,boxSizing:"border-box"}),iu=M.forwardRef(function(a,l){const u=tu(a,"MuiMonthCalendar"),{className:v,value:x,defaultValue:O,referenceDate:B,disabled:z,disableFuture:Y,disablePast:te,maxDate:re,minDate:oe,onChange:he,shouldDisableMonth:ce,readOnly:de,autoFocus:ve=!1,onMonthFocus:ye,hasFocus:be,onFocusedViewChange:Ie,monthsPerRow:Ge=3,timezone:Pe,gridLabelId:We}=u,ze=(0,H.A)(u,qc),{value:$e,handleValueChange:Ze,timezone:qe}=Fi({name:"MonthCalendar",timezone:Pe,value:x,defaultValue:O,onChange:he,valueManager:Nn}),Ve=di(qe),Qe=(0,Jr.A)(),Me=Zt(),ot=M.useMemo(()=>Nn.getInitialReferenceValue({value:$e,utils:Me,props:u,timezone:qe,referenceDate:B,granularity:In.month}),[]),bt=u,Tt=eu(bt),Dt=M.useMemo(()=>Me.getMonth(Ve),[Me,Ve]),gt=M.useMemo(()=>$e!=null?Me.getMonth($e):null,[$e,Me]),[nt,wt]=M.useState(()=>gt||Me.getMonth(ot)),[Pt,ct]=(0,Ei.A)({name:"MonthCalendar",state:"hasFocus",controlled:be,default:ve!=null?ve:!1}),ht=(0,Ft.A)(st=>{ct(st),Ie&&Ie(st)}),qt=M.useCallback(st=>{const Lt=Me.startOfMonth(te&&Me.isAfter(Ve,oe)?Ve:oe),ut=Me.startOfMonth(Y&&Me.isBefore(Ve,re)?Ve:re),Fe=Me.startOfMonth(st);return Me.isBefore(Fe,Lt)||Me.isAfter(Fe,ut)?!0:ce?ce(Fe):!1},[Y,te,re,oe,Ve,ce,Me]),Qt=(0,Ft.A)((st,Lt)=>{if(de)return;const ut=Me.setMonth($e!=null?$e:ot,Lt);Ze(ut)}),je=(0,Ft.A)(st=>{qt(Me.setMonth($e!=null?$e:ot,st))||(wt(st),ht(!0),ye&&ye(st))});M.useEffect(()=>{wt(st=>gt!==null&&st!==gt?gt:st)},[gt]);const Ke=(0,Ft.A)((st,Lt)=>{switch(st.key){case"ArrowUp":je((12+Lt-3)%12),st.preventDefault();break;case"ArrowDown":je((12+Lt+3)%12),st.preventDefault();break;case"ArrowLeft":je((12+Lt+(Qe.direction==="ltr"?-1:1))%12),st.preventDefault();break;case"ArrowRight":je((12+Lt+(Qe.direction==="ltr"?1:-1))%12),st.preventDefault();break;default:break}}),_t=(0,Ft.A)((st,Lt)=>{je(Lt)}),Ot=(0,Ft.A)((st,Lt)=>{nt===Lt&&ht(!1)});return(0,Ce.jsx)(nu,(0,$.A)({ref:l,className:(0,ln.A)(Tt.root,v),ownerState:bt,role:"radiogroup","aria-labelledby":We},ze,{children:Ee(Me,$e!=null?$e:ot).map(st=>{const Lt=Me.getMonth(st),ut=Me.format(st,"monthShort"),Fe=Me.format(st,"month"),At=Lt===gt,Ct=z||qt(st);return(0,Ce.jsx)(Zc,{selected:At,value:Lt,onClick:Qt,onKeyDown:Ke,autoFocus:Pt&&Lt===nt,disabled:Ct,tabIndex:Lt===nt?0:-1,onFocus:_t,onBlur:Ot,"aria-current":Dt===Lt?"date":void 0,"aria-label":Fe,monthsPerRow:Ge,children:ut},ut)})}))});function su(y){return(0,Re.Ay)("MuiPickersYear",y)}const ys=(0,it.A)("MuiPickersYear",["root","yearButton","selected","disabled"]),ru=["autoFocus","className","children","disabled","selected","value","tabIndex","onClick","onKeyDown","onFocus","onBlur","aria-current","yearsPerRow"],ou=y=>{const{disabled:a,selected:l,classes:u}=y,v={root:["root"],yearButton:["yearButton",a&&"disabled",l&&"selected"]};return(0,ge.A)(v,su,u)},au=(0,ie.Ay)("div",{name:"MuiPickersYear",slot:"Root",overridesResolver:(y,a)=>[a.root]})({display:"flex",alignItems:"center",justifyContent:"center",flexBasis:"33.3%",variants:[{props:{yearsPerRow:4},style:{flexBasis:"25%"}}]}),lu=(0,ie.Ay)("button",{name:"MuiPickersYear",slot:"YearButton",overridesResolver:(y,a)=>[a.yearButton,{[`&.${ys.disabled}`]:a.disabled},{[`&.${ys.selected}`]:a.selected}]})(({theme:y})=>(0,$.A)({color:"unset",backgroundColor:"transparent",border:0,outline:0},y.typography.subtitle1,{margin:"6px 0",height:36,width:72,borderRadius:18,cursor:"pointer","&:focus":{backgroundColor:y.vars?`rgba(${y.vars.palette.action.activeChannel} / ${y.vars.palette.action.focusOpacity})`:(0,oi.X4)(y.palette.action.active,y.palette.action.focusOpacity)},"&:hover":{backgroundColor:y.vars?`rgba(${y.vars.palette.action.activeChannel} / ${y.vars.palette.action.hoverOpacity})`:(0,oi.X4)(y.palette.action.active,y.palette.action.hoverOpacity)},"&:disabled":{cursor:"auto",pointerEvents:"none"},[`&.${ys.disabled}`]:{color:(y.vars||y).palette.text.secondary},[`&.${ys.selected}`]:{color:(y.vars||y).palette.primary.contrastText,backgroundColor:(y.vars||y).palette.primary.main,"&:focus, &:hover":{backgroundColor:(y.vars||y).palette.primary.dark}}})),cu=M.memo(function(a){const l=(0,Z.A)({props:a,name:"MuiPickersYear"}),{autoFocus:u,className:v,children:x,disabled:O,selected:B,value:z,tabIndex:Y,onClick:te,onKeyDown:re,onFocus:oe,onBlur:he,"aria-current":ce}=l,de=(0,H.A)(l,ru),ve=M.useRef(null),ye=ou(l);return M.useEffect(()=>{u&&ve.current.focus()},[u]),(0,Ce.jsx)(au,(0,$.A)({className:(0,ln.A)(ye.root,v),ownerState:l},de,{children:(0,Ce.jsx)(lu,{ref:ve,disabled:O,type:"button",role:"radio",tabIndex:O?-1:Y,"aria-current":ce,"aria-checked":B,onClick:be=>te(be,z),onKeyDown:be=>re(be,z),onFocus:be=>oe(be,z),onBlur:be=>he(be,z),className:ye.yearButton,ownerState:l,children:x})}))});function uu(y){return(0,Re.Ay)("MuiYearCalendar",y)}const jf=(0,it.A)("MuiYearCalendar",["root"]),du=["autoFocus","className","value","defaultValue","referenceDate","disabled","disableFuture","disablePast","maxDate","minDate","onChange","readOnly","shouldDisableYear","disableHighlightToday","onYearFocus","hasFocus","onFocusedViewChange","yearsPerRow","timezone","gridLabelId"],hu=y=>{const{classes:a}=y,l={root:["root"]};return(0,ge.A)(l,uu,a)};function pu(y,a){var x;const l=Zt(),u=qn(),v=(0,Z.A)({props:y,name:a});return(0,$.A)({disablePast:!1,disableFuture:!1},v,{yearsPerRow:(x=v.yearsPerRow)!=null?x:3,minDate:at(l,v.minDate,u.minDate),maxDate:at(l,v.maxDate,u.maxDate)})}const fu=(0,ie.Ay)("div",{name:"MuiYearCalendar",slot:"Root",overridesResolver:(y,a)=>a.root})({display:"flex",flexDirection:"row",flexWrap:"wrap",overflowY:"auto",height:"100%",padding:"0 4px",width:ps,maxHeight:Ta,boxSizing:"border-box",position:"relative"}),mu=M.forwardRef(function(a,l){const u=pu(a,"MuiYearCalendar"),{autoFocus:v,className:x,value:O,defaultValue:B,referenceDate:z,disabled:Y,disableFuture:te,disablePast:re,maxDate:oe,minDate:he,onChange:ce,readOnly:de,shouldDisableYear:ve,onYearFocus:ye,hasFocus:be,onFocusedViewChange:Ie,yearsPerRow:Ge,timezone:Pe,gridLabelId:We}=u,ze=(0,H.A)(u,du),{value:$e,handleValueChange:Ze,timezone:qe}=Fi({name:"YearCalendar",timezone:Pe,value:O,defaultValue:B,onChange:ce,valueManager:Nn}),Ve=di(qe),Qe=(0,Jr.A)(),Me=Zt(),ot=M.useMemo(()=>Nn.getInitialReferenceValue({value:$e,utils:Me,props:u,timezone:qe,referenceDate:z,granularity:In.year}),[]),bt=u,Tt=hu(bt),Dt=M.useMemo(()=>Me.getYear(Ve),[Me,Ve]),gt=M.useMemo(()=>$e!=null?Me.getYear($e):null,[$e,Me]),[nt,wt]=M.useState(()=>gt||Me.getYear(ot)),[Pt,ct]=(0,Ei.A)({name:"YearCalendar",state:"hasFocus",controlled:be,default:v!=null?v:!1}),ht=(0,Ft.A)(ut=>{ct(ut),Ie&&Ie(ut)}),qt=M.useCallback(ut=>{if(re&&Me.isBeforeYear(ut,Ve)||te&&Me.isAfterYear(ut,Ve)||he&&Me.isBeforeYear(ut,he)||oe&&Me.isAfterYear(ut,oe))return!0;if(!ve)return!1;const Fe=Me.startOfYear(ut);return ve(Fe)},[te,re,oe,he,Ve,ve,Me]),Qt=(0,Ft.A)((ut,Fe)=>{if(de)return;const At=Me.setYear($e!=null?$e:ot,Fe);Ze(At)}),je=(0,Ft.A)(ut=>{qt(Me.setYear($e!=null?$e:ot,ut))||(wt(ut),ht(!0),ye==null||ye(ut))});M.useEffect(()=>{wt(ut=>gt!==null&&ut!==gt?gt:ut)},[gt]);const Ke=(0,Ft.A)((ut,Fe)=>{switch(ut.key){case"ArrowUp":je(Fe-Ge),ut.preventDefault();break;case"ArrowDown":je(Fe+Ge),ut.preventDefault();break;case"ArrowLeft":je(Fe+(Qe.direction==="ltr"?-1:1)),ut.preventDefault();break;case"ArrowRight":je(Fe+(Qe.direction==="ltr"?1:-1)),ut.preventDefault();break;default:break}}),_t=(0,Ft.A)((ut,Fe)=>{je(Fe)}),Ot=(0,Ft.A)((ut,Fe)=>{nt===Fe&&ht(!1)}),st=M.useRef(null),Lt=(0,Mn.A)(l,st);return M.useEffect(()=>{if(v||st.current===null)return;const ut=st.current.querySelector('[tabindex="0"]');if(!ut)return;const Fe=ut.offsetHeight,At=ut.offsetTop,Ct=st.current.clientHeight,vt=st.current.scrollTop,xt=At+Fe;Fe>Ct||At<vt||(st.current.scrollTop=xt-Ct/2-Fe/2)},[v]),(0,Ce.jsx)(fu,(0,$.A)({ref:Lt,className:(0,ln.A)(Tt.root,x),ownerState:bt,role:"radiogroup","aria-labelledby":We},ze,{children:Me.getYearRange([he,oe]).map(ut=>{const Fe=Me.getYear(ut),At=Fe===gt,Ct=Y||qt(ut);return(0,Ce.jsx)(cu,{selected:At,value:Fe,onClick:Qt,onKeyDown:Ke,autoFocus:Pt&&Fe===nt,disabled:Ct,tabIndex:Fe===nt?0:-1,onFocus:_t,onBlur:Ot,"aria-current":Dt===Fe?"date":void 0,yearsPerRow:Ge,children:Me.format(ut,"year")},Me.format(ut,"year"))})}))});function gu(y){return(0,Re.Ay)("MuiPickersArrowSwitcher",y)}const zf=(0,it.A)("MuiPickersArrowSwitcher",["root","spacer","button"]),vu=["children","className","slots","slotProps","isNextDisabled","isNextHidden","onGoToNext","nextLabel","isPreviousDisabled","isPreviousHidden","onGoToPrevious","previousLabel"],yu=["ownerState"],bu=["ownerState"],wu=(0,ie.Ay)("div",{name:"MuiPickersArrowSwitcher",slot:"Root",overridesResolver:(y,a)=>a.root})({display:"flex"}),Cu=(0,ie.Ay)("div",{name:"MuiPickersArrowSwitcher",slot:"Spacer",overridesResolver:(y,a)=>a.spacer})(({theme:y})=>({width:y.spacing(3)})),Kr=(0,ie.Ay)(_i.A,{name:"MuiPickersArrowSwitcher",slot:"Button",overridesResolver:(y,a)=>a.button})({variants:[{props:{hidden:!0},style:{visibility:"hidden"}}]}),Su=y=>{const{classes:a}=y,l={root:["root"],spacer:["spacer"],button:["button"]};return(0,ge.A)(l,gu,a)},Yr=M.forwardRef(function(a,l){var Dt,gt,nt,wt;const v=(0,vi.A)().direction==="rtl",x=(0,Z.A)({props:a,name:"MuiPickersArrowSwitcher"}),{children:O,className:B,slots:z,slotProps:Y,isNextDisabled:te,isNextHidden:re,onGoToNext:oe,nextLabel:he,isPreviousDisabled:ce,isPreviousHidden:de,onGoToPrevious:ve,previousLabel:ye}=x,be=(0,H.A)(x,vu),Ie=x,Ge=Su(Ie),Pe={isDisabled:te,isHidden:re,goTo:oe,label:he},We={isDisabled:ce,isHidden:de,goTo:ve,label:ye},ze=(Dt=z==null?void 0:z.previousIconButton)!=null?Dt:Kr,$e=pn({elementType:ze,externalSlotProps:Y==null?void 0:Y.previousIconButton,additionalProps:{size:"medium",title:We.label,"aria-label":We.label,disabled:We.isDisabled,edge:"end",onClick:We.goTo},ownerState:(0,$.A)({},Ie,{hidden:We.isHidden}),className:Ge.button}),Ze=(gt=z==null?void 0:z.nextIconButton)!=null?gt:Kr,qe=pn({elementType:Ze,externalSlotProps:Y==null?void 0:Y.nextIconButton,additionalProps:{size:"medium",title:Pe.label,"aria-label":Pe.label,disabled:Pe.isDisabled,edge:"start",onClick:Pe.goTo},ownerState:(0,$.A)({},Ie,{hidden:Pe.isHidden}),className:Ge.button}),Ve=(nt=z==null?void 0:z.leftArrowIcon)!=null?nt:Va,Qe=pn({elementType:Ve,externalSlotProps:Y==null?void 0:Y.leftArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:void 0}),Me=(0,H.A)(Qe,yu),ot=(wt=z==null?void 0:z.rightArrowIcon)!=null?wt:Ha,bt=pn({elementType:ot,externalSlotProps:Y==null?void 0:Y.rightArrowIcon,additionalProps:{fontSize:"inherit"},ownerState:void 0}),Tt=(0,H.A)(bt,bu);return(0,Ce.jsxs)(wu,(0,$.A)({ref:l,className:(0,ln.A)(Ge.root,B),ownerState:Ie},be,{children:[(0,Ce.jsx)(ze,(0,$.A)({},$e,{children:v?(0,Ce.jsx)(ot,(0,$.A)({},Tt)):(0,Ce.jsx)(Ve,(0,$.A)({},Me))})),O?(0,Ce.jsx)(si.A,{variant:"subtitle1",component:"span",children:O}):(0,Ce.jsx)(Cu,{className:Ge.spacer,ownerState:Ie}),(0,Ce.jsx)(Ze,(0,$.A)({},qe,{children:v?(0,Ce.jsx)(Ve,(0,$.A)({},Me)):(0,Ce.jsx)(ot,(0,$.A)({},Tt))}))]}))});function Eu(y,{disableFuture:a,maxDate:l,timezone:u}){const v=Zt();return M.useMemo(()=>{const x=v.date(void 0,u),O=v.startOfMonth(a&&v.isBefore(x,l)?x:l);return!v.isAfter(O,y)},[a,l,y,v,u])}function Du(y,{disablePast:a,minDate:l,timezone:u}){const v=Zt();return M.useMemo(()=>{const x=v.date(void 0,u),O=v.startOfMonth(a&&v.isAfter(x,l)?x:l);return!v.isBefore(O,y)},[a,l,y,v,u])}function Ks(y,a,l,u){const v=Zt(),x=An(y,v),O=M.useCallback(B=>{const z=y==null?null:mn(y,B,!!a,v);l(z,u!=null?u:"partial")},[a,y,l,u,v]);return{meridiemMode:x,handleMeridiemChange:O}}const Au=y=>(0,Re.Ay)("MuiPickersCalendarHeader",y),xu=(0,it.A)("MuiPickersCalendarHeader",["root","labelContainer","label","switchViewButton","switchViewIcon"]),ku=["slots","slotProps","currentMonth","disabled","disableFuture","disablePast","maxDate","minDate","onMonthChange","onViewChange","view","reduceAnimations","views","labelId","className","timezone","format"],Tu=["ownerState"],_u=y=>{const{classes:a}=y,l={root:["root"],labelContainer:["labelContainer"],label:["label"],switchViewButton:["switchViewButton"],switchViewIcon:["switchViewIcon"]};return(0,ge.A)(l,Au,a)},$u=(0,ie.Ay)("div",{name:"MuiPickersCalendarHeader",slot:"Root",overridesResolver:(y,a)=>a.root})({display:"flex",alignItems:"center",marginTop:12,marginBottom:4,paddingLeft:24,paddingRight:12,maxHeight:40,minHeight:40}),Mu=(0,ie.Ay)("div",{name:"MuiPickersCalendarHeader",slot:"LabelContainer",overridesResolver:(y,a)=>a.labelContainer})(({theme:y})=>(0,$.A)({display:"flex",overflow:"hidden",alignItems:"center",cursor:"pointer",marginRight:"auto"},y.typography.body1,{fontWeight:y.typography.fontWeightMedium})),Iu=(0,ie.Ay)("div",{name:"MuiPickersCalendarHeader",slot:"Label",overridesResolver:(y,a)=>a.label})({marginRight:6}),Fu=(0,ie.Ay)(_i.A,{name:"MuiPickersCalendarHeader",slot:"SwitchViewButton",overridesResolver:(y,a)=>a.switchViewButton})({marginRight:"auto",variants:[{props:{view:"year"},style:{[`.${xu.switchViewIcon}`]:{transform:"rotate(180deg)"}}}]}),Ou=(0,ie.Ay)(za,{name:"MuiPickersCalendarHeader",slot:"SwitchViewIcon",overridesResolver:(y,a)=>a.switchViewIcon})(({theme:y})=>({willChange:"transform",transition:y.transitions.create("transform"),transform:"rotate(0deg)"})),Lu=M.forwardRef(function(a,l){var Pt,ct;const u=On(),v=Zt(),x=(0,Z.A)({props:a,name:"MuiPickersCalendarHeader"}),{slots:O,slotProps:B,currentMonth:z,disabled:Y,disableFuture:te,disablePast:re,maxDate:oe,minDate:he,onMonthChange:ce,onViewChange:de,view:ve,reduceAnimations:ye,views:be,labelId:Ie,className:Ge,timezone:Pe,format:We=`${v.formats.month} ${v.formats.year}`}=x,ze=(0,H.A)(x,ku),$e=x,Ze=_u(x),qe=(Pt=O==null?void 0:O.switchViewButton)!=null?Pt:Fu,Ve=pn({elementType:qe,externalSlotProps:B==null?void 0:B.switchViewButton,additionalProps:{size:"small","aria-label":u.calendarViewSwitchingButtonAriaLabel(ve)},ownerState:$e,className:Ze.switchViewButton}),Qe=(ct=O==null?void 0:O.switchViewIcon)!=null?ct:Ou,Me=pn({elementType:Qe,externalSlotProps:B==null?void 0:B.switchViewIcon,ownerState:void 0,className:Ze.switchViewIcon}),ot=(0,H.A)(Me,Tu),bt=()=>ce(v.addMonths(z,1),"left"),Tt=()=>ce(v.addMonths(z,-1),"right"),Dt=Eu(z,{disableFuture:te,maxDate:oe,timezone:Pe}),gt=Du(z,{disablePast:re,minDate:he,timezone:Pe}),nt=()=>{if(!(be.length===1||!de||Y))if(be.length===2)de(be.find(ht=>ht!==ve)||be[0]);else{const ht=be.indexOf(ve)!==0?0:1;de(be[ht])}};if(be.length===1&&be[0]==="year")return null;const wt=v.formatByString(z,We);return(0,Ce.jsxs)($u,(0,$.A)({},ze,{ownerState:$e,className:(0,ln.A)(Ge,Ze.root),ref:l,children:[(0,Ce.jsxs)(Mu,{role:"presentation",onClick:nt,ownerState:$e,"aria-live":"polite",className:Ze.labelContainer,children:[(0,Ce.jsx)(zr,{reduceAnimations:ye,transKey:wt,children:(0,Ce.jsx)(Iu,{id:Ie,ownerState:$e,className:Ze.label,children:wt})}),be.length>1&&!Y&&(0,Ce.jsx)(qe,(0,$.A)({},Ve,{children:(0,Ce.jsx)(Qe,(0,$.A)({},ot))}))]}),(0,Ce.jsx)(ds.A,{in:ve==="day",children:(0,Ce.jsx)(Yr,{slots:O,slotProps:B,onGoToPrevious:Tt,isPreviousDisabled:gt,previousLabel:u.previousMonth,onGoToNext:bt,isNextDisabled:Dt,nextLabel:u.nextMonth})})]}))}),bs=(0,ie.Ay)("div")({overflow:"hidden",width:ps,maxHeight:js,display:"flex",flexDirection:"column",margin:"0 auto"}),Nu=y=>(0,Re.Ay)("MuiDateCalendar",y),Vf=(0,it.A)("MuiDateCalendar",["root","viewTransitionContainer"]),Pu=["autoFocus","onViewChange","value","defaultValue","referenceDate","disableFuture","disablePast","onChange","onYearChange","onMonthChange","reduceAnimations","shouldDisableDate","shouldDisableMonth","shouldDisableYear","view","views","openTo","className","disabled","readOnly","minDate","maxDate","disableHighlightToday","focusedView","onFocusedViewChange","showDaysOutsideCurrentMonth","fixedWeekNumber","dayOfWeekFormatter","slots","slotProps","loading","renderLoading","displayWeekNumber","yearsPerRow","monthsPerRow","timezone"],Ru=y=>{const{classes:a}=y,l={root:["root"],viewTransitionContainer:["viewTransitionContainer"]};return(0,ge.A)(l,Nu,a)};function Bu(y,a){var O,B,z,Y,te,re,oe;const l=Zt(),u=qn(),v=mr(),x=(0,Z.A)({props:y,name:a});return(0,$.A)({},x,{loading:(O=x.loading)!=null?O:!1,disablePast:(B=x.disablePast)!=null?B:!1,disableFuture:(z=x.disableFuture)!=null?z:!1,openTo:(Y=x.openTo)!=null?Y:"day",views:(te=x.views)!=null?te:["year","day"],reduceAnimations:(re=x.reduceAnimations)!=null?re:v,renderLoading:(oe=x.renderLoading)!=null?oe:()=>(0,Ce.jsx)("span",{children:"..."}),minDate:at(l,x.minDate,u.minDate),maxDate:at(l,x.maxDate,u.maxDate)})}const Wu=(0,ie.Ay)(bs,{name:"MuiDateCalendar",slot:"Root",overridesResolver:(y,a)=>a.root})({display:"flex",flexDirection:"column",height:js}),ju=(0,ie.Ay)(zr,{name:"MuiDateCalendar",slot:"ViewTransitionContainer",overridesResolver:(y,a)=>a.viewTransitionContainer})({}),zu=M.forwardRef(function(a,l){var Ho;const u=Zt(),v=(0,$i.A)(),x=Bu(a,"MuiDateCalendar"),{autoFocus:O,onViewChange:B,value:z,defaultValue:Y,referenceDate:te,disableFuture:re,disablePast:oe,onChange:he,onYearChange:ce,onMonthChange:de,reduceAnimations:ve,shouldDisableDate:ye,shouldDisableMonth:be,shouldDisableYear:Ie,view:Ge,views:Pe,openTo:We,className:ze,disabled:$e,readOnly:Ze,minDate:qe,maxDate:Ve,disableHighlightToday:Qe,focusedView:Me,onFocusedViewChange:ot,showDaysOutsideCurrentMonth:bt,fixedWeekNumber:Tt,dayOfWeekFormatter:Dt,slots:gt,slotProps:nt,loading:wt,renderLoading:Pt,displayWeekNumber:ct,yearsPerRow:ht,monthsPerRow:qt,timezone:Qt}=x,je=(0,H.A)(x,Pu),{value:Ke,handleValueChange:_t,timezone:Ot}=Fi({name:"DateCalendar",timezone:Qt,value:z,defaultValue:Y,onChange:he,valueManager:Nn}),{view:st,setView:Lt,focusedView:ut,setFocusedView:Fe,goToNextView:At,setValueAndGoToNextView:Ct}=Hi({view:Ge,views:Pe,openTo:We,onChange:_t,onViewChange:B,autoFocus:O,focusedView:Me,onFocusedViewChange:ot}),{referenceDate:vt,calendarState:xt,changeFocusedDay:tt,changeMonth:Mt,handleChangeMonth:vn,isDateDisabled:en,onMonthSwitchingAnimationEnd:_n}=oc({value:Ke,referenceDate:te,reduceAnimations:ve,onMonthChange:de,minDate:qe,maxDate:Ve,shouldDisableDate:ye,disablePast:oe,disableFuture:re,timezone:Ot}),yn=$e&&Ke||qe,Gn=$e&&Ke||Ve,xi=`${v}-grid-label`,ns=ut!==null,zo=(Ho=gt==null?void 0:gt.calendarHeader)!=null?Ho:Lu,mf=pn({elementType:zo,externalSlotProps:nt==null?void 0:nt.calendarHeader,additionalProps:{views:Pe,view:st,currentMonth:xt.currentMonth,onViewChange:Lt,onMonthChange:(kn,li)=>vn({newMonth:kn,direction:li}),minDate:yn,maxDate:Gn,disabled:$e,disablePast:oe,disableFuture:re,reduceAnimations:ve,timezone:Ot,labelId:xi},ownerState:x}),gf=(0,Ft.A)(kn=>{const li=u.startOfMonth(kn),is=u.endOfMonth(kn),bi=en(kn)?Ye({utils:u,date:kn,minDate:u.isBefore(qe,li)?li:qe,maxDate:u.isAfter(Ve,is)?is:Ve,disablePast:oe,disableFuture:re,isDateDisabled:en,timezone:Ot}):kn;bi?(Ct(bi,"finish"),de==null||de(li)):(At(),Mt(li)),tt(bi,!0)}),vf=(0,Ft.A)(kn=>{const li=u.startOfYear(kn),is=u.endOfYear(kn),bi=en(kn)?Ye({utils:u,date:kn,minDate:u.isBefore(qe,li)?li:qe,maxDate:u.isAfter(Ve,is)?is:Ve,disablePast:oe,disableFuture:re,isDateDisabled:en,timezone:Ot}):kn;bi?(Ct(bi,"finish"),ce==null||ce(bi)):(At(),Mt(li)),tt(bi,!0)}),yf=(0,Ft.A)(kn=>_t(kn&&Ne(u,kn,Ke!=null?Ke:vt),"finish",st));M.useEffect(()=>{Ke!=null&&u.isValid(Ke)&&Mt(Ke)},[Ke]);const sr=x,Vo=Ru(sr),rr={disablePast:oe,disableFuture:re,maxDate:Ve,minDate:qe},or={disableHighlightToday:Qe,readOnly:Ze,disabled:$e,timezone:Ot,gridLabelId:xi},ar=M.useRef(st);M.useEffect(()=>{ar.current!==st&&(ut===ar.current&&Fe(st,!0),ar.current=st)},[ut,Fe,st]);const bf=M.useMemo(()=>[Ke],[Ke]);return(0,Ce.jsxs)(Wu,(0,$.A)({ref:l,className:(0,ln.A)(Vo.root,ze),ownerState:sr},je,{children:[(0,Ce.jsx)(zo,(0,$.A)({},mf,{slots:gt,slotProps:nt})),(0,Ce.jsx)(ju,{reduceAnimations:ve,className:Vo.viewTransitionContainer,transKey:st,ownerState:sr,children:(0,Ce.jsxs)("div",{children:[st==="year"&&(0,Ce.jsx)(mu,(0,$.A)({},rr,or,{value:Ke,onChange:vf,shouldDisableYear:Ie,hasFocus:ns,onFocusedViewChange:kn=>Fe("year",kn),yearsPerRow:ht,referenceDate:vt})),st==="month"&&(0,Ce.jsx)(iu,(0,$.A)({},rr,or,{hasFocus:ns,className:ze,value:Ke,onChange:gf,shouldDisableMonth:be,onFocusedViewChange:kn=>Fe("month",kn),monthsPerRow:qt,referenceDate:vt})),st==="day"&&(0,Ce.jsx)(Uc,(0,$.A)({},xt,rr,or,{onMonthSwitchingAnimationEnd:_n,onFocusedDayChange:tt,reduceAnimations:ve,selectedDays:bf,onSelectedDaysChange:yf,shouldDisableDate:ye,shouldDisableMonth:be,shouldDisableYear:Ie,hasFocus:ns,onFocusedViewChange:kn=>Fe("day",kn),showDaysOutsideCurrentMonth:bt,fixedWeekNumber:Tt,dayOfWeekFormatter:Dt,displayWeekNumber:ct,slots:gt,slotProps:nt,loading:wt,renderLoading:Pt}))]})})]}))}),Pi=({view:y,onViewChange:a,views:l,focusedView:u,onFocusedViewChange:v,value:x,defaultValue:O,referenceDate:B,onChange:z,className:Y,classes:te,disableFuture:re,disablePast:oe,minDate:he,maxDate:ce,shouldDisableDate:de,shouldDisableMonth:ve,shouldDisableYear:ye,reduceAnimations:be,onMonthChange:Ie,monthsPerRow:Ge,onYearChange:Pe,yearsPerRow:We,slots:ze,slotProps:$e,loading:Ze,renderLoading:qe,disableHighlightToday:Ve,readOnly:Qe,disabled:Me,showDaysOutsideCurrentMonth:ot,dayOfWeekFormatter:bt,sx:Tt,autoFocus:Dt,fixedWeekNumber:gt,displayWeekNumber:nt,timezone:wt})=>(0,Ce.jsx)(zu,{view:y,onViewChange:a,views:l.filter(Te),focusedView:u&&Te(u)?u:null,onFocusedViewChange:v,value:x,defaultValue:O,referenceDate:B,onChange:z,className:Y,classes:te,disableFuture:re,disablePast:oe,minDate:he,maxDate:ce,shouldDisableDate:de,shouldDisableMonth:ve,shouldDisableYear:ye,reduceAnimations:be,onMonthChange:Ie,monthsPerRow:Ge,onYearChange:Pe,yearsPerRow:We,slots:ze,slotProps:$e,loading:Ze,renderLoading:qe,disableHighlightToday:Ve,readOnly:Qe,disabled:Me,showDaysOutsideCurrentMonth:ot,dayOfWeekFormatter:bt,sx:Tt,autoFocus:Dt,fixedWeekNumber:gt,displayWeekNumber:nt,timezone:wt}),Xr=M.forwardRef(function(a,l){var Y,te,re,oe;const u=On(),v=Zt(),x=Vi(a,"MuiDesktopDatePicker"),O=(0,$.A)({day:Pi,month:Pi,year:Pi},x.viewRenderers),B=(0,$.A)({},x,{viewRenderers:O,format:Se(v,x,!1),yearsPerRow:(Y=x.yearsPerRow)!=null?Y:4,slots:(0,$.A)({openPickerIcon:Ua,field:Br},x.slots),slotProps:(0,$.A)({},x.slotProps,{field:he=>{var ce;return(0,$.A)({},ne((ce=x.slotProps)==null?void 0:ce.field,he),fs(x),{ref:l})},toolbar:(0,$.A)({hidden:!0},(te=x.slotProps)==null?void 0:te.toolbar)})}),{renderPicker:z}=Sr({props:B,valueManager:Nn,valueType:"date",getOpenDialogAriaText:(oe=(re=B.localeText)==null?void 0:re.openDatePickerDialogue)!=null?oe:u.openDatePickerDialogue,validator:pi});return z()});Xr.propTypes={autoFocus:I().bool,className:I().string,closeOnSelect:I().bool,dayOfWeekFormatter:I().func,defaultValue:I().object,disabled:I().bool,disableFuture:I().bool,disableHighlightToday:I().bool,disableOpenPicker:I().bool,disablePast:I().bool,displayWeekNumber:I().bool,enableAccessibleFieldDOMStructure:I().any,fixedWeekNumber:I().number,format:I().string,formatDensity:I().oneOf(["dense","spacious"]),inputRef:De,label:I().node,loading:I().bool,localeText:I().object,maxDate:I().object,minDate:I().object,monthsPerRow:I().oneOf([3,4]),name:I().string,onAccept:I().func,onChange:I().func,onClose:I().func,onError:I().func,onMonthChange:I().func,onOpen:I().func,onSelectedSectionsChange:I().func,onViewChange:I().func,onYearChange:I().func,open:I().bool,openTo:I().oneOf(["day","month","year"]),orientation:I().oneOf(["landscape","portrait"]),readOnly:I().bool,reduceAnimations:I().bool,referenceDate:I().object,renderLoading:I().func,selectedSections:I().oneOfType([I().oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),I().number]),shouldDisableDate:I().func,shouldDisableMonth:I().func,shouldDisableYear:I().func,showDaysOutsideCurrentMonth:I().bool,slotProps:I().object,slots:I().object,sx:I().oneOfType([I().arrayOf(I().oneOfType([I().func,I().object,I().bool])),I().func,I().object]),timezone:I().string,value:I().object,view:I().oneOf(["day","month","year"]),viewRenderers:I().shape({day:I().func,month:I().func,year:I().func}),views:I().arrayOf(I().oneOf(["day","month","year"]).isRequired),yearsPerRow:I().oneOf([3,4])};var Vu=L(63437),Hu=L(85747),Zr=L(30311);const Uu=(0,ie.Ay)(Hu.A)({[`& .${Zr.A.container}`]:{outline:0},[`& .${Zr.A.paper}`]:{outline:0,minWidth:ps}}),Gu=(0,ie.Ay)(Vu.A)({"&:first-of-type":{padding:0}});function Ju(y){var z,Y;const{children:a,onDismiss:l,open:u,slots:v,slotProps:x}=y,O=(z=v==null?void 0:v.dialog)!=null?z:Uu,B=(Y=v==null?void 0:v.mobileTransition)!=null?Y:ds.A;return(0,Ce.jsx)(O,(0,$.A)({open:u,onClose:l},x==null?void 0:x.dialog,{TransitionComponent:B,TransitionProps:x==null?void 0:x.mobileTransition,PaperComponent:v==null?void 0:v.mobilePaper,PaperProps:x==null?void 0:x.mobilePaper,children:(0,Ce.jsx)(Gu,{children:a})}))}const Ku=["props","getOpenDialogAriaText"],Qr=y=>{var Pt,ct,ht;let{props:a,getOpenDialogAriaText:l}=y,u=(0,H.A)(y,Ku);const{slots:v,slotProps:x,className:O,sx:B,format:z,formatDensity:Y,enableAccessibleFieldDOMStructure:te,selectedSections:re,onSelectedSectionsChange:oe,timezone:he,name:ce,label:de,inputRef:ve,readOnly:ye,disabled:be,localeText:Ie}=a,Ge=Zt(),Pe=M.useRef(null),We=(0,$i.A)(),ze=(ct=(Pt=x==null?void 0:x.toolbar)==null?void 0:Pt.hidden)!=null?ct:!1,{open:$e,actions:Ze,layoutProps:qe,renderCurrentView:Ve,fieldProps:Qe}=yr((0,$.A)({},u,{props:a,fieldRef:Pe,autoFocusView:!0,additionalViewProps:{},wrapperVariant:"mobile"})),Me=v.field,ot=pn({elementType:Me,externalSlotProps:x==null?void 0:x.field,additionalProps:(0,$.A)({},Qe,ze&&{id:We},!(be||ye)&&{onClick:Ze.onOpen,onKeyDown:na(Ze.onOpen)},{readOnly:ye!=null?ye:!0,disabled:be,className:O,sx:B,format:z,formatDensity:Y,enableAccessibleFieldDOMStructure:te,selectedSections:re,onSelectedSectionsChange:oe,timezone:he,label:de,name:ce},ve?{inputRef:ve}:{}),ownerState:a});ot.inputProps=(0,$.A)({},ot.inputProps,{"aria-label":l(Qe.value,Ge)});const bt=(0,$.A)({textField:v.textField},ot.slots),Tt=(ht=v.layout)!=null?ht:Cr;let Dt=We;ze&&(de?Dt=`${We}-label`:Dt=void 0);const gt=(0,$.A)({},x,{toolbar:(0,$.A)({},x==null?void 0:x.toolbar,{titleId:We}),mobilePaper:(0,$.A)({"aria-labelledby":Dt},x==null?void 0:x.mobilePaper)}),nt=(0,Mn.A)(Pe,ot.unstableFieldRef);return{renderPicker:()=>(0,Ce.jsxs)(Si,{localeText:Ie,children:[(0,Ce.jsx)(Me,(0,$.A)({},ot,{slots:bt,slotProps:gt,unstableFieldRef:nt})),(0,Ce.jsx)(Ju,(0,$.A)({},Ze,{open:$e,slots:v,slotProps:gt,children:(0,Ce.jsx)(Tt,(0,$.A)({},qe,gt==null?void 0:gt.layout,{slots:v,slotProps:gt,children:Ve()}))}))]})}},qr=M.forwardRef(function(a,l){var Y,te,re;const u=On(),v=Zt(),x=Vi(a,"MuiMobileDatePicker"),O=(0,$.A)({day:Pi,month:Pi,year:Pi},x.viewRenderers),B=(0,$.A)({},x,{viewRenderers:O,format:Se(v,x,!1),slots:(0,$.A)({field:Br},x.slots),slotProps:(0,$.A)({},x.slotProps,{field:oe=>{var he;return(0,$.A)({},ne((he=x.slotProps)==null?void 0:he.field,oe),fs(x),{ref:l})},toolbar:(0,$.A)({hidden:!1},(Y=x.slotProps)==null?void 0:Y.toolbar)})}),{renderPicker:z}=Qr({props:B,valueManager:Nn,valueType:"date",getOpenDialogAriaText:(re=(te=B.localeText)==null?void 0:te.openDatePickerDialogue)!=null?re:u.openDatePickerDialogue,validator:pi});return z()});qr.propTypes={autoFocus:I().bool,className:I().string,closeOnSelect:I().bool,dayOfWeekFormatter:I().func,defaultValue:I().object,disabled:I().bool,disableFuture:I().bool,disableHighlightToday:I().bool,disableOpenPicker:I().bool,disablePast:I().bool,displayWeekNumber:I().bool,enableAccessibleFieldDOMStructure:I().any,fixedWeekNumber:I().number,format:I().string,formatDensity:I().oneOf(["dense","spacious"]),inputRef:De,label:I().node,loading:I().bool,localeText:I().object,maxDate:I().object,minDate:I().object,monthsPerRow:I().oneOf([3,4]),name:I().string,onAccept:I().func,onChange:I().func,onClose:I().func,onError:I().func,onMonthChange:I().func,onOpen:I().func,onSelectedSectionsChange:I().func,onViewChange:I().func,onYearChange:I().func,open:I().bool,openTo:I().oneOf(["day","month","year"]),orientation:I().oneOf(["landscape","portrait"]),readOnly:I().bool,reduceAnimations:I().bool,referenceDate:I().object,renderLoading:I().func,selectedSections:I().oneOfType([I().oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),I().number]),shouldDisableDate:I().func,shouldDisableMonth:I().func,shouldDisableYear:I().func,showDaysOutsideCurrentMonth:I().bool,slotProps:I().object,slots:I().object,sx:I().oneOfType([I().arrayOf(I().oneOfType([I().func,I().object,I().bool])),I().func,I().object]),timezone:I().string,value:I().object,view:I().oneOf(["day","month","year"]),viewRenderers:I().shape({day:I().func,month:I().func,year:I().func}),views:I().arrayOf(I().oneOf(["day","month","year"]).isRequired),yearsPerRow:I().oneOf([3,4])};const Yu=["desktopModeMediaQuery"],Xu=M.forwardRef(function(a,l){const u=(0,Z.A)({props:a,name:"MuiDatePicker"}),{desktopModeMediaQuery:v=hr}=u,x=(0,H.A)(u,Yu);return(0,G.A)(v,{defaultMatches:!0})?(0,Ce.jsx)(Xr,(0,$.A)({ref:l},x)):(0,Ce.jsx)(qr,(0,$.A)({ref:l},x))});class Zu extends f{componentDidMount(){super.componentDidMount();const a=f.getValue(this.props.data,this.props.attr);this.setState({value:a})}renderItem(a,l){return h().createElement(Xu,{sx:u=>({width:"100%",borderBottom:`1px solid ${u.palette.text.primary}`,"& fieldset":{display:"none"},"& input":{padding:`${u.spacing(1.5)} 0 4px 0`},"& .MuiInputAdornment-root":{marginLeft:0,marginTop:1},"& label":{transform:"translate(0px, -9px) scale(0.75)"}}),format:this.props.systemConfig.dateFormat.toLowerCase().replace("mm","MM"),disabled:!!l,value:this.state.value,onChange:u=>{this.setState({value:u},()=>this.onChange(this.props.attr,this.state.value))},label:this.getText(this.props.schema.label)})}}class Qu extends f{renderItem(){return this.props.schema?h().createElement("div",null,"DeviceManager not included"):null}}const qu=Qu;var eo=L(72589),ed=L(86215);const td=()=>({fullWidth:{width:"100%"},fullWidthOneButton:{width:"calc(100% - 42px)"},fullWidthTwoButtons:{width:"calc(100% - 84px)"},fullWidthThreeButtons:{width:"calc(100% - 126x)"},dropZone:{width:"100%",height:"100%",position:"absolute"},dropZoneEmpty:{},image:{objectFit:"contain",margin:"auto",display:"flex",width:"100%",height:"100%"},uploadDiv:{position:"relative",width:"100%"},uploadDivDragging:{opacity:1,background:"rgba(128,255,128,0.1)"},uploadCenterDiv:{margin:5,border:"3px dashed grey",borderRadius:5,width:"100%",height:"100%",position:"absolute",display:"flex"},uploadCenterIcon:{paddingTop:10,width:48,height:48},uploadCenterText:{fontSize:16},uploadCenterTextAndIcon:{textAlign:"center",position:"absolute",top:0,bottom:0,left:0,right:0,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},disabledOpacity:{opacity:.3,cursor:"default"},error:{border:"2px solid red"},deleteButton:{},selectedImage:{height:40,width:40,display:"inline-block",marginRight:8}}),nd=["jpg","jpeg","svg","png","webp","gif","apng","avif","webp"],id=["mp3","ogg","wav","aac"],sd=["avi","mp4","mov"],rd=["txt","log","html","htm"],od=["json","js","ts"];class ws extends f{constructor(a){super(a),this.dropzoneRef=h().createRef(),this.imagePrefix=this.props.imagePrefix===void 0?"./files":this.props.imagePrefix}componentDidMount(){super.componentDidMount(),this.objectID=(this.props.schema.objectID||"0_userdata.0").replace("%INSTANCE%",this.props.instance),this.path=this.props.schema.upload,this.path&&(this.path==="/"?this.path="":this.path.endsWith("/")||(this.path=`${this.path}/`)),this.updateFiles().then(()=>{const a=f.getValue(this.props.data,this.props.attr);this.setState({value:a})})}updateFiles(){return this.readFiles(this.props.schema.pattern).then(a=>this.setState({files:a}))}readFolder(a,l,u){return Nt(this,null,function*(){try{const v=yield this.props.socket.readDir(this.objectID,a.replace(/^\//,"")||null);for(let x=0;x<v.length;x++){const O=v[x];if(O.isDir)yield this.readFolder(`${a+O.file}/`,l,u);else{let B=!1;u==="*.*"&&O.file.includes(".")||!u||u==="*"||u===".*"&&O.file.startsWith(".")?B=!0:B=new RegExp(`^${u.replace(/\./g,"\\.").replace(/\*/g,".*")}$`).test(O.file),B&&l.push({name:a+O.file,size:O.stats?t.Utils.formatBytes(O.stats.size):"--"})}}}catch(v){console.error(`Cannot read "${a}": ${v}`)}return l})}readFiles(a){return Nt(this,null,function*(){const l=[];a=a||this.props.schema.pattern,a||(a="**/*.*");let u;const v=a.lastIndexOf("/");if(v===-1?u=a:u=a.substring(v+1),a.startsWith("**"))yield this.readFolder("/",l,u);else{const x=a.lastIndexOf("/");if(x===-1)yield this.readFolder("/",l,u);else{const O=a.substring(0,x+1);yield this.readFolder(O,l,u)}}return l})}onDrop(a){const l=a[0],u=new FileReader,v=this.props.schema.maxSize||2*1024*1024;u.onabort=()=>console.log("file reading was aborted"),u.onerror=()=>console.log("file reading has failed"),u.onload=()=>{let x=`image/${l.name.split(".").pop().toLowerCase()}`;if(x==="image/jpg"?x="image/jpeg":x.includes("svg")&&(x="image/svg+xml"),l.size>v){window.alert(t.I18n.t("File is too big. Max %sk allowed. Try use SVG.",Math.round(v/1024)));return}const O=`data:${x};base64,${btoa(new Uint8Array(u.result).reduce((B,z)=>B+String.fromCharCode(z),""))}`;this.props.socket.writeFile64(this.objectID,this.path+l.name,O).then(()=>this.updateFiles()).catch(B=>window.alert(`Cannot upload file: ${B}`))},u.readAsArrayBuffer(l)}renderDeleteDialog(){return this.state.deleteFile?h().createElement(t.Confirm,{title:t.I18n.t("ra_Are you sure?"),text:t.I18n.t("ra_File will be deleted"),ok:t.I18n.t("ra_Delete"),cancel:t.I18n.t("ra_Cancel"),onClose:a=>{const l=this.state.deleteFile;this.setState({deleteFile:!1},()=>{a&&this.props.socket.deleteFile(this.objectID,l).then(()=>this.updateFiles()).catch(u=>window.alert(`Cannot delete file: ${u}`))})}}):null}static base64ToArrayBuffer(a){const l=window.atob(a),u=l.length,v=new Uint8Array(u);for(let x=0;x<u;x++)v[x]=l.charCodeAt(x);return v.buffer}loadFile(){return this.props.socket.readFile(this.objectID,this.state.value,!0)}play(){this.loadFile().then(a=>{if(typeof AudioContext!="undefined"){const l=new AudioContext,u=ws.base64ToArrayBuffer(a.file);l.decodeAudioData(u,v=>{const x=l.createBufferSource();x.buffer=v,x.connect(l.destination),x.start(0)},v=>window.alert(`Cannot play: ${v}`))}})}getIcon(a){return!a||!a.extension?null:nd.includes(a.extension)?h().createElement("div",{className:this.props.classes.selectedImage,style:{backgroundImage:`url(${this.imagePrefix}/${this.objectID}/${a.value})`,backgroundSize:"contain",backgroundRepeat:"no-repeat"}}):id.includes(a.extension)?h().createElement(s.MusicNote,null):rd.includes(a.extension)?h().createElement(s.Article,null):sd.includes(a.extension)?h().createElement(s.Videocam,null):od.includes(a.extension)?h().createElement(s.Code,null):null}renderItem(a,l){if(!this.state.files)return null;const u=[];this.props.schema.withFolder||this.state.files.forEach(te=>{const re=te.name.lastIndexOf("/");if(re===-1)u.includes("/")||u.push("/");else{const oe=te.name.substring(0,re+1);u.includes(oe)||u.push(oe)}});const v=this.state.files.map(te=>({value:te.name,label:!this.props.schema.withFolder&&u.length===1?`${te.name.substring(u[0].length)}`:`${te.name}${this.props.schema.noSize?"":`(${te.size})`}`,extension:te.name.toLowerCase().split(".").pop()}));this.props.schema.noNone||v.unshift({label:t.I18n.t("ra_none"),value:""});const x=v.find(te=>te.value===this.state.value);let O=0;this.props.schema.upload&&O++,this.props.schema.refresh&&O++;const B=this.state.value&&(this.state.value.endsWith(".mp3")||this.state.value.endsWith(".ogg")||this.state.value.endsWith(".wav"));B&&O++;const z=h().createElement("div",{className:this.props.classes.fullWidth},h().createElement(e.FormControl,{variant:"standard",style:{width:`calc(100% - ${O*42}px)`}},this.props.schema.label?h().createElement(e.InputLabel,null,this.getText(this.props.schema.label)):null,h().createElement(e.Select,{variant:"standard",error:!!a,disabled:!!l,value:this.state.value||"_",renderValue:()=>h().createElement(h().Fragment,null,this.getIcon(x),h().createElement("span",null,(x==null?void 0:x.label)||"")),onChange:te=>{this.setState({value:te.target.value==="_"?"":te.target.value},()=>this.onChange(this.props.attr,this.state.value))}},v.map(te=>h().createElement(e.MenuItem,{key:te.value,value:te.value},h().createElement(e.ListItemIcon,null,this.getIcon(te)),h().createElement(e.ListItemText,null,te.label),this.props.schema.delete&&x.value?h().createElement(e.IconButton,{className:this.props.classes.deleteButton,size:"small",onClick:()=>this.setState({deleteFile:x.value})},h().createElement(s.Delete,null)):null))),this.props.schema.help?h().createElement(e.FormHelperText,null,this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)):null),this.props.schema.refresh&&h().createElement(e.IconButton,{onClick:()=>this.updateFiles()},h().createElement(s.Refresh,null)),this.props.schema.upload&&h().createElement(e.IconButton,{onClick:()=>{var te;return(te=this.dropzoneRef.current)==null?void 0:te.open()}},h().createElement(s.UploadFile,null)),B&&h().createElement(e.IconButton,{style:{color:"#00FF00"},onClick:()=>this.play()},h().createElement(s.PlayArrow,null)));if(!this.props.schema.upload)return h().createElement(h().Fragment,null,z,this.renderDeleteDialog());let Y={"*/*":[]};if(this.props.schema.fileTypes==="image"?Y={"image/*":[".png",".jpg",".svg",".gif",".apng",".avif",".webp"]}:this.props.schema.fileTypes==="audio"?Y={"audio/*":[".mp3",".ogg",".wav",".mp4"]}:this.props.schema.fileTypes==="text"&&(Y={"text/plain":[".txt"]}),this.props.schema.pattern){const te=this.props.schema.pattern.split("/").pop().toLowerCase().replace(/.*\./,"");te==="png"||te==="jpg"||te==="svg"||te==="gif"||te==="apng"||te==="avif"||te==="webp"?Y={"image/*":[".png",".jpg",".svg",".gif",".apng",".avif",".webp"]}:te==="mp3"||te==="ogg"||te==="wav"?Y={"audio/*":[".mp3",".ogg",".wav",".mp4"]}:te==="ics"?Y={"text/calendar":[".ics"]}:te==="txt"?Y={"text/plain":[".txt"]}:te==="pem"?Y={"text/plain":[".pem"]}:Y={"*/*":[`.${te}`]}}return h().createElement(eo.default,{ref:this.dropzoneRef,multiple:!1,accept:Y,noKeyboard:!0,noClick:!0,maxSize:this.props.schema.maxSize||2*1024*1024,onDragEnter:()=>{this.setState({uploadFile:"dragging"})},onDragLeave:()=>this.setState({uploadFile:!0}),onDrop:(te,re)=>{this.setState({uploadFile:!1}),te.length?this.onDrop(te):window.alert(re&&re[0]&&re[0].errors&&re[0].errors[0]&&re[0].errors[0].message||t.I18n.t("Cannot upload"))}},({getRootProps:te,getInputProps:re})=>h().createElement("div",Yt({className:t.Utils.clsx(this.props.classes.uploadDiv,this.state.uploadFile==="dragging"&&this.props.classes.uploadDivDragging,l&&this.props.classes.disabledOpacity)},te()),h().createElement("input",Yt({},re())),this.state.uploadFile==="dragging"?h().createElement("div",{className:t.Utils.clsx(this.props.classes.uploadCenterDiv,this.state.uploadError&&this.props.classes.error)},h().createElement("div",{className:this.props.classes.uploadCenterTextAndIcon},h().createElement(ed.l1U,{className:this.props.classes.uploadCenterIcon}),h().createElement("div",{className:this.props.classes.uploadCenterText},this.state.uploadFile==="dragging"?t.I18n.t("ra_Drop file here"):t.I18n.t("ra_Place your files here or click here to open the browse dialog")))):null,z,this.renderDeleteDialog()))}}ws.propTypes={socket:I().object.isRequired,themeType:I().string,themeName:I().string,style:I().object,className:I().string,data:I().object.isRequired,schema:I().object,onError:I().func,onChange:I().func,imagePrefix:I().func};const to=(0,F.withStyles)(td)(ws),ad=()=>({fullWidth:{width:"100%"},fullWidthOneButton:{width:"calc(100% - 69px)",marginRight:4},fullWidthIcon:{width:"calc(100% - 119px)",marginRight:4},selectedImage:{height:40,width:40,display:"inline-block",marginRight:8}}),ld=["jpg","jpeg","svg","png","webp","gif","apng","avif","webp"],cd=["mp3","ogg","wav","aac"],ud=["avi","mp4","mov"],dd=["txt","log","html","htm"],hd=["json","js","ts"];class no extends f{componentDidMount(){super.componentDidMount();const a=f.getValue(this.props.data,this.props.attr);this.imagePrefix=this.props.imagePrefix===void 0?"./files":this.props.imagePrefix,this.setState({value:a!=null?a:""})}static getDerivedStateFromProps(a,l){const u=f.getValue(a.data,a.attr);return u==null||u.toString().trim()!==(l.value||"").toString().trim()?{value:u!=null?u:""}:null}loadFile(){const a=this.state.value.indexOf("/");if(a!==-1){const l=this.state.value.substring(0,a),u=this.state.value.substring(a+1);return this.props.socket.readFile(l,u,!0)}return Promise.resolve(null)}play(){this.loadFile().then(a=>{if(typeof AudioContext!="undefined"&&(a!=null&&a.file)){const l=new AudioContext,u=to.base64ToArrayBuffer(a.file);l.decodeAudioData(u,v=>{const x=l.createBufferSource();x.buffer=v,x.connect(l.destination),x.start(0)},v=>window.alert(`Cannot play: ${v}`))}})}getIcon(){const a=this.state.value.split(".").pop().toLowerCase();return ld.includes(a)?h().createElement("div",{className:this.props.classes.selectedImage,style:{backgroundImage:`url(${this.imagePrefix}/${this.state.value})`,backgroundSize:"contain",backgroundRepeat:"no-repeat"}}):cd.includes(a)?h().createElement(e.IconButton,{style:{color:"#00FF00"},onClick:()=>this.play()},h().createElement(s.PlayArrow,null)):dd.includes(a)?h().createElement(s.Article,null):ud.includes(a)?h().createElement(s.Videocam,null):hd.includes(a)?h().createElement(s.Code,null):null}renderFileBrowser(){return this.state.showFileBrowser?h().createElement(t.SelectFile,{imagePrefix:this.props.imagePrefix,socket:this.props.socket,selected:this.state.value,onClose:()=>this.setState({showFileBrowser:!1}),onOk:a=>{this.setState({value:a},()=>this.onChange(this.props.attr,this.props.schema.trim===!1?a:(a||"").trim()))},selectOnlyFolders:this.props.schema.selectOnlyFolders,allowUpload:this.props.schema.allowUpload,allowDownload:this.props.schema.allowDownload,allowCreateFolder:this.props.schema.allowCreateFolder,allowView:this.props.schema.allowView,showToolbar:this.props.schema.showToolbar,limitPath:this.props.schema.limitPath}):null}renderItem(a,l){const u=this.getIcon();return h().createElement("div",{className:this.props.classes.fullWidth},u,h().createElement(e.TextField,{variant:"standard",className:u?this.props.classes.fullWidthIcon:this.props.classes.fullWidthOneButton,value:this.state.value===null||this.state.value===void 0?"":this.state.value,error:!!a,disabled:!!l,inputProps:{maxLength:this.props.schema.maxLength||this.props.schema.max||void 0,readOnly:!!this.props.schema.disableEdit},onChange:v=>{const x=v.target.value;this.setState({value:x},()=>this.onChange(this.props.attr,this.props.schema.trim===!1?x:(x||"").trim()))},placeholder:this.getText(this.props.schema.placeholder),label:this.getText(this.props.schema.label),helperText:this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)}),h().createElement(e.Button,{variant:"outlined",onClick:()=>this.setState({showFileBrowser:!0})},"..."),this.renderFileBrowser())}}no.propTypes={socket:I().object.isRequired,themeType:I().string,themeName:I().string,style:I().object,className:I().string,data:I().object.isRequired,schema:I().object,onError:I().func,onChange:I().func,imagePrefix:I().func};const pd=(0,F.withStyles)(ad)(no),fd=()=>({fullWidth:{width:"100%"}});class io extends f{componentDidMount(){super.componentDidMount();const a=f.getValue(this.props.data,this.props.attr);this.props.socket.getEnums("functions").then(l=>{const u=Object.keys(l).map(v=>({value:this.props.schema.short?v.replace("enum.functions.",""):v,label:this.getText(l[v].common.name),obj:l[v]}));this.props.schema.allowDeactivate!==!1&&u.unshift({label:t.I18n.t(f.NONE_LABEL),value:f.NONE_VALUE}),this.setState({value:a,selectOptions:u})})}renderItem(a,l){if(!this.state.selectOptions)return null;const u=this.state.selectOptions.find(v=>v.value===this.state.value);return h().createElement(e.FormControl,{variant:"standard",className:this.props.classes.fullWidth},this.props.schema.label?h().createElement(e.InputLabel,null,this.getText(this.props.schema.label)):null,h().createElement(e.Select,{variant:"standard",error:!!a,disabled:!!l,value:this.state.value||"_",renderValue:()=>u?u.obj?h().createElement(t.TextWithIcon,{value:u.obj,themeType:this.props.themeType,lang:t.I18n.getLanguage()}):u.label:"",onChange:v=>{this.setState({value:v.target.value==="_"?"":v.target.value},()=>this.onChange(this.props.attr,this.state.value))}},this.state.selectOptions.map(v=>h().createElement(e.MenuItem,{key:v.value,value:v.value,style:v.value===f.DIFFERENT_VALUE?{opacity:.5}:{}},v.obj?h().createElement(t.TextWithIcon,{value:v.obj,themeType:this.props.themeType,lang:t.I18n.getLanguage()}):v.label))),this.props.schema.help?h().createElement(e.FormHelperText,null,this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)):null)}}io.propTypes={socket:I().object.isRequired,themeType:I().string,themeName:I().string,style:I().object,className:I().string,data:I().object.isRequired,schema:I().object,onError:I().func,onChange:I().func};const md=(0,F.withStyles)(fd)(io),gd=()=>({fullWidth:{width:"100%"}});class so extends f{componentDidMount(){super.componentDidMount(),this.props.socket.getHostByIp(this.props.common.host).then(a=>{this.props.schema.listenOnAllPorts||(a=a.filter(l=>l.address!=="0.0.0.0"&&l.address!=="::")),this.props.schema.onlyIp4?a=a.filter(l=>l.family==="ipv4"):this.props.schema.onlyIp6&&(a=a.filter(l=>l.family==="ipv6")),this.props.schema.noInternal&&(a=a.filter(l=>!l.internal)),a.forEach(l=>{l.address==="0.0.0.0"?l.name=`[IPv4] 0.0.0.0 - ${t.I18n.t("ra_Listen on all IPs")}`:l.address==="::"&&(l.name=`[IPv6] :: - ${t.I18n.t("ra_Listen on all IPs")}`)}),this.setState({ips:a})})}renderItem(a,l){var x,O;const u=f.getValue(this.props.data,this.props.attr),v=(x=this.state.ips)==null?void 0:x.find(B=>B.address===u);return h().createElement(e.FormControl,{className:this.props.classes.fullWidth,variant:"standard"},this.state.ips&&this.props.schema.label?h().createElement(e.InputLabel,null,this.getText(this.props.schema.label)):null,this.state.ips?h().createElement(e.Select,{variant:"standard",error:!!a,disabled:!!l,value:u,renderValue:B=>(v==null?void 0:v.name)||B,onChange:B=>this.onChange(this.props.attr,B.target.value)},(O=this.state.ips)==null?void 0:O.map((B,z)=>h().createElement(e.MenuItem,{key:z,value:B.address},B.name))):h().createElement(e.TextField,{fullWidth:!0,variant:"standard",error:!!a,disabled:!!l,value:u,onChange:B=>this.onChange(this.props.attr,B.target.value),label:this.getText(this.props.schema.label)}),this.props.schema.help?h().createElement(e.FormHelperText,null,this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)):null)}}so.propTypes={socket:I().object.isRequired,themeType:I().string,themeName:I().string,style:I().object,className:I().string,data:I().object.isRequired,schema:I().object,onError:I().func,onChange:I().func};const vd=(0,F.withStyles)(gd)(so),yd=()=>({fullWidth:{width:"100%"}});class ro extends f{componentDidMount(){super.componentDidMount(),this.askInstance()}askInstance(){if(this.props.alive){let a=this.props.schema.data;if(a===void 0&&this.props.schema.jsonData){a=this.getPattern(this.props.schema.jsonData);try{a=JSON.parse(a)}catch(l){console.error(`Cannot parse json data: ${a}`)}}a===void 0&&(a=null),this.props.socket.sendTo(`${this.props.adapterName}.${this.props.instance}`,this.props.schema.command||"send",a).then(l=>this.setState({image:l||"",context:this.getContext()}))}}getContext(){const a={};return Array.isArray(this.props.schema.alsoDependsOn)&&this.props.schema.alsoDependsOn.forEach(l=>a[l]=f.getValue(this.props.data,l)),JSON.stringify(a)}renderItem(){return this.state.image===void 0?null:(this.props.alive&&this.getContext()!==this.state.context&&setTimeout(()=>this.askInstance(),300),h().createElement("img",{className:this.props.classes.fullWidth,alt:"dynamic content",src:this.state.image,style:{width:this.props.schema.width,height:this.props.schema.height}}))}}ro.propTypes={socket:I().object.isRequired,data:I().object.isRequired,schema:I().object,adapterName:I().string,instance:I().number};const bd=(0,F.withStyles)(yd)(ro),wd=()=>({fullWidth:{width:"100%"},image:{width:100}});class Cs extends f{constructor(a){super(a),this.index=Date.now()}componentDidMount(){return Nt(this,null,function*(){if(Wn(Cs.prototype,this,"componentDidMount").call(this),this.props.schema.base64){const a=f.getValue(this.props.data,this.props.attr);this.setState({value:a})}else this.props.socket.fileExists(`${this.props.adapterName}.${this.props.instance}`,this.props.attr).then(a=>a&&this.loadImage())})}_getUrl(a){a&&(this.index=Date.now());let l=`files/${this.props.adapterName}.${this.props.instance}/${this.props.attr}?t=${this.index}`;return window.location.port==="3000"&&(l=`${window.location.protocol}//${window.location.hostname}:8081/${l}`),l}loadImage(){fetch(this._getUrl()).then(a=>a.blob()).then(a=>{const l=new FileReader;l.onload=()=>{this.setState({value:l.result})},l.readAsDataURL(a)}).catch(a=>console.error(a))}renderItem(a,l){return h().createElement(e.FormControl,{className:this.props.classes.fullWidth,variant:"standard"},this.props.schema.label?h().createElement(e.InputLabel,{shrink:!0},this.getText(this.props.schema.label)):null,h().createElement(t.UploadImage,{error:!!a,disabled:l,accept:this.props.schema.accept,crop:this.props.schema.crop,maxSize:this.props.schema.maxSize||256*1024,icon:this.state.value||void 0,removeIconFunc:()=>this.setState({value:null},()=>{this.props.schema.base64?this.onChange(this.props.attr,this.state.value):this.props.socket.deleteFile(`${this.props.adapterName}.${this.props.instance}`,this.props.attr)}),onChange:u=>this.setState({value:u},()=>{this.props.schema.base64?this.onChange(this.props.attr,this.state.value):u.startsWith("data")&&(u=u.split(",")[1]),this.props.socket.writeFile64(`${this.props.adapterName}.${this.props.instance}`,this.props.attr,u)}),t:t.I18n.t}),this.props.schema.help?h().createElement(e.FormHelperText,null,this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)):null)}}Cs.propTypes={socket:I().object.isRequired,themeType:I().string,themeName:I().string,style:I().object,className:I().string,data:I().object.isRequired,schema:I().object,onError:I().func,onChange:I().func};const Cd=(0,F.withStyles)(wd)(Cs),Sd=()=>({fullWidth:{width:"100%"},icon:{width:20,height:20,marginRight:4}});class Ss extends f{constructor(){super(...arguments);$t(this,"onInstancesUpdate",(l,u)=>{if(!l.match(/^system\.adapter\.[-_a-z\d]+\.\d+$/))return;const v=this.props.schema.long?l:this.props.schema.short?l.split(".").pop():l.replace(/^system\.adapter\./,""),x=this.state.selectOptions.findIndex(O=>O.value===v);if(u){if(this.props.schema.adapter==="_dataSources"&&(!u.common||!u.common.getHistory))return;if(x===-1){const O=JSON.parse(JSON.stringify(this.state.selectOptions));O.push({value:this.props.schema.long?u._id:this.props.schema.short?u._id.split(".").pop():u._id.replace(/^system\.adapter\./,""),label:`${u.common.name} [${u._id.replace(/^system\.adapter\./,"")}]`,icon:`adapter/${u.common.name}/${u.common.icon}`}),O.sort((B,z)=>B.label>z.label?1:B.label<z.label?-1:0),this.setState({selectOptions:O})}}else if(x!==-1){const O=JSON.parse(JSON.stringify(this.state.selectOptions)),B={};this.state.value===O[x].value&&(B.value=f.NONE_VALUE),O.splice(x,1),B.selectOptions=O,this.setState(B)}})}componentDidMount(){return Nt(this,null,function*(){Wn(Ss.prototype,this,"componentDidMount").call(this);const l=f.getValue(this.props.data,this.props.attr);let u=this.props.schema.adapter;u==="_dataSources"&&(u=void 0),this.props.socket.getAdapterInstances(u,!0).then(v=>Nt(this,null,function*(){this.props.schema.adapter==="_dataSources"?v=v.filter(O=>{var B;return(B=O==null?void 0:O.common)==null?void 0:B.getHistory}):this.props.schema.adapter?v=v.filter(O=>O==null?void 0:O._id.startsWith(`system.adapter.${this.props.schema.adapter}.`)):this.props.schema.adapters&&Array.isArray(this.props.schema.adapters)&&(v=v.filter(O=>{var B;return this.props.schema.adapters.includes((B=O==null?void 0:O.common)==null?void 0:B.name)})),this.props.schema.onlyEnabled&&(v=v.filter(O=>{var B;return(B=O==null?void 0:O.common)==null?void 0:B.enabled}));const x=v.map(O=>({value:this.props.schema.long?O._id:this.props.schema.short?O._id.split(".").pop():O._id.replace(/^system\.adapter\./,""),label:`${O.common.name} [${O._id.replace(/^system\.adapter\./,"")}]`,icon:`adapter/${O.common.name}/${O.common.icon}`}));x.sort((O,B)=>O.value>B.value?1:O.value<B.value?-1:0),this.props.schema.allowDeactivate!==!1&&x.unshift({label:t.I18n.t(f.NONE_LABEL),value:f.NONE_VALUE}),this.props.schema.all&&x.unshift({label:t.I18n.t("sch_all"),value:"*"}),this.setState({value:l||"",selectOptions:x}),yield this.props.socket.subscribeObject(`system.adapter.${u?`${u}.`:""}*`,this.onInstancesUpdate)}))})}componentWillUnmount(){this.props.socket.unsubscribeObject("system.adapter.*",this.onInstancesUpdate).then(()=>{}),super.componentWillUnmount()}renderItem(l,u){var x;if(!this.state.selectOptions)return null;const v=(x=this.state.selectOptions)==null?void 0:x.find(O=>O.value===this.state.value);return h().createElement(e.FormControl,{className:this.props.classes.fullWidth,key:this.props.attr,variant:"standard"},this.props.schema.label?h().createElement(e.InputLabel,{shrink:!0},this.getText(this.props.schema.label)):null,h().createElement(e.Select,{variant:"standard",error:!!l,displayEmpty:!0,disabled:!!u,value:this.state.value,renderValue:()=>h().createElement("span",{style:{display:"flex"}},v!=null&&v.icon?h().createElement("img",{src:`./${v.icon}`,alt:v.value,className:this.props.classes.icon}):null,this.getText(v==null?void 0:v.label,!0)),onChange:O=>this.setState({value:O.target.value},()=>this.onChange(this.props.attr,this.state.value))},this.state.selectOptions.map(O=>h().createElement(e.MenuItem,{key:O.value,value:O.value,style:O.value===f.NONE_VALUE?{opacity:.5}:{}},O.icon?h().createElement("img",{src:`./${O.icon}`,alt:O.value,className:this.props.classes.icon}):null,this.getText(O.label,!0)))),this.props.schema.help?h().createElement(e.FormHelperText,null,this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)):null)}}Ss.propTypes={socket:I().object.isRequired,themeType:I().string,themeName:I().string,style:I().object,className:I().string,data:I().object.isRequired,schema:I().object,onError:I().func,onChange:I().func};const Ed=(0,F.withStyles)(Sd)(Ss),Dd=()=>({fullWidth:{width:"100%"},address:{fontSize:"smaller",opacity:.5,marginLeft:8}});class oo extends f{componentDidMount(){super.componentDidMount(),this.props.socket.getObject(`system.host.${this.props.common.host}`).then(a=>{var u,v;const l=[];if((v=(u=a==null?void 0:a.native)==null?void 0:u.hardware)!=null&&v.networkInterfaces){const x=a.native.hardware.networkInterfaces;Object.keys(x).forEach(O=>{if(this.props.schema.ignoreInternal&&!x[O].find(z=>!z.internal)||this.props.schema.ignoreLoopback&&x[O].find(z=>z.address==="127.0.0.1"||z.address==="::1"))return;let B=x[O].find(z=>z.family==="IPv4");B=B||x[O].find(z=>z.family==="IPv6"),l.push({value:O,address:B.address})})}this.setState({interfaces:l})}).catch(a=>window.alert(`Cannot read interfaces: ${a}`))}renderItem(a,l){var x,O,B;const u=f.getValue(this.props.data,this.props.attr),v=(x=this.state.interfaces)==null?void 0:x.find(z=>z.value===u);return h().createElement(e.FormControl,{className:this.props.classes.fullWidth,variant:"standard"},(O=this.state.interfaces)!=null&&O.length&&this.props.schema.label?h().createElement(e.InputLabel,null,this.getText(this.props.schema.label)):null,(B=this.state.interfaces)!=null&&B.length?h().createElement(e.Select,{variant:"standard",error:!!a,disabled:!!l,value:u,renderValue:z=>v?h().createElement("span",null,v.value,h().createElement("span",{className:this.props.classes.address},v.address)):z,onChange:z=>this.onChange(this.props.attr,z.target.value)},this.state.interfaces.map((z,Y)=>h().createElement(e.MenuItem,{key:Y,value:z.value},h().createElement("span",null,z.value,h().createElement("span",{className:this.props.classes.address},z.address))))):h().createElement(e.TextField,{fullWidth:!0,variant:"standard",error:!!a,disabled:!!l,value:u,onChange:z=>this.onChange(this.props.attr,z.target.value),label:this.getText(this.props.schema.label)}),this.props.schema.help?h().createElement(e.FormHelperText,null,this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)):null)}}oo.propTypes={socket:I().object.isRequired,themeType:I().string,themeName:I().string,style:I().object,className:I().string,data:I().object.isRequired,schema:I().object,onError:I().func,onChange:I().func};const Ad=(0,F.withStyles)(Dd)(oo),xd=y=>({modalDialog:{minWidth:400,maxWidth:800},overflowHidden:{display:"flex",overflow:"hidden"},titleIcon:{marginRight:5},content:{fontSize:16},languageButton:{position:"absolute",right:y.spacing(1),top:y.spacing(1)},languageButtonActive:{color:y.palette.primary.main}}),Ys=({toggleTranslation:y,noTranslation:a,title:l,fullWidth:u,help:v,maxWidth:x,progress:O,icon:B,applyDisabled:z,applyButton:Y,classes:te,onClose:re,children:oe,titleButtonApply:he,titleButtonClose:ce,onApply:de,textInput:ve,defaultValue:ye,overflowHidden:be})=>{const[Ie,Ge]=(0,M.useState)(ye);(0,M.useEffect)(()=>{Ge(ye)},[ye]);let Pe=null;return B&&(Pe=B),h().createElement(e.Dialog,{open:!0,maxWidth:x||"md",fullWidth:!!u,disableEscapeKeyDown:!1,onClose:re,classes:{paper:te.modalDialog}},l&&h().createElement(e.DialogTitle,null,B?h().createElement(Pe,{className:te.titleIcon}):null,l,t.I18n.getLanguage()!=="en"&&y?h().createElement(e.IconButton,{size:"large",className:t.Utils.clsx(te.languageButton,a&&te.languageButtonActive),onClick:()=>y(),title:t.I18n.t("Disable/Enable translation")},h().createElement(s.Language,null)):null),h().createElement(e.DialogContent,{className:t.Utils.clsx(be?te.overflowHidden:null,te.content),style:{paddingTop:8}},ve&&h().createElement(e.TextField,{autoComplete:"off",fullWidth:!0,autoFocus:!0,variant:"outlined",size:"medium",multiline:!0,value:Ie,onChange:We=>Ge(We.target.value)}),oe,v?h().createElement("div",null,v):null),h().createElement(e.DialogActions,null,Y&&h().createElement(e.Button,{startIcon:h().createElement(s.Check,null),disabled:O||z&&ye===Ie,onClick:()=>de(ve?Ie:""),variant:"contained",color:"primary"},t.I18n.t(he)),h().createElement(e.Button,{color:"grey",onClick:re,disabled:O,variant:"contained",startIcon:h().createElement(s.Close,null)},t.I18n.t(ce))))};Ys.defaultProps={onApply:()=>{},onClose:()=>{},applyButton:!0,applyDisabled:!1,titleButtonClose:"Cancel",titleButtonApply:"Ok",overflowHidden:!1,help:""},Ys.propTypes={icon:I().object,onClose:I().func,children:I().any,titleButtonClose:I().string,titleButtonApply:I().string,onApply:I().func,fullWidth:I().bool,maxWidth:I().string,applyButton:I().bool,applyDisabled:I().bool,overflowHidden:I().bool,help:I().string,noTranslation:I().bool,toggleTranslation:I().func};const kd=(0,F.withStyles)(xd)(Ys);var Td=L(76216),Hf=L(97726),Uf=L(51197),Gf=L(9285),Jf=L(44210),Kf=L(82292);const _d={jsonError:{border:"1px solid red",minHeight:200},jsonNoError:{border:"1px solid #00000000",minHeight:200}};function $d(y){return h().createElement(Td.Ay,{className:y.error===!0?y.classes.jsonError:y.error===!1?y.classes.jsonNoError:void 0,mode:y.mode||"json",width:"100%",height:"100%",showPrintMargin:y.editValueMode,showGutter:y.editValueMode,highlightActiveLine:y.editValueMode,defaultValue:y.defaultValue,theme:y.themeType==="dark"?"clouds_midnight":"chrome",value:y.value,readOnly:!y.onChange,onChange:a=>y.onChange(a),name:y.name||"UNIQUE_ID_OF_DIV1",fontSize:y.fontSize||14,setOptions:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0,showLineNumbers:y.editValueMode,tabSize:y.editValueMode?2:void 0},editorProps:{$blockScrolling:!0}})}const Md=(0,F.withStyles)(_d)($d),Id=()=>({fullWidth:{width:"100%"},flex:{display:"flex"},button:{height:48,minWidth:48},wrapper:{width:"calc(100vw - 40px)",height:"calc(100vh - 188px)"}});class Es extends f{componentDidMount(){return Nt(this,null,function*(){Wn(Es.prototype,this,"componentDidMount").call(this);const{data:a,attr:l}=this.props,u=f.getValue(a,l)||{};this.setState({value:u,initialized:!0})})}renderItem(){if(!this.state.initialized)return null;const{classes:a,schema:l,data:u,attr:v}=this.props,{value:x,showSelectId:O}=this.state;return h().createElement(e.FormControl,{className:a.fullWidth,variant:"standard"},h().createElement("div",{className:a.flex},h().createElement(e.Button,{color:"grey",className:a.button,size:"small",variant:"outlined",onClick:()=>this.setState({showSelectId:!0})},t.I18n.t("ra_JSON editor"))),O?h().createElement(kd,{title:this.getText(l.label),open:O,overflowHidden:!0,onClose:()=>this.setState({showSelectId:!1,value:f.getValue(u,v)||{}}),onApply:()=>this.setState({showSelectId:!1},()=>this.onChange(v,x))},h().createElement("div",{className:a.wrapper},h().createElement(Md,{value:typeof x=="object"?JSON.stringify(x):x,onChange:B=>this.setState({value:B}),name:"ConfigJsonEditor",themeType:this.props.themeType}))):null,l.help?h().createElement(e.FormHelperText,null,this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)):null)}}Es.propTypes={socket:I().object.isRequired,themeType:I().string,style:I().object,className:I().string,data:I().object.isRequired,schema:I().object,onError:I().func,onChange:I().func};const Fd=(0,F.withStyles)(Id)(Es),Od={fullWidth:{width:"100%"}},Ld=[{value:"en",label:"English"},{value:"de",label:"Deutsch"},{value:"ru",label:"\u0440\u0443\u0441\u0441\u043A\u0438\u0439"},{value:"pt",label:"Portugues"},{value:"nl",label:"Nederlands"},{value:"fr",label:"fran\xE7ais"},{value:"it",label:"Italiano"},{value:"es",label:"Espanol"},{value:"pl",label:"Polski"},{value:"uk",label:"\u0423\u043A\u0440\u0430\u0457\u043D\u0441\u044C\u043A\u0438\u0439"},{value:"zh-ch",label:"\u7B80\u4F53\u4E2D\u6587"}];class Nd extends f{componentDidMount(){super.componentDidMount();const a=f.getValue(this.props.data,this.props.attr),l=[...Ld];this.props.schema.system?l.unshift({value:"",label:t.I18n.t("ra_System language")}):l.unshift({value:"",label:t.I18n.t("ra_none")}),this.setState({value:this.props.schema.system?a||"":a||t.I18n.getLanguage(),selectOptions:l})}renderItem(a,l){var v,x;if(!this.state.selectOptions)return null;const u=(v=this.state.selectOptions)==null?void 0:v.find(O=>O.value===this.state.value||!O.value&&!this.state.value);return h().createElement(e.FormControl,{className:this.props.classes.fullWidth,variant:"standard"},this.props.schema.label?h().createElement(e.InputLabel,null,this.getText(this.props.schema.label)):null,h().createElement(e.Select,{variant:"standard",error:!!a,disabled:l,value:this.state.value||"_",renderValue:()=>this.getText(u==null?void 0:u.label,this.props.schema.noTranslation),onChange:O=>{let{value:B}=O.target;B==="_"&&(B=""),this.setState({value:B},()=>{if(this.onChange(this.props.attr,B),this.props.schema.changeGuiLanguage)if(B){if(B===t.I18n.getLanguage())return;t.I18n.setLanguage(B),this.props.changeLanguage&&this.props.changeLanguage()}else this.props.socket.getSystemConfig().then(z=>{z.common.language!==t.I18n.getLanguage()&&z.common.language&&(t.I18n.setLanguage(z.common.language),this.props.changeLanguage&&this.props.changeLanguage())})})}},(x=this.state.selectOptions)==null?void 0:x.map(O=>h().createElement(e.MenuItem,{key:O.value,value:O.value},O.label))),this.props.schema.help?h().createElement(e.FormHelperText,null,this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)):null)}}const Pd=(0,F.withStyles)(Od)(Nd);class ao extends f{constructor(a){super(a),this.scrollRef=h().createRef(),this.noPlaceRequired=!0}scrolledDown(){return this.scrollRef.current?this.scrollRef.current.offsetHeight+this.scrollRef.current.scrollTop>=this.scrollRef.current.scrollHeight:!1}componentDidMount(){super.componentDidMount(),f.getValue(this.props.data,this.props.attr)||(this.props.schema.licenseUrl?(this.setState({showLicenseDialog:!0,loading:!0,scrolledDown:!1}),fetch(this.props.schema.licenseUrl).then(a=>a.text()).then(a=>this.setState({license:a,loading:!1})).catch(a=>this.setState({license:a.toString(),loading:!1,error:!0,scrolledDown:!1}))):this.setState({showLicenseDialog:!0,scrolledDown:!1}),setTimeout(()=>{this.scrollRef.current&&(this.scrolledDown()?this.setState({scrolledDown:!0}):this.scrollRef.current.addEventListener("scroll",()=>{!this.state.scrolledDown&&this.scrolledDown()&&this.setState({scrolledDown:!0})}))},1e3))}renderItem(){return this.state.showLicenseDialog?h().createElement(e.Dialog,{maxWidth:"lg",open:!0,onClose:(a,l)=>{l!=="escapeKeyDown"&&l!=="backdropClick"&&this.setState({showLicenseDialog:!1})}},h().createElement(e.DialogTitle,null,this.props.schema.title?t.I18n.t(this.props.schema.title):t.I18n.t("ra_License agreement")),h().createElement(e.DialogContent,null,this.props.schema.licenseUrl?h().createElement(h().Fragment,null,this.state.loading?h().createElement(e.LinearProgress,null):null,h().createElement("pre",{ref:this.scrollRef,style:{width:"100%",height:"100%",overflowY:"auto",fontSize:14}},this.state.license)):null,!this.props.schema.licenseUrl&&this.props.schema.texts?h().createElement("div",{ref:this.scrollRef,style:{width:"100%",height:"100%",overflowY:"auto",fontSize:14}},this.props.schema.texts.map(a=>this.props.schema.noTranslation?h().createElement("p",null,a):h().createElement("p",null,t.I18n.t(a)))):null),h().createElement(e.DialogActions,null,this.props.schema.checkBox?h().createElement(e.FormControlLabel,{control:h().createElement(e.Checkbox,{checked:!!this.state.licenseChecked,onClick:()=>this.setState({licenseChecked:!this.state.licenseChecked})}),label:t.I18n.t(this.props.schema.checkBox)}):null,h().createElement(e.Button,{disabled:this.state.loading||this.state.error||this.props.schema.checkBox&&!this.state.licenseChecked||!this.state.scrolledDown,onClick:()=>{this.setState({showLicenseDialog:null}),this.onChange(this.props.attr,!0)},color:"primary",variant:"contained",startIcon:h().createElement(s.Check,null)},this.props.schema.agreeText?t.I18n.t(this.props.schema.agreeText):t.I18n.t("ra_Accept license")),h().createElement(e.Button,{onClick:()=>{this.setState({showLicenseDialog:!1}),setTimeout(()=>this.setState({showLicenseDialog:!0}),2e3)},color:"grey",variant:"contained",startIcon:h().createElement(s.Close,null)},t.I18n.t("ra_Close")))):null}}ao.propTypes={socket:I().object.isRequired,themeType:I().string,themeName:I().string,style:I().object,className:I().string,data:I().object.isRequired,schema:I().object,onError:I().func,onChange:I().func};const Rd=ao,Bd={indeterminate:{opacity:.5},control:{flexDirection:"row",width:"100%"}};class Wd extends f{constructor(){super(...arguments);$t(this,"updateTimeout")}componentDidMount(){super.componentDidMount();let l=f.getValue(this.props.data,this.props.attr);if(l==null&&(l=""),Array.isArray(l)&&this.props.multiEdit){l=f.DIFFERENT_VALUE,this.setState({_value:l,oldValue:l});return}this.setState({_value:l.toString(),oldValue:l.toString()})}static getDerivedStateFromProps(l,u){if(l.schema.min!==void 0&&l.schema.min<0||l.schema.max!==void 0&&l.schema.max<0)return null;const v=f.getValue(l.data,l.attr);return l.multiEdit&&u._value===f.DIFFERENT_VALUE?f.DIFFERENT_VALUE:v==null||u.oldValue===null||u.oldValue===void 0||v.toString()!==parseFloat(u._value).toString()&&v.toString()!==u.oldValue.toString()?{_value:v}:null}checkValue(l){if(l==null)return null;l=l.toString().trim();const u=l===""?0:parseFloat(l);return l!==""&&Number.isNaN(u)?"ra_Not a number":l!==""&&window.isFinite(u)?this.props.schema.min!==void 0&&u<this.props.schema.min?"ra_Too small":this.props.schema.max!==void 0&&u>this.props.schema.max?"ra_Too big":l===""||l==="-"||Number.isNaN(u)?"ra_Not a number":null:"ra_Not a number"}renderItem(l,u){const v=Array.isArray(this.state._value)||this.state._value===f.DIFFERENT_VALUE;if(this.state.oldValue!==null&&this.state.oldValue!==void 0?(this.updateTimeout&&clearTimeout(this.updateTimeout),this.updateTimeout=setTimeout(()=>{this.updateTimeout=void 0,this.setState({oldValue:null})},30)):this.updateTimeout&&(clearTimeout(this.updateTimeout),this.updateTimeout=void 0),v){const O=[...f.getValue(this.props.data,this.props.attr)].map(B=>({label:B.toString(),value:B}));return O.unshift({label:t.I18n.t(f.DIFFERENT_LABEL),value:f.DIFFERENT_VALUE}),h().createElement(e.Autocomplete,{className:this.props.classes.indeterminate,fullWidth:!0,freeSolo:!0,value:O[0],getOptionSelected:(B,z)=>B.label===z.label,onChange:(B,z)=>{this.onChange(this.props.attr,z==null?void 0:z.value,()=>{this.setState({_value:z==null?void 0:z.value,oldValue:this.state._value})})},options:O,getOptionLabel:B=>B.label,renderInput:B=>h().createElement(e.TextField,zn(Yt({},B),{label:this.getText(this.props.schema.label),variant:"standard",inputProps:zn(Yt({},B.inputProps),{readOnly:this.props.schema.readOnly||!1}),error:!!l,placeholder:this.getText(this.props.schema.placeholder),helperText:this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation),disabled:!!u}))})}return!l&&this.state._value!==null&&this.state._value!==void 0&&this.state._value&&(l=this.checkValue(this.state._value),l&&(l=t.I18n.t(l))),h().createElement(e.FormControl,{variant:"standard",className:this.props.classes.control},h().createElement(e.TextField,{variant:"standard",type:"number",fullWidth:!0,inputProps:{min:this.props.schema.min,max:this.props.schema.max,step:this.props.schema.step,readOnly:this.props.schema.readOnly||!1},value:this.state._value===null||this.state._value===void 0?"":this.state._value,error:!!l,disabled:!!u,onChange:x=>{const O=x.target.value,B=this.checkValue(O);B?this.onError(this.props.attr,t.I18n.t(B)):this.onError(this.props.attr),this.setState({_value:O,oldValue:this.state._value},()=>this.onChange(this.props.attr,parseFloat(O)))},placeholder:this.getText(this.props.schema.placeholder),label:this.getText(this.props.schema.label),helperText:l&&typeof l=="string"?l:this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)}))}}const jd=(0,F.withStyles)(Bd)(Wd),zd=()=>({fullWidth:{width:"100%"},flex:{display:"flex"},button:{height:48,marginLeft:4,minWidth:48}});class Ds extends f{componentDidMount(){return Nt(this,null,function*(){Wn(Ds.prototype,this,"componentDidMount").call(this);const{data:a,attr:l}=this.props,u=f.getValue(a,l)||"";this.setState({value:u,initialized:!0})})}renderItem(a,l){if(!this.state.initialized)return null;const{classes:u,schema:v,socket:x,attr:O}=this.props,{value:B,showSelectId:z}=this.state;return h().createElement(e.FormControl,{className:u.fullWidth,variant:"standard"},v.label?h().createElement(e.InputLabel,{shrink:!0},this.getText(v.label)):null,h().createElement("div",{className:u.flex},h().createElement(e.TextField,{variant:"standard",fullWidth:!0,value:B,error:!!a,disabled:l,placeholder:this.getText(v.placeholder),label:this.getText(v.label),helperText:this.renderHelp(v.help,v.helpLink,v.noTranslation),onChange:Y=>{const te=Y.target.value;this.setState({value:te},()=>this.onChange(O,te))}}),h().createElement(e.Button,{color:"grey",className:this.props.classes.button,size:"small",variant:"outlined",onClick:()=>this.setState({showSelectId:!0})},"...")),z?h().createElement(t.SelectID,{imagePrefix:this.props.imagePrefix===void 0?"../..":this.props.imagePrefix,dateFormat:this.props.dateFormat,isFloatComma:this.props.isFloatComma,dialogName:`admin.${this.props.adapterName}`,filterFunc:v.filterFunc,themeType:this.props.themeType,types:v.types?Array.isArray(v.types)?v.types:[v.types]:void 0,customFilter:v.customFilter,filters:v.filters,socket:x,statesOnly:v.all===void 0?!0:v.all,selected:B,root:v.root,onClose:()=>this.setState({showSelectId:!1}),onOk:Y=>this.setState({showSelectId:!1,value:Y},()=>this.onChange(O,Y))}):null)}}Ds.propTypes={socket:I().object.isRequired,themeType:I().string,themeName:I().string,style:I().object,className:I().string,data:I().object.isRequired,schema:I().object,onError:I().func,onChange:I().func,dateFormat:I().string,isFloatComma:I().bool,imagePrefix:I().string};const Vd=(0,F.withStyles)(zd)(Ds),Hd=y=>({fullWidth:{width:"100%",display:"inline-block"},halfWidth1:{width:`calc(50% - ${y.spacing(.5)})`,display:"inline-block",marginRight:y.spacing(1)},halfWidth2:{width:`calc(50% - ${y.spacing(.5)})`,display:"inline-block"}}),Ri="____ppp____";class lo extends f{componentDidMount(){super.componentDidMount();const a=f.getValue(this.props.data,this.props.attr);this.setState({_repeat:a?Ri:"",_visible:!1,value:a?Ri:"",_notEqual:!1})}onChangePassword(a,l){a===void 0&&(a=this.state.value),l===void 0&&(l=this.state._repeat);const u=!!this.props.schema.repeat&&l!==a;this.setState({value:a,_repeat:l,_notEqual:u},()=>{u?this.onError(this.props.attr,t.I18n.t("ra_Passwords are not equal!")):(this.onError(this.props.attr),this.onChange(this.props.attr,a))})}renderItem(a,l){if(this.state._notEqual===void 0)return null;const u=h().createElement(e.TextField,{variant:"standard",fullWidth:!0,type:this.state._visible&&this.state.value!==Ri?"text":"password",value:this.state.value,error:!!a||this.state._notEqual,disabled:!!l,onChange:v=>this.onChangePassword(v.target.value),label:this.getText(this.props.schema.label),inputProps:{autoComplete:"new-password",form:{autoComplete:"off"},maxLength:this.props.schema.maxLength||this.props.schema.max||void 0},helperText:this.state._notEqual?t.I18n.t("ra_Passwords are not equal!"):this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation),InputProps:{endAdornment:this.state.value&&this.state.value!==Ri&&this.props.schema.visible?h().createElement(e.InputAdornment,{position:"end"},h().createElement(e.IconButton,{size:"large",tabIndex:-1,onClick:v=>{v.preventDefault(),v.stopPropagation(),this.setState({_visible:!this.state._visible})},edge:"end"},this.state._visible?h().createElement(s.VisibilityOff,null):h().createElement(s.Visibility,null))):void 0}});if(this.props.schema.repeat){const v=h().createElement(e.TextField,{variant:"standard",fullWidth:!0,type:this.state._visible&&this.state._repeat!==Ri?"text":"password",value:this.state._repeat,error:!!a||this.state._notEqual,disabled:!!l,onChange:x=>this.onChangePassword(void 0,x.target.value),label:`${this.getText(this.props.schema.label)} (${t.I18n.t("ra_repeat")})`,inputProps:{autoComplete:"new-password",form:{autoComplete:"off"},maxLength:this.props.schema.maxLength||this.props.schema.max||void 0},helperText:this.state._notEqual?t.I18n.t("ra_Passwords are not equal!"):this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation),InputProps:{endAdornment:this.state._repeat&&this.state._repeat!==Ri?h().createElement(e.InputAdornment,{position:"end"},h().createElement(e.IconButton,{size:"large",tabIndex:-1,onClick:x=>{x.preventDefault(),x.stopPropagation(),this.setState({_visible:!this.state._visible})},edge:"end"},this.state._visible?h().createElement(s.VisibilityOff,null):h().createElement(s.Visibility,null))):void 0}});return h().createElement("div",{className:this.props.classes.fullWidth},h().createElement("div",{className:this.props.classes.halfWidth1},u),h().createElement("div",{className:this.props.classes.halfWidth2},v))}return u}}lo.propTypes={socket:I().object.isRequired,themeType:I().string,themeName:I().string,style:I().object,className:I().string,data:I().object.isRequired,schema:I().object,onError:I().func,onChange:I().func};const Ud=(0,F.withStyles)(Hd)(lo);class co extends f{renderItem(a,l){return h().createElement(e.TextField,{variant:"standard",fullWidth:!0,disabled:!!l,InputProps:{endAdornment:this.props.schema.copyToClipboard?h().createElement(e.IconButton,{size:"small",onClick:()=>{t.Utils.copyToClipboard(this.getPattern(this.props.schema.pattern)),window.alert("Copied")}},h().createElement(t.IconCopy,null)):void 0},value:this.getPattern(this.props.schema.pattern),label:this.getText(this.props.schema.label),helperText:this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)})}}co.propTypes={socket:I().object.isRequired,themeType:I().string,themeName:I().string,style:I().object,className:I().string,data:I().object.isRequired,schema:I().object,onError:I().func,onChange:I().func};const Gd=co,Jd={indeterminate:{opacity:.5},control:{flexDirection:"row",width:"100%"},warning:{"& .Mui-error":{color:"orange"}}};class Xs extends f{constructor(){super(...arguments);$t(this,"updateTimeout")}componentDidMount(){return Nt(this,null,function*(){Wn(Xs.prototype,this,"componentDidMount").call(this);let l=f.getValue(this.props.data,this.props.attr);l==null&&(l=""),this.setState({_value:l.toString(),oldValue:l.toString()});const u=yield this.props.socket.getAdapterInstances(),v=`system.adapter.${this.props.adapterName}.${this.props.instance}`,x=yield this.props.socket.getObject(v),O=x==null?void 0:x.common.host,B=[];u.forEach(z=>{var te,re,oe,he;if(!z||z._id===v||z.common.host!==O||!((te=z.native)!=null&&te.bind))return;if(z!=null&&z.native&&z.native.secure&&z.native.leEnabled&&z.native.leUpdate){const ce=parseInt(z.native.leCheckPort||z.native.lePort,10);ce&&B.push({name:`${z._id.replace("system.adapter.","")} (LE)`,port:ce,v6bind:z.native.bind.includes(":")?z.native.bind:z.native.v6bind,bind:z.native.bind,enabled:!!((re=z.common)!=null&&re.enabled)})}const Y=parseInt((oe=z==null?void 0:z.native)==null?void 0:oe.port,10);Y&&B.push({name:z._id.replace("system.adapter.",""),bind:z.native.bind,v6bind:z.native.bind.includes(":")?z.native.bind:z.native.v6bind,port:Y,enabled:!!((he=z.common)!=null&&he.enabled)})}),this.setState({ports:B})})}static getDerivedStateFromProps(l,u){const v=f.getValue(l.data,l.attr);return v==null||u.oldValue===null||u.oldValue===void 0||v.toString()!==parseInt(u._value,10).toString()&&v.toString()!==u.oldValue.toString()?{_value:v}:null}checkValue(l){if(l==null)return null;const u=this.props.schema.min===void 0?20:this.props.schema.min,v=this.props.schema.max||65535;l=l.toString().trim();const x=l===""?0:parseInt(l,10);return l!==""&&Number.isNaN(x)?"ra_Not a number":l!==""&&window.isFinite(Number(l))?x<u?"ra_Too small":x>v?"ra_Too big":l===""||l==="-"||Number.isNaN(x)?"ra_Not a number":null:"ra_Not a number"}renderItem(l,u){this.state.oldValue!==null&&this.state.oldValue!==void 0?(this.updateTimeout&&clearTimeout(this.updateTimeout),this.updateTimeout=setTimeout(()=>{this.updateTimeout=void 0,this.setState({oldValue:null})},30)):this.updateTimeout&&(clearTimeout(this.updateTimeout),this.updateTimeout=void 0);const v=this.props.schema.min===void 0?20:this.props.schema.min,x=this.props.schema.max||65535;let O;if(this.state.ports){const B=parseInt(this.state._value,10);if(B){const z=this.state.ports.filter(te=>!this.props.data.bind||this.props.data.bind===te.bind||this.props.data.bind==="0.0.0.0"||te.bind==="0.0.0.0");let Y=z.findIndex(te=>te.port===B&&te.enabled);Y!==-1?l=t.I18n.t("ra_Port is already used by %s",this.state.ports[Y].name):(Y=z.findIndex(te=>te.port===B&&!te.enabled),Y!==-1&&(O=!0,l=t.I18n.t("ra_Port could be used by %s",this.state.ports[Y].name)))}}return!l&&this.state._value!==null&&this.state._value!==void 0&&(l=this.checkValue(this.state._value),typeof l=="string"&&(l=t.I18n.t(l))),h().createElement(e.TextField,{variant:"standard",type:"number",fullWidth:!0,inputProps:{min:v,max:x,readOnly:this.props.schema.readOnly||!1},value:this.state._value===null||this.state._value===void 0?"":this.state._value,error:!!l,disabled:!!u,className:O?this.props.classes.warning:"",onChange:B=>{const z=Number(B.target.value.toString().replace(/[^0-9]/g,"")).toString(),Y=this.checkValue(z);Y?this.onError(this.props.attr,t.I18n.t(Y)):this.onError(this.props.attr),this.setState({_value:z,oldValue:this.state._value},()=>{z.trim()===parseInt(z,10).toString()&&this.onChange(this.props.attr,parseInt(z,10)||0)})},placeholder:this.getText(this.props.schema.placeholder),label:this.getText(this.props.schema.label),helperText:l&&typeof l=="string"?l:this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)})}}const Kd=(0,F.withStyles)(Jd)(Xs),Yd=()=>({fullWidth:{width:"100%"}});class uo extends f{componentDidMount(){super.componentDidMount();const a=f.getValue(this.props.data,this.props.attr);this.props.socket.getEnums("rooms").then(l=>{const u=Object.keys(l).map(v=>({value:this.props.schema.short?v.replace("enum.rooms.",""):v,label:this.getText(l[v].common.name),obj:l[v]}));this.props.schema.allowDeactivate!==!1&&u.unshift({label:t.I18n.t(f.NONE_LABEL),value:f.NONE_VALUE}),this.setState({value:a,selectOptions:u})})}renderItem(a,l){if(!this.state.selectOptions)return null;const u=this.state.selectOptions.find(v=>v.value===this.state.value);return h().createElement(e.FormControl,{variant:"standard",className:this.props.classes.fullWidth},this.props.schema.label?h().createElement(e.InputLabel,null,this.getText(this.props.schema.label)):null,h().createElement(e.Select,{variant:"standard",error:!!a,disabled:!!l,value:this.state.value||"_",renderValue:()=>u?u.obj?h().createElement(t.TextWithIcon,{value:u.obj,themeType:this.props.themeType,lang:t.I18n.getLanguage()}):u.label:"",onChange:v=>{this.setState({value:v.target.value==="_"?"":v.target.value},()=>this.onChange(this.props.attr,this.state.value))}},this.state.selectOptions.map(v=>h().createElement(e.MenuItem,{key:v.value,value:v.value,style:v.value===f.DIFFERENT_VALUE?{opacity:.5}:{}},v.obj?h().createElement(t.TextWithIcon,{value:v.obj,themeType:this.props.themeType,lang:t.I18n.getLanguage()}):v.label))),this.props.schema.help?h().createElement(e.FormHelperText,null,this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)):null)}}uo.propTypes={socket:I().object.isRequired,themeType:I().string,themeName:I().string,style:I().object,className:I().string,data:I().object.isRequired,schema:I().object,onError:I().func,onChange:I().func};const Xd=(0,F.withStyles)(Yd)(uo),Zd=()=>({fullWidth:{width:"100%"},noMargin:{"&>div":{marginTop:0}}});class ho extends f{componentDidMount(){super.componentDidMount();const a=f.getValue(this.props.data,this.props.attr),l=[];(this.props.schema.options||[]).forEach(u=>{if(Array.isArray(u.items)){l.push({label:u.label,value:u.value,group:!0}),u.items=u.items.forEach(v=>l.push(v));return}l.push(u)}),Array.isArray(a)?(this.initialValue=[...a],l.unshift({label:t.I18n.t(f.DIFFERENT_LABEL),value:f.DIFFERENT_VALUE}),this.setState({value:f.DIFFERENT_VALUE,selectOptions:l})):this.setState({value:a,selectOptions:l})}renderItem(a,l){if(!this.state.selectOptions)return null;const u=(this.state.selectOptions||[]).filter(x=>x.hidden?this.props.custom?!this.executeCustom(x.hidden,this.props.data,this.props.customObj,this.props.instanceObj,this.props.arrayIndex,this.props.globalData):!this.execute(x.hidden,this.props.schema.default,this.props.data,this.props.arrayIndex,this.props.globalData):!0),v=u.find(x=>x.value==this.state.value);return h().createElement(e.FormControl,{variant:"standard",className:t.Utils.clsx(this.props.classes.fullWidth,this.props.table!==void 0&&this.props.classes.noMargin),id:`jsonSelect_${this.props.schema.attr}_${this.props.index||this.props.index===0?this.props.index:""}`},this.props.schema.label?h().createElement(e.InputLabel,null,this.getText(this.props.schema.label)):null,h().createElement(e.Select,{variant:"standard",error:!!a,disabled:!!l,value:this.state.value||"_",renderValue:()=>this.getText(v==null?void 0:v.label,this.props.schema.noTranslation),onChange:x=>{this.setState({value:x.target.value==="_"?"":x.target.value},()=>{this.state.value===f.DIFFERENT_VALUE?this.onChange(this.props.attr,this.initialValue):this.onChange(this.props.attr,this.state.value)})}},u.map((x,O)=>x.group?h().createElement(e.ListSubheader,{key:O},this.getText(x.label,this.props.schema.noTranslation)):h().createElement(e.MenuItem,{key:O,value:x.value,style:x.value===f.DIFFERENT_VALUE?{opacity:.5}:{}},this.getText(x.label,this.props.schema.noTranslation)))),this.props.schema.help?h().createElement(e.FormHelperText,null,this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)):null)}}ho.propTypes={socket:I().object.isRequired,themeType:I().string,themeName:I().string,style:I().object,className:I().string,data:I().object.isRequired,schema:I().object,onError:I().func,onChange:I().func};const Qd=(0,F.withStyles)(Zd)(ho),qd={fullWidth:{width:"100%"},menuPaper:{maxHeight:800}};class eh extends f{componentDidMount(){super.componentDidMount(),this.askInstance()}askInstance(){if(this.props.alive){let a=this.props.schema.data;if(a===void 0&&this.props.schema.jsonData){const l=this.getPattern(this.props.schema.jsonData);try{a=JSON.parse(l)}catch(u){console.error(`Cannot parse json data: ${l}`)}}a===void 0&&(a=null),this.props.socket.sendTo(`${this.props.adapterName}.${this.props.instance}`,this.props.schema.command||"send",a).then(l=>this.setState({list:l,context:this.getContext()}))}else{const a=f.getValue(this.props.data,this.props.attr);this.setState({value:a})}}getContext(){const a={};return Array.isArray(this.props.schema.alsoDependsOn)&&this.props.schema.alsoDependsOn.forEach(l=>a[l]=f.getValue(this.props.data,l)),JSON.stringify(a)}_getValue(){let a=this.state.value===null||this.state.value===void 0?f.getValue(this.props.data,this.props.attr):this.state.value;return this.props.schema.multiple&&(typeof a=="string"?a=[a]:a==null&&(a=[])),a}renderItem(a,l){this.props.alive&&this.getContext()!==this.state.context&&setTimeout(()=>this.askInstance(),300);const u=this._getValue();if(!this.props.alive)return this.props.schema.multiple||this.props.schema.manual===!1?t.I18n.t("ra_Cannot retrieve options, as instance is offline"):h().createElement(e.TextField,{variant:"standard",fullWidth:!0,value:u,error:!!a,disabled:!!l,onChange:O=>{const B=O.target.value;this.setState({value:B},()=>this.onChange(this.props.attr,(B||"").trim()))},placeholder:this.getText(this.props.schema.placeholder),label:this.getText(this.props.schema.label),helperText:this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation),InputProps:{endAdornment:this.state.value&&!this.props.schema.noClearButton?h().createElement(e.InputAdornment,{position:"end"},h().createElement(e.IconButton,{size:"small",onClick:()=>this.setState({value:""},()=>this.onChange(this.props.attr,""))},h().createElement(s.Close,null))):null}});if(!this.state.list)return h().createElement(e.CircularProgress,{size:"small"});const v=this.state.list.filter(O=>O.hidden?this.props.custom?!this.executeCustom(O.hidden,this.props.data,this.props.customObj,this.props.instanceObj,this.props.arrayIndex,this.props.globalData):!this.execute(O.hidden,this.props.schema.default,this.props.data,this.props.arrayIndex,this.props.globalData):!0),x=v.find(O=>O.value===u);return h().createElement(e.FormControl,{variant:"standard",className:this.props.classes.fullWidth},this.props.schema.label?h().createElement(e.InputLabel,null,this.getText(this.props.schema.label)):null,h().createElement(e.Select,{variant:"standard",error:!!a,multiple:this.props.schema.multiple,disabled:!!l,value:u,MenuProps:this.props.schema.multiple?{classes:{paper:this.props.classes.menuPaper}}:void 0,renderValue:O=>this.props.schema.multiple?h().createElement(e.Box,{sx:{display:"flex",flexWrap:"wrap",gap:.5}},O.map(B=>{const z=v.find(Y=>Y.value===B);if(z||this.props.schema.showAllValues!==!1){const Y=(z==null?void 0:z.label)||B;return h().createElement(e.Chip,{key:B,label:Y})}return null})):(x==null?void 0:x.label)||O,onChange:O=>{this.onChange(this.props.attr,O.target.value)}},v.map((O,B)=>h().createElement(e.MenuItem,{key:B,value:O.value},this.props.schema.multiple?h().createElement(e.Checkbox,{checked:u.includes(O.value),onClick:()=>{const z=JSON.parse(JSON.stringify(this._getValue())),Y=u.indexOf(O.value);Y!==-1?z.splice(Y,1):(z.push(O.value),z.sort()),this.setState({value:z},()=>this.onChange(this.props.attr,z))}}):null,h().createElement(e.ListItemText,{primary:O.label})))),this.props.schema.help?h().createElement(e.FormHelperText,null,this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)):null)}}const th=(0,F.withStyles)(qd)(eh),nh={fullWidth:{width:"100%"},icon:{width:24,height:24,marginRight:4}};function yi(y){return y.split(".").reduce((a,l)=>(a<<8)+parseInt(l,10),0)>>>0}function ih(y,a){var v,x;const l=(x=(v=y==null?void 0:y.native)==null?void 0:v.hardware)==null?void 0:x.networkInterfaces;if(!l)return null;let u;return Object.keys(l).forEach(O=>l[O].forEach(B=>{B.internal||a.includes(":")&&B.family!=="IPv6"||a.includes(".")&&!a.match(/[^.\d]/)&&B.family!=="IPv4"||(B.family==="IPv4"&&!B.address.startsWith("172")&&(a==="127.0.0.0"||a==="localhost"||a.match(/[^.\d]/))?u=B.address:u||(B.family==="IPv4"&&a.includes(".")&&(yi(a)&yi(B.netmask),yi(B.address)&yi(B.netmask)),u=B.address))})),u||Object.keys(l).forEach(O=>l[O].forEach(B=>{B.internal||a.includes(":")&&B.family!=="IPv6"||a.includes(".")&&!a.match(/[^.\d]/)&&B.family!=="IPv4"||(B.family==="IPv6"&&(a==="127.0.0.0"||a==="localhost"||a.match(/[^.\d]/))?u=B.address:u||(B.family==="IPv4"&&a.includes(".")&&(yi(a)&yi(B.netmask),yi(B.address)&yi(B.netmask)),u=B.address))})),u||Object.keys(l).forEach(O=>{l[O].forEach(B=>{B.internal||a.includes(":")&&B.family!=="IPv6"||a.includes(".")&&!a.match(/[^.\d]/)&&B.family!=="IPv4"||(a==="127.0.0.0"||a==="localhost"||a.match(/[^.\d]/),u=B.address)})}),u||Object.keys(l).forEach(O=>{l[O].forEach(B=>{B.internal||(u=B.address)})}),u}class Zs extends f{componentDidMount(){return Nt(this,null,function*(){var l;Wn(Zs.prototype,this,"componentDidMount").call(this);let a=window.location.hostname;if(this.props.schema.openUrl){const u=yield this.props.socket.getCurrentInstance(),v=yield this.props.socket.getObject(`system.adapter.${u}`);if(v){const x=yield this.props.socket.getObject(`system.host.${(l=v==null?void 0:v.common)==null?void 0:l.host}`);if(x){const O=ih(x,window.location.hostname);if(O)a=`${O}:${window.location.port}`;else{console.warn(`Cannot find suitable IP in host ${v.common.host} for ${v._id}`);return}}}}yield new Promise(u=>{this.setState({_error:"",_message:"",hostname:a},u)}),this.props.schema.onLoaded&&this._onClick()})}renderErrorDialog(){return this.state._error?h().createElement(t.Error,{text:this.state._error,onClose:()=>this.setState({_error:""})}):null}renderMessageDialog(){return this.state._message?h().createElement(t.Message,{text:this.state._message,onClose:()=>this.setState({_message:""})}):null}_onClick(){this.props.onCommandRunning(!0),this.setState({running:!0});const a=`${window.location.protocol}//${window.location.host}${window.location.pathname.replace(/\/index\.html$/,"")}`,l=`${window.location.protocol}//${this.state.hostname.split(":").length>3?`[${this.state.hostname}]`:this.state.hostname}${window.location.pathname.replace(/\/index\.html$/,"")}`;let u=this.props.schema.data;if(u===void 0&&this.props.schema.jsonData){const x=this.getPattern(this.props.schema.jsonData,Yt({_origin:a,_originIp:l},this.props.data));try{u=JSON.parse(x)}catch(O){console.error(`Cannot parse json data: ${x}`)}}u===void 0&&(u=null),this.props.schema.openUrl&&!u&&(u={_origin:a,_originIp:l});let v;this.props.schema.timeout&&(v=setTimeout(()=>{this.props.onCommandRunning(!1),this.setState({_error:t.I18n.t("ra_Request timed out"),running:!1})},parseInt(this.props.schema.timeout,10)||1e4)),this.props.socket.sendTo(`${this.props.adapterName}.${this.props.instance}`,this.props.schema.command||"send",u).then(x=>Nt(this,null,function*(){if(v&&(clearTimeout(v),v=void 0),x!=null&&x.error)if(this.props.schema.error&&this.props.schema.error[x.error]){let O=this.getText(this.props.schema.error[x.error]);x.args&&x.args.forEach(B=>O=O.replace("%s",B)),this.setState({_error:O})}else this.setState({_error:x.error?t.I18n.t(x.error):t.I18n.t("ra_Error")});else{if(x!=null&&x.reloadBrowser&&this.props.schema.reloadBrowser)window.location.reload();else if(x!=null&&x.openUrl&&this.props.schema.openUrl)window.open(x.openUrl,x.window||this.props.schema.window||"_blank");else if(x!=null&&x.result&&this.props.schema.result&&this.props.schema.result[x.result]){let O=this.getText(this.props.schema.result[x.result]);x.args&&x.args.forEach(B=>O=O.replace("%s",B)),window.alert(O)}if(x!=null&&x.native&&this.props.schema.useNative){for(const[O,B]of Object.entries(x.native))yield this.onChangeAsync(O,B);setTimeout(()=>this.props.forceUpdate(Object.keys(x.native),this.props.data),300)}else x!=null&&x.result?window.alert(typeof x.result=="object"?JSON.stringify(x.result):x.result):window.alert(t.I18n.t("ra_Ok"));x!=null&&x.saveConfig&&this.props.onChange(null,null,null,!0)}})).catch(x=>{this.props.schema.error&&this.props.schema.error[x.toString()]?this.setState({_error:this.getText(this.props.schema.error[x.toString()])}):this.setState({_error:t.I18n.t(x.toString())||t.I18n.t("ra_Error")})}).then(()=>{this.props.onCommandRunning(!1),this.setState({running:!1})})}renderConfirmDialog(){if(!this.state.confirmDialog)return null;const a=this.state.confirmData||this.props.schema.confirm;let l=null;return a.type==="warning"?l=h().createElement(s.Warning,null):a.type==="error"?l=h().createElement(s.Error,null):a.type==="info"&&(l=h().createElement(s.Info,null)),h().createElement(t.Confirm,{title:this.getText(a.title)||t.I18n.t("ra_Please confirm"),text:this.getText(a.text),ok:this.getText(a.ok)||t.I18n.t("ra_Ok"),cancel:this.getText(a.cancel)||t.I18n.t("ra_Cancel"),icon:l||void 0,onClose:u=>this.setState({confirmDialog:!1},()=>u&&this._onClick())})}renderItem(a,l){const u=this.getIcon();return h().createElement("div",{className:this.props.classes.fullWidth},h().createElement(e.Button,{variant:this.props.schema.variant||void 0,color:this.props.schema.color||"grey",className:this.props.classes.fullWidth,disabled:l||!this.props.alive,startIcon:u,title:this.props.alive?this.getText(this.props.schema.title)||"":t.I18n.t("ra_Instance is not alive"),onClick:()=>{this.props.schema.confirm?this.setState({confirmDialog:!0}):this._onClick()}},this.props.schema.showProcess&&this.state.running?h().createElement(e.CircularProgress,{size:20,style:{marginRight:8}}):null,this.getText(this.props.schema.label,this.props.schema.noTranslation)),this.renderErrorDialog(),this.renderMessageDialog())}}const po=(0,F.withStyles)(nh)(Zs),sh=()=>({fullWidth:{width:"100%"},icon:{width:24,height:24,marginRight:4}});class fo extends f{_onClick(){return Nt(this,null,function*(){var u,v;let a=this.props.schema.val;if(typeof a=="string"&&a.includes("${")){a=this.getPattern(a);const x=yield this.props.socket.getObject(this.props.schema.id);((u=x==null?void 0:x.common)==null?void 0:u.type)==="number"?a=parseFloat(a):((v=x==null?void 0:x.common)==null?void 0:v.type)==="boolean"&&(a=a==="true"||a===!0||a==="1"||a===1)}const l=(this.props.schema.id||"").replace(/%INSTANCE%/g,this.props.instance);try{yield this.props.socket.setState(l,{val:a,ack:!!this.props.schema.ack}),this.props.schema.okText&&window.alert(this.getText(this.props.schema.okText))}catch(x){this.props.schema.error&&this.props.schema.error[x.toString()]?window.alert(this.getText(this.props.schema.error[x.toString()])):window.alert(t.I18n.t(x.toString())||t.I18n.t("ra_Error"))}})}renderConfirmDialog(){if(!this.state.confirmDialog)return null;const a=this.state.confirmData||this.props.schema.confirm;let l=null;return a.type==="warning"?l=h().createElement(s.Warning,null):a.type==="error"?l=h().createElement(s.Error,null):a.type==="info"&&(l=h().createElement(s.Info,null)),h().createElement(t.Confirm,{title:this.getText(a.title)||t.I18n.t("ra_Please confirm"),text:this.getText(a.text),ok:this.getText(a.ok)||t.I18n.t("ra_Ok"),cancel:this.getText(a.cancel)||t.I18n.t("ra_Cancel"),icon:l,onClose:u=>this.setState({confirmDialog:!1},()=>u&&this._onClick())})}renderItem(a,l){return h().createElement(e.Button,{variant:this.props.schema.variant||void 0,color:this.props.schema.color||"grey",className:this.props.classes.fullWidth,disabled:l,onClick:()=>Nt(this,null,function*(){this.props.schema.confirm?this.setState({confirmDialog:!0}):yield this._onClick()})},this.props.schema.icon?h().createElement(t.Icon,{src:this.props.schema.icon,className:this.props.classes.icon}):null,this.getText(this.props.schema.label,this.props.schema.noTranslation))}}fo.propTypes={socket:I().object.isRequired,themeType:I().string,themeName:I().string,style:I().object,className:I().string,data:I().object.isRequired,schema:I().object,onError:I().func,onChange:I().func,adapterName:I().string,instance:I().number,commandRunning:I().bool,onCommandRunning:I().func};const rh=(0,F.withStyles)(sh)(fo),oh=()=>({fullWidth:{width:"100%"},slider:{marginLeft:10,marginRight:10,width:"calc(100% - 20px)"}});class mo extends f{componentDidMount(){super.componentDidMount();const a=f.getValue(this.props.data,this.props.attr);this.setState({_value:a})}static getDerivedStateFromProps(a,l){if(a.schema.min!==void 0&&a.schema.min<0||a.schema.max!==void 0&&a.schema.max<0)return null;const u=f.getValue(a.data,a.attr);return u==null||u.toString()!==parseFloat(l._value).toString()?{_value:u}:null}renderItem(a,l){const u=this.props.schema.min||0,v=this.props.schema.max||100,x=this.props.schema.unit||"",O=[{value:u,label:u+x},{value:v,label:v+x}];return h().createElement(e.Box,{className:this.props.classes.fullWidth},this.props.schema.label?h().createElement(e.Typography,{gutterBottom:!0},this.getText(this.props.schema.label)):null,h().createElement(e.Slider,{className:this.props.classes.slider,value:this.state._value,getAriaValueText:B=>B+x,step:this.props.schema.step||(v-u)/100,valueLabelDisplay:"auto",marks:O,min:u,max:v,disabled:!!l,error:a||"",onChange:B=>{const z=B.target.value;this.setState({_value:z},()=>this.onChange(this.props.attr,z))}}),this.props.schema.help?h().createElement(e.Typography,null,this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)):null)}}mo.propTypes={socket:I().object.isRequired,themeType:I().string,themeName:I().string,style:I().object,className:I().string,data:I().object.isRequired,schema:I().object,onError:I().func,onChange:I().func};const ah=(0,F.withStyles)(oh)(mo),lh=y=>({fullWidth:{width:"100%",backgroundColor:y.palette.mode==="dark"?"#FFF":"#000",borderStyle:"hidden"},primary:{backgroundColor:y.palette.primary.main},secondary:{backgroundColor:y.palette.secondary.main}});class go extends f{renderItem(){return h().createElement("hr",{className:t.Utils.clsx(this.props.classes.fullWidth,this.props.schema.color==="primary"&&this.props.classes.primary,this.props.schema.color==="secondary"&&this.props.classes.secondary),style:{height:this.props.schema.color?this.props.schema.height||2:this.props.schema.height||1,backgroundColor:this.props.schema.color!=="primary"&&this.props.schema.color!=="secondary"&&this.props.schema.color?this.props.schema.color:void 0}})}}go.propTypes={socket:I().object.isRequired,themeType:I().string,themeName:I().string,style:I().object,className:I().string,data:I().object.isRequired,schema:I().object,onError:I().func,onChange:I().func};const ch=(0,F.withStyles)(lh)(go),uh=y=>({header:{width:"100%",background:y.palette.primary.main,color:y.palette.primary.contrastText,padding:"4px !important",borderRadius:3,marginBlockEnd:0,marginBlockStart:0}});class vo extends f{renderItem(){switch((this.props.schema.size||5).toString()){case"1":return h().createElement("h1",{className:this.props.classes.header},this.getText(this.props.schema.text,this.props.schema.noTranslation));case"2":return h().createElement("h2",{className:this.props.classes.header},this.getText(this.props.schema.text,this.props.schema.noTranslation));case"3":return h().createElement("h3",{className:this.props.classes.header},this.getText(this.props.schema.text,this.props.schema.noTranslation));case"4":return h().createElement("h4",{className:this.props.classes.header},this.getText(this.props.schema.text,this.props.schema.noTranslation));case"5":default:return h().createElement("h5",{className:this.props.classes.header},this.getText(this.props.schema.text,this.props.schema.noTranslation))}}}vo.propTypes={socket:I().object.isRequired,themeType:I().string,themeName:I().string,style:I().object,className:I().string,data:I().object.isRequired,schema:I().object,onError:I().func,onChange:I().func};const dh=(0,F.withStyles)(uh)(vo),hh=()=>({fullWidth:{height:"100%",width:"100%"}});class yo extends f{renderItem(){let a=this.props.schema.src;return a&&!a.startsWith(".")&&!a.startsWith("http")&&!a.startsWith(`adapter/${this.props.adapterName}/`)&&!a.startsWith(`./adapter/${this.props.adapterName}/`)&&(a=`adapter/${this.props.adapterName}/${a}`),h().createElement("img",{className:this.props.classes.fullWidth,src:a,style:this.props.schema.href?{cursor:"pointer"}:{},onClick:this.props.schema.href?()=>this.props.schema.href&&window.open(this.props.schema.href,"_blank"):null,alt:""})}}yo.propTypes={socket:I().object.isRequired,themeType:I().string,themeName:I().string,style:I().object,className:I().string,data:I().object.isRequired,schema:I().object,onError:I().func,onChange:I().func};const ph=(0,F.withStyles)(hh)(yo),fh=y=>({fullWidth:{height:"100%",width:"100%"},link:{textDecoration:"underline",color:y.palette.mode==="dark"?"#4dabf5":"#254e72",cursor:"pointer"}});class bo extends f{renderItem(a,l){if(this.props.schema.button){const v=this.getIcon();return h().createElement(e.Button,{variant:this.props.schema.variant||void 0,color:this.props.schema.color||"grey",className:this.props.classes.fullWidth,disabled:l,startIcon:v,onClick:this.props.schema.href?()=>{const x=this.props.schema.href?this.getText(this.props.schema.href,!0):null;x&&window.open(x,"_blank")}:null},this.getText(this.props.schema.text||this.props.schema.label,this.props.schema.noTranslation))}let u=this.getText(this.props.schema.text||this.props.schema.label,this.props.schema.noTranslation);return u&&(u.includes("<a ")||u.includes("<br")||u.includes("<b>")||u.includes("<i>"))&&(u=t.Utils.renderTextWithA(u)),h().createElement("span",{className:this.props.schema.href?this.props.classes.link:"",onClick:this.props.schema.href?()=>{const v=this.props.schema.href?this.getText(this.props.schema.href,!0):null;v&&window.open(v,"_blank")}:null},u)}}bo.propTypes={socket:I().object.isRequired,themeType:I().string,themeName:I().string,style:I().object,className:I().string,data:I().object.isRequired,schema:I().object,onError:I().func,onChange:I().func};const wo=(0,F.withStyles)(fh)(bo),Qs=1024*1024,mh=y=>({fullWidth:{width:"100%"},root:{width:"100%"},paper:{width:"100%",marginBottom:y.spacing(2),backgroundColor:"rgba(255, 255, 255, 0.1)"},headerText:{width:"100%"},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1},label:{display:"flex",justifyContent:"space-between"},highlight:y.palette.mode==="light"?{color:y.palette.secondary.main}:{color:y.palette.text.primary,backgroundColor:y.palette.secondary.dark},title:{flex:"1 1 100%"},rootTool:{paddingLeft:y.spacing(2),paddingRight:y.spacing(1)},silver:{opacity:.2},flex:{display:"flex",alignItems:"baseline"},filteredOut:{padding:10,display:"flex",textAlign:"center"},buttonEmpty:{width:34,display:"inline-block"},buttonCell:{whiteSpace:"nowrap"},dropZone:{width:"100%",height:100,position:"relative"},dropZoneEmpty:{},uploadDiv:{position:"relative",width:"100%",height:300,opacity:.9,marginTop:30,cursor:"pointer",outline:"none"},uploadDivDragging:{opacity:1,background:"rgba(128,255,128,0.1)"},image:{objectFit:"contain",margin:"auto",display:"flex",width:"100%",height:"100%"},uploadCenterDiv:{margin:5,border:"3px dashed grey",borderRadius:5,width:"calc(100% - 10px)",height:"calc(100% - 10px)",minHeight:300,position:"relative",display:"flex"},uploadCenterIcon:{paddingTop:10,width:48,height:48},uploadCenterText:{fontSize:16},uploadCenterTextAndIcon:{textAlign:"center",position:"absolute",top:0,bottom:0,left:0,right:0,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},buttonRemoveWrapper:{position:"absolute",zIndex:222,right:0},error:{border:"2px solid red",boxSizing:"border-box"}});function gh(y,a,l){a=a||"key";const u=[];return Object.keys(y).forEach(v=>{const x={};x[a]=v,l?(x[l]=y[v],u.push(x)):u.push(Object.assign(x,y[v]))}),u}function Co(y,a,l){a=a||"key";const u={};return y.forEach(v=>{let x=v[a];x==null&&(x=""),delete v[a],l?u[x]=v[l]:u[x]=v}),u}function vh(y,a){let l="";for(let u=0;u<a.length;u++)l+=String.fromCharCode(y[u%y.length].charCodeAt(0)^a.charCodeAt(u));return l}function yh(y,a){let l="";for(let u=0;u<a.length;u++)l+=String.fromCharCode(y[u%y.length].charCodeAt(0)^a.charCodeAt(u));return l}class Kn extends f{constructor(l){super(l);$t(this,"filterRefs");$t(this,"typingTimer",null);$t(this,"secret","Zgfr56gFe87jJOM");$t(this,"handleRequestSort",(l,u=!1)=>{const{order:v,orderBy:x}=this.state;if(x){const B=u?v:x===l&&v==="asc"?"desc":"asc",z=this.stableSort(B,l);this.setState({order:B,orderBy:l,iteration:this.state.iteration+1e4},()=>this.applyFilter(!1,z))}});$t(this,"stableSort",(l,u)=>{const{value:v}=this.state,x=Kn.getComparator(l,u),O=v.map((B,z)=>({el:B,index:z}));return O.sort((B,z)=>{const Y=x(B.el,z.el);return Y!==0?Y:B.index-z.index}),O.map(B=>B.el)});$t(this,"onDelete",l=>()=>{const u=JSON.parse(JSON.stringify(this.state.value));u.splice(l,1),this.setState({value:u,iteration:this.state.iteration+1e4},()=>this.applyFilter(!1,null,()=>this.onChangeWrapper(u)))});$t(this,"onClone",l=>()=>{const u=JSON.parse(JSON.stringify(this.state.value)),v=JSON.parse(JSON.stringify(u[l]));if(typeof this.props.schema.clone=="string"&&typeof v[this.props.schema.clone]=="string"){let x=1,O=v[this.props.schema.clone];const B=O.match(/(\d+)$/);for(B?(O=O.replace(B[0],""),x=parseInt(B[0],10)+1):O+="_";u.find(z=>z[this.props.schema.clone]===O+x.toString());)x++;v[this.props.schema.clone]=`${v[this.props.schema.clone]}_${x}`}u.splice(l,0,v),this.setState({value:u,iteration:this.state.iteration+1e4},()=>this.applyFilter(!1,null,()=>this.onChangeWrapper(u)))});$t(this,"onChangeWrapper",(l,u)=>{this.typingTimer&&clearTimeout(this.typingTimer),this.typingTimer=setTimeout((v,x)=>{if(this.typingTimer=null,this.props.schema.encryptedAttributes){const O=JSON.parse(JSON.stringify(v));if(O.forEach(B=>{this.props.schema.encryptedAttributes.forEach(z=>{B[z]&&(B[z]=vh(this.secret,B[z]))})}),this.props.schema.objKeyName){const B=Co(O,this.props.schema.objKeyName,this.props.schema.objValueName);this.onChange(this.props.attr,B)}else this.onChange(this.props.attr,O)}else if(this.props.schema.objKeyName){const O=Co(JSON.parse(JSON.stringify(v)),this.props.schema.objKeyName,this.props.schema.objValueName);this.onChange(this.props.attr,O)}else this.onChange(this.props.attr,v);x&&(this.applyFilter(!1,v),this.handleRequestSort(this.state.orderBy,!0))},300,l,u)});$t(this,"onAdd",()=>{var x;const{schema:l}=this.props,u=JSON.parse(JSON.stringify(this.state.value)),v=(x=l.items)==null?void 0:x.reduce((O,B)=>{let z;return B.defaultFunc?this.props.custom?z=B.defaultFunc?this.executeCustom(B.defaultFunc,this.props.data,this.props.customObj,this.props.instanceObj,u.length,this.props.data):this.props.schema.default:z=B.defaultFunc?this.execute(B.defaultFunc,this.props.schema.default,this.props.data,u.length,this.props.data):this.props.schema.default:z=B.default===void 0?null:B.default,O[B.attr]=z,O},{});u.push(v),this.setState({value:u},()=>this.applyFilter(!1,null,()=>this.onChangeWrapper(u)))});$t(this,"applyFilter",(l,u,v)=>{u=u||this.state.value;let x=u.map((O,B)=>B);if(Object.keys(this.filterRefs).forEach(O=>{let B=Kn.getFilterValue(this.filterRefs[O]);!l&&B?(B=B.toLowerCase(),x=x.filter(z=>u[z]&&u[z][O]&&u[z][O].toLowerCase().includes(B))):this.filterRefs[O].current&&Kn.setFilterValue(this.filterRefs[O],"")}),x.length===u.length&&(x=null),x===null&&this.state.visibleValue===null){v&&v();return}JSON.stringify(x)!==JSON.stringify(this.state.visibleValue)?this.setState({visibleValue:x},()=>v&&v()):v&&v()});this.filterRefs={},this.props.schema.items=this.props.schema.items||[],this.props.schema.items.forEach(u=>{u.filter&&(this.filterRefs[u.attr]=(0,M.createRef)())})}componentDidMount(){return Nt(this,null,function*(){Wn(Kn.prototype,this,"componentDidMount").call(this);const l=f.getValue(this.props.data,this.props.attr)||[];let u;if(this.props.schema.objKeyName?u=gh(l,this.props.schema.objKeyName,this.props.schema.objValueName):u=l,Array.isArray(l)||(u=[]),this.props.schema.encryptedAttributes){const v=yield this.props.socket.getCompactSystemConfig();this.secret=(v==null?void 0:v.native.secret)||this.secret,l.forEach(x=>{this.props.schema.encryptedAttributes.forEach(O=>{x[O]&&(x[O]=yh(this.secret,x[O]))})})}this.setState({value:u,visibleValue:null,orderBy:"",order:"asc",iteration:0,filterOn:[]},()=>this.validateUniqueProps())})}componentWillUnmount(){this.typingTimer&&clearTimeout(this.typingTimer),this.typingTimer=null,super.componentWillUnmount()}itemTable(l,u,v){const{value:x}=this.state,{schema:O}=this.props,B=O.items&&O.items.find(Y=>Y.attr===l);if(!B)return null;const z={items:{[l]:B}};return h().createElement(es,{index:v+this.state.iteration,arrayIndex:v,changed:this.props.changed,globalData:this.props.data,socket:this.props.socket,adapterName:this.props.adapterName,instance:this.props.instance,common:this.props.common,alive:this.props.alive,themeType:this.props.themeType,themeName:this.props.themeName,data:u,table:!0,custom:!0,schema:z,systemConfig:this.props.systemConfig,dateFormat:this.props.dateFormat,isFloatComma:this.props.isFloatComma,imagePrefix:this.props.imagePrefix,onCommandRunning:this.props.onCommandRunning,forceUpdate:this.props.forceUpdate,originalData:this.props.originalData,customs:this.props.customs,onChange:(Y,te)=>{const re=JSON.parse(JSON.stringify(x));re[v][Y]=te,this.setState({value:re},()=>{this.validateUniqueProps(),this.onChangeWrapper(re,!0)})},onError:(Y,te)=>this.onError(Y,te)})}validateUniqueProps(){if(this.props.schema.uniqueColumns)for(const l of this.props.schema.uniqueColumns){const u=[];this.state.value.find(x=>{const O=x[l];return u.includes(O)?(this.onError(l,"is not unique"),this.setState({errorMessage:t.I18n.t('Non-allowed duplicate entry "%s" in column "%s"',O,l)}),!0):(u.push(O),!1)})||(this.onError(l,null),this.setState({errorMessage:""}))}}static descendingComparator(l,u,v){return u[v]<l[v]?-1:u[v]>l[v]?1:0}static getComparator(l,u){return l==="desc"?(v,x)=>Kn.descendingComparator(v,x,u):(v,x)=>-Kn.descendingComparator(v,x,u)}static getFilterValue(l){var u,v,x;return(x=(v=(u=l==null?void 0:l.current)==null?void 0:u.children[0])==null?void 0:v.children[0])==null?void 0:x.value}static setFilterValue(l,u){return l.current.children[0].children[0].value=u}enhancedTableHead(l,u){const{schema:v,classes:x}=this.props,{order:O,orderBy:B}=this.state;return h().createElement(e.TableHead,null,h().createElement(e.TableRow,null,v.items&&v.items.map((z,Y)=>h().createElement(e.TableCell,{style:{width:(typeof z.width=="string"&&z.width.endsWith("%"),z.width)},key:`${z.attr}_${Y}`,align:"left",sortDirection:B===z.attr?O:!1},h().createElement("div",{className:x.flex,style:v.showFirstAddOnTop?{flexDirection:"column"}:void 0},!Y&&!v.noDelete?h().createElement(e.Tooltip,{title:u?t.I18n.t("ra_Cannot add items with set filter"):t.I18n.t("ra_Add row")},h().createElement("span",null,h().createElement(e.IconButton,{size:"small",color:"primary",disabled:!!u&&!this.props.schema.allowAddByFilter,onClick:this.onAdd},h().createElement(s.Add,null)))):null,z.sort&&h().createElement(e.TableSortLabel,{active:!0,className:t.Utils.clsx(B!==z.attr&&x.silver),direction:B===z.attr?O:"asc",onClick:()=>this.handleRequestSort(z.attr)}),z.filter&&this.state.filterOn.includes(z.attr)?h().createElement(e.TextField,{variant:"standard",ref:this.filterRefs[z.attr],onChange:()=>this.applyFilter(),title:t.I18n.t("ra_You can filter entries by entering here some text"),InputProps:{endAdornment:Kn.getFilterValue(this.filterRefs[z.attr])&&h().createElement(e.InputAdornment,{position:"end"},h().createElement(e.IconButton,{size:"small",onClick:()=>{Kn.setFilterValue(this.filterRefs[z.attr],""),this.applyFilter()}},h().createElement(s.Close,null)))},fullWidth:!0,placeholder:this.getText(z.title)}):h().createElement("span",{className:this.props.classes.headerText},this.getText(z.title)),z.filter?h().createElement(e.IconButton,{title:t.I18n.t("ra_Show/hide filter input"),size:"small",onClick:()=>{const te=[...this.state.filterOn],re=this.state.filterOn.indexOf(z.attr);re===-1?te.push(z.attr):te.splice(re,1),this.setState({filterOn:te},()=>{re&&Kn.getFilterValue(this.filterRefs[z.attr])&&(Kn.setFilterValue(this.filterRefs[z.attr],""),this.applyFilter())})}},this.state.filterOn.includes(z.attr)?h().createElement(s.FilterAltOff,null):h().createElement(s.FilterAlt,null)):null))),!v.noDelete&&h().createElement(e.TableCell,{style:{paddingLeft:20,paddingRight:20,width:l,textAlign:"right"},padding:"checkbox"},v.import?h().createElement(e.IconButton,{style:{marginRight:10},size:"small",onClick:()=>this.setState({showImportDialog:!0}),title:t.I18n.t("ra_import data from %s file","CSV")},h().createElement(s.UploadFile,null)):null,v.export?h().createElement(e.IconButton,{style:{marginRight:10},size:"small",onClick:()=>this.onExport(),title:t.I18n.t("ra_Export data to %s file","CSV")},h().createElement(s.Download,null)):null,h().createElement(e.IconButton,{disabled:!0,size:"small"},h().createElement(s.Delete,null)))))}onExport(){const{schema:l}=this.props,{value:u}=this.state,x=[l.items.map(z=>z.attr).join(";")];u.forEach(z=>{const Y=[];l.items.forEach(te=>{z[te.attr].includes(";")?Y.push(`"${z[te.attr]}"`):Y.push(z[te.attr])}),x.push(Y.join(";"))});const O=document.createElement("a");O.setAttribute("href",`data:text/csv;charset=utf-8,${encodeURIComponent(x.join(`
`))}`);const B=new Date;O.setAttribute("download",`${B.getFullYear()}_${(B.getMonth()+1).toString().padStart(2,"0")}_${B.getDate().toString().padStart(2,"0")}_${this.props.adapterName}.${this.props.instance}_${this.props.attr}.csv`),O.style.display="none",document.body.appendChild(O),O.click(),document.body.removeChild(O)}onImport(l){var B;const u=l.split(`
`).map(z=>z.replace("\r","").trim()),{schema:v}=this.props,x=u.shift().split(";").filter(z=>z&&v.items.find(Y=>Y.attr===z)),O=[];u.forEach(z=>{const Y=z.split(";"),te={};for(let re=0;re<Y.length;re++){let oe=Y[re];if(oe.startsWith('"')){for(oe=oe.substring(1);re<Y.length&&!oe.endsWith('"');)oe+=`;${Y[++re]}`;oe=oe.substring(0,oe.length-1)}let he=oe;if(oe==="true")he=!0;else if(oe==="false")he=!1;else if(window.isFinite(oe)){const ce=this.props.schema.items.find(de=>de.attr===x[re]);ce&&ce.type==="number"?he=parseFloat(oe):he=oe}else he=oe;te[x[re]]=he}O.push(te)}),O.length?(B=this.state.value)!=null&&B.length?this.setState({showTypeOfImportDialog:O,showImportDialog:!1}):this.setState({value:O,showImportDialog:!1}):window.alert("ra_No data found in file")}isAnyFilterSet(){return!!Object.keys(this.filterRefs).find(l=>Kn.getFilterValue(this.filterRefs[l]))}onMoveUp(l){const u=JSON.parse(JSON.stringify(this.state.value)),v=u[l];u.splice(l,1),u.splice(l-1,0,v),this.setState({value:u,iteration:this.state.iteration+1e4},()=>this.applyFilter(!1,null,()=>this.onChangeWrapper(u)))}onMoveDown(l){const u=JSON.parse(JSON.stringify(this.state.value)),v=u[l];u.splice(l,1),u.splice(l+1,0,v),this.setState({value:u,iteration:this.state.iteration+1e4},()=>this.applyFilter(!1,null,()=>this.onChangeWrapper(u)))}onDrop(l){const u=l[0],v=new FileReader;v.onabort=()=>console.log("file reading was aborted"),v.onerror=()=>console.log("file reading has failed"),v.onload=()=>{if(u.size>Qs){window.alert(t.I18n.t("ra_File is too big. Max %sk allowed. Try use SVG.",Math.round(Qs/1024)));return}const x=new Uint8Array(v.result).reduce((O,B)=>O+String.fromCharCode(B),"");this.onImport(x)},v.readAsArrayBuffer(u)}showTypeOfImportDialog(){return this.state.showTypeOfImportDialog?h().createElement(e.Dialog,{open:!0,onClose:()=>this.setState({showTypeOfImportDialog:!1}),maxWidth:"md"},h().createElement(e.DialogTitle,null,t.I18n.t("ra_Append or replace?")),h().createElement(e.DialogContent,null,t.I18n.t("ra_Append %s entries or replace existing?",this.state.showTypeOfImportDialog.length)),h().createElement(e.DialogActions,null,h().createElement(e.Button,{variant:"contained",color:"primary",autoFocus:!0,onClick:()=>{const l=JSON.parse(JSON.stringify(this.state.value));this.state.showTypeOfImportDialog.forEach(u=>l.push(u)),this.setState({value:l,iteration:this.state.iteration+1e4,showTypeOfImportDialog:!1},()=>this.applyFilter(!1,null,()=>this.onChangeWrapper(l)))}},t.I18n.t("ra_Append")),h().createElement(e.Button,{variant:"contained",color:"secondary",autoFocus:!0,onClick:()=>{const l=this.state.showTypeOfImportDialog;this.setState({value:l,iteration:this.state.iteration+1e4,showTypeOfImportDialog:!1},()=>this.applyFilter(!1,null,()=>this.onChangeWrapper(l)))}},t.I18n.t("ra_Replace")))):null}showImportDialog(){return this.state.showImportDialog?h().createElement(e.Dialog,{open:!0,onClose:()=>this.setState({showImportDialog:!1}),maxWidth:"md",fullWidth:!0},h().createElement(e.DialogTitle,null,t.I18n.t("ra_Import from %s","CSV")),h().createElement(e.DialogContent,null,h().createElement(eo.default,{multiple:!1,accept:{"text/csv":[".csv"]},maxSize:Qs,onDragEnter:()=>this.setState({uploadFile:"dragging"}),onDragLeave:()=>this.setState({uploadFile:!0}),onDrop:(l,u)=>{this.setState({uploadFile:!1}),l.length?this.onDrop(l):window.alert(u&&u[0]&&u[0].errors&&u[0].errors[0]&&u[0].errors[0].message||t.I18n.t("ra_Cannot upload"))}},({getRootProps:l,getInputProps:u})=>h().createElement("div",Yt({className:t.Utils.clsx(this.props.classes.uploadDiv,this.state.uploadFile==="dragging"&&this.props.classes.uploadDivDragging,this.props.classes.dropZone,!this.state.icon&&this.props.classes.dropZoneEmpty)},l()),h().createElement("input",Yt({},u())),h().createElement("div",{className:t.Utils.clsx(this.props.classes.uploadCenterDiv)},h().createElement("div",{className:this.props.classes.uploadCenterTextAndIcon},h().createElement(s.UploadFile,{className:this.props.classes.uploadCenterIcon}),h().createElement("div",{className:this.props.classes.uploadCenterText},this.state.uploadFile==="dragging"?t.I18n.t("ra_Drop file here"):t.I18n.t("ra_Place your files here or click here to open the browse dialog"))))))),h().createElement(e.DialogActions,null,h().createElement(e.Button,{variant:"contained",onClick:()=>this.setState({showImportDialog:!1}),color:"primary",startIcon:h().createElement(s.Close,null)},t.I18n.t("Cancel")))):null}renderItem(){const{classes:l,schema:u}=this.props;let{visibleValue:v}=this.state;if(!this.state.value)return null;v=v||this.state.value.map((O,B)=>B);const x=this.isAnyFilterSet();return h().createElement(e.Paper,{className:l.paper},this.showImportDialog(),this.showTypeOfImportDialog(),u.label?h().createElement("div",{className:l.label},h().createElement(e.Toolbar,{variant:"dense",className:l.rootTool},h().createElement(e.Typography,{className:l.title,variant:"h6",id:"tableTitle",component:"div"},this.getText(u.label)))):null,h().createElement(e.TableContainer,null,h().createElement(e.Table,{className:l.table,size:"small"},this.enhancedTableHead(!x&&!this.state.orderBy?120:64,x),h().createElement(e.TableBody,null,v.map((O,B)=>h().createElement(e.TableRow,{hover:!0,key:`${O}_${B}`},u.items&&u.items.map(z=>h().createElement(e.TableCell,{key:`${z.attr}_${O}`,align:"left"},this.itemTable(z.attr,this.state.value[O],O))),!u.noDelete&&h().createElement(e.TableCell,{align:"left",className:l.buttonCell},!x&&!this.state.orderBy?B?h().createElement(e.Tooltip,{title:t.I18n.t("ra_Move up")},h().createElement(e.IconButton,{size:"small",onClick:()=>this.onMoveUp(O)},h().createElement(s.ArrowUpward,null))):h().createElement("div",{className:l.buttonEmpty}):null,!x&&!this.state.orderBy?B<v.length-1?h().createElement(e.Tooltip,{title:t.I18n.t("ra_Move down")},h().createElement(e.IconButton,{size:"small",onClick:()=>this.onMoveDown(O)},h().createElement(s.ArrowDownward,null))):h().createElement("div",{className:l.buttonEmpty}):null,h().createElement(e.Tooltip,{title:t.I18n.t("ra_Delete current row")},h().createElement(e.IconButton,{size:"small",onClick:this.onDelete(O)},h().createElement(s.Delete,null))),this.props.schema.clone?h().createElement(e.Tooltip,{title:t.I18n.t("ra_Clone current row")},h().createElement(e.IconButton,{size:"small",onClick:this.onClone(O)},h().createElement(s.ContentCopy,null))):null))),!u.noDelete&&v.length>=(u.showSecondAddAt||5)?h().createElement(e.TableRow,null,h().createElement(e.TableCell,{colSpan:u.items.length+1},h().createElement(e.Tooltip,{title:x?t.I18n.t("ra_Cannot add items with set filter"):t.I18n.t("ra_Add row")},h().createElement("span",null,h().createElement(e.IconButton,{size:"small",color:"primary",disabled:!!x&&!this.props.schema.allowAddByFilter,onClick:this.onAdd},h().createElement(s.Add,null)))))):null)),!v.length&&this.state.value.length?h().createElement("div",{className:l.filteredOut},h().createElement(e.Typography,{className:l.title,variant:"h6",id:"tableTitle",component:"div"},t.I18n.t("ra_All items are filtered out"),h().createElement(e.IconButton,{size:"small",onClick:()=>this.applyFilter(!0)},h().createElement(s.Close,null)))):null),u.help?h().createElement(e.FormHelperText,null,this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)):null,this.state.errorMessage?h().createElement("div",{style:{display:"flex",padding:"5px"}},h().createElement(s.Warning,{color:"error"}),h().createElement("span",{style:{color:"red",alignSelf:"center"}},this.state.errorMessage)):null)}}const bh=(0,F.withStyles)(mh)(Kn),wh={indeterminate:{opacity:.5},label:{width:"100%",fontSize:16},helper:{width:"100%",fontSize:12},error:{width:"100%",fontSize:12,color:"#FF0000"}};class Ch extends f{constructor(){super(...arguments);$t(this,"updateTimeout",null)}componentDidMount(){super.componentDidMount();let l=f.getValue(this.props.data,this.props.attr);if(Array.isArray(l)&&this.props.multiEdit){l=f.DIFFERENT_VALUE,this.setState({value:l,oldValue:l});return}this.setState({value:l,oldValue:l})}static getDerivedStateFromProps(l,u){if(l.multiEdit&&u.value===f.DIFFERENT_VALUE)return f.DIFFERENT_VALUE;let v=f.getValue(l.data,l.attr);return v!=null&&(v=v.toString()),v==null||v!==u.value&&v!==u.oldValue?{value:v}:null}renderItem(l,u){const v=Array.isArray(this.state.value)||this.state.value===f.DIFFERENT_VALUE;if(this.state.oldValue!==null&&this.state.oldValue!==void 0?(this.updateTimeout&&clearTimeout(this.updateTimeout),this.updateTimeout=setTimeout(()=>{this.updateTimeout=null,this.setState({oldValue:null})},30)):this.updateTimeout&&(clearTimeout(this.updateTimeout),this.updateTimeout=null),v){const O=[...f.getValue(this.props.data,this.props.attr)].map(B=>({label:B.toString(),value:B}));return O.unshift({label:t.I18n.t(f.DIFFERENT_LABEL),value:f.DIFFERENT_VALUE}),h().createElement(e.Autocomplete,{className:this.props.classes.indeterminate,fullWidth:!0,value:O[0],onChange:(B,z)=>{const Y=z?z.value:"";this.onChange(this.props.attr,Y,()=>{this.setState({value:Y,oldValue:Y})})},options:O,getOptionLabel:B=>B.label,renderInput:B=>h().createElement(e.TextField,zn(Yt({variant:"standard"},B),{error:!!l,placeholder:this.getText(this.props.schema.placeholder),inputProps:zn(Yt({},B.inputProps),{maxLength:this.props.schema.maxLength||this.props.schema.max||void 0,readOnly:this.props.schema.readOnly||!1}),label:this.getText(this.props.schema.label),helperText:this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation),disabled:!!u}))})}if(this.props.schema.minRows>1){const x=this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation);return h().createElement("div",{style:{width:"100%"}},this.props.schema.label?h().createElement("div",{className:this.props.classes.label},this.getText(this.props.schema.label)):null,h().createElement(e.TextareaAutosize,{style:{width:"100%",resize:"vertical",backgroundColor:this.props.themeType==="dark"?"#363636":"#cccccc",color:this.props.themeType==="dark"?"#fff":"#111"},minRows:this.props.schema.minRows,maxRows:this.props.schema.maxRows,value:this.state.value===null||this.state.value===void 0?"":this.state.value,disabled:!!u,readOnly:this.props.schema.readOnly||!1,onChange:O=>{const B=O.target.value;this.setState({value:B,oldValue:this.state.value},()=>this.onChange(this.props.attr,B||""))},placeholder:this.getText(this.props.schema.placeholder)}),x||l?h().createElement("div",{className:l?this.props.classes.error:this.props.classes.helper},l||x):null)}return h().createElement(e.TextField,{variant:"standard",fullWidth:!0,value:this.state.value===null||this.state.value===void 0?"":this.state.value,error:!!l,disabled:!!u,inputProps:{maxLength:this.props.schema.maxLength||this.props.schema.max||void 0,readOnly:this.props.schema.readOnly||!1},InputProps:{endAdornment:this.state.value&&!this.props.schema.noClearButton?h().createElement(e.InputAdornment,{position:"end"},h().createElement(e.IconButton,{size:"small",onClick:()=>this.setState({value:"",oldValue:this.state.value},()=>this.onChange(this.props.attr,""))},h().createElement(s.Close,null))):null},onChange:x=>{const O=x.target.value;this.setState({value:O,oldValue:this.state.value},()=>this.onChange(this.props.attr,O))},placeholder:this.getText(this.props.schema.placeholder),label:this.getText(this.props.schema.label),helperText:this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)})}}const Sh=(0,F.withStyles)(wh)(Ch),Eh={fullWidth:{width:"100%"}};class Dh extends f{componentDidMount(){super.componentDidMount(),this.askInstance()}askInstance(){if(this.props.alive){let a=this.props.schema.data;if(a===void 0&&this.props.schema.jsonData){const l=this.getPattern(this.props.schema.jsonData);try{a=JSON.parse(l)}catch(u){console.error(`Cannot parse json data: ${l}`)}}a===void 0&&(a=null),this.props.socket.sendTo(`${this.props.adapterName}.${this.props.instance}`,this.props.schema.command||"send",a).then(l=>this.setState({text:l||"",context:this.getContext()}))}}getContext(){const a={};return Array.isArray(this.props.schema.alsoDependsOn)&&this.props.schema.alsoDependsOn.forEach(l=>a[l]=f.getValue(this.props.data,l)),JSON.stringify(a)}renderItem(){return this.state.text===void 0?null:(this.props.alive&&this.getContext()!==this.state.context&&setTimeout(()=>this.askInstance(),300),this.props.schema.container==="text"?h().createElement(e.TextField,{variant:"standard",fullWidth:!0,InputProps:{endAdornment:this.props.schema.copyToClipboard?h().createElement(e.IconButton,{size:"small",onClick:()=>{t.Utils.copyToClipboard(this.state.text),window.alert("Copied")}},h().createElement(t.IconCopy,null)):void 0},value:this.state.text,label:this.getText(this.props.schema.label),helperText:this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)}):h().createElement("div",{className:this.props.classes.fullWidth},this.state.text))}}const Ah=(0,F.withStyles)(Eh)(Dh),qs=({adapter:y,value:a,props:l})=>{if(a===null)return null;const{minTime:u,maxTime:v,minutesStep:x,shouldDisableTime:O,disableIgnoringDatePartForTimeValidation:B=!1,disablePast:z,disableFuture:Y,timezone:te}=l,re=y.utils.date(void 0,te),oe=jn(B,y.utils);switch(!0){case!y.utils.isValid(a):return"invalidDate";case!!(u&&oe(u,a)):return"minTime";case!!(v&&oe(a,v)):return"maxTime";case!!(Y&&y.utils.isAfter(a,re)):return"disableFuture";case!!(z&&y.utils.isBefore(a,re)):return"disablePast";case!!(O&&O(a,"hours")):return"shouldDisableTime-hours";case!!(O&&O(a,"minutes")):return"shouldDisableTime-minutes";case!!(O&&O(a,"seconds")):return"shouldDisableTime-seconds";case!!(x&&y.utils.getMinutes(a)%x!==0):return"minutesStep";default:return null}},xh=y=>{const a=cl(y),{forwardedProps:l,internalProps:u}=kr(a,"time");return Ar({forwardedProps:l,internalProps:u,valueManager:Nn,fieldValueManager:cs,validator:qs,valueType:"time"})},kh=["slots","slotProps","InputProps","inputProps"],So=M.forwardRef(function(a,l){var de;const u=(0,Z.A)({props:a,name:"MuiTimeField"}),{slots:v,slotProps:x,InputProps:O,inputProps:B}=u,z=(0,H.A)(u,kh),Y=u,te=(de=v==null?void 0:v.textField)!=null?de:a.enableAccessibleFieldDOMStructure?Pr:Er.A,re=pn({elementType:te,externalSlotProps:x==null?void 0:x.textField,externalForwardedProps:z,ownerState:Y,additionalProps:{ref:l}});re.inputProps=(0,$.A)({},B,re.inputProps),re.InputProps=(0,$.A)({},O,re.InputProps);const oe=xh(re),he=Rr(oe),ce=Tr((0,$.A)({},he,{slots:v,slotProps:x}));return(0,Ce.jsx)(te,(0,$.A)({},ce))});function Th(y){return(0,Re.Ay)("MuiPickersToolbarText",y)}const Eo=(0,it.A)("MuiPickersToolbarText",["root","selected"]),_h=["className","selected","value"],$h=y=>{const{classes:a,selected:l}=y,u={root:["root",l&&"selected"]};return(0,ge.A)(u,Th,a)},Mh=(0,ie.Ay)(si.A,{name:"MuiPickersToolbarText",slot:"Root",overridesResolver:(y,a)=>[a.root,{[`&.${Eo.selected}`]:a.selected}]})(({theme:y})=>({transition:y.transitions.create("color"),color:(y.vars||y).palette.text.secondary,[`&.${Eo.selected}`]:{color:(y.vars||y).palette.text.primary}})),Do=M.forwardRef(function(a,l){const u=(0,Z.A)({props:a,name:"MuiPickersToolbarText"}),{className:v,value:x}=u,O=(0,H.A)(u,_h),B=$h(u);return(0,Ce.jsx)(Mh,(0,$.A)({ref:l,className:(0,ln.A)(v,B.root),component:"span"},O,{children:x}))}),Ih=["align","className","selected","typographyClassName","value","variant","width"],Fh=y=>{const{classes:a}=y,l={root:["root"]};return(0,ge.A)(l,hn,a)},Oh=(0,ie.Ay)(Gi.A,{name:"MuiPickersToolbarButton",slot:"Root",overridesResolver:(y,a)=>a.root})({padding:0,minWidth:16,textTransform:"none"}),Zi=M.forwardRef(function(a,l){const u=(0,Z.A)({props:a,name:"MuiPickersToolbarButton"}),{align:v,className:x,selected:O,typographyClassName:B,value:z,variant:Y,width:te}=u,re=(0,H.A)(u,Ih),oe=Fh(u);return(0,Ce.jsx)(Oh,(0,$.A)({variant:"text",ref:l,className:(0,ln.A)(x,oe.root)},te?{sx:{width:te}}:{},re,{children:(0,Ce.jsx)(Do,{align:v,className:B,variant:Y,value:z,selected:O})}))});function Lh(y){return(0,Re.Ay)("MuiTimePickerToolbar",y)}const Qi=(0,it.A)("MuiTimePickerToolbar",["root","separator","hourMinuteLabel","hourMinuteLabelLandscape","hourMinuteLabelReverse","ampmSelection","ampmLandscape","ampmLabel"]),Nh=["ampm","ampmInClock","value","isLandscape","onChange","view","onViewChange","views","disabled","readOnly","className"],Ph=y=>{const{theme:a,isLandscape:l,classes:u}=y,v={root:["root"],separator:["separator"],hourMinuteLabel:["hourMinuteLabel",l&&"hourMinuteLabelLandscape",a.direction==="rtl"&&"hourMinuteLabelReverse"],ampmSelection:["ampmSelection",l&&"ampmLandscape"],ampmLabel:["ampmLabel"]};return(0,ge.A)(v,Lh,u)},Rh=(0,ie.Ay)(Bn,{name:"MuiTimePickerToolbar",slot:"Root",overridesResolver:(y,a)=>a.root})({}),Bh=(0,ie.Ay)(Do,{name:"MuiTimePickerToolbar",slot:"Separator",overridesResolver:(y,a)=>a.separator})({outline:0,margin:"0 4px 0 2px",cursor:"default"}),Wh=(0,ie.Ay)("div",{name:"MuiTimePickerToolbar",slot:"HourMinuteLabel",overridesResolver:(y,a)=>[{[`&.${Qi.hourMinuteLabelLandscape}`]:a.hourMinuteLabelLandscape,[`&.${Qi.hourMinuteLabelReverse}`]:a.hourMinuteLabelReverse},a.hourMinuteLabel]})(({theme:y})=>(0,$.A)({display:"flex",justifyContent:"flex-end",alignItems:"flex-end"},y.direction==="rtl"&&{flexDirection:"row-reverse"},{variants:[{props:{isLandscape:!0},style:{marginTop:"auto"}}]})),jh=(0,ie.Ay)("div",{name:"MuiTimePickerToolbar",slot:"AmPmSelection",overridesResolver:(y,a)=>[{[`.${Qi.ampmLabel}`]:a.ampmLabel},{[`&.${Qi.ampmLandscape}`]:a.ampmLandscape},a.ampmSelection]})({display:"flex",flexDirection:"column",marginRight:"auto",marginLeft:12,[`& .${Qi.ampmLabel}`]:{fontSize:17},variants:[{props:{isLandscape:!0},style:{margin:"4px 0 auto",flexDirection:"row",justifyContent:"space-around",flexBasis:"100%"}}]});function zh(y){const a=(0,Z.A)({props:y,name:"MuiTimePickerToolbar"}),{ampm:l,ampmInClock:u,value:v,isLandscape:x,onChange:O,view:B,onViewChange:z,views:Y,disabled:te,readOnly:re,className:oe}=a,he=(0,H.A)(a,Nh),ce=Zt(),de=On(),ve=(0,vi.A)(),ye=!!(l&&!u&&Y.includes("hours")),{meridiemMode:be,handleMeridiemChange:Ie}=Ks(v,l,O),Ge=$e=>l?ce.format($e,"hours12h"):ce.format($e,"hours24h"),Pe=a,We=Ph((0,$.A)({},Pe,{theme:ve})),ze=(0,Ce.jsx)(Bh,{tabIndex:-1,value:":",variant:"h3",selected:!1,className:We.separator});return(0,Ce.jsxs)(Rh,(0,$.A)({landscapeDirection:"row",toolbarTitle:de.timePickerToolbarTitle,isLandscape:x,ownerState:Pe,className:(0,ln.A)(We.root,oe)},he,{children:[(0,Ce.jsxs)(Wh,{className:We.hourMinuteLabel,ownerState:Pe,children:[Mi(Y,"hours")&&(0,Ce.jsx)(Zi,{tabIndex:-1,variant:"h3",onClick:()=>z("hours"),selected:B==="hours",value:v?Ge(v):"--"}),Mi(Y,["hours","minutes"])&&ze,Mi(Y,"minutes")&&(0,Ce.jsx)(Zi,{tabIndex:-1,variant:"h3",onClick:()=>z("minutes"),selected:B==="minutes",value:v?ce.format(v,"minutes"):"--"}),Mi(Y,["minutes","seconds"])&&ze,Mi(Y,"seconds")&&(0,Ce.jsx)(Zi,{variant:"h3",onClick:()=>z("seconds"),selected:B==="seconds",value:v?ce.format(v,"seconds"):"--"})]}),ye&&(0,Ce.jsxs)(jh,{className:We.ampmSelection,ownerState:Pe,children:[(0,Ce.jsx)(Zi,{disableRipple:!0,variant:"subtitle2",selected:be==="am",typographyClassName:We.ampmLabel,value:ke(ce,"am"),onClick:re?void 0:()=>Ie("am"),disabled:te}),(0,Ce.jsx)(Zi,{disableRipple:!0,variant:"subtitle2",selected:be==="pm",typographyClassName:We.ampmLabel,value:ke(ce,"pm"),onClick:re?void 0:()=>Ie("pm"),disabled:te})]})]}))}function Ao(y,a){var O,B,z,Y;const l=Zt(),u=(0,Z.A)({props:y,name:a}),v=(O=u.ampm)!=null?O:l.is12HourCycleInCurrentLocale(),x=M.useMemo(()=>{var te;return((te=u.localeText)==null?void 0:te.toolbarTitle)==null?u.localeText:(0,$.A)({},u.localeText,{timePickerToolbarTitle:u.localeText.toolbarTitle})},[u.localeText]);return(0,$.A)({},u,{ampm:v,localeText:x},Le({views:u.views,openTo:u.openTo,defaultViews:["hours","minutes"],defaultOpenTo:"hours"}),{disableFuture:(B=u.disableFuture)!=null?B:!1,disablePast:(z=u.disablePast)!=null?z:!1,slots:(0,$.A)({toolbar:zh},u.slots),slotProps:(0,$.A)({},u.slotProps,{toolbar:(0,$.A)({ampm:v,ampmInClock:u.ampmInClock},(Y=u.slotProps)==null?void 0:Y.toolbar)})})}function Vh(y){return(0,Re.Ay)("MuiTimeClock",y)}const Yf=(0,it.A)("MuiTimeClock",["root","arrowSwitcher"]),Bi=220,ai=36,qi={x:Bi/2,y:Bi/2},xo={x:qi.x,y:0},Hh=xo.x-qi.x,Uh=xo.y-qi.y,Gh=y=>y*(180/Math.PI),ko=(y,a,l)=>{const u=a-qi.x,v=l-qi.y,x=Math.atan2(Hh,Uh)-Math.atan2(u,v);let O=Gh(x);O=Math.round(O/y)*y,O%=360;const B=Math.floor(O/y)||0,z=fi(u,2)+fi(v,2),Y=Math.sqrt(z);return{value:B,distance:Y}},Jh=(y,a,l=1)=>{const u=l*6;let{value:v}=ko(u,y,a);return v=v*l%60,v},Kh=(y,a,l)=>{const{value:u,distance:v}=ko(30,y,a);let x=u||12;return l?x%=12:v<Bi/2-ai&&(x+=12,x%=24),x};function Yh(y){return(0,Re.Ay)("MuiClockPointer",y)}const Xf=(0,it.A)("MuiClockPointer",["root","thumb"]),Xh=["className","hasSelected","isInner","type","viewValue"],Zh=y=>{const{classes:a}=y,l={root:["root"],thumb:["thumb"]};return(0,ge.A)(l,Yh,a)},Qh=(0,ie.Ay)("div",{name:"MuiClockPointer",slot:"Root",overridesResolver:(y,a)=>a.root})(({theme:y})=>({width:2,backgroundColor:(y.vars||y).palette.primary.main,position:"absolute",left:"calc(50% - 1px)",bottom:"50%",transformOrigin:"center bottom 0px",variants:[{props:{shouldAnimate:!0},style:{transition:y.transitions.create(["transform","height"])}}]})),qh=(0,ie.Ay)("div",{name:"MuiClockPointer",slot:"Thumb",overridesResolver:(y,a)=>a.thumb})(({theme:y})=>({width:4,height:4,backgroundColor:(y.vars||y).palette.primary.contrastText,borderRadius:"50%",position:"absolute",top:-21,left:`calc(50% - ${ai/2}px)`,border:`${(ai-4)/2}px solid ${(y.vars||y).palette.primary.main}`,boxSizing:"content-box",variants:[{props:{hasSelected:!0},style:{backgroundColor:(y.vars||y).palette.primary.main}}]}));function ep(y){const a=(0,Z.A)({props:y,name:"MuiClockPointer"}),{className:l,isInner:u,type:v,viewValue:x}=a,O=(0,H.A)(a,Xh),B=M.useRef(v);M.useEffect(()=>{B.current=v},[v]);const z=(0,$.A)({},a,{shouldAnimate:B.current!==v}),Y=Zh(z),te=()=>{let oe=360/(v==="hours"?12:60)*x;return v==="hours"&&x>12&&(oe-=360),{height:Math.round((u?.26:.4)*Bi),transform:`rotateZ(${oe}deg)`}};return(0,Ce.jsx)(Qh,(0,$.A)({style:te(),className:(0,ln.A)(l,Y.root),ownerState:z},O,{children:(0,Ce.jsx)(qh,{ownerState:z,className:Y.thumb})}))}function tp(y){return(0,Re.Ay)("MuiClock",y)}const Zf=(0,it.A)("MuiClock",["root","clock","wrapper","squareMask","pin","amButton","pmButton","meridiemText"]),np=y=>{const{classes:a}=y,l={root:["root"],clock:["clock"],wrapper:["wrapper"],squareMask:["squareMask"],pin:["pin"],amButton:["amButton"],pmButton:["pmButton"],meridiemText:["meridiemText"]};return(0,ge.A)(l,tp,a)},ip=(0,ie.Ay)("div",{name:"MuiClock",slot:"Root",overridesResolver:(y,a)=>a.root})(({theme:y})=>({display:"flex",justifyContent:"center",alignItems:"center",margin:y.spacing(2)})),sp=(0,ie.Ay)("div",{name:"MuiClock",slot:"Clock",overridesResolver:(y,a)=>a.clock})({backgroundColor:"rgba(0,0,0,.07)",borderRadius:"50%",height:220,width:220,flexShrink:0,position:"relative",pointerEvents:"none"}),rp=(0,ie.Ay)("div",{name:"MuiClock",slot:"Wrapper",overridesResolver:(y,a)=>a.wrapper})({"&:focus":{outline:"none"}}),op=(0,ie.Ay)("div",{name:"MuiClock",slot:"SquareMask",overridesResolver:(y,a)=>a.squareMask})({width:"100%",height:"100%",position:"absolute",pointerEvents:"auto",outline:0,touchAction:"none",userSelect:"none",variants:[{props:{disabled:!1},style:{"@media (pointer: fine)":{cursor:"pointer",borderRadius:"50%"},"&:active":{cursor:"move"}}}]}),ap=(0,ie.Ay)("div",{name:"MuiClock",slot:"Pin",overridesResolver:(y,a)=>a.pin})(({theme:y})=>({width:6,height:6,borderRadius:"50%",backgroundColor:(y.vars||y).palette.primary.main,position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"})),lp=(0,ie.Ay)(_i.A,{name:"MuiClock",slot:"AmButton",overridesResolver:(y,a)=>a.amButton})(({theme:y})=>({zIndex:1,position:"absolute",bottom:8,left:8,paddingLeft:4,paddingRight:4,width:ai,variants:[{props:{meridiemMode:"am"},style:{backgroundColor:(y.vars||y).palette.primary.main,color:(y.vars||y).palette.primary.contrastText,"&:hover":{backgroundColor:(y.vars||y).palette.primary.light}}}]})),cp=(0,ie.Ay)(_i.A,{name:"MuiClock",slot:"PmButton",overridesResolver:(y,a)=>a.pmButton})(({theme:y})=>({zIndex:1,position:"absolute",bottom:8,right:8,paddingLeft:4,paddingRight:4,width:ai,variants:[{props:{meridiemMode:"pm"},style:{backgroundColor:(y.vars||y).palette.primary.main,color:(y.vars||y).palette.primary.contrastText,"&:hover":{backgroundColor:(y.vars||y).palette.primary.light}}}]})),To=(0,ie.Ay)(si.A,{name:"MuiClock",slot:"meridiemText",overridesResolver:(y,a)=>a.meridiemText})({overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"});function up(y){const a=(0,Z.A)({props:y,name:"MuiClock"}),{ampm:l,ampmInClock:u,autoFocus:v,children:x,value:O,handleMeridiemChange:B,isTimeDisabled:z,meridiemMode:Y,minutesStep:te=1,onChange:re,selectedId:oe,type:he,viewValue:ce,disabled:de=!1,readOnly:ve,className:ye}=a,be=a,Ie=Zt(),Ge=On(),Pe=M.useRef(!1),We=np(be),ze=z(ce,he),$e=!l&&he==="hours"&&(ce<1||ce>12),Ze=(nt,wt)=>{de||ve||z(nt,he)||re(nt,wt)},qe=(nt,wt)=>{let{offsetX:Pt,offsetY:ct}=nt;if(Pt===void 0){const qt=nt.target.getBoundingClientRect();Pt=nt.changedTouches[0].clientX-qt.left,ct=nt.changedTouches[0].clientY-qt.top}const ht=he==="seconds"||he==="minutes"?Jh(Pt,ct,te):Kh(Pt,ct,!!l);Ze(ht,wt)},Ve=nt=>{Pe.current=!0,qe(nt,"shallow")},Qe=nt=>{Pe.current&&(qe(nt,"finish"),Pe.current=!1)},Me=nt=>{nt.buttons>0&&qe(nt.nativeEvent,"shallow")},ot=nt=>{Pe.current&&(Pe.current=!1),qe(nt.nativeEvent,"finish")},bt=M.useMemo(()=>he==="hours"?!0:ce%5===0,[he,ce]),Tt=he==="minutes"?te:1,Dt=M.useRef(null);(0,mi.A)(()=>{v&&Dt.current.focus()},[v]);const gt=nt=>{if(!Pe.current)switch(nt.key){case"Home":Ze(0,"partial"),nt.preventDefault();break;case"End":Ze(he==="minutes"?59:23,"partial"),nt.preventDefault();break;case"ArrowUp":Ze(ce+Tt,"partial"),nt.preventDefault();break;case"ArrowDown":Ze(ce-Tt,"partial"),nt.preventDefault();break;default:}};return(0,Ce.jsxs)(ip,{className:(0,ln.A)(ye,We.root),children:[(0,Ce.jsxs)(sp,{className:We.clock,children:[(0,Ce.jsx)(op,{onTouchMove:Ve,onTouchEnd:Qe,onMouseUp:ot,onMouseMove:Me,ownerState:{disabled:de},className:We.squareMask}),!ze&&(0,Ce.jsxs)(M.Fragment,{children:[(0,Ce.jsx)(ap,{className:We.pin}),O!=null&&(0,Ce.jsx)(ep,{type:he,viewValue:ce,isInner:$e,hasSelected:bt})]}),(0,Ce.jsx)(rp,{"aria-activedescendant":oe,"aria-label":Ge.clockLabelText(he,O,Ie),ref:Dt,role:"listbox",onKeyDown:gt,tabIndex:0,className:We.wrapper,children:x})]}),l&&u&&(0,Ce.jsxs)(M.Fragment,{children:[(0,Ce.jsx)(lp,{onClick:ve?void 0:()=>B("am"),disabled:de||Y===null,ownerState:be,className:We.amButton,title:ke(Ie,"am"),children:(0,Ce.jsx)(To,{variant:"caption",className:We.meridiemText,children:ke(Ie,"am")})}),(0,Ce.jsx)(cp,{disabled:de||Y===null,onClick:ve?void 0:()=>B("pm"),ownerState:be,className:We.pmButton,title:ke(Ie,"pm"),children:(0,Ce.jsx)(To,{variant:"caption",className:We.meridiemText,children:ke(Ie,"pm")})})]})]})}function dp(y){return(0,Re.Ay)("MuiClockNumber",y)}const As=(0,it.A)("MuiClockNumber",["root","selected","disabled"]),hp=["className","disabled","index","inner","label","selected"],pp=y=>{const{classes:a,selected:l,disabled:u}=y,v={root:["root",l&&"selected",u&&"disabled"]};return(0,ge.A)(v,dp,a)},fp=(0,ie.Ay)("span",{name:"MuiClockNumber",slot:"Root",overridesResolver:(y,a)=>[a.root,{[`&.${As.disabled}`]:a.disabled},{[`&.${As.selected}`]:a.selected}]})(({theme:y})=>({height:ai,width:ai,position:"absolute",left:`calc((100% - ${ai}px) / 2)`,display:"inline-flex",justifyContent:"center",alignItems:"center",borderRadius:"50%",color:(y.vars||y).palette.text.primary,fontFamily:y.typography.fontFamily,"&:focused":{backgroundColor:(y.vars||y).palette.background.paper},[`&.${As.selected}`]:{color:(y.vars||y).palette.primary.contrastText},[`&.${As.disabled}`]:{pointerEvents:"none",color:(y.vars||y).palette.text.disabled},variants:[{props:{inner:!0},style:(0,$.A)({},y.typography.body2,{color:(y.vars||y).palette.text.secondary})}]}));function _o(y){const a=(0,Z.A)({props:y,name:"MuiClockNumber"}),{className:l,disabled:u,index:v,inner:x,label:O,selected:B}=a,z=(0,H.A)(a,hp),Y=a,te=pp(Y),re=v%12/12*Math.PI*2-Math.PI/2,oe=(Bi-ai-2)/2*(x?.65:1),he=Math.round(Math.cos(re)*oe),ce=Math.round(Math.sin(re)*oe);return(0,Ce.jsx)(fp,(0,$.A)({className:(0,ln.A)(l,te.root),"aria-disabled":u?!0:void 0,"aria-selected":B?!0:void 0,role:"option",style:{transform:`translate(${he}px, ${ce+(Bi-ai)/2}px`},ownerState:Y},z,{children:O}))}const mp=({ampm:y,value:a,getClockNumberText:l,isDisabled:u,selectedId:v,utils:x})=>{const O=a?x.getHours(a):null,B=[],z=y?1:0,Y=y?12:23,te=re=>O===null?!1:y?re===12?O===12||O===0:O===re||O-12===re:O===re;for(let re=z;re<=Y;re+=1){let oe=re.toString();re===0&&(oe="00");const he=!y&&(re===0||re>12);oe=x.formatNumber(oe);const ce=te(re);B.push((0,Ce.jsx)(_o,{id:ce?v:void 0,index:re,inner:he,selected:ce,disabled:u(re),label:oe,"aria-label":l(oe)},re))}return B},$o=({utils:y,value:a,isDisabled:l,getClockNumberText:u,selectedId:v})=>{const x=y.formatNumber;return[[5,x("05")],[10,x("10")],[15,x("15")],[20,x("20")],[25,x("25")],[30,x("30")],[35,x("35")],[40,x("40")],[45,x("45")],[50,x("50")],[55,x("55")],[0,x("00")]].map(([O,B],z)=>{const Y=O===a;return(0,Ce.jsx)(_o,{label:B,id:Y?v:void 0,index:z+1,inner:!1,disabled:l(O),selected:Y,"aria-label":u(B)},O)})},er=({value:y,referenceDate:a,utils:l,props:u,timezone:v})=>{const x=M.useMemo(()=>Nn.getInitialReferenceValue({value:y,utils:l,props:u,referenceDate:a,granularity:In.day,timezone:v,getTodayDate:()=>fe(l,v,"date")}),[]);return y!=null?y:x},gp=["ampm","ampmInClock","autoFocus","slots","slotProps","value","defaultValue","referenceDate","disableIgnoringDatePartForTimeValidation","maxTime","minTime","disableFuture","disablePast","minutesStep","shouldDisableTime","showViewSwitcher","onChange","view","views","openTo","onViewChange","focusedView","onFocusedViewChange","className","disabled","readOnly","timezone"],vp=y=>{const{classes:a}=y,l={root:["root"],arrowSwitcher:["arrowSwitcher"]};return(0,ge.A)(l,Vh,a)},yp=(0,ie.Ay)(bs,{name:"MuiTimeClock",slot:"Root",overridesResolver:(y,a)=>a.root})({display:"flex",flexDirection:"column",position:"relative"}),bp=(0,ie.Ay)(Yr,{name:"MuiTimeClock",slot:"ArrowSwitcher",overridesResolver:(y,a)=>a.arrowSwitcher})({position:"absolute",right:12,top:15}),wp=["hours","minutes"],Cp=M.forwardRef(function(a,l){const u=Zt(),v=(0,Z.A)({props:a,name:"MuiTimeClock"}),{ampm:x=u.is12HourCycleInCurrentLocale(),ampmInClock:O=!1,autoFocus:B,slots:z,slotProps:Y,value:te,defaultValue:re,referenceDate:oe,disableIgnoringDatePartForTimeValidation:he=!1,maxTime:ce,minTime:de,disableFuture:ve,disablePast:ye,minutesStep:be=1,shouldDisableTime:Ie,showViewSwitcher:Ge,onChange:Pe,view:We,views:ze=wp,openTo:$e,onViewChange:Ze,focusedView:qe,onFocusedViewChange:Ve,className:Qe,disabled:Me,readOnly:ot,timezone:bt}=v,Tt=(0,H.A)(v,gp),{value:Dt,handleValueChange:gt,timezone:nt}=Fi({name:"TimeClock",timezone:bt,value:te,defaultValue:re,onChange:Pe,valueManager:Nn}),wt=er({value:Dt,referenceDate:oe,utils:u,props:v,timezone:nt}),Pt=On(),ct=di(nt),{view:ht,setView:qt,previousView:Qt,nextView:je,setValueAndGoToNextView:Ke}=Hi({view:We,views:ze,openTo:$e,onViewChange:Ze,onChange:gt,focusedView:qe,onFocusedViewChange:Ve}),{meridiemMode:_t,handleMeridiemChange:Ot}=Ks(wt,x,Ke),st=M.useCallback((Ct,vt)=>{const xt=jn(he,u),tt=vt==="hours"||vt==="minutes"&&ze.includes("seconds"),Mt=({start:en,end:_n})=>!(de&&xt(de,_n)||ce&&xt(en,ce)||ve&&xt(en,ct)||ye&&xt(ct,tt?_n:en)),vn=(en,_n=1)=>{if(en%_n!==0)return!1;if(Ie)switch(vt){case"hours":return!Ie(u.setHours(wt,en),"hours");case"minutes":return!Ie(u.setMinutes(wt,en),"minutes");case"seconds":return!Ie(u.setSeconds(wt,en),"seconds");default:return!1}return!0};switch(vt){case"hours":{const en=dn(Ct,_t,x),_n=u.setHours(wt,en),yn=u.setSeconds(u.setMinutes(_n,0),0),Gn=u.setSeconds(u.setMinutes(_n,59),59);return!Mt({start:yn,end:Gn})||!vn(en)}case"minutes":{const en=u.setMinutes(wt,Ct),_n=u.setSeconds(en,0),yn=u.setSeconds(en,59);return!Mt({start:_n,end:yn})||!vn(Ct,be)}case"seconds":{const en=u.setSeconds(wt,Ct);return!Mt({start:en,end:en})||!vn(Ct)}default:throw new Error("not supported")}},[x,wt,he,ce,_t,de,be,Ie,u,ve,ye,ct,ze]),Lt=(0,$i.A)(),ut=M.useMemo(()=>{switch(ht){case"hours":{const Ct=(vt,xt)=>{const tt=dn(vt,_t,x);Ke(u.setHours(wt,tt),xt,"hours")};return{onChange:Ct,viewValue:u.getHours(wt),children:mp({value:Dt,utils:u,ampm:x,onChange:Ct,getClockNumberText:Pt.hoursClockNumberText,isDisabled:vt=>Me||st(vt,"hours"),selectedId:Lt})}}case"minutes":{const Ct=u.getMinutes(wt),vt=(xt,tt)=>{Ke(u.setMinutes(wt,xt),tt,"minutes")};return{viewValue:Ct,onChange:vt,children:$o({utils:u,value:Ct,onChange:vt,getClockNumberText:Pt.minutesClockNumberText,isDisabled:xt=>Me||st(xt,"minutes"),selectedId:Lt})}}case"seconds":{const Ct=u.getSeconds(wt),vt=(xt,tt)=>{Ke(u.setSeconds(wt,xt),tt,"seconds")};return{viewValue:Ct,onChange:vt,children:$o({utils:u,value:Ct,onChange:vt,getClockNumberText:Pt.secondsClockNumberText,isDisabled:xt=>Me||st(xt,"seconds"),selectedId:Lt})}}default:throw new Error("You must provide the type for ClockView")}},[ht,u,Dt,x,Pt.hoursClockNumberText,Pt.minutesClockNumberText,Pt.secondsClockNumberText,_t,Ke,wt,st,Lt,Me]),Fe=v,At=vp(Fe);return(0,Ce.jsxs)(yp,(0,$.A)({ref:l,className:(0,ln.A)(At.root,Qe),ownerState:Fe},Tt,{children:[(0,Ce.jsx)(up,(0,$.A)({autoFocus:B!=null?B:!!qe,ampmInClock:O&&ze.includes("hours"),value:Dt,type:ht,ampm:x,minutesStep:be,isTimeDisabled:st,meridiemMode:_t,handleMeridiemChange:Ot,selectedId:Lt,disabled:Me,readOnly:ot},ut)),Ge&&(0,Ce.jsx)(bp,{className:At.arrowSwitcher,slots:z,slotProps:Y,onGoToPrevious:()=>qt(Qt),isPreviousDisabled:!Qt,previousLabel:Pt.openPreviousView,onGoToNext:()=>qt(je),isNextDisabled:!je,nextLabel:Pt.openNextView,ownerState:Fe})]}))});var Mo=L(25471),Io=L(80705);function Sp(y){return(0,Re.Ay)("MuiDigitalClock",y)}const Qf=(0,it.A)("MuiDigitalClock",["root","list","item"]),Ep=["ampm","timeStep","autoFocus","slots","slotProps","value","defaultValue","referenceDate","disableIgnoringDatePartForTimeValidation","maxTime","minTime","disableFuture","disablePast","minutesStep","shouldDisableTime","onChange","view","openTo","onViewChange","focusedView","onFocusedViewChange","className","disabled","readOnly","views","skipDisabled","timezone"],Dp=y=>{const{classes:a}=y,l={root:["root"],list:["list"],item:["item"]};return(0,ge.A)(l,Sp,a)},Ap=(0,ie.Ay)(bs,{name:"MuiDigitalClock",slot:"Root",overridesResolver:(y,a)=>a.root})({overflowY:"auto",width:"100%","@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"auto"},maxHeight:wr,variants:[{props:{alreadyRendered:!0},style:{"@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"smooth"}}}]}),xp=(0,ie.Ay)(Io.A,{name:"MuiDigitalClock",slot:"List",overridesResolver:(y,a)=>a.list})({padding:0}),kp=(0,ie.Ay)(Mo.A,{name:"MuiDigitalClock",slot:"Item",overridesResolver:(y,a)=>a.item})(({theme:y})=>({padding:"8px 16px",margin:"2px 4px","&:first-of-type":{marginTop:4},"&:hover":{backgroundColor:y.vars?`rgba(${y.vars.palette.primary.mainChannel} / ${y.vars.palette.action.hoverOpacity})`:(0,oi.X4)(y.palette.primary.main,y.palette.action.hoverOpacity)},"&.Mui-selected":{backgroundColor:(y.vars||y).palette.primary.main,color:(y.vars||y).palette.primary.contrastText,"&:focus-visible, &:hover":{backgroundColor:(y.vars||y).palette.primary.dark}},"&.Mui-focusVisible":{backgroundColor:y.vars?`rgba(${y.vars.palette.primary.mainChannel} / ${y.vars.palette.action.focusOpacity})`:(0,oi.X4)(y.palette.primary.main,y.palette.action.focusOpacity)}})),Tp=M.forwardRef(function(a,l){var Ct;const u=Zt(),v=M.useRef(null),x=(0,Mn.A)(l,v),O=(0,Z.A)({props:a,name:"MuiDigitalClock"}),{ampm:B=u.is12HourCycleInCurrentLocale(),timeStep:z=30,autoFocus:Y,slots:te,slotProps:re,value:oe,defaultValue:he,referenceDate:ce,disableIgnoringDatePartForTimeValidation:de=!1,maxTime:ve,minTime:ye,disableFuture:be,disablePast:Ie,minutesStep:Ge=1,shouldDisableTime:Pe,onChange:We,view:ze,openTo:$e,onViewChange:Ze,focusedView:qe,onFocusedViewChange:Ve,className:Qe,disabled:Me,readOnly:ot,views:bt=["hours"],skipDisabled:Tt=!1,timezone:Dt}=O,gt=(0,H.A)(O,Ep),{value:nt,handleValueChange:wt,timezone:Pt}=Fi({name:"DigitalClock",timezone:Dt,value:oe,defaultValue:he,onChange:We,valueManager:Nn}),ct=On(),ht=di(Pt),qt=M.useMemo(()=>(0,$.A)({},O,{alreadyRendered:!!v.current}),[O]),Qt=Dp(qt),je=(Ct=te==null?void 0:te.digitalClockItem)!=null?Ct:kp,Ke=pn({elementType:je,externalSlotProps:re==null?void 0:re.digitalClockItem,ownerState:{},className:Qt.item}),_t=er({value:nt,referenceDate:ce,utils:u,props:O,timezone:Pt}),Ot=(0,Ft.A)(vt=>wt(vt,"finish","hours")),{setValueAndGoToNextView:st}=Hi({view:ze,views:bt,openTo:$e,onViewChange:Ze,onChange:Ot,focusedView:qe,onFocusedViewChange:Ve}),Lt=(0,Ft.A)(vt=>{st(vt,"finish")});M.useEffect(()=>{if(v.current===null)return;const vt=v.current.querySelector('[role="listbox"] [role="option"][tabindex="0"], [role="listbox"] [role="option"][aria-selected="true"]');if(!vt)return;const xt=vt.offsetTop;(Y||qe)&&vt.focus(),v.current.scrollTop=xt-4});const ut=M.useCallback(vt=>{const xt=jn(de,u),tt=()=>!(ye&&xt(ye,vt)||ve&&xt(vt,ve)||be&&xt(vt,ht)||Ie&&xt(ht,vt)),Mt=()=>u.getMinutes(vt)%Ge!==0?!1:Pe?!Pe(vt,"hours"):!0;return!tt()||!Mt()},[de,u,ye,ve,be,ht,Ie,Ge,Pe]),Fe=M.useMemo(()=>{const vt=u.startOfDay(_t);return[vt,...Array.from({length:Math.ceil(24*60/z)-1},(xt,tt)=>u.addMinutes(vt,z*(tt+1)))]},[_t,z,u]),At=Fe.findIndex(vt=>u.isEqual(vt,_t));return(0,Ce.jsx)(Ap,(0,$.A)({ref:x,className:(0,ln.A)(Qt.root,Qe),ownerState:qt},gt,{children:(0,Ce.jsx)(xp,{role:"listbox","aria-label":ct.timePickerToolbarTitle,className:Qt.list,children:Fe.map((vt,xt)=>{if(Tt&&ut(vt))return null;const tt=u.isEqual(vt,nt),Mt=u.format(vt,B?"fullTime12h":"fullTime24h"),vn=At===xt||At===-1&&xt===0?0:-1;return(0,Ce.jsx)(je,(0,$.A)({onClick:()=>!ot&&Lt(vt),selected:tt,disabled:Me||ut(vt),disableRipple:ot,role:"option","aria-disabled":ot,"aria-selected":tt,tabIndex:vn},Ke,{children:Mt}),Mt)})})}))});function _p(y){return(0,Re.Ay)("MuiMultiSectionDigitalClock",y)}const qf=(0,it.A)("MuiMultiSectionDigitalClock",["root"]);function $p(y){return(0,Re.Ay)("MuiMultiSectionDigitalClockSection",y)}const em=(0,it.A)("MuiMultiSectionDigitalClockSection",["root","item"]),Mp=["autoFocus","onChange","className","disabled","readOnly","items","active","slots","slotProps","skipDisabled"],Ip=y=>{const{classes:a}=y,l={root:["root"],item:["item"]};return(0,ge.A)(l,$p,a)},Fp=(0,ie.Ay)(Io.A,{name:"MuiMultiSectionDigitalClockSection",slot:"Root",overridesResolver:(y,a)=>a.root})(({theme:y})=>({maxHeight:wr,width:56,padding:0,overflow:"hidden","@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"auto"},"@media (pointer: fine)":{"&:hover":{overflowY:"auto"}},"@media (pointer: none), (pointer: coarse)":{overflowY:"auto"},"&:not(:first-of-type)":{borderLeft:`1px solid ${(y.vars||y).palette.divider}`},"&::after":{display:"block",content:'""',height:"calc(100% - 40px - 6px)"},variants:[{props:{alreadyRendered:!0},style:{"@media (prefers-reduced-motion: no-preference)":{scrollBehavior:"smooth"}}}]})),Op=(0,ie.Ay)(Mo.A,{name:"MuiMultiSectionDigitalClockSection",slot:"Item",overridesResolver:(y,a)=>a.item})(({theme:y})=>({padding:8,margin:"2px 4px",width:_a,justifyContent:"center","&:first-of-type":{marginTop:4},"&:hover":{backgroundColor:y.vars?`rgba(${y.vars.palette.primary.mainChannel} / ${y.vars.palette.action.hoverOpacity})`:(0,oi.X4)(y.palette.primary.main,y.palette.action.hoverOpacity)},"&.Mui-selected":{backgroundColor:(y.vars||y).palette.primary.main,color:(y.vars||y).palette.primary.contrastText,"&:focus-visible, &:hover":{backgroundColor:(y.vars||y).palette.primary.dark}},"&.Mui-focusVisible":{backgroundColor:y.vars?`rgba(${y.vars.palette.primary.mainChannel} / ${y.vars.palette.action.focusOpacity})`:(0,oi.X4)(y.palette.primary.main,y.palette.action.focusOpacity)}})),Lp=M.forwardRef(function(a,l){var We;const u=M.useRef(null),v=(0,Mn.A)(l,u),x=M.useRef(null),O=(0,Z.A)({props:a,name:"MuiMultiSectionDigitalClockSection"}),{autoFocus:B,onChange:z,className:Y,disabled:te,readOnly:re,items:oe,active:he,slots:ce,slotProps:de,skipDisabled:ve}=O,ye=(0,H.A)(O,Mp),be=M.useMemo(()=>(0,$.A)({},O,{alreadyRendered:!!u.current}),[O]),Ie=Ip(be),Ge=(We=ce==null?void 0:ce.digitalClockSectionItem)!=null?We:Op;M.useEffect(()=>{if(u.current===null)return;const ze=u.current.querySelector('[role="option"][tabindex="0"], [role="option"][aria-selected="true"]');if(he&&B&&ze&&ze.focus(),!ze||x.current===ze)return;x.current=ze;const $e=ze.offsetTop;u.current.scrollTop=$e-4});const Pe=oe.findIndex(ze=>ze.isFocused(ze.value));return(0,Ce.jsx)(Fp,(0,$.A)({ref:v,className:(0,ln.A)(Ie.root,Y),ownerState:be,autoFocusItem:B&&he,role:"listbox"},ye,{children:oe.map((ze,$e)=>{var Me;const Ze=(Me=ze.isDisabled)==null?void 0:Me.call(ze,ze.value),qe=te||Ze;if(ve&&qe)return null;const Ve=ze.isSelected(ze.value),Qe=Pe===$e||Pe===-1&&$e===0?0:-1;return(0,Ce.jsx)(Ge,(0,$.A)({onClick:()=>!re&&z(ze.value),selected:Ve,disabled:qe,disableRipple:re,role:"option","aria-disabled":re||qe||void 0,"aria-label":ze.ariaLabel,"aria-selected":Ve,tabIndex:Qe,className:Ie.item},de==null?void 0:de.digitalClockSectionItem,{children:ze.label}),ze.label)})}))}),Np=({now:y,value:a,utils:l,ampm:u,isDisabled:v,resolveAriaLabel:x,timeStep:O,valueOrReferenceDate:B})=>{const z=a?l.getHours(a):null,Y=[],te=(he,ce)=>{const de=ce!=null?ce:z;return de===null?!1:u?he===12?de===12||de===0:de===he||de-12===he:de===he},re=he=>te(he,l.getHours(B)),oe=u?11:23;for(let he=0;he<=oe;he+=O){let ce=l.format(l.setHours(y,he),u?"hours12h":"hours24h");const de=x(parseInt(ce,10).toString());ce=l.formatNumber(ce),Y.push({value:he,label:ce,isSelected:te,isDisabled:v,isFocused:re,ariaLabel:de})}return Y},Fo=({value:y,utils:a,isDisabled:l,timeStep:u,resolveLabel:v,resolveAriaLabel:x,hasValue:O=!0})=>{const B=Y=>y===null?!1:O&&y===Y,z=Y=>y===Y;return[...Array.from({length:Math.ceil(60/u)},(Y,te)=>{const re=u*te;return{value:re,label:a.formatNumber(v(re)),isDisabled:l,isSelected:B,isFocused:z,ariaLabel:x(re.toString())}})]},Pp=["ampm","timeSteps","autoFocus","slots","slotProps","value","defaultValue","referenceDate","disableIgnoringDatePartForTimeValidation","maxTime","minTime","disableFuture","disablePast","minutesStep","shouldDisableTime","onChange","view","views","openTo","onViewChange","focusedView","onFocusedViewChange","className","disabled","readOnly","skipDisabled","timezone"],Rp=y=>{const{classes:a}=y,l={root:["root"]};return(0,ge.A)(l,_p,a)},Bp=(0,ie.Ay)(bs,{name:"MuiMultiSectionDigitalClock",slot:"Root",overridesResolver:(y,a)=>a.root})(({theme:y})=>({display:"flex",flexDirection:"row",width:"100%",borderBottom:`1px solid ${(y.vars||y).palette.divider}`})),Wp=M.forwardRef(function(a,l){const u=Zt(),v=(0,Z.A)({props:a,name:"MuiMultiSectionDigitalClock"}),{ampm:x=u.is12HourCycleInCurrentLocale(),timeSteps:O,autoFocus:B,slots:z,slotProps:Y,value:te,defaultValue:re,referenceDate:oe,disableIgnoringDatePartForTimeValidation:he=!1,maxTime:ce,minTime:de,disableFuture:ve,disablePast:ye,minutesStep:be=1,shouldDisableTime:Ie,onChange:Ge,view:Pe,views:We=["hours","minutes"],openTo:ze,onViewChange:$e,focusedView:Ze,onFocusedViewChange:qe,className:Ve,disabled:Qe,readOnly:Me,skipDisabled:ot=!1,timezone:bt}=v,Tt=(0,H.A)(v,Pp),{value:Dt,handleValueChange:gt,timezone:nt}=Fi({name:"MultiSectionDigitalClock",timezone:bt,value:te,defaultValue:re,onChange:Ge,valueManager:Nn}),wt=On(),Pt=di(nt),ct=M.useMemo(()=>(0,$.A)({hours:1,minutes:5,seconds:5},O),[O]),ht=er({value:Dt,referenceDate:oe,utils:u,props:v,timezone:nt}),qt=(0,Ft.A)((xt,tt,Mt)=>gt(xt,tt,Mt)),Qt=M.useMemo(()=>!x||!We.includes("hours")||We.includes("meridiem")?We:[...We,"meridiem"],[x,We]),{view:je,setValueAndGoToNextView:Ke,focusedView:_t}=Hi({view:Pe,views:Qt,openTo:ze,onViewChange:$e,onChange:qt,focusedView:Ze,onFocusedViewChange:qe}),Ot=(0,Ft.A)(xt=>{Ke(xt,"finish","meridiem")}),{meridiemMode:st,handleMeridiemChange:Lt}=Ks(ht,x,Ot,"finish"),ut=M.useCallback((xt,tt)=>{const Mt=jn(he,u),vn=tt==="hours"||tt==="minutes"&&Qt.includes("seconds"),en=({start:yn,end:Gn})=>!(de&&Mt(de,Gn)||ce&&Mt(yn,ce)||ve&&Mt(yn,Pt)||ye&&Mt(Pt,vn?Gn:yn)),_n=(yn,Gn=1)=>{if(yn%Gn!==0)return!1;if(Ie)switch(tt){case"hours":return!Ie(u.setHours(ht,yn),"hours");case"minutes":return!Ie(u.setMinutes(ht,yn),"minutes");case"seconds":return!Ie(u.setSeconds(ht,yn),"seconds");default:return!1}return!0};switch(tt){case"hours":{const yn=dn(xt,st,x),Gn=u.setHours(ht,yn),xi=u.setSeconds(u.setMinutes(Gn,0),0),ns=u.setSeconds(u.setMinutes(Gn,59),59);return!en({start:xi,end:ns})||!_n(yn)}case"minutes":{const yn=u.setMinutes(ht,xt),Gn=u.setSeconds(yn,0),xi=u.setSeconds(yn,59);return!en({start:Gn,end:xi})||!_n(xt,be)}case"seconds":{const yn=u.setSeconds(ht,xt);return!en({start:yn,end:yn})||!_n(xt)}default:throw new Error("not supported")}},[x,ht,he,ce,st,de,be,Ie,u,ve,ye,Pt,Qt]),Fe=M.useCallback(xt=>{switch(xt){case"hours":return{onChange:tt=>{const Mt=dn(tt,st,x);Ke(u.setHours(ht,Mt),"finish","hours")},items:Np({now:Pt,value:Dt,ampm:x,utils:u,isDisabled:tt=>ut(tt,"hours"),timeStep:ct.hours,resolveAriaLabel:wt.hoursClockNumberText,valueOrReferenceDate:ht})};case"minutes":return{onChange:tt=>{Ke(u.setMinutes(ht,tt),"finish","minutes")},items:Fo({value:u.getMinutes(ht),utils:u,isDisabled:tt=>ut(tt,"minutes"),resolveLabel:tt=>u.format(u.setMinutes(Pt,tt),"minutes"),timeStep:ct.minutes,hasValue:!!Dt,resolveAriaLabel:wt.minutesClockNumberText})};case"seconds":return{onChange:tt=>{Ke(u.setSeconds(ht,tt),"finish","seconds")},items:Fo({value:u.getSeconds(ht),utils:u,isDisabled:tt=>ut(tt,"seconds"),resolveLabel:tt=>u.format(u.setSeconds(Pt,tt),"seconds"),timeStep:ct.seconds,hasValue:!!Dt,resolveAriaLabel:wt.secondsClockNumberText})};case"meridiem":{const tt=ke(u,"am"),Mt=ke(u,"pm");return{onChange:Lt,items:[{value:"am",label:tt,isSelected:()=>!!Dt&&st==="am",isFocused:()=>!!ht&&st==="am",ariaLabel:tt},{value:"pm",label:Mt,isSelected:()=>!!Dt&&st==="pm",isFocused:()=>!!ht&&st==="pm",ariaLabel:Mt}]}}default:throw new Error(`Unknown view: ${xt} found.`)}},[Pt,Dt,x,u,ct.hours,ct.minutes,ct.seconds,wt.hoursClockNumberText,wt.minutesClockNumberText,wt.secondsClockNumberText,st,Ke,ht,ut,Lt]),At=M.useMemo(()=>Qt.reduce((xt,tt)=>(0,$.A)({},xt,{[tt]:Fe(tt)}),{}),[Qt,Fe]),Ct=v,vt=Rp(Ct);return(0,Ce.jsx)(Bp,(0,$.A)({ref:l,className:(0,ln.A)(vt.root,Ve),ownerState:Ct,role:"group"},Tt,{children:Object.entries(At).map(([xt,tt])=>(0,Ce.jsx)(Lp,{items:tt.items,onChange:tt.onChange,active:je===xt,autoFocus:B!=null?B:_t===xt,disabled:Qe,readOnly:Me,slots:z,slotProps:Y,skipDisabled:ot,"aria-label":wt.selectViewText(xt)},xt))}))}),tr=({view:y,onViewChange:a,focusedView:l,onFocusedViewChange:u,views:v,value:x,defaultValue:O,referenceDate:B,onChange:z,className:Y,classes:te,disableFuture:re,disablePast:oe,minTime:he,maxTime:ce,shouldDisableTime:de,minutesStep:ve,ampm:ye,ampmInClock:be,slots:Ie,slotProps:Ge,readOnly:Pe,disabled:We,sx:ze,autoFocus:$e,showViewSwitcher:Ze,disableIgnoringDatePartForTimeValidation:qe,timezone:Ve})=>(0,Ce.jsx)(Cp,{view:y,onViewChange:a,focusedView:l&&Vt(l)?l:null,onFocusedViewChange:u,views:v.filter(Vt),value:x,defaultValue:O,referenceDate:B,onChange:z,className:Y,classes:te,disableFuture:re,disablePast:oe,minTime:he,maxTime:ce,shouldDisableTime:de,minutesStep:ve,ampm:ye,ampmInClock:be,slots:Ie,slotProps:Ge,readOnly:Pe,disabled:We,sx:ze,autoFocus:$e,showViewSwitcher:Ze,disableIgnoringDatePartForTimeValidation:qe,timezone:Ve}),jp=({view:y,onViewChange:a,focusedView:l,onFocusedViewChange:u,views:v,value:x,defaultValue:O,referenceDate:B,onChange:z,className:Y,classes:te,disableFuture:re,disablePast:oe,minTime:he,maxTime:ce,shouldDisableTime:de,minutesStep:ve,ampm:ye,slots:be,slotProps:Ie,readOnly:Ge,disabled:Pe,sx:We,autoFocus:ze,disableIgnoringDatePartForTimeValidation:$e,timeSteps:Ze,skipDisabled:qe,timezone:Ve})=>(0,Ce.jsx)(Tp,{view:y,onViewChange:a,focusedView:l,onFocusedViewChange:u,views:v.filter(Vt),value:x,defaultValue:O,referenceDate:B,onChange:z,className:Y,classes:te,disableFuture:re,disablePast:oe,minTime:he,maxTime:ce,shouldDisableTime:de,minutesStep:ve,ampm:ye,slots:be,slotProps:Ie,readOnly:Ge,disabled:Pe,sx:We,autoFocus:ze,disableIgnoringDatePartForTimeValidation:$e,timeStep:Ze==null?void 0:Ze.minutes,skipDisabled:qe,timezone:Ve}),Oo=({view:y,onViewChange:a,focusedView:l,onFocusedViewChange:u,views:v,value:x,defaultValue:O,referenceDate:B,onChange:z,className:Y,classes:te,disableFuture:re,disablePast:oe,minTime:he,maxTime:ce,shouldDisableTime:de,minutesStep:ve,ampm:ye,slots:be,slotProps:Ie,readOnly:Ge,disabled:Pe,sx:We,autoFocus:ze,disableIgnoringDatePartForTimeValidation:$e,timeSteps:Ze,skipDisabled:qe,timezone:Ve})=>(0,Ce.jsx)(Wp,{view:y,onViewChange:a,focusedView:l,onFocusedViewChange:u,views:v.filter(Vt),value:x,defaultValue:O,referenceDate:B,onChange:z,className:Y,classes:te,disableFuture:re,disablePast:oe,minTime:he,maxTime:ce,shouldDisableTime:de,minutesStep:ve,ampm:ye,slots:be,slotProps:Ie,readOnly:Ge,disabled:Pe,sx:We,autoFocus:ze,disableIgnoringDatePartForTimeValidation:$e,timeSteps:Ze,skipDisabled:qe,timezone:Ve}),zp=null,tm=(y,a)=>{let{views:l,format:u}=a,v=_objectWithoutPropertiesLoose(a,zp);if(u)return u;const x=[],O=[];if(l.forEach(Y=>{isTimeView(Y)?O.push(Y):x.push(Y)}),O.length===0)return resolveDateFormat(y,_extends({views:x},v),!1);if(x.length===0)return resolveTimeFormat(y,_extends({views:O},v));const B=resolveTimeFormat(y,_extends({views:O},v));return`${resolveDateFormat(y,_extends({views:x},v),!1)} ${B}`},Vp=(y,a,l)=>l?a.filter(u=>!Ut(u)||u==="hours"):y?[...a,"meridiem"]:a,Hp=(y,a)=>{var l,u;return 24*60/(((l=y.hours)!=null?l:1)*((u=y.minutes)!=null?u:5))<=a};function Up({thresholdToRenderTimeInASingleColumn:y,ampm:a,timeSteps:l,views:u}){const v=y!=null?y:24,x=(0,$.A)({hours:1,minutes:5,seconds:5},l),O=Hp(x,v);return{thresholdToRenderTimeInASingleColumn:v,timeSteps:x,shouldRenderTimeInASingleColumn:O,views:Vp(a,u,O)}}const Lo=M.forwardRef(function(a,l){var ye,be,Ie,Ge,Pe,We;const u=On(),v=Zt(),x=Ao(a,"MuiDesktopTimePicker"),{shouldRenderTimeInASingleColumn:O,views:B,timeSteps:z}=Up(x),Y=O?jp:Oo,te=(0,$.A)({hours:Y,minutes:Y,seconds:Y,meridiem:Y},x.viewRenderers),re=(ye=x.ampmInClock)!=null?ye:!0,oe=O?[]:["accept"],ce=((be=te.hours)==null?void 0:be.name)===Oo.name?B:B.filter(ze=>ze!=="meridiem"),de=(0,$.A)({},x,{ampmInClock:re,timeSteps:z,viewRenderers:te,format:un(v,x),views:O?["hours"]:ce,slots:(0,$.A)({field:So,openPickerIcon:Ga},x.slots),slotProps:(0,$.A)({},x.slotProps,{field:ze=>{var $e;return(0,$.A)({},ne(($e=x.slotProps)==null?void 0:$e.field,ze),fs(x),{ref:l})},toolbar:(0,$.A)({hidden:!0,ampmInClock:re},(Ie=x.slotProps)==null?void 0:Ie.toolbar),actionBar:(0,$.A)({actions:oe},(Ge=x.slotProps)==null?void 0:Ge.actionBar)})}),{renderPicker:ve}=Sr({props:de,valueManager:Nn,valueType:"time",getOpenDialogAriaText:(We=(Pe=de.localeText)==null?void 0:Pe.openTimePickerDialogue)!=null?We:u.openTimePickerDialogue,validator:qs});return ve()});Lo.propTypes={ampm:I().bool,ampmInClock:I().bool,autoFocus:I().bool,className:I().string,closeOnSelect:I().bool,defaultValue:I().object,disabled:I().bool,disableFuture:I().bool,disableIgnoringDatePartForTimeValidation:I().bool,disableOpenPicker:I().bool,disablePast:I().bool,enableAccessibleFieldDOMStructure:I().any,format:I().string,formatDensity:I().oneOf(["dense","spacious"]),inputRef:De,label:I().node,localeText:I().object,maxTime:I().object,minTime:I().object,minutesStep:I().number,name:I().string,onAccept:I().func,onChange:I().func,onClose:I().func,onError:I().func,onOpen:I().func,onSelectedSectionsChange:I().func,onViewChange:I().func,open:I().bool,openTo:I().oneOf(["hours","meridiem","minutes","seconds"]),orientation:I().oneOf(["landscape","portrait"]),readOnly:I().bool,reduceAnimations:I().bool,referenceDate:I().object,selectedSections:I().oneOfType([I().oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),I().number]),shouldDisableTime:I().func,skipDisabled:I().bool,slotProps:I().object,slots:I().object,sx:I().oneOfType([I().arrayOf(I().oneOfType([I().func,I().object,I().bool])),I().func,I().object]),thresholdToRenderTimeInASingleColumn:I().number,timeSteps:I().shape({hours:I().number,minutes:I().number,seconds:I().number}),timezone:I().string,value:I().object,view:I().oneOf(["hours","meridiem","minutes","seconds"]),viewRenderers:I().shape({hours:I().func,meridiem:I().func,minutes:I().func,seconds:I().func}),views:I().arrayOf(I().oneOf(["hours","minutes","seconds"]).isRequired)};const No=M.forwardRef(function(a,l){var te,re,oe,he;const u=On(),v=Zt(),x=Ao(a,"MuiMobileTimePicker"),O=(0,$.A)({hours:tr,minutes:tr,seconds:tr},x.viewRenderers),B=(te=x.ampmInClock)!=null?te:!1,z=(0,$.A)({},x,{ampmInClock:B,viewRenderers:O,format:un(v,x),slots:(0,$.A)({field:So},x.slots),slotProps:(0,$.A)({},x.slotProps,{field:ce=>{var de;return(0,$.A)({},ne((de=x.slotProps)==null?void 0:de.field,ce),fs(x),{ref:l})},toolbar:(0,$.A)({hidden:!1,ampmInClock:B},(re=x.slotProps)==null?void 0:re.toolbar)})}),{renderPicker:Y}=Qr({props:z,valueManager:Nn,valueType:"time",getOpenDialogAriaText:(he=(oe=z.localeText)==null?void 0:oe.openTimePickerDialogue)!=null?he:u.openTimePickerDialogue,validator:qs});return Y()});No.propTypes={ampm:I().bool,ampmInClock:I().bool,autoFocus:I().bool,className:I().string,closeOnSelect:I().bool,defaultValue:I().object,disabled:I().bool,disableFuture:I().bool,disableIgnoringDatePartForTimeValidation:I().bool,disableOpenPicker:I().bool,disablePast:I().bool,enableAccessibleFieldDOMStructure:I().any,format:I().string,formatDensity:I().oneOf(["dense","spacious"]),inputRef:De,label:I().node,localeText:I().object,maxTime:I().object,minTime:I().object,minutesStep:I().number,name:I().string,onAccept:I().func,onChange:I().func,onClose:I().func,onError:I().func,onOpen:I().func,onSelectedSectionsChange:I().func,onViewChange:I().func,open:I().bool,openTo:I().oneOf(["hours","minutes","seconds"]),orientation:I().oneOf(["landscape","portrait"]),readOnly:I().bool,reduceAnimations:I().bool,referenceDate:I().object,selectedSections:I().oneOfType([I().oneOf(["all","day","empty","hours","meridiem","minutes","month","seconds","weekDay","year"]),I().number]),shouldDisableTime:I().func,slotProps:I().object,slots:I().object,sx:I().oneOfType([I().arrayOf(I().oneOfType([I().func,I().object,I().bool])),I().func,I().object]),timezone:I().string,value:I().object,view:I().oneOf(["hours","minutes","seconds"]),viewRenderers:I().shape({hours:I().func,minutes:I().func,seconds:I().func}),views:I().arrayOf(I().oneOf(["hours","minutes","seconds"]).isRequired)};const Gp=["desktopModeMediaQuery"],Jp=M.forwardRef(function(a,l){const u=(0,Z.A)({props:a,name:"MuiTimePicker"}),{desktopModeMediaQuery:v=hr}=u,x=(0,H.A)(u,Gp);return(0,G.A)(v,{defaultMatches:!0})?(0,Ce.jsx)(Lo,(0,$.A)({ref:l},x)):(0,Ce.jsx)(No,(0,$.A)({ref:l},x))});class Kp extends f{componentDidMount(){super.componentDidMount();const a=f.getValue(this.props.data,this.props.attr);this.setState({value:a})}renderItem(a,l){const u=this.props.schema.returnFormat!=="HH:mm:ss",v=new Date(Date.parse(`Thu, 01 Jan 1970 ${this.state.value||"00:00:00"}`));return h().createElement(Jp,{sx:x=>({width:"100%",borderBottom:`1px solid ${x.palette.text.primary}`,"& fieldset":{display:"none"},"& input":{padding:`${x.spacing(1.5)} 0 4px 0`},"& .MuiInputAdornment-root":{marginLeft:0,marginTop:1},"& label":{transform:"translate(0px, -9px) scale(0.75)"}}),ampm:this.props.systemConfig.dateFormat.includes("/"),timeSteps:this.props.schema.timeSteps||this.props.schema.timesteps||{hours:1,minutes:5,seconds:5},format:this.props.schema.format||"HH:mm:ss",disabled:!!l,value:v,onChange:x=>{let O=x.toTimeString();O=x instanceof Date?x.toTimeString().split(" ")[0]:x.toTimeString(),u&&(O=O.split(":").slice(0,2).join(":")),this.setState({value:O},()=>this.onChange(this.props.attr,this.state.value))},views:this.props.schema.views||["hours","minutes","seconds"],label:this.getText(this.props.schema.label)})}}const Yp=()=>({fullWidth:{width:"100%"},icon:{width:16,height:16,marginRight:8}});function Xp(y,a,l){let u;return l&&y.substring(0,l.length)===l?u=y.substring(l.length+1):u=y,u=u.replace(/\./g,"/").replace(/_/g," "),u}class Po extends f{componentDidMount(){super.componentDidMount();const a=f.getValue(this.props.data,this.props.attr);if(!a&&this.props.customObj&&this.props.customObj._id){const l=Xp(this.props.customObj._id,null,`${this.props.adapterName}.${this.props.instance}`);this.setState({value:l})}else this.setState({value:a||""})}renderItem(a,l){return h().createElement(e.TextField,{variant:"standard",fullWidth:!0,inputProps:{maxLength:this.props.schema.maxLength||this.props.schema.max||void 0},value:this.state.value,error:!!a,disabled:l,placeholder:this.getText(this.props.schema.placeholder),label:this.getText(this.props.schema.label),helperText:this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation),onChange:u=>{const v=u.target.value;this.setState({value:v},()=>this.onChange(this.props.attr,v))}})}}Po.propTypes={socket:I().object.isRequired,themeType:I().string,themeName:I().string,style:I().object,className:I().string,data:I().object.isRequired,schema:I().object,onError:I().func,onChange:I().func,adapterName:I().string,instance:I().number,customObj:I().object};const Zp=(0,F.withStyles)(Yp)(Po);class nr extends f{componentDidMount(){return Nt(this,null,function*(){var l;Wn(nr.prototype,this,"componentDidMount").call(this);const a=yield this.props.socket.getObject("system.meta.uuid");this.setState({uuid:((l=a==null?void 0:a.native)==null?void 0:l.uuid)||"unknown"})})}renderItem(a,l){return h().createElement(e.TextField,{variant:"standard",fullWidth:!0,error:!!a,disabled:!!l,inputProps:{readOnly:!0},InputProps:{endAdornment:h().createElement(e.IconButton,{onClick:()=>{t.Utils.copyToClipboard(this.state.uuid),window.alert(t.I18n.t("ra_Copied %s",this.state.uuid))}},h().createElement(s.ContentCopy,null))},value:this.state.uuid||"",label:this.getText(this.props.schema.label)||t.I18n.t("ra_Serial number (UUID)"),helperText:this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)})}}const Qp=nr,qp=()=>({fullWidth:{width:"100%"},icon:{width:16,height:16,marginRight:8}});class Ro extends f{componentDidMount(){super.componentDidMount(),this.props.socket.getUsers().then(a=>{const l={},u=t.I18n.getLanguage();this.props.schema.short?a.forEach(v=>{var x,O;return l[v._id]={color:(x=v.common)==null?void 0:x.color,icon:(O=v.common)==null?void 0:O.icon,name:t.Utils.getObjectNameFromObj(v,u)}}):a.forEach(v=>{var x,O;return l[v._id.replace(/^system\.user\./,"")]={color:(x=v.common)==null?void 0:x.color,icon:(O=v.common)==null?void 0:O.icon,name:t.Utils.getObjectNameFromObj(v,u)}}),this.setState({users:l})})}renderItem(a,l){var v,x;const u=f.getValue(this.props.data,this.props.attr);return h().createElement(e.FormControl,{variant:"standard",className:this.props.classes.fullWidth},this.state.users&&this.props.schema.label?h().createElement(e.InputLabel,null,this.getText(this.props.schema.label)):null,this.state.users?h().createElement(e.Select,{variant:"standard",error:!!a,disabled:!!l,value:u,renderValue:O=>{var B,z,Y;return h().createElement("span",null,this.state.users&&((B=this.state.users[O])!=null&&B.icon)?h().createElement(t.Icon,{src:this.state.users&&((z=this.state.users[O])==null?void 0:z.icon),className:this.props.classes.icon}):null,this.state.users&&((Y=this.state.users[O])==null?void 0:Y.name)||O||"")},style:{color:this.state.users&&((v=this.state.users[u])==null?void 0:v.color)||void 0,backgroundColor:t.Utils.getInvertedColor(this.state.users&&((x=this.state.users[u])==null?void 0:x.color),this.props.themeType)},onChange:O=>this.onChange(this.props.attr,O.target.value)},this.state.users&&Object.keys(this.state.users).map(O=>h().createElement(e.MenuItem,{style:{color:this.state.users[O].color||void 0,backgroundColor:t.Utils.getInvertedColor(this.state.users[O].color,this.props.themeType)},key:O,value:O},this.state.users[O].icon?h().createElement(t.Icon,{src:this.state.users[O].icon,className:this.props.classes.icon}):null,this.state.users[O].name))):h().createElement(e.TextField,{variant:"standard",error:!!a,disabled:!!l,value:u,onChange:O=>this.onChange(this.props.attr,O.target.value),label:this.getText(this.props.schema.label)}),this.props.schema.help?h().createElement(e.FormHelperText,null,this.renderHelp(this.props.schema.help,this.props.schema.helpLink,this.props.schema.noTranslation)):null)}}Ro.propTypes={socket:I().object.isRequired,themeType:I().string,themeName:I().string,style:I().object,className:I().string,data:I().object.isRequired,schema:I().object,onError:I().func,onChange:I().func};const ef=(0,F.withStyles)(qp)(Ro),tf={accordion:m,alive:R,autocomplete:_,autocompleteSendTo:V,certCollection:He,certificate:se,certificates:_e,checkbox:It,checkLicense:rt,chip:lt,chips:lt,color:Oe,coordinates:Wt,cron:J,custom:pe,datePicker:Zu,deviceManager:qu,divider:ch,file:pd,fileSelector:to,func:md,header:dh,image:Cd,imageSendTo:bd,instance:Ed,interface:Ad,ip:vd,jsonEditor:Fd,language:Pd,license:Rd,number:jd,objectId:Vd,password:Ud,pattern:Gd,port:Kd,room:Xd,select:Qd,selectSendTo:th,sendto:po,sendTo:po,setState:rh,slider:ah,staticImage:ph,staticLink:wo,staticText:wo,table:bh,text:Sh,textSendTo:Ah,timePicker:Kp,topic:Zp,uuid:Qp,user:ef},nf=y=>({fullWidth:{width:"100%"},paper:{margin:10,height:"calc(100vh - 235px) !important",width:"auto !important",overflowY:"auto",paddingBottom:y.spacing(1)},padding:{padding:10},heading:{},primary:{backgroundColor:y.palette.primary.main,color:y.palette.mode==="dark"?"inherit":"#FFF"},secondary:{backgroundColor:y.palette.secondary.main}});class sf extends f{componentDidMount(){super.componentDidMount(),this.props.schema&&this.props.schema.collapsable&&this.setState({expanded:(window._localStorage||window.localStorage).getItem(`${this.props.adapterName}.${this.props.attr}`)==="true"})}renderItems(a,l){const u=this.props.classes||{};return a?Object.keys(a).map(v=>{if(this.props.multiEdit&&a[v].noMultiEdit)return null;const x=a[v].type||"panel";let O;return x==="custom"?a[v].url?O=pe:this.props.customs&&this.props.customs[a[v].component]?O=this.props.customs[a[v].component]:(console.error(`Cannot find custom component: ${a[v].component}`),O=f):x==="panel"?O=Bo:O=tf[x]||f,h().createElement(O,{key:`${v}_${this.props.index===void 0?"":this.props.index}`,index:this.props.index,changed:this.props.changed,arrayIndex:this.props.arrayIndex,globalData:this.props.globalData,onCommandRunning:this.props.onCommandRunning,commandRunning:this.props.commandRunning,className:u.panel,socket:this.props.socket,adapterName:this.props.adapterName,instance:this.props.instance,common:this.props.common,customs:this.props.customs,alive:this.props.alive,themeType:this.props.themeType,themeName:this.props.themeName,data:this.props.data,originalData:this.props.originalData,systemConfig:this.props.systemConfig,onError:this.props.onError,onChange:this.props.onChange,multiEdit:this.props.multiEdit,dateFormat:this.props.dateFormat,isFloatComma:this.props.isFloatComma,disabled:l,imagePrefix:this.props.imagePrefix,changeLanguage:this.props.changeLanguage,forceUpdate:this.props.forceUpdate,registerOnForceUpdate:this.props.registerOnForceUpdate,customObj:this.props.customObj,instanceObj:this.props.instanceObj,custom:this.props.custom,schema:a[v],attr:v,table:this.props.table})}):null}render(){const a=this.props.schema;if(!a)return null;const{disabled:l,hidden:u}=this.calculate(a),v=this.props.schema.items,x=this.props.classes||{},O=this.props.schema.style||{};if(u){if(a.hideOnlyControl){const z=h().createElement(e.Grid,{item:!0,xs:a.xs||void 0,lg:a.lg||void 0,md:a.md||void 0,sm:a.sm||void 0,style:Yt(Yt({marginBottom:0,textAlign:"left"},a.style),this.props.themeType==="dark"?a.darkStyle:{})});return a.newLine?h().createElement(h().Fragment,null,h().createElement("div",{style:{flexBasis:"100%",height:0}}),z):z}return null}if(this.props.table)return this.renderItems(v,l);if(this.props.custom)return h().createElement(e.Grid,{key:`${this.props.attr}_${this.props.index}`,container:!0,className:x.fullWidth,spacing:2,style:O},this.renderItems(v,l));let B;if(a.collapsable?B=h().createElement(e.Accordion,{key:`${this.props.attr}_${this.props.index}`,className:x.fullWidth,expanded:!!this.state.expanded,onChange:()=>{(window._localStorage||window.localStorage).setItem(`${this.props.adapterName}.${this.props.attr}`,this.state.expanded?"false":"true"),this.setState({expanded:!this.state.expanded})}},h().createElement(e.AccordionSummary,{expandIcon:h().createElement(s.ExpandMore,null),style:Yt(Yt({},a.style),this.props.themeType?a.darkStyle:{}),className:t.Utils.clsx(x.fullWidth,a.color==="primary"&&x.primary,a.color==="secondary"&&x.secondary)},h().createElement(e.Typography,{className:x.heading},this.getText(a.label))),h().createElement(e.AccordionDetails,null,h().createElement(e.Grid,{container:!0,className:`${x.fullWidth} ${x.padding}`,spacing:2,style:O},this.renderItems(v,l)))):B=h().createElement("div",{key:`${this.props.attr}_${this.props.index}`,className:t.Utils.clsx(this.props.className,this.props.isParentTab&&x.paper,x.fullWidth),style:O},h().createElement(e.Grid,{container:!0,className:t.Utils.clsx(x.fullWidth,this.props.isParentTab&&x.padding),spacing:2,style:this.props.schema.innerStyle},this.renderItems(v,l))),!this.props.isParentTab){const z=h().createElement(e.Grid,{item:!0,title:this.getText(a.tooltip),xs:a.xs||void 0,lg:a.lg||void 0,md:a.md||void 0,sm:a.sm||void 0,style:Yt({marginBottom:0,textAlign:"left"},a.style)},B);return a.newLine?h().createElement(h().Fragment,null,h().createElement("div",{style:{flexBasis:"100%",height:0}}),z):z}return B}}const Bo=(0,F.withStyles)(nf)(sf),es=Bo,rf={tabs:{height:"100%",width:"100%"},panel:{height:"calc(100% - 48px)",width:"100%",display:"block"}};class of extends f{constructor(a){super(a);let l=(window._localStorage||window.localStorage).getItem(`${this.props.dialogName||"App"}.${this.props.adapterName}`)||Object.keys(this.props.schema.items)[0];Object.keys(this.props.schema.items).includes(l)||(l=Object.keys(this.props.schema.items)[0]),Object.assign(this.state,{tab:l})}render(){const a=this.props.schema.items;return h().createElement("div",{className:this.props.classes.tabs},h().createElement(e.Tabs,{variant:"scrollable",scrollButtons:"auto",style:this.props.schema.tabsStyle,value:this.state.tab,onChange:(l,u)=>{(window._localStorage||window.localStorage).setItem(`${this.props.dialogName||"App"}.${this.props.adapterName}`,u),this.setState({tab:u})}},Object.keys(a).map(l=>{let u;if(this.props.custom){if(this.executeCustom(a[l].hidden,this.props.data,this.props.customObj,this.props.instanceObj,this.props.index,this.props.globalData))return null;u=this.executeCustom(a[l].disabled,this.props.data,this.props.customObj,this.props.instanceObj,this.props.index,this.props.globalData)}else{if(this.execute(a[l].hidden,!1,this.props.data,this.props.index,this.props.globalData))return null;u=this.execute(a[l].disabled,!1,this.props.data,this.props.index,this.props.globalData)}return h().createElement(e.Tab,{wrapped:!0,disabled:u,key:l,value:l,iconPosition:this.props.schema.iconPosition||"start",icon:this.getIcon(a[l].icon),label:this.getText(a[l].label)})})),h().createElement(es,{isParentTab:!0,changed:this.props.changed,key:this.state.tab,index:1001,arrayIndex:this.props.arrayIndex,globalData:this.props.globalData,onCommandRunning:this.props.onCommandRunning,commandRunning:this.props.commandRunning,className:this.props.classes.panel,socket:this.props.socket,adapterName:this.props.adapterName,instance:this.props.instance,common:this.props.common,customs:this.props.customs,alive:this.props.alive,themeType:this.props.themeType,themeName:this.props.themeName,data:this.props.data,originalData:this.props.originalData,systemConfig:this.props.systemConfig,onError:this.props.onError,onChange:this.props.onChange,multiEdit:this.props.multiEdit,dateFormat:this.props.dateFormat,isFloatComma:this.props.isFloatComma,imagePrefix:this.props.imagePrefix,changeLanguage:this.props.changeLanguage,forceUpdate:this.props.forceUpdate,registerOnForceUpdate:this.props.registerOnForceUpdate,customObj:this.props.customObj,instanceObj:this.props.instanceObj,custom:this.props.custom,schema:a[this.state.tab],table:this.props.table}))}}const af=(0,F.withStyles)(rf)(of),lf={root:{width:"100%",height:"100%"}};class Wo extends M.Component{constructor(l){super(l);$t(this,"forceUpdateHandlers");$t(this,"errorTimeout",null);$t(this,"errorCached",null);$t(this,"onCommandRunning",l=>this.setState({commandRunning:l}));$t(this,"onAlive",(l,u)=>{!!(u!=null&&u.val)!==this.state.alive&&this.setState({alive:!!(u!=null&&u.val)})});$t(this,"onChange",(l,u,v,x)=>{if(this.props.onValueChange)this.props.onValueChange(l,u,x),v&&v();else if(l&&this.props.onChange){const O={data:l};O.changed=JSON.stringify(l)!==this.state.originalData,this.setState(O,()=>{this.props.onChange(l,O.changed,x),v&&v()})}else x&&this.props.onChange(null,null,x)});$t(this,"onError",(l,u)=>{this.errorCached=this.errorCached||JSON.parse(JSON.stringify(this.state.errors));const v=this.errorCached;u?v[l]=u:delete v[l],this.errorTimeout&&clearTimeout(this.errorTimeout),JSON.stringify(v)!==JSON.stringify(this.state.errors)?this.errorTimeout=setTimeout(()=>this.setState({errors:this.errorCached},()=>{this.errorTimeout=null,this.errorCached=null,this.props.onError(!!Object.keys(this.state.errors).length)}),50):this.errorCached=null});$t(this,"changeLanguage",()=>{this.forceUpdate()});$t(this,"forceAttrUpdate",(l,u)=>{Array.isArray(l)?l.forEach(v=>this.forceUpdateHandlers[v]&&this.forceUpdateHandlers[v](u)):this.forceUpdateHandlers[l]&&this.forceUpdateHandlers[l](u)});$t(this,"registerOnForceUpdate",(l,u)=>{u?this.forceUpdateHandlers[l]=u:this.forceUpdateHandlers[l]&&delete this.forceUpdateHandlers[l]});this.state={originalData:JSON.stringify(this.props.data),changed:!1,errors:{},updateData:this.props.updateData||0,systemConfig:null,alive:!1,commandRunning:!1,schema:JSON.parse(JSON.stringify(this.props.schema)),data:null},this.forceUpdateHandlers={},this.buildDependencies(this.state.schema),this.readData()}static getDerivedStateFromProps(l,u){return l.updateData!==u.updateData?{updateData:l.updateData,originalData:JSON.stringify(l.data),schema:JSON.parse(JSON.stringify(l.schema))}:null}static loadI18n(l,u,v){return Nt(this,null,function*(){if(u===!0||u&&typeof u=="string"){const x=t.I18n.getLanguage(),O=typeof u=="string"?u:"i18n";let B=yield l.fileExists(`${v}.admin`,`${O}/${x}.json`),z;if(B?z=`${O}/${x}.json`:(B=yield l.fileExists(`${v}.admin`,`${O}/${x}/translations.json`),B?z=`${O}/${x}/translations.json`:x!=="en"&&(B=yield l.fileExists(`${v}.admin`,`${O}/en.json`),B?z=`${O}/en.json`:(B=yield l.fileExists(`${v}.admin`,`${O}/en/translations.json`),B&&(z=`${O}/en/translations.json`)))),z){const Y=yield l.readFile(`${v}.admin`,z);let te;Y.file!==void 0?te=Y.file:te=Y;try{const re=JSON.parse(te);t.I18n.extendTranslations(re,x)}catch(re){return console.error(`Cannot parse language file "${v}.admin/${z}: ${re}`),""}return z}return console.warn(`Cannot find i18n for ${v} / ${z}`),""}return u&&typeof u=="object"&&t.I18n.extendTranslations(u),""})}readSettings(){return Nt(this,null,function*(){if((this.props.custom||this.props.common)&&this.props.data)return;const l=yield this.props.socket.getObject(`system.adapter.${this.props.adapterName}.${this.props.instance}`);this.setState({data:this.props.data||l.native})})}readData(){this.readSettings().then(()=>this.props.socket.getCompactSystemConfig()).then(l=>this.props.socket.getState(`system.adapter.${this.props.adapterName}.${this.props.instance}.alive`).then(u=>{this.props.custom?this.setState({systemConfig:l.common,alive:!!(u&&u.val)}):this.setState({systemConfig:l.common,alive:!!(u&&u.val)},()=>this.props.socket.subscribeState(`system.adapter.${this.props.adapterName}.${this.props.instance}.alive`,this.onAlive))}))}flatten(l,u){return u=u||{},l.items&&Object.keys(l.items).forEach(v=>{u[v]=l.items[v],this.flatten(l.items[v],u)}),u}buildDependencies(l){const u=this.flatten(l);Object.keys(u).forEach(v=>{var x,O,B,z,Y,te,re,oe,he,ce;(x=u[v].confirm)!=null&&x.alsoDependsOn&&((O=u[v].confirm)==null||O.alsoDependsOn.forEach(de=>{if(!u[de])console.error(`[JsonConfigComponent] Attribute ${de} does not exist!`),de.startsWith("data.")&&console.warn(`[JsonConfigComponent] please use "${de.replace(/^data\./,"")}" instead of "${de}"`);else{u[de].confirmDependsOn=u[de].confirmDependsOn||[];const ve=zn(Yt({},u[v]),{attr:v});ve.confirm&&(ve.confirm.cancel="Undo"),u[de].confirmDependsOn.push(ve)}})),(B=u[v].onChange)!=null&&B.alsoDependsOn&&((z=u[v].onChange)==null||z.alsoDependsOn.forEach(de=>{if(!u[de])console.error(`[JsonConfigComponent] Attribute ${de} does not exist!`),de.startsWith("data.")&&console.warn(`[JsonConfigComponent] please use "${de.replace(/^data\./,"")}" instead of "${de}"`);else{u[de].onChangeDependsOn=u[de].onChangeDependsOn||[];const ve=zn(Yt({},u[v]),{attr:v});u[de].onChangeDependsOn.push(ve)}})),(Y=u[v].hidden)!=null&&Y.alsoDependsOn&&((te=u[v].hidden)==null||te.alsoDependsOn.forEach(de=>{if(!u[de])console.error(`[JsonConfigComponent] Attribute ${de} does not exist!`),de.startsWith("data.")&&console.warn(`[JsonConfigComponent] please use "${de.replace(/^data\./,"")}" instead of "${de}"`);else{u[de].hiddenDependsOn=u[de].hiddenDependsOn||[];const ve=zn(Yt({},u[v]),{attr:v});u[de].hiddenDependsOn.push(ve)}})),(re=u[v].label)!=null&&re.alsoDependsOn&&((oe=u[v].label)==null||oe.alsoDependsOn.forEach(de=>{if(!u[de])console.error(`[JsonConfigComponent] Attribute ${de} does not exist!`),de.startsWith("data.")&&console.warn(`[JsonConfigComponent] please use "${de.replace(/^data\./,"")}" instead of "${de}"`);else{u[de].labelDependsOn=u[de].labelDependsOn||[];const ve=zn(Yt({},u[v]),{attr:v});u[de].labelDependsOn.push(ve)}})),(he=u[v].help)!=null&&he.alsoDependsOn&&((ce=u[v].help)==null||ce.alsoDependsOn.forEach(de=>{if(!u[de])console.error(`[JsonConfigComponent] Attribute ${de} does not exist!`),de.startsWith("data.")&&console.warn(`[JsonConfigComponent] please use "${de.replace(/^data\./,"")}" instead of "${de}"`);else{u[de].helpDependsOn=u[de].helpDependsOn||[];const ve=zn(Yt({},u[v]),{attr:v});u[de].helpDependsOn.push(ve)}}))})}renderItem(l){return l.type==="tabs"?h().createElement(af,{onCommandRunning:this.onCommandRunning,commandRunning:this.state.commandRunning,socket:this.props.socket,adapterName:this.props.adapterName,instance:this.props.instance,common:this.props.common,alive:this.state.alive,themeType:this.props.themeType,themeName:this.props.themeName,data:this.props.data,originalData:JSON.parse(this.state.originalData),schema:l,systemConfig:this.state.systemConfig,customs:this.props.customs,dateFormat:this.props.dateFormat,isFloatComma:this.props.isFloatComma,multiEdit:this.props.multiEdit,imagePrefix:this.props.imagePrefix,custom:this.props.custom,customObj:this.props.customObj,instanceObj:this.props.instanceObj,changeLanguage:this.changeLanguage,forceUpdate:this.forceAttrUpdate,registerOnForceUpdate:this.registerOnForceUpdate,onChange:this.onChange,changed:this.state.changed,onError:(u,v)=>this.onError(u,v)}):l.type==="panel"||!l.type?h().createElement(es,{index:1e3,isParentTab:!this.props.embedded,changed:this.state.changed,onCommandRunning:this.onCommandRunning,commandRunning:this.state.commandRunning,socket:this.props.socket,adapterName:this.props.adapterName,instance:this.props.instance,common:this.props.common,alive:this.state.alive,themeType:this.props.themeType,themeName:this.props.themeName,data:this.props.data,originalData:JSON.parse(this.state.originalData),schema:l,systemConfig:this.state.systemConfig,customs:this.props.customs,dateFormat:this.props.dateFormat,isFloatComma:this.props.isFloatComma,multiEdit:this.props.multiEdit,imagePrefix:this.props.imagePrefix,custom:this.props.custom,customObj:this.props.customObj,instanceObj:this.props.instanceObj,changeLanguage:this.changeLanguage,forceUpdate:this.forceAttrUpdate,registerOnForceUpdate:this.registerOnForceUpdate,onChange:this.onChange,onError:(u,v)=>this.onError(u,v)}):null}render(){return this.state.systemConfig?h().createElement("div",{className:t.Utils.clsx(!this.props.embedded&&this.props.classes.root,this.props.className),style:this.state.schema.style},this.renderItem(this.state.schema)):h().createElement(e.LinearProgress,null)}}const xs=(0,F.withStyles)(lf)(Wo),cf={root:{width:"100%",height:"100%",overflow:"hidden",position:"relative"},scroll:{height:"calc(100% - 48px)",overflowY:"auto"},exportImportButtons:{position:"absolute",top:5,right:0,zIndex:3},button:{marginRight:5}};function uf(y,a){let l="";for(let u=0;u<a.length;u++)l+=String.fromCharCode(y[u%y.length].charCodeAt(0)^a.charCodeAt(u));return l}function df(y,a){let l="";for(let u=0;u<a.length;u++)l+=String.fromCharCode(y[u%y.length].charCodeAt(0)^a.charCodeAt(u));return l}function hf(y,a){if(typeof a!="string")return a;if(!a.startsWith("$/aes-192-cbc:")||!/^[0-9a-f]{48}$/.test(y))return uf(y,a);const l=a.split(":",3),u=window.CryptoJS.enc.Hex.parse(y),v=window.CryptoJS.enc.Hex.parse(l[1]),x=window.CryptoJS.lib.CipherParams.create({ciphertext:window.CryptoJS.enc.Hex.parse(l[2])}),O=window.CryptoJS.AES.decrypt(x,u,{iv:v});return window.CryptoJS.enc.Utf8.stringify(O)}function pf(y,a,l){if(typeof a!="string")return a;if(!/^[0-9a-f]{48}$/.test(y))return df(y,a);let u;l?u=window.CryptoJS.enc.Hex.parse(l):u=window.CryptoJS.lib.WordArray.random(128/8);const v=window.CryptoJS.enc.Hex.parse(y),x=window.CryptoJS.AES.encrypt(a,v,{iv:u}).ciphertext;return`$/aes-192-cbc:${window.CryptoJS.enc.Hex.stringify(u)}:${x}`}function jo(y,a){var l;return!a||!document.getElementById(a)?new Promise(u=>{const v=document.createElement("script");v.setAttribute("id",a),v.onload=u,v.src=y,document.getElementsByTagName("head")[0].appendChild(v)}):(l=document.getElementById(a))==null?void 0:l.onload}class ir extends t.Router{constructor(l){super(l);$t(this,"fileSubscribed",[]);$t(this,"fileLangSubscribed","");$t(this,"secret","");$t(this,"handleFileSelect",l=>{const u=l.target.files[0];if(u){const v=new FileReader;v.onload=x=>Nt(this,null,function*(){if(!x.target)return;const O=x.target.result;try{const B=JSON.parse(O);this.setState({data:B,changed:JSON.stringify(B)!==JSON.stringify(this.state.originalData)})}catch(B){window.alert(t.I18n.t("[JsonConfig] Failed to parse JSON file"))}}),v.readAsText(u)}else window.alert(t.I18n.t("[JsonConfig] Failed to open JSON File"))});$t(this,"onFileChange",(l,u,v)=>Nt(this,null,function*(){var x;if(l===`${this.props.adapterName}.admin`&&v){if(u===this.fileLangSubscribed)try{yield xs.loadI18n(this.props.socket,(x=this.state.schema)==null?void 0:x.i18n,this.props.adapterName),this.setState({hash:`${this.state.hash}1`})}catch(O){}else if(this.fileSubscribed.includes(u))try{const O=yield this.getConfigFile(this.fileSubscribed[0]);this.setState({schema:O,hash:r()(JSON.stringify(O))})}catch(O){}}}));this.state={updateData:0,changed:!1,confirmDialog:!1,theme:(0,t.Theme)(l.themeName),saveConfigDialog:!1,hash:"_"},this.getInstanceObject().then(u=>this.getConfigFile().then(v=>xs.loadI18n(this.props.socket,v==null?void 0:v.i18n,this.props.adapterName).then(x=>{x&&(this.fileLangSubscribed||(this.fileLangSubscribed=x,this.props.socket.subscribeFiles(`${this.props.adapterName}.admin`,this.fileLangSubscribed,this.onFileChange))),u?this.setState({schema:v,data:u.native,common:u.common,hash:r()(JSON.stringify(v))}):window.alert(`Instance system.adapter.${this.props.adapterName}.${this.props.instance} not found!`)})))}componentWillUnmount(){return Nt(this,null,function*(){Wn(ir.prototype,this,"componentWillUnmount").call(this),this.fileSubscribed.length&&(this.props.socket.unsubscribeFiles(`${this.props.adapterName}.admin`,this.fileSubscribed,this.onFileChange),this.fileSubscribed=[]),this.fileLangSubscribed&&(this.props.socket.unsubscribeFiles(`${this.props.adapterName}.admin`,this.fileLangSubscribed,this.onFileChange),this.fileLangSubscribed="")})}getExportImportButtons(){return h().createElement("div",{className:this.props.classes.exportImportButtons},h().createElement(e.Tooltip,{title:this.props.t("Import settings from JSON file")},h().createElement(e.Fab,{size:"small",classes:{root:this.props.classes.button},onClick:()=>{const l=document.createElement("input");l.setAttribute("type","file"),l.setAttribute("id","files"),l.setAttribute("opacity",0),l.addEventListener("change",u=>this.handleFileSelect(u),!1),l.click()}},h().createElement(s.Publish,null))),h().createElement(e.Tooltip,{title:this.props.t("Export setting to JSON file")},h().createElement(e.Fab,{size:"small",classes:{root:this.props.classes.button},onClick:()=>{this.state.data&&E.generateFile(`${this.props.adapterName}.${this.props.instance}.json`,this.state.data)}},h().createElement(s.Publish,{style:{transform:"rotate(180deg)"}}))))}getInstanceObject(){return Nt(this,null,function*(){var l;try{const u=yield this.props.socket.getObject(`system.adapter.${this.props.adapterName}.${this.props.instance}`);if(Array.isArray(u.encryptedNative)){const v=yield this.props.socket.getSystemConfig();return yield jo("../../lib/js/crypto-js/crypto-js.js","crypto-js"),this.secret=v.native.secret,(l=u.encryptedNative)==null||l.forEach(x=>{u.native[x]&&(u.native[x]=hf(this.secret,u.native[x]))}),u}return u}catch(u){window.alert(`[JsonConfig] Cannot read instance object: ${u}`)}return null})}renderConfirmDialog(){return this.state.confirmDialog?h().createElement(t.Confirm,{title:t.I18n.t("ra_Please confirm"),text:t.I18n.t("ra_Some data are not stored. Discard?"),ok:t.I18n.t("ra_Discard"),cancel:t.I18n.t("ra_Cancel"),onClose:l=>this.setState({confirmDialog:!1},()=>l&&t.Router.doNavigate(null))}):null}scanForInclude(l,u){return Nt(this,null,function*(){if(typeof l["#include"]=="string"){const x=yield this._getConfigFile(l["#include"],[...u]);return delete l["#include"],x&&(l=Yt(Yt({},l),x)),l}const v=Object.keys(l);for(let x=0;x<v.length;x++)typeof l[v[x]]=="object"&&(l[v[x]]=yield this.scanForInclude(l[v[x]],u));return l})}getConfigFile(l){return Nt(this,null,function*(){return this._getConfigFile(l)})}_getConfigFile(l,u){return Nt(this,null,function*(){if(l=l||"jsonConfig.json5",u=u||[],u.includes(l))return window.alert(`[JsonConfig] Circular reference in file: ${l} => ${u.join(" => ")}`),null;u.push(l);try{(yield this.props.socket.fileExists(`${this.props.adapterName}.admin`,l))||(l="jsonConfig.json");const x=yield this.props.socket.readFile(`${this.props.adapterName}.admin`,l);let O="",B="";if(x.file!==void 0&&(B=x.file),typeof B=="string")O=B;else if(B.type==="Buffer"){let z="";const Y=new Uint8Array(B.data),te=Y.byteLength;for(let re=0;re<te;re++)z+=String.fromCharCode(Y[re]);O=z}this.fileSubscribed.includes(l)||(this.fileSubscribed.push(l),yield this.props.socket.subscribeFiles(`${this.props.adapterName}.admin`,l,this.onFileChange));try{return yield this.scanForInclude(d().parse(O),u)}catch(z){window.alert("[JsonConfig] Cannot parse json5 config!"),console.log(z)}}catch(v){!this.state.schema&&window.alert(`[JsonConfig] Cannot read file "${l}: ${v}`)}return null})}renderSaveConfigDialog(){return this.state.saveConfigDialog?h().createElement(t.Confirm,{title:t.I18n.t("ra_Please confirm"),text:t.I18n.t("Save configuration?"),ok:t.I18n.t("ra_Save"),cancel:t.I18n.t("ra_Cancel"),onClose:l=>this.setState({saveConfigDialog:!1},()=>l&&this.onSave(!0))}):null}findAttr(l,u){if(u=u||this.state.schema,u!=null&&u.items){if(l in u.items)return u.items[l];for(const v of Object.values(u.items)){const x=this.findAttr(l,v);if(x)return x}}return null}postProcessing(l,u,v){if(v=v||this.state.schema,!l){console.error(`Data is empty in postProcessing: ${u}, ${JSON.stringify(v)}`);return}const x=l[u];if(v.items)if(v.type==="table"){const O=x;if(!Array.isArray(O))return;for(const B of O)for(const z of v.items)this.postProcessing(B,z.attr,z)}else for(const[O,B]of Object.entries(v.items)){if(B.type==="panel"||B.type==="tabs"||B.type==="accordion")return;this.postProcessing(l,O,B)}else if(u&&typeof x=="string")if(v.type==="text")v.trim!==!1&&(l[u]=x.trim());else if(v.type==="ip")l[u]=x.trim();else if(v.type==="number"){const O=parseFloat(x.toString().replace(",","."));v.min!==void 0&&O<v.min?l[u]=v.min:v.max!==void 0&&O>v.max?l[u]=v.max:l[u]=O}else if(v.type==="port"){const O=parseInt(x.toString(),10);v.min!==void 0&&O<v.min?l[u]=v.min:v.max!==void 0&&O>v.max&&(l[u]=v.max),l[u]!==0&&O<20?l[u]=20:O>65535?l[u]=65535:l[u]=O}else v.type==="checkbox"&&(l[u]=l[u]===!0||l[u]==="true"||l[u]==="on"||l[u]===1||l[u]==="1")}onSave(l,u){return Nt(this,null,function*(){if(l){const v=yield this.getInstanceObject();if(!v){console.error("Something went wrong: may be no connection?"),window.alert("Something went wrong: may be no connection?");return}if(!this.state.data||!this.state.schema)return;const x={};for(const B of Object.keys(this.state.data)){const z=this.findAttr(B);(!z||!z.doNotSave)&&!B.startsWith("_")?f.setValue(v.native,B,this.state.data[B]):(f.setValue(v.native,B,null),x[B]=this.state.data[B])}try{const B=JSON.parse(JSON.stringify(v));if(Array.isArray(B.encryptedNative)){yield jo("../../lib/js/crypto-js/crypto-js.js","crypto-js");for(const z of B.encryptedNative)B.native[z]&&(B.native[z]=pf(this.secret,B.native[z]))}yield this.props.socket.setObject(B._id,B)}catch(B){window.alert(`[JsonConfig] Cannot set object: ${B}`)}const O=Yt(Yt({},v.native),x);console.log(O),this.setState({changed:!1,data:O,updateData:this.state.updateData+1,originalData:O},()=>u&&t.Router.doNavigate(null))}else this.state.changed?this.setState({confirmDialog:!0}):t.Router.doNavigate(null)})}componentDidUpdate(l,u){u.changed!==this.state.changed&&this.props.configStored(!this.state.changed)}componentDidMount(){return Nt(this,null,function*(){const l=`${window.location.protocol}//${window.location.host}${window.location.pathname}validate_config/${this.props.adapterName}`;console.log(`fetch ${l}`),yield fetch(l)})}render(){const{classes:l}=this.props;return!this.state.data||!this.state.schema?h().createElement(e.LinearProgress,null):h().createElement("div",{className:this.props.classes.root},this.renderConfirmDialog(),this.getExportImportButtons(),this.renderSaveConfigDialog(),h().createElement(xs,{key:this.state.hash,className:l.scroll,socket:this.props.socket,themeName:this.props.themeName,themeType:this.props.themeType,adapterName:this.props.adapterName,instance:this.props.instance,isFloatComma:this.props.isFloatComma,dateFormat:this.props.dateFormat,schema:this.state.schema,common:this.state.common,data:this.state.data,updateData:this.state.updateData,onError:u=>this.setState({error:u}),onChange:(u,v,x)=>{x&&this.state.error&&(window.alert(t.I18n.t("Cannot save configuration because of error in configuration")),x=!1),x&&!this.state.changed&&!v&&(x=!1),u?this.setState({data:u,changed:v,saveConfigDialog:x}):x!==void 0&&this.setState({saveConfigDialog:x})}}),h().createElement(t.SaveCloseButtons,{isIFrame:!1,dense:!0,paddingLeft:0,newReact:!0,theme:this.state.theme,noTextOnButtons:this.props.width==="xs"||this.props.width==="sm"||this.props.width==="md",changed:!!(this.state.error||this.state.changed),error:!!this.state.error,onSave:u=>this.onSave(!0,u),onClose:()=>this.onSave(!1)}))}}const ff=(0,F.withStyles)(cf)(ir)},82292:(X,j,L)=>{X=L.nmd(X),ace.define("ace/snippets",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter","ace/lib/lang","ace/range","ace/range_list","ace/keyboard/hash_handler","ace/tokenizer","ace/clipboard","ace/editor"],function(M,h,F){"use strict";function b(g){var m=new Date().toLocaleString("en-us",g);return m.length==1?"0"+m:m}var d=M("./lib/dom"),D=M("./lib/oop"),r=M("./lib/event_emitter").EventEmitter,e=M("./lib/lang"),s=M("./range").Range,t=M("./range_list").RangeList,i=M("./keyboard/hash_handler").HashHandler,n=M("./tokenizer").Tokenizer,o=M("./clipboard"),c={CURRENT_WORD:function(g){return g.session.getTextRange(g.session.getWordRange())},SELECTION:function(g,m,S){var A=g.session.getTextRange();return S?A.replace(/\n\r?([ \t]*\S)/g,`
`+S+"$1"):A},CURRENT_LINE:function(g){return g.session.getLine(g.getCursorPosition().row)},PREV_LINE:function(g){return g.session.getLine(g.getCursorPosition().row-1)},LINE_INDEX:function(g){return g.getCursorPosition().row},LINE_NUMBER:function(g){return g.getCursorPosition().row+1},SOFT_TABS:function(g){return g.session.getUseSoftTabs()?"YES":"NO"},TAB_SIZE:function(g){return g.session.getTabSize()},CLIPBOARD:function(g){return o.getText&&o.getText()},FILENAME:function(g){return/[^/\\]*$/.exec(this.FILEPATH(g))[0]},FILENAME_BASE:function(g){return/[^/\\]*$/.exec(this.FILEPATH(g))[0].replace(/\.[^.]*$/,"")},DIRECTORY:function(g){return this.FILEPATH(g).replace(/[^/\\]*$/,"")},FILEPATH:function(g){return"/not implemented.txt"},WORKSPACE_NAME:function(){return"Unknown"},FULLNAME:function(){return"Unknown"},BLOCK_COMMENT_START:function(g){var m=g.session.$mode||{};return m.blockComment&&m.blockComment.start||""},BLOCK_COMMENT_END:function(g){var m=g.session.$mode||{};return m.blockComment&&m.blockComment.end||""},LINE_COMMENT:function(g){var m=g.session.$mode||{};return m.lineCommentStart||""},CURRENT_YEAR:b.bind(null,{year:"numeric"}),CURRENT_YEAR_SHORT:b.bind(null,{year:"2-digit"}),CURRENT_MONTH:b.bind(null,{month:"numeric"}),CURRENT_MONTH_NAME:b.bind(null,{month:"long"}),CURRENT_MONTH_NAME_SHORT:b.bind(null,{month:"short"}),CURRENT_DATE:b.bind(null,{day:"2-digit"}),CURRENT_DAY_NAME:b.bind(null,{weekday:"long"}),CURRENT_DAY_NAME_SHORT:b.bind(null,{weekday:"short"}),CURRENT_HOUR:b.bind(null,{hour:"2-digit",hour12:!1}),CURRENT_MINUTE:b.bind(null,{minute:"2-digit"}),CURRENT_SECOND:b.bind(null,{second:"2-digit"})};c.SELECTED_TEXT=c.SELECTION;var p=function(){function g(){this.snippetMap={},this.snippetNameMap={},this.variables=c}return g.prototype.getTokenizer=function(){return g.$tokenizer||this.createTokenizer()},g.prototype.createTokenizer=function(){function m(R){return R=R.substr(1),/^\d+$/.test(R)?[{tabstopId:parseInt(R,10)}]:[{text:R}]}function S(R){return"(?:[^\\\\"+R+"]|\\\\.)"}var A={regex:"/("+S("/")+"+)/",onMatch:function(R,P,W){var _=W[0];return _.fmtString=!0,_.guard=R.slice(1,-1),_.flag="",""},next:"formatString"};return g.$tokenizer=new n({start:[{regex:/\\./,onMatch:function(R,P,W){var _=R[1];return(_=="}"&&W.length||"`$\\".indexOf(_)!=-1)&&(R=_),[R]}},{regex:/}/,onMatch:function(R,P,W){return[W.length?W.shift():R]}},{regex:/\$(?:\d+|\w+)/,onMatch:m},{regex:/\$\{[\dA-Z_a-z]+/,onMatch:function(R,P,W){var _=m(R.substr(1));return W.unshift(_[0]),_},next:"snippetVar"},{regex:/\n/,token:"newline",merge:!1}],snippetVar:[{regex:"\\|"+S("\\|")+"*\\|",onMatch:function(R,P,W){var _=R.slice(1,-1).replace(/\\[,|\\]|,/g,function(T){return T.length==2?T[1]:"\0"}).split("\0").map(function(T){return{value:T}});return W[0].choices=_,[_[0]]},next:"start"},A,{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"start"}],formatString:[{regex:/:/,onMatch:function(R,P,W){return W.length&&W[0].expectElse?(W[0].expectElse=!1,W[0].ifEnd={elseEnd:W[0]},[W[0].ifEnd]):":"}},{regex:/\\./,onMatch:function(R,P,W){var _=R[1];return _=="}"&&W.length||"`$\\".indexOf(_)!=-1?R=_:_=="n"?R=`
`:_=="t"?R="	":"ulULE".indexOf(_)!=-1&&(R={changeCase:_,local:_>"a"}),[R]}},{regex:"/\\w*}",onMatch:function(R,P,W){var _=W.shift();return _&&(_.flag=R.slice(1,-1)),this.next=_&&_.tabstopId?"start":"",[_||R]},next:"start"},{regex:/\$(?:\d+|\w+)/,onMatch:function(R,P,W){return[{text:R.slice(1)}]}},{regex:/\${\w+/,onMatch:function(R,P,W){var _={text:R.slice(2)};return W.unshift(_),[_]},next:"formatStringVar"},{regex:/\n/,token:"newline",merge:!1},{regex:/}/,onMatch:function(R,P,W){var _=W.shift();return this.next=_&&_.tabstopId?"start":"",[_||R]},next:"start"}],formatStringVar:[{regex:/:\/\w+}/,onMatch:function(R,P,W){var _=W[0];return _.formatFunction=R.slice(2,-1),[W.shift()]},next:"formatString"},A,{regex:/:[\?\-+]?/,onMatch:function(R,P,W){R[1]=="+"&&(W[0].ifEnd=W[0]),R[1]=="?"&&(W[0].expectElse=!0)},next:"formatString"},{regex:"([^:}\\\\]|\\\\.)*:?",token:"",next:"formatString"}]}),g.$tokenizer},g.prototype.tokenizeTmSnippet=function(m,S){return this.getTokenizer().getLineTokens(m,S).tokens.map(function(A){return A.value||A})},g.prototype.getVariableValue=function(m,S,A){if(/^\d+$/.test(S))return(this.variables.__||{})[S]||"";if(/^[A-Z]\d+$/.test(S))return(this.variables[S[0]+"__"]||{})[S.substr(1)]||"";if(S=S.replace(/^TM_/,""),!this.variables.hasOwnProperty(S))return"";var R=this.variables[S];return typeof R=="function"&&(R=this.variables[S](m,S,A)),R==null?"":R},g.prototype.tmStrFormat=function(m,S,A){if(!S.fmt)return m;var R=S.flag||"",P=S.guard;P=new RegExp(P,R.replace(/[^gim]/g,""));var W=typeof S.fmt=="string"?this.tokenizeTmSnippet(S.fmt,"formatString"):S.fmt,_=this,T=m.replace(P,function(){var N=_.variables.__;_.variables.__=[].slice.call(arguments);for(var V=_.resolveVariables(W,A),K="E",I=0;I<V.length;I++){var q=V[I];if(typeof q=="object")if(V[I]="",q.changeCase&&q.local){var U=V[I+1];U&&typeof U=="string"&&(q.changeCase=="u"?V[I]=U[0].toUpperCase():V[I]=U[0].toLowerCase(),V[I+1]=U.substr(1))}else q.changeCase&&(K=q.changeCase);else K=="U"?V[I]=q.toUpperCase():K=="L"&&(V[I]=q.toLowerCase())}return _.variables.__=N,V.join("")});return T},g.prototype.tmFormatFunction=function(m,S,A){return S.formatFunction=="upcase"?m.toUpperCase():S.formatFunction=="downcase"?m.toLowerCase():m},g.prototype.resolveVariables=function(m,S){function A(K){var I=m.indexOf(K,_+1);I!=-1&&(_=I)}for(var R=[],P="",W=!0,_=0;_<m.length;_++){var T=m[_];if(typeof T=="string"){R.push(T),T==`
`?(W=!0,P=""):W&&(P=/^\t*/.exec(T)[0],W=/\S/.test(T));continue}if(T){if(W=!1,T.fmtString){var N=m.indexOf(T,_+1);N==-1&&(N=m.length),T.fmt=m.slice(_+1,N),_=N}if(T.text){var V=this.getVariableValue(S,T.text,P)+"";T.fmtString&&(V=this.tmStrFormat(V,T,S)),T.formatFunction&&(V=this.tmFormatFunction(V,T,S)),V&&!T.ifEnd?(R.push(V),A(T)):!V&&T.ifEnd&&A(T.ifEnd)}else T.elseEnd?A(T.elseEnd):(T.tabstopId!=null||T.changeCase!=null)&&R.push(T)}}return R},g.prototype.getDisplayTextForSnippet=function(m,S){var A=w.call(this,m,S);return A.text},g.prototype.insertSnippetForSelection=function(m,S,A){A===void 0&&(A={});var R=w.call(this,m,S,A),P=m.getSelectionRange(),W=m.session.replace(P,R.text),_=new E(m),T=m.inVirtualSelectionMode&&m.selection.index;_.addTabstops(R.tabstops,P.start,W,T)},g.prototype.insertSnippet=function(m,S,A){A===void 0&&(A={});var R=this;if(m.inVirtualSelectionMode)return R.insertSnippetForSelection(m,S,A);m.forEachSelection(function(){R.insertSnippetForSelection(m,S,A)},null,{keepOrder:!0}),m.tabstopManager&&m.tabstopManager.tabNext()},g.prototype.$getScope=function(m){var S=m.session.$mode.$id||"";if(S=S.split("/").pop(),S==="html"||S==="php"){S==="php"&&!m.session.$mode.inlinePhp&&(S="html");var A=m.getCursorPosition(),R=m.session.getState(A.row);typeof R=="object"&&(R=R[0]),R.substring&&(R.substring(0,3)=="js-"?S="javascript":R.substring(0,4)=="css-"?S="css":R.substring(0,4)=="php-"&&(S="php"))}return S},g.prototype.getActiveScopes=function(m){var S=this.$getScope(m),A=[S],R=this.snippetMap;return R[S]&&R[S].includeScopes&&A.push.apply(A,R[S].includeScopes),A.push("_"),A},g.prototype.expandWithTab=function(m,S){var A=this,R=m.forEachSelection(function(){return A.expandSnippetForSelection(m,S)},null,{keepOrder:!0});return R&&m.tabstopManager&&m.tabstopManager.tabNext(),R},g.prototype.expandSnippetForSelection=function(m,S){var A=m.getCursorPosition(),R=m.session.getLine(A.row),P=R.substring(0,A.column),W=R.substr(A.column),_=this.snippetMap,T;return this.getActiveScopes(m).some(function(N){var V=_[N];return V&&(T=this.findMatchingSnippet(V,P,W)),!!T},this),T?(S&&S.dryRun||(m.session.doc.removeInLine(A.row,A.column-T.replaceBefore.length,A.column+T.replaceAfter.length),this.variables.M__=T.matchBefore,this.variables.T__=T.matchAfter,this.insertSnippetForSelection(m,T.content),this.variables.M__=this.variables.T__=null),!0):!1},g.prototype.findMatchingSnippet=function(m,S,A){for(var R=m.length;R--;){var P=m[R];if(!(P.startRe&&!P.startRe.test(S))&&!(P.endRe&&!P.endRe.test(A))&&!(!P.startRe&&!P.endRe))return P.matchBefore=P.startRe?P.startRe.exec(S):[""],P.matchAfter=P.endRe?P.endRe.exec(A):[""],P.replaceBefore=P.triggerRe?P.triggerRe.exec(S)[0]:"",P.replaceAfter=P.endTriggerRe?P.endTriggerRe.exec(A)[0]:"",P}},g.prototype.register=function(m,S){function A(N){return N&&!/^\^?\(.*\)\$?$|^\\b$/.test(N)&&(N="(?:"+N+")"),N||""}function R(N,V,K){return N=A(N),V=A(V),K?(N=V+N,N&&N[N.length-1]!="$"&&(N+="$")):(N+=V,N&&N[0]!="^"&&(N="^"+N)),new RegExp(N)}function P(N){N.scope||(N.scope=S||"_"),S=N.scope,W[S]||(W[S]=[],_[S]={});var V=_[S];if(N.name){var K=V[N.name];K&&T.unregister(K),V[N.name]=N}W[S].push(N),N.prefix&&(N.tabTrigger=N.prefix),!N.content&&N.body&&(N.content=Array.isArray(N.body)?N.body.join(`
`):N.body),N.tabTrigger&&!N.trigger&&(!N.guard&&/^\w/.test(N.tabTrigger)&&(N.guard="\\b"),N.trigger=e.escapeRegExp(N.tabTrigger)),!(!N.trigger&&!N.guard&&!N.endTrigger&&!N.endGuard)&&(N.startRe=R(N.trigger,N.guard,!0),N.triggerRe=new RegExp(N.trigger),N.endRe=R(N.endTrigger,N.endGuard,!0),N.endTriggerRe=new RegExp(N.endTrigger))}var W=this.snippetMap,_=this.snippetNameMap,T=this;m||(m=[]),Array.isArray(m)?m.forEach(P):Object.keys(m).forEach(function(N){P(m[N])}),this._signal("registerSnippets",{scope:S})},g.prototype.unregister=function(m,S){function A(W){var _=P[W.scope||S];if(_&&_[W.name]){delete _[W.name];var T=R[W.scope||S],N=T&&T.indexOf(W);N>=0&&T.splice(N,1)}}var R=this.snippetMap,P=this.snippetNameMap;m.content?A(m):Array.isArray(m)&&m.forEach(A)},g.prototype.parseSnippetFile=function(m){m=m.replace(/\r/g,"");for(var S=[],A={},R=/^#.*|^({[\s\S]*})\s*$|^(\S+) (.*)$|^((?:\n*\t.*)+)/gm,P;P=R.exec(m);){if(P[1])try{A=JSON.parse(P[1]),S.push(A)}catch(N){}if(P[4])A.content=P[4].replace(/^\t/gm,""),S.push(A),A={};else{var W=P[2],_=P[3];if(W=="regex"){var T=/\/((?:[^\/\\]|\\.)*)|$/g;A.guard=T.exec(_)[1],A.trigger=T.exec(_)[1],A.endTrigger=T.exec(_)[1],A.endGuard=T.exec(_)[1]}else W=="snippet"?(A.tabTrigger=_.match(/^\S*/)[0],A.name||(A.name=_)):W&&(A[W]=_)}}return S},g.prototype.getSnippetByName=function(m,S){var A=this.snippetNameMap,R;return this.getActiveScopes(S).some(function(P){var W=A[P];return W&&(R=W[m]),!!R},this),R},g}();D.implement(p.prototype,r);var w=function(g,m,S){function A(xe){for(var _e=[],Je=0;Je<xe.length;Je++){var Be=xe[Je];if(typeof Be=="object"){if(V[Be.tabstopId])continue;var He=xe.lastIndexOf(Be,Je-1);Be=_e[He]||{tabstopId:Be.tabstopId}}_e[Je]=Be}return _e}S===void 0&&(S={});var R=g.getCursorPosition(),P=g.session.getLine(R.row),W=g.session.getTabString(),_=P.match(/^\s*/)[0];R.column<_.length&&(_=_.slice(0,R.column)),m=m.replace(/\r/g,"");var T=this.tokenizeTmSnippet(m);T=this.resolveVariables(T,g),T=T.map(function(xe){return xe==`
`&&!S.excludeExtraIndent?xe+_:typeof xe=="string"?xe.replace(/\t/g,W):xe});var N=[];T.forEach(function(xe,_e){if(typeof xe=="object"){var Je=xe.tabstopId,Be=N[Je];if(Be||(Be=N[Je]=[],Be.index=Je,Be.value="",Be.parents={}),Be.indexOf(xe)===-1){xe.choices&&!Be.choices&&(Be.choices=xe.choices),Be.push(xe);var He=T.indexOf(xe,_e+1);if(He!==-1){var Xe=T.slice(_e+1,He),Ue=Xe.some(function(rt){return typeof rt=="object"});Ue&&!Be.value?Be.value=Xe:Xe.length&&(!Be.value||typeof Be.value!="string")&&(Be.value=Xe.join(""))}}}}),N.forEach(function(xe){xe.length=0});for(var V={},K=0;K<T.length;K++){var I=T[K];if(typeof I=="object"){var q=I.tabstopId,U=N[q],J=T.indexOf(I,K+1);if(V[q]){V[q]===I&&(delete V[q],Object.keys(V).forEach(function(xe){U.parents[xe]=!0}));continue}V[q]=I;var Q=U.value;typeof Q!="string"?Q=A(Q):I.fmt&&(Q=this.tmStrFormat(Q,I,g)),T.splice.apply(T,[K+1,Math.max(0,J-K)].concat(Q,I)),U.indexOf(I)===-1&&U.push(I)}}var ee=0,se=0,ue="";return T.forEach(function(xe){if(typeof xe=="string"){var _e=xe.split(`
`);_e.length>1?(se=_e[_e.length-1].length,ee+=_e.length-1):se+=xe.length,ue+=xe}else xe&&(xe.start?xe.end={row:ee,column:se}:xe.start={row:ee,column:se})}),{text:ue,tabstops:N,tokens:T}},E=function(){function g(m){if(this.index=0,this.ranges=[],this.tabstops=[],m.tabstopManager)return m.tabstopManager;m.tabstopManager=this,this.$onChange=this.onChange.bind(this),this.$onChangeSelection=e.delayedCall(this.onChangeSelection.bind(this)).schedule,this.$onChangeSession=this.onChangeSession.bind(this),this.$onAfterExec=this.onAfterExec.bind(this),this.attach(m)}return g.prototype.attach=function(m){this.$openTabstops=null,this.selectedTabstop=null,this.editor=m,this.session=m.session,this.editor.on("change",this.$onChange),this.editor.on("changeSelection",this.$onChangeSelection),this.editor.on("changeSession",this.$onChangeSession),this.editor.commands.on("afterExec",this.$onAfterExec),this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler)},g.prototype.detach=function(){this.tabstops.forEach(this.removeTabstopMarkers,this),this.ranges.length=0,this.tabstops.length=0,this.selectedTabstop=null,this.editor.off("change",this.$onChange),this.editor.off("changeSelection",this.$onChangeSelection),this.editor.off("changeSession",this.$onChangeSession),this.editor.commands.off("afterExec",this.$onAfterExec),this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.tabstopManager=null,this.session=null,this.editor=null},g.prototype.onChange=function(m){for(var S=m.action[0]=="r",A=this.selectedTabstop||{},R=A.parents||{},P=this.tabstops.slice(),W=0;W<P.length;W++){var _=P[W],T=_==A||R[_.index];if(_.rangeList.$bias=T?0:1,m.action=="remove"&&_!==A){var N=_.parents&&_.parents[A.index],V=_.rangeList.pointIndex(m.start,N);V=V<0?-V-1:V+1;var K=_.rangeList.pointIndex(m.end,N);K=K<0?-K-1:K-1;for(var I=_.rangeList.ranges.slice(V,K),q=0;q<I.length;q++)this.removeRange(I[q])}_.rangeList.$onChange(m)}var U=this.session;!this.$inChange&&S&&U.getLength()==1&&!U.getValue()&&this.detach()},g.prototype.updateLinkedFields=function(){var m=this.selectedTabstop;if(!(!m||!m.hasLinkedRanges||!m.firstNonLinked)){this.$inChange=!0;for(var S=this.session,A=S.getTextRange(m.firstNonLinked),R=0;R<m.length;R++){var P=m[R];if(P.linked){var W=P.original,_=h.snippetManager.tmStrFormat(A,W,this.editor);S.replace(P,_)}}this.$inChange=!1}},g.prototype.onAfterExec=function(m){m.command&&!m.command.readOnly&&this.updateLinkedFields()},g.prototype.onChangeSelection=function(){if(this.editor){for(var m=this.editor.selection.lead,S=this.editor.selection.anchor,A=this.editor.selection.isEmpty(),R=0;R<this.ranges.length;R++)if(!this.ranges[R].linked){var P=this.ranges[R].contains(m.row,m.column),W=A||this.ranges[R].contains(S.row,S.column);if(P&&W)return}this.detach()}},g.prototype.onChangeSession=function(){this.detach()},g.prototype.tabNext=function(m){var S=this.tabstops.length,A=this.index+(m||1);A=Math.min(Math.max(A,1),S),A==S&&(A=0),this.selectTabstop(A),this.updateTabstopMarkers(),A===0&&this.detach()},g.prototype.selectTabstop=function(m){this.$openTabstops=null;var S=this.tabstops[this.index];if(S&&this.addTabstopMarkers(S),this.index=m,S=this.tabstops[this.index],!(!S||!S.length)){this.selectedTabstop=S;var A=S.firstNonLinked||S;if(S.choices&&(A.cursor=A.start),this.editor.inVirtualSelectionMode)this.editor.selection.fromOrientedRange(A);else{var R=this.editor.multiSelect;R.toSingleRange(A);for(var P=0;P<S.length;P++)S.hasLinkedRanges&&S[P].linked||R.addRange(S[P].clone(),!0)}this.editor.keyBinding.addKeyboardHandler(this.keyboardHandler),this.selectedTabstop&&this.selectedTabstop.choices&&this.editor.execCommand("startAutocomplete",{matches:this.selectedTabstop.choices})}},g.prototype.addTabstops=function(m,S,A){var R=this.useLink||!this.editor.getOption("enableMultiselect");if(this.$openTabstops||(this.$openTabstops=[]),!m[0]){var P=s.fromPoints(A,A);f(P.start,S),f(P.end,S),m[0]=[P],m[0].index=0}var W=this.index,_=[W+1,0],T=this.ranges,N=this.snippetId=(this.snippetId||0)+1;m.forEach(function(V,K){var I=this.$openTabstops[K]||V;I.snippetId=N;for(var q=0;q<V.length;q++){var U=V[q],J=s.fromPoints(U.start,U.end||U.start);k(J.start,S),k(J.end,S),J.original=U,J.tabstop=I,T.push(J),I!=V?I.unshift(J):I[q]=J,U.fmtString||I.firstNonLinked&&R?(J.linked=!0,I.hasLinkedRanges=!0):I.firstNonLinked||(I.firstNonLinked=J)}I.firstNonLinked||(I.hasLinkedRanges=!1),I===V&&(_.push(I),this.$openTabstops[K]=I),this.addTabstopMarkers(I),I.rangeList=I.rangeList||new t,I.rangeList.$bias=0,I.rangeList.addList(I)},this),_.length>2&&(this.tabstops.length&&_.push(_.splice(2,1)[0]),this.tabstops.splice.apply(this.tabstops,_))},g.prototype.addTabstopMarkers=function(m){var S=this.session;m.forEach(function(A){A.markerId||(A.markerId=S.addMarker(A,"ace_snippet-marker","text"))})},g.prototype.removeTabstopMarkers=function(m){var S=this.session;m.forEach(function(A){S.removeMarker(A.markerId),A.markerId=null})},g.prototype.updateTabstopMarkers=function(){if(this.selectedTabstop){var m=this.selectedTabstop.snippetId;this.selectedTabstop.index===0&&m--,this.tabstops.forEach(function(S){S.snippetId===m?this.addTabstopMarkers(S):this.removeTabstopMarkers(S)},this)}},g.prototype.removeRange=function(m){var S=m.tabstop.indexOf(m);S!=-1&&m.tabstop.splice(S,1),S=this.ranges.indexOf(m),S!=-1&&this.ranges.splice(S,1),S=m.tabstop.rangeList.ranges.indexOf(m),S!=-1&&m.tabstop.splice(S,1),this.session.removeMarker(m.markerId),m.tabstop.length||(S=this.tabstops.indexOf(m.tabstop),S!=-1&&this.tabstops.splice(S,1),this.tabstops.length||this.detach())},g}();E.prototype.keyboardHandler=new i,E.prototype.keyboardHandler.bindKeys({Tab:function(g){h.snippetManager&&h.snippetManager.expandWithTab(g)||(g.tabstopManager.tabNext(1),g.renderer.scrollCursorIntoView())},"Shift-Tab":function(g){g.tabstopManager.tabNext(-1),g.renderer.scrollCursorIntoView()},Esc:function(g){g.tabstopManager.detach()}});var k=function(g,m){g.row==0&&(g.column+=m.column),g.row+=m.row},f=function(g,m){g.row==m.row&&(g.column-=m.column),g.row-=m.row};d.importCssString(`
.ace_snippet-marker {
    -moz-box-sizing: border-box;
    box-sizing: border-box;
    background: rgba(194, 193, 208, 0.09);
    border: 1px dotted rgba(211, 208, 235, 0.62);
    position: absolute;
}`,"snippets.css",!1),h.snippetManager=new p;var C=M("./editor").Editor;(function(){this.insertSnippet=function(g,m){return h.snippetManager.insertSnippet(this,g,m)},this.expandSnippet=function(g){return h.snippetManager.expandWithTab(this,g)}}).call(C.prototype)}),ace.define("ace/autocomplete/popup",["require","exports","module","ace/virtual_renderer","ace/editor","ace/range","ace/lib/event","ace/lib/lang","ace/lib/dom","ace/config","ace/lib/useragent"],function(M,h,F){"use strict";var b=M("../virtual_renderer").VirtualRenderer,d=M("../editor").Editor,D=M("../range").Range,r=M("../lib/event"),e=M("../lib/lang"),s=M("../lib/dom"),t=M("../config").nls,i=M("./../lib/useragent"),n=function(k){return"suggest-aria-id:".concat(k)},o=i.isSafari?"menu":"listbox",c=i.isSafari?"menuitem":"option",p=i.isSafari?"aria-current":"aria-selected",w=function(k){var f=new b(k);f.$maxLines=4;var C=new d(f);return C.setHighlightActiveLine(!1),C.setShowPrintMargin(!1),C.renderer.setShowGutter(!1),C.renderer.setHighlightGutterLine(!1),C.$mouseHandler.$focusTimeout=0,C.$highlightTagPending=!0,C},E=function(){function k(f){var C=s.createElement("div"),g=w(C);f&&f.appendChild(C),C.style.display="none",g.renderer.content.style.cursor="default",g.renderer.setStyle("ace_autocomplete"),g.renderer.$textLayer.element.setAttribute("role",o),g.renderer.$textLayer.element.setAttribute("aria-roledescription",t("autocomplete.popup.aria-roledescription","Autocomplete suggestions")),g.renderer.$textLayer.element.setAttribute("aria-label",t("autocomplete.popup.aria-label","Autocomplete suggestions")),g.renderer.textarea.setAttribute("aria-hidden","true"),g.setOption("displayIndentGuides",!1),g.setOption("dragDelay",150);var m=function(){};g.focus=m,g.$isFocused=!0,g.renderer.$cursorLayer.restartTimer=m,g.renderer.$cursorLayer.element.style.opacity="0",g.renderer.$maxLines=8,g.renderer.$keepTextAreaAtCursor=!1,g.setHighlightActiveLine(!1),g.session.highlight(""),g.session.$searchHighlight.clazz="ace_highlight-marker",g.on("mousedown",function(T){var N=T.getDocumentPosition();g.selection.moveToPosition(N),R.start.row=R.end.row=N.row,T.stop()});var S,A=new D(-1,0,-1,1/0),R=new D(-1,0,-1,1/0);R.id=g.session.addMarker(R,"ace_active-line","fullLine"),g.setSelectOnHover=function(T){T?A.id&&(g.session.removeMarker(A.id),A.id=null):A.id=g.session.addMarker(A,"ace_line-hover","fullLine")},g.setSelectOnHover(!1),g.on("mousemove",function(T){if(!S){S=T;return}if(!(S.x==T.x&&S.y==T.y)){S=T,S.scrollTop=g.renderer.scrollTop,g.isMouseOver=!0;var N=S.getDocumentPosition().row;A.start.row!=N&&(A.id||g.setRow(N),W(N))}}),g.renderer.on("beforeRender",function(){if(S&&A.start.row!=-1){S.$pos=null;var T=S.getDocumentPosition().row;A.id||g.setRow(T),W(T,!0)}}),g.renderer.on("afterRender",function(){var T=g.getRow(),N=g.renderer.$textLayer,V=N.element.childNodes[T-N.config.firstRow],K=document.activeElement;if(V!==g.selectedNode&&g.selectedNode&&(s.removeCssClass(g.selectedNode,"ace_selected"),K.removeAttribute("aria-activedescendant"),g.selectedNode.removeAttribute(p),g.selectedNode.removeAttribute("id")),g.selectedNode=V,V){s.addCssClass(V,"ace_selected");var I=n(T);V.id=I,N.element.setAttribute("aria-activedescendant",I),K.setAttribute("aria-activedescendant",I),V.setAttribute("role",c),V.setAttribute("aria-roledescription",t("autocomplete.popup.item.aria-roledescription","item")),V.setAttribute("aria-label",g.getData(T).caption||g.getData(T).value),V.setAttribute("aria-setsize",g.data.length),V.setAttribute("aria-posinset",T+1),V.setAttribute("aria-describedby","doc-tooltip"),V.setAttribute(p,"true")}});var P=function(){W(-1)},W=function(T,N){T!==A.start.row&&(A.start.row=A.end.row=T,N||g.session._emit("changeBackMarker"),g._emit("changeHoverMarker"))};g.getHoveredRow=function(){return A.start.row},r.addListener(g.container,"mouseout",function(){g.isMouseOver=!1,P()}),g.on("hide",P),g.on("changeSelection",P),g.session.doc.getLength=function(){return g.data.length},g.session.doc.getLine=function(T){var N=g.data[T];return typeof N=="string"?N:N&&N.value||""};var _=g.session.bgTokenizer;return _.$tokenizeRow=function(T){function N(xe,_e){xe&&K.push({type:(V.className||"")+(_e||""),value:xe})}var V=g.data[T],K=[];if(!V)return K;typeof V=="string"&&(V={value:V});for(var I=V.caption||V.value||V.name,q=I.toLowerCase(),U=(g.filterText||"").toLowerCase(),J=0,Q=0,ee=0;ee<=U.length;ee++)if(ee!=Q&&(V.matchMask&1<<ee||ee==U.length)){var se=U.slice(Q,ee);Q=ee;var ue=q.indexOf(se,J);if(ue==-1)continue;N(I.slice(J,ue),""),J=ue+se.length,N(I.slice(ue,J),"completion-highlight")}return N(I.slice(J,I.length),""),K.push({type:"completion-spacer",value:" "}),V.meta&&K.push({type:"completion-meta",value:V.meta}),V.message&&K.push({type:"completion-message",value:V.message}),K},_.$updateOnChange=m,_.start=m,g.session.$computeWidth=function(){return this.screenWidth=0},g.isOpen=!1,g.isTopdown=!1,g.autoSelect=!0,g.filterText="",g.isMouseOver=!1,g.data=[],g.setData=function(T,N){g.filterText=N||"",g.setValue(e.stringRepeat(`
`,T.length),-1),g.data=T||[],g.setRow(0)},g.getData=function(T){return g.data[T]},g.getRow=function(){return R.start.row},g.setRow=function(T){T=Math.max(this.autoSelect?0:-1,Math.min(this.data.length-1,T)),R.start.row!=T&&(g.selection.clearSelection(),R.start.row=R.end.row=T||0,g.session._emit("changeBackMarker"),g.moveCursorTo(T||0,0),g.isOpen&&g._signal("select"))},g.on("changeSelection",function(){g.isOpen&&g.setRow(g.selection.lead.row),g.renderer.scrollCursorIntoView()}),g.hide=function(){this.container.style.display="none",g.anchorPos=null,g.anchor=null,g.isOpen&&(g.isOpen=!1,this._signal("hide"))},g.tryShow=function(T,N,V,K){if(!K&&g.isOpen&&g.anchorPos&&g.anchor&&g.anchorPos.top===T.top&&g.anchorPos.left===T.left&&g.anchor===V)return!0;var I=this.container,q=window.innerHeight,U=window.innerWidth,J=this.renderer,Q=J.$maxLines*N*1.4,ee={top:0,bottom:0,left:0},se=q-T.top-3*this.$borderSize-N,ue=T.top-3*this.$borderSize;V||(ue<=se||se>=Q?V="bottom":V="top"),V==="top"?(ee.bottom=T.top-this.$borderSize,ee.top=ee.bottom-Q):V==="bottom"&&(ee.top=T.top+N+this.$borderSize,ee.bottom=ee.top+Q);var xe=ee.top>=0&&ee.bottom<=q;if(!K&&!xe)return!1;xe?J.$maxPixelHeight=null:V==="top"?J.$maxPixelHeight=ue:J.$maxPixelHeight=se,V==="top"?(I.style.top="",I.style.bottom=q-ee.bottom+"px",g.isTopdown=!1):(I.style.top=ee.top+"px",I.style.bottom="",g.isTopdown=!0),I.style.display="";var _e=T.left;return _e+I.offsetWidth>U&&(_e=U-I.offsetWidth),I.style.left=_e+"px",I.style.right="",g.isOpen||(g.isOpen=!0,this._signal("show"),S=null),g.anchorPos=T,g.anchor=V,!0},g.show=function(T,N,V){this.tryShow(T,N,V?"bottom":void 0,!0)},g.goTo=function(T){var N=this.getRow(),V=this.session.getLength()-1;switch(T){case"up":N=N<=0?V:N-1;break;case"down":N=N>=V?-1:N+1;break;case"start":N=0;break;case"end":N=V}this.setRow(N)},g.getTextLeftOffset=function(){return this.$borderSize+this.renderer.$padding+this.$imageSize},g.$imageSize=0,g.$borderSize=1,g}return k}();s.importCssString(`
.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {
    background-color: #CAD6FA;
    z-index: 1;
}
.ace_dark.ace_editor.ace_autocomplete .ace_marker-layer .ace_active-line {
    background-color: #3a674e;
}
.ace_editor.ace_autocomplete .ace_line-hover {
    border: 1px solid #abbffe;
    margin-top: -1px;
    background: rgba(233,233,253,0.4);
    position: absolute;
    z-index: 2;
}
.ace_dark.ace_editor.ace_autocomplete .ace_line-hover {
    border: 1px solid rgba(109, 150, 13, 0.8);
    background: rgba(58, 103, 78, 0.62);
}
.ace_completion-meta {
    opacity: 0.5;
    margin-left: 0.9em;
}
.ace_completion-message {
    margin-left: 0.9em;
    color: blue;
}
.ace_editor.ace_autocomplete .ace_completion-highlight{
    color: #2d69c7;
}
.ace_dark.ace_editor.ace_autocomplete .ace_completion-highlight{
    color: #93ca12;
}
.ace_editor.ace_autocomplete {
    width: 300px;
    z-index: 200000;
    border: 1px lightgray solid;
    position: fixed;
    box-shadow: 2px 3px 5px rgba(0,0,0,.2);
    line-height: 1.4;
    background: #fefefe;
    color: #111;
}
.ace_dark.ace_editor.ace_autocomplete {
    border: 1px #484747 solid;
    box-shadow: 2px 3px 5px rgba(0, 0, 0, 0.51);
    line-height: 1.4;
    background: #25282c;
    color: #c1c1c1;
}
.ace_autocomplete .ace_text-layer  {
    width: calc(100% - 8px);
}
.ace_autocomplete .ace_line {
    display: flex;
    align-items: center;
}
.ace_autocomplete .ace_line > * {
    min-width: 0;
    flex: 0 0 auto;
}
.ace_autocomplete .ace_line .ace_ {
    flex: 0 1 auto;
    overflow: hidden;
    text-overflow: ellipsis;
}
.ace_autocomplete .ace_completion-spacer {
    flex: 1;
}
.ace_autocomplete.ace_loading:after  {
    content: "";
    position: absolute;
    top: 0px;
    height: 2px;
    width: 8%;
    background: blue;
    z-index: 100;
    animation: ace_progress 3s infinite linear;
    animation-delay: 300ms;
    transform: translateX(-100%) scaleX(1);
}
@keyframes ace_progress {
    0% { transform: translateX(-100%) scaleX(1) }
    50% { transform: translateX(625%) scaleX(2) } 
    100% { transform: translateX(1500%) scaleX(3) } 
}
@media (prefers-reduced-motion) {
    .ace_autocomplete.ace_loading:after {
        transform: translateX(625%) scaleX(2);
        animation: none;
     }
}
`,"autocompletion.css",!1),h.AcePopup=E,h.$singleLineEditor=w,h.getAriaId=n}),ace.define("ace/autocomplete/inline_screenreader",["require","exports","module"],function(M,h,F){"use strict";var b=function(){function d(D){this.editor=D,this.screenReaderDiv=document.createElement("div"),this.screenReaderDiv.classList.add("ace_screenreader-only"),this.editor.container.appendChild(this.screenReaderDiv)}return d.prototype.setScreenReaderContent=function(D){for(!this.popup&&this.editor.completer&&this.editor.completer.popup&&(this.popup=this.editor.completer.popup,this.popup.renderer.on("afterRender",function(){var e=this.popup.getRow(),s=this.popup.renderer.$textLayer,t=s.element.childNodes[e-s.config.firstRow];if(t){for(var i="doc-tooltip ",n=0;n<this._lines.length;n++)i+="ace-inline-screenreader-line-".concat(n," ");t.setAttribute("aria-describedby",i)}}.bind(this)));this.screenReaderDiv.firstChild;)this.screenReaderDiv.removeChild(this.screenReaderDiv.firstChild);this._lines=D.split(/\r\n|\r|\n/);var r=this.createCodeBlock();this.screenReaderDiv.appendChild(r)},d.prototype.destroy=function(){this.screenReaderDiv.remove()},d.prototype.createCodeBlock=function(){var D=document.createElement("pre");D.setAttribute("id","ace-inline-screenreader");for(var r=0;r<this._lines.length;r++){var e=document.createElement("code");e.setAttribute("id","ace-inline-screenreader-line-".concat(r));var s=document.createTextNode(this._lines[r]);e.appendChild(s),D.appendChild(e)}return D},d}();h.AceInlineScreenReader=b}),ace.define("ace/autocomplete/inline",["require","exports","module","ace/snippets","ace/autocomplete/inline_screenreader"],function(M,h,F){"use strict";var b=M("../snippets").snippetManager,d=M("./inline_screenreader").AceInlineScreenReader,D=function(){function r(){this.editor=null}return r.prototype.show=function(e,s,t){if(t=t||"",e&&this.editor&&this.editor!==e&&(this.hide(),this.editor=null,this.inlineScreenReader=null),!e||!s)return!1;this.inlineScreenReader||(this.inlineScreenReader=new d(e));var i=s.snippet?b.getDisplayTextForSnippet(e,s.snippet):s.value;return s.hideInlinePreview||!i||!i.startsWith(t)?!1:(this.editor=e,this.inlineScreenReader.setScreenReaderContent(i),i=i.slice(t.length),i===""?e.removeGhostText():e.setGhostText(i),!0)},r.prototype.isOpen=function(){return this.editor?!!this.editor.renderer.$ghostText:!1},r.prototype.hide=function(){return this.editor?(this.editor.removeGhostText(),!0):!1},r.prototype.destroy=function(){this.hide(),this.editor=null,this.inlineScreenReader&&(this.inlineScreenReader.destroy(),this.inlineScreenReader=null)},r}();h.AceInline=D}),ace.define("ace/autocomplete/util",["require","exports","module"],function(M,h,F){"use strict";h.parForEach=function(d,D,r){var e=0,s=d.length;s===0&&r();for(var t=0;t<s;t++)D(d[t],function(i,n){e++,e===s&&r(i,n)})};var b=/[a-zA-Z_0-9\$\-\u00A2-\u2000\u2070-\uFFFF]/;h.retrievePrecedingIdentifier=function(d,D,r){r=r||b;for(var e=[],s=D-1;s>=0&&r.test(d[s]);s--)e.push(d[s]);return e.reverse().join("")},h.retrieveFollowingIdentifier=function(d,D,r){r=r||b;for(var e=[],s=D;s<d.length&&r.test(d[s]);s++)e.push(d[s]);return e},h.getCompletionPrefix=function(d){var D=d.getCursorPosition(),r=d.session.getLine(D.row),e;return d.completers.forEach(function(s){s.identifierRegexps&&s.identifierRegexps.forEach(function(t){!e&&t&&(e=this.retrievePrecedingIdentifier(r,D.column,t))}.bind(this))}.bind(this)),e||this.retrievePrecedingIdentifier(r,D.column)},h.triggerAutocomplete=function(d,r){var r=r==null?d.session.getPrecedingCharacter():r;return d.completers.some(function(e){if(e.triggerCharacters&&Array.isArray(e.triggerCharacters))return e.triggerCharacters.includes(r)})}}),ace.define("ace/autocomplete",["require","exports","module","ace/keyboard/hash_handler","ace/autocomplete/popup","ace/autocomplete/inline","ace/autocomplete/popup","ace/autocomplete/util","ace/lib/lang","ace/lib/dom","ace/snippets","ace/config","ace/lib/event","ace/lib/scroll"],function(M,h,F){"use strict";var b=M("./keyboard/hash_handler").HashHandler,d=M("./autocomplete/popup").AcePopup,D=M("./autocomplete/inline").AceInline,r=M("./autocomplete/popup").getAriaId,e=M("./autocomplete/util"),s=M("./lib/lang"),t=M("./lib/dom"),i=M("./snippets").snippetManager,n=M("./config"),o=M("./lib/event"),c=M("./lib/scroll").preventParentScroll,p=function(f,C){C.completer&&C.completer.destroy()},w=function(){function f(){this.autoInsert=!1,this.autoSelect=!0,this.autoShown=!1,this.exactMatch=!1,this.inlineEnabled=!1,this.keyboardHandler=new b,this.keyboardHandler.bindKeys(this.commands),this.parentNode=null,this.setSelectOnHover=!1,this.hasSeen=new Set,this.showLoadingState=!1,this.stickySelectionDelay=500,this.blurListener=this.blurListener.bind(this),this.changeListener=this.changeListener.bind(this),this.mousedownListener=this.mousedownListener.bind(this),this.mousewheelListener=this.mousewheelListener.bind(this),this.onLayoutChange=this.onLayoutChange.bind(this),this.changeTimer=s.delayedCall(function(){this.updateCompletions(!0)}.bind(this)),this.tooltipTimer=s.delayedCall(this.updateDocTooltip.bind(this),50),this.popupTimer=s.delayedCall(this.$updatePopupPosition.bind(this),50),this.stickySelectionTimer=s.delayedCall(function(){this.stickySelection=!0}.bind(this),this.stickySelectionDelay),this.$firstOpenTimer=s.delayedCall(function(){var C=this.completionProvider&&this.completionProvider.initialPosition;this.autoShown||this.popup&&this.popup.isOpen||!C||this.editor.completers.length===0||(this.completions=new k(f.completionsForLoading),this.openPopup(this.editor,C.prefix,!1),this.popup.renderer.setStyle("ace_loading",!0))}.bind(this),this.stickySelectionDelay)}return Object.defineProperty(f,"completionsForLoading",{get:function(){return[{caption:n.nls("autocomplete.loading","Loading..."),value:""}]},enumerable:!1,configurable:!0}),f.prototype.$init=function(){return this.popup=new d(this.parentNode||document.body||document.documentElement),this.popup.on("click",function(C){this.insertMatch(),C.stop()}.bind(this)),this.popup.focus=this.editor.focus.bind(this.editor),this.popup.on("show",this.$onPopupShow.bind(this)),this.popup.on("hide",this.$onHidePopup.bind(this)),this.popup.on("select",this.$onPopupChange.bind(this)),o.addListener(this.popup.container,"mouseout",this.mouseOutListener.bind(this)),this.popup.on("changeHoverMarker",this.tooltipTimer.bind(null,null)),this.popup.renderer.on("afterRender",this.$onPopupRender.bind(this)),this.popup},f.prototype.$initInline=function(){if(!(!this.inlineEnabled||this.inlineRenderer))return this.inlineRenderer=new D,this.inlineRenderer},f.prototype.getPopup=function(){return this.popup||this.$init()},f.prototype.$onHidePopup=function(){this.inlineRenderer&&this.inlineRenderer.hide(),this.hideDocTooltip(),this.stickySelectionTimer.cancel(),this.popupTimer.cancel(),this.stickySelection=!1},f.prototype.$seen=function(C){!this.hasSeen.has(C)&&C&&C.completer&&C.completer.onSeen&&typeof C.completer.onSeen=="function"&&(C.completer.onSeen(this.editor,C),this.hasSeen.add(C))},f.prototype.$onPopupChange=function(C){if(this.inlineRenderer&&this.inlineEnabled){var g=C?null:this.popup.getData(this.popup.getRow());if(this.$updateGhostText(g),this.popup.isMouseOver&&this.setSelectOnHover){this.tooltipTimer.call(null,null);return}this.popupTimer.schedule(),this.tooltipTimer.schedule()}else this.popupTimer.call(null,null),this.tooltipTimer.call(null,null)},f.prototype.$updateGhostText=function(C){var g=this.base.row,m=this.base.column,S=this.editor.getCursorPosition().column,A=this.editor.session.getLine(g).slice(m,S);this.inlineRenderer.show(this.editor,C,A)?this.$seen(C):this.inlineRenderer.hide()},f.prototype.$onPopupRender=function(){var C=this.inlineRenderer&&this.inlineEnabled;if(this.completions&&this.completions.filtered&&this.completions.filtered.length>0)for(var g=this.popup.getFirstVisibleRow();g<=this.popup.getLastVisibleRow();g++){var m=this.popup.getData(g);m&&(!C||m.hideInlinePreview)&&this.$seen(m)}},f.prototype.$onPopupShow=function(C){this.$onPopupChange(C),this.stickySelection=!1,this.stickySelectionDelay>=0&&this.stickySelectionTimer.schedule(this.stickySelectionDelay)},f.prototype.observeLayoutChanges=function(){if(!(this.$elements||!this.editor)){window.addEventListener("resize",this.onLayoutChange,{passive:!0}),window.addEventListener("wheel",this.mousewheelListener);for(var C=this.editor.container.parentNode,g=[];C;)g.push(C),C.addEventListener("scroll",this.onLayoutChange,{passive:!0}),C=C.parentNode;this.$elements=g}},f.prototype.unObserveLayoutChanges=function(){var C=this;window.removeEventListener("resize",this.onLayoutChange,{passive:!0}),window.removeEventListener("wheel",this.mousewheelListener),this.$elements&&this.$elements.forEach(function(g){g.removeEventListener("scroll",C.onLayoutChange,{passive:!0})}),this.$elements=null},f.prototype.onLayoutChange=function(){if(!this.popup.isOpen)return this.unObserveLayoutChanges();this.$updatePopupPosition(),this.updateDocTooltip()},f.prototype.$updatePopupPosition=function(){var C=this.editor,g=C.renderer,m=g.layerConfig.lineHeight,S=g.$cursorLayer.getPixelPosition(this.base,!0);S.left-=this.popup.getTextLeftOffset();var A=C.container.getBoundingClientRect();S.top+=A.top-g.layerConfig.offset,S.left+=A.left-C.renderer.scrollLeft,S.left+=g.gutterWidth;var R={top:S.top,left:S.left};g.$ghostText&&g.$ghostTextWidget&&this.base.row===g.$ghostText.position.row&&(R.top+=g.$ghostTextWidget.el.offsetHeight);var P=C.container.getBoundingClientRect().bottom-m,W=P<R.top?{top:P,left:R.left}:R;this.popup.tryShow(W,m,"bottom")||this.popup.tryShow(S,m,"top")||this.popup.show(S,m)},f.prototype.openPopup=function(C,g,m){this.$firstOpenTimer.cancel(),this.popup||this.$init(),this.inlineEnabled&&!this.inlineRenderer&&this.$initInline(),this.popup.autoSelect=this.autoSelect,this.popup.setSelectOnHover(this.setSelectOnHover);var S=this.popup.getRow(),A=this.popup.data[S];this.popup.setData(this.completions.filtered,this.completions.filterText),this.editor.textInput.setAriaOptions&&this.editor.textInput.setAriaOptions({activeDescendant:r(this.popup.getRow()),inline:this.inlineEnabled}),C.keyBinding.addKeyboardHandler(this.keyboardHandler);var R;this.stickySelection&&(R=this.popup.data.indexOf(A)),(!R||R===-1)&&(R=0),this.popup.setRow(this.autoSelect?R:-1),R===S&&A!==this.completions.filtered[R]&&this.$onPopupChange();var P=this.inlineRenderer&&this.inlineEnabled;if(R===S&&P){var W=this.popup.getData(this.popup.getRow());this.$updateGhostText(W)}m||(this.popup.setTheme(C.getTheme()),this.popup.setFontSize(C.getFontSize()),this.$updatePopupPosition(),this.tooltipNode&&this.updateDocTooltip()),this.changeTimer.cancel(),this.observeLayoutChanges()},f.prototype.detach=function(){this.editor&&(this.editor.keyBinding.removeKeyboardHandler(this.keyboardHandler),this.editor.off("changeSelection",this.changeListener),this.editor.off("blur",this.blurListener),this.editor.off("mousedown",this.mousedownListener),this.editor.off("mousewheel",this.mousewheelListener)),this.$firstOpenTimer.cancel(),this.changeTimer.cancel(),this.hideDocTooltip(),this.completionProvider&&this.completionProvider.detach(),this.popup&&this.popup.isOpen&&this.popup.hide(),this.popup&&this.popup.renderer&&this.popup.renderer.off("afterRender",this.$onPopupRender),this.base&&this.base.detach(),this.activated=!1,this.completionProvider=this.completions=this.base=null,this.unObserveLayoutChanges()},f.prototype.changeListener=function(C){var g=this.editor.selection.lead;(g.row!=this.base.row||g.column<this.base.column)&&this.detach(),this.activated?this.changeTimer.schedule():this.detach()},f.prototype.blurListener=function(C){var g=document.activeElement,m=this.editor.textInput.getElement(),S=C.relatedTarget&&this.tooltipNode&&this.tooltipNode.contains(C.relatedTarget),A=this.popup&&this.popup.container;g!=m&&g.parentNode!=A&&!S&&g!=this.tooltipNode&&C.relatedTarget!=m&&this.detach()},f.prototype.mousedownListener=function(C){this.detach()},f.prototype.mousewheelListener=function(C){this.popup&&!this.popup.isMouseOver&&this.detach()},f.prototype.mouseOutListener=function(C){this.popup.isOpen&&this.$updatePopupPosition()},f.prototype.goTo=function(C){this.popup.goTo(C)},f.prototype.insertMatch=function(C,g){if(C||(C=this.popup.getData(this.popup.getRow())),!C)return!1;if(C.value==="")return this.detach();var m=this.completions,S=this.getCompletionProvider().insertMatch(this.editor,C,m.filterText,g);return this.completions==m&&this.detach(),S},f.prototype.showPopup=function(C,g){this.editor&&this.detach(),this.activated=!0,this.editor=C,C.completer!=this&&(C.completer&&C.completer.detach(),C.completer=this),C.on("changeSelection",this.changeListener),C.on("blur",this.blurListener),C.on("mousedown",this.mousedownListener),C.on("mousewheel",this.mousewheelListener),this.updateCompletions(!1,g)},f.prototype.getCompletionProvider=function(C){return this.completionProvider||(this.completionProvider=new E(C)),this.completionProvider},f.prototype.gatherCompletions=function(C,g){return this.getCompletionProvider().gatherCompletions(C,g)},f.prototype.updateCompletions=function(C,g){if(C&&this.base&&this.completions){var S=this.editor.getCursorPosition(),A=this.editor.session.getTextRange({start:this.base,end:S});if(A==this.completions.filterText)return;if(this.completions.setFilter(A),!this.completions.filtered.length)return this.detach();if(this.completions.filtered.length==1&&this.completions.filtered[0].value==A&&!this.completions.filtered[0].snippet)return this.detach();this.openPopup(this.editor,A,C);return}if(g&&g.matches){var S=this.editor.getSelectionRange().start;return this.base=this.editor.session.doc.createAnchor(S.row,S.column),this.base.$insertRight=!0,this.completions=new k(g.matches),this.getCompletionProvider().completions=this.completions,this.openPopup(this.editor,"",C)}var m=this.editor.getSession(),S=this.editor.getCursorPosition(),A=e.getCompletionPrefix(this.editor);this.base=m.doc.createAnchor(S.row,S.column-A.length),this.base.$insertRight=!0;var R={exactMatch:this.exactMatch,ignoreCaption:this.ignoreCaption};this.getCompletionProvider({prefix:A,pos:S}).provideCompletions(this.editor,R,function(P,W,_){var T=W.filtered,N=e.getCompletionPrefix(this.editor);if(this.$firstOpenTimer.cancel(),_){if(!T.length){var V=!this.autoShown&&this.emptyMessage;if(typeof V=="function"&&(V=this.emptyMessage(N)),V){var K=[{caption:V,value:""}];this.completions=new k(K),this.openPopup(this.editor,N,C),this.popup.renderer.setStyle("ace_loading",!1),this.popup.renderer.setStyle("ace_empty-message",!0);return}return this.detach()}if(T.length==1&&T[0].value==N&&!T[0].snippet)return this.detach();if(this.autoInsert&&!this.autoShown&&T.length==1)return this.insertMatch(T[0])}this.completions=!_&&this.showLoadingState?new k(f.completionsForLoading.concat(T),W.filterText):W,this.openPopup(this.editor,N,C),this.popup.renderer.setStyle("ace_empty-message",!1),this.popup.renderer.setStyle("ace_loading",!_)}.bind(this)),this.showLoadingState&&!this.autoShown&&(!this.popup||!this.popup.isOpen)&&this.$firstOpenTimer.delay(this.stickySelectionDelay/2)},f.prototype.cancelContextMenu=function(){this.editor.$mouseHandler.cancelContextMenu()},f.prototype.updateDocTooltip=function(){var C=this.popup,g=this.completions.filtered,m=g&&(g[C.getHoveredRow()]||g[C.getRow()]),S=null;if(!m||!this.editor||!this.popup.isOpen)return this.hideDocTooltip();for(var A=this.editor.completers.length,R=0;R<A;R++){var P=this.editor.completers[R];if(P.getDocTooltip&&m.completerId===P.id){S=P.getDocTooltip(m);break}}if(!S&&typeof m!="string"&&(S=m),typeof S=="string"&&(S={docText:S}),!S||!S.docHTML&&!S.docText)return this.hideDocTooltip();this.showDocTooltip(S)},f.prototype.showDocTooltip=function(C){this.tooltipNode||(this.tooltipNode=t.createElement("div"),this.tooltipNode.style.margin="0",this.tooltipNode.style.pointerEvents="auto",this.tooltipNode.style.overscrollBehavior="contain",this.tooltipNode.tabIndex=-1,this.tooltipNode.onblur=this.blurListener.bind(this),this.tooltipNode.onclick=this.onTooltipClick.bind(this),this.tooltipNode.id="doc-tooltip",this.tooltipNode.setAttribute("role","tooltip"),this.tooltipNode.addEventListener("wheel",c));var g=this.editor.renderer.theme;this.tooltipNode.className="ace_tooltip ace_doc-tooltip "+(g.isDark?"ace_dark ":"")+(g.cssClass||"");var m=this.tooltipNode;C.docHTML?m.innerHTML=C.docHTML:C.docText&&(m.textContent=C.docText),m.parentNode||this.popup.container.appendChild(this.tooltipNode);var S=this.popup,A=S.container.getBoundingClientRect();m.style.top=S.container.style.top,m.style.bottom=S.container.style.bottom,m.style.display="block",window.innerWidth-A.right<320?A.left<320?S.isTopdown?(m.style.top=A.bottom+"px",m.style.left=A.left+"px",m.style.right="",m.style.bottom=""):(m.style.top=S.container.offsetTop-m.offsetHeight+"px",m.style.left=A.left+"px",m.style.right="",m.style.bottom=""):(m.style.right=window.innerWidth-A.left+"px",m.style.left=""):(m.style.left=A.right+1+"px",m.style.right="")},f.prototype.hideDocTooltip=function(){if(this.tooltipTimer.cancel(),!!this.tooltipNode){var C=this.tooltipNode;!this.editor.isFocused()&&document.activeElement==C&&this.editor.focus(),this.tooltipNode=null,C.parentNode&&C.parentNode.removeChild(C)}},f.prototype.onTooltipClick=function(C){for(var g=C.target;g&&g!=this.tooltipNode;){if(g.nodeName=="A"&&g.href){g.rel="noreferrer",g.target="_blank";break}g=g.parentNode}},f.prototype.destroy=function(){if(this.detach(),this.popup){this.popup.destroy();var C=this.popup.container;C&&C.parentNode&&C.parentNode.removeChild(C)}this.editor&&this.editor.completer==this&&(this.editor.off("destroy",p),this.editor.completer=null),this.inlineRenderer=this.popup=this.editor=null},f}();w.prototype.commands={Up:function(f){f.completer.goTo("up")},Down:function(f){f.completer.goTo("down")},"Ctrl-Up|Ctrl-Home":function(f){f.completer.goTo("start")},"Ctrl-Down|Ctrl-End":function(f){f.completer.goTo("end")},Esc:function(f){f.completer.detach()},Return:function(f){return f.completer.insertMatch()},"Shift-Return":function(f){f.completer.insertMatch(null,{deleteSuffix:!0})},Tab:function(f){var C=f.completer.insertMatch();if(C||f.tabstopManager)return C;f.completer.goTo("down")},Backspace:function(f){f.execCommand("backspace");var C=e.getCompletionPrefix(f);!C&&f.completer&&f.completer.detach()},PageUp:function(f){f.completer.popup.gotoPageUp()},PageDown:function(f){f.completer.popup.gotoPageDown()}},w.for=function(f){return f.completer instanceof w||(f.completer&&(f.completer.destroy(),f.completer=null),n.get("sharedPopups")?(w.$sharedInstance||(w.$sharedInstance=new w),f.completer=w.$sharedInstance):(f.completer=new w,f.once("destroy",p))),f.completer},w.startCommand={name:"startAutocomplete",exec:function(f,C){var g=w.for(f);g.autoInsert=!1,g.autoSelect=!0,g.autoShown=!1,g.showPopup(f,C),g.cancelContextMenu()},bindKey:"Ctrl-Space|Ctrl-Shift-Space|Alt-Space"};var E=function(){function f(C){this.initialPosition=C,this.active=!0}return f.prototype.insertByIndex=function(C,g,m){return!this.completions||!this.completions.filtered?!1:this.insertMatch(C,this.completions.filtered[g],m)},f.prototype.insertMatch=function(C,g,m){if(!g)return!1;if(C.startOperation({command:{name:"insertMatch"}}),g.completer&&g.completer.insertMatch)g.completer.insertMatch(C,g);else{if(!this.completions)return!1;var S=this.completions.filterText.length,A=0;if(g.range&&g.range.start.row===g.range.end.row&&(S-=this.initialPosition.prefix.length,S+=this.initialPosition.pos.column-g.range.start.column,A+=g.range.end.column-this.initialPosition.pos.column),S||A){var R;C.selection.getAllRanges?R=C.selection.getAllRanges():R=[C.getSelectionRange()];for(var P=0,W;W=R[P];P++)W.start.column-=S,W.end.column+=A,C.session.remove(W)}g.snippet?i.insertSnippet(C,g.snippet):this.$insertString(C,g),g.completer&&g.completer.onInsert&&typeof g.completer.onInsert=="function"&&g.completer.onInsert(C,g),g.command&&g.command==="startAutocomplete"&&C.execCommand(g.command)}return C.endOperation(),!0},f.prototype.$insertString=function(C,g){var m=g.value||g;C.execCommand("insertstring",m)},f.prototype.gatherCompletions=function(C,g){var m=C.getSession(),S=C.getCursorPosition(),A=e.getCompletionPrefix(C),R=[];this.completers=C.completers;var P=C.completers.length;return C.completers.forEach(function(W,_){W.getCompletions(C,m,S,A,function(T,N){W.hideInlinePreview&&(N=N.map(function(V){return Object.assign(V,{hideInlinePreview:W.hideInlinePreview})})),!T&&N&&(R=R.concat(N)),g(null,{prefix:e.getCompletionPrefix(C),matches:R,finished:--P===0})})}),!0},f.prototype.provideCompletions=function(C,g,m){var S=function(W){var _=W.prefix,T=W.matches;this.completions=new k(T),g.exactMatch&&(this.completions.exactMatch=!0),g.ignoreCaption&&(this.completions.ignoreCaption=!0),this.completions.setFilter(_),(W.finished||this.completions.filtered.length)&&m(null,this.completions,W.finished)}.bind(this),A=!0,R=null;if(this.gatherCompletions(C,function(W,_){if(this.active){W&&(m(W,[],!0),this.detach());var T=_.prefix;if(T.indexOf(_.prefix)===0){if(A){R=_;return}S(_)}}}.bind(this)),A=!1,R){var P=R;R=null,S(P)}},f.prototype.detach=function(){this.active=!1,this.completers&&this.completers.forEach(function(C){typeof C.cancel=="function"&&C.cancel()})},f}(),k=function(){function f(C,g){this.all=C,this.filtered=C,this.filterText=g||"",this.exactMatch=!1,this.ignoreCaption=!1}return f.prototype.setFilter=function(C){if(C.length>this.filterText&&C.lastIndexOf(this.filterText,0)===0)var g=this.filtered;else var g=this.all;this.filterText=C,g=this.filterCompletions(g,this.filterText),g=g.sort(function(S,A){return A.exactMatch-S.exactMatch||A.$score-S.$score||(S.caption||S.value).localeCompare(A.caption||A.value)});var m=null;g=g.filter(function(S){var A=S.snippet||S.caption||S.value;return A===m?!1:(m=A,!0)}),this.filtered=g},f.prototype.filterCompletions=function(C,g){var m=[],S=g.toUpperCase(),A=g.toLowerCase();e:for(var R=0,P;P=C[R];R++){var W=!this.ignoreCaption&&P.caption||P.value||P.snippet;if(W){var _=-1,T=0,N=0,V,K;if(this.exactMatch){if(g!==W.substr(0,g.length))continue e}else{var I=W.toLowerCase().indexOf(A);if(I>-1)N=I;else for(var q=0;q<g.length;q++){var U=W.indexOf(A[q],_+1),J=W.indexOf(S[q],_+1);if(V=U>=0&&(J<0||U<J)?U:J,V<0)continue e;K=V-_-1,K>0&&(_===-1&&(N+=10),N+=K,T|=1<<q),_=V}}P.matchMask=T,P.exactMatch=N?0:1,P.$score=(P.score||0)-N,m.push(P)}}return m},f}();h.Autocomplete=w,h.CompletionProvider=E,h.FilteredList=k}),ace.define("ace/autocomplete/text_completer",["require","exports","module","ace/range"],function(M,h,F){function b(e,s){var t=e.getTextRange(D.fromPoints({row:0,column:0},s));return t.split(r).length-1}function d(e,s){var t=b(e,s),i=e.getValue().split(r),n=Object.create(null),o=i[t];return i.forEach(function(c,p){if(!(!c||c===o)){var w=Math.abs(t-p),E=i.length-w;n[c]?n[c]=Math.max(E,n[c]):n[c]=E}}),n}var D=M("../range").Range,r=/[^a-zA-Z_0-9\$\-\u00C0-\u1FFF\u2C00-\uD7FF\w]+/;h.getCompletions=function(e,s,t,i,n){var o=d(s,t),c=Object.keys(o);n(null,c.map(function(p){return{caption:p,value:p,score:o[p],meta:"local"}}))}}),ace.define("ace/ext/language_tools",["require","exports","module","ace/snippets","ace/autocomplete","ace/config","ace/lib/lang","ace/autocomplete/util","ace/autocomplete/text_completer","ace/editor","ace/config"],function(M,h,F){"use strict";var b=M("../snippets").snippetManager,d=M("../autocomplete").Autocomplete,D=M("../config"),r=M("../lib/lang"),e=M("../autocomplete/util"),s=M("../autocomplete/text_completer"),t={getCompletions:function(S,A,R,P,W){if(A.$mode.completer)return A.$mode.completer.getCompletions(S,A,R,P,W);var _=S.session.getState(R.row),T=A.$mode.getCompletions(_,A,R,P);T=T.map(function(N){return N.completerId=t.id,N}),W(null,T)},id:"keywordCompleter"},i=function(S){var A={};return S.replace(/\${(\d+)(:(.*?))?}/g,function(R,P,W,_){return A[P]=_||""}).replace(/\$(\d+?)/g,function(R,P){return A[P]})},n={getCompletions:function(S,A,R,P,W){var _=[],T=A.getTokenAt(R.row,R.column);T&&T.type.match(/(tag-name|tag-open|tag-whitespace|attribute-name|attribute-value)\.xml$/)?_.push("html-tag"):_=b.getActiveScopes(S);var N=b.snippetMap,V=[];_.forEach(function(K){for(var I=N[K]||[],q=I.length;q--;){var U=I[q],J=U.name||U.tabTrigger;J&&V.push({caption:J,snippet:U.content,meta:U.tabTrigger&&!U.name?U.tabTrigger+"\u21E5 ":"snippet",completerId:n.id})}},this),W(null,V)},getDocTooltip:function(S){S.snippet&&!S.docHTML&&(S.docHTML=["<b>",r.escapeHTML(S.caption),"</b>","<hr></hr>",r.escapeHTML(i(S.snippet))].join(""))},id:"snippetCompleter"},o=[n,s,t];h.setCompleters=function(S){o.length=0,S&&o.push.apply(o,S)},h.addCompleter=function(S){o.push(S)},h.textCompleter=s,h.keyWordCompleter=t,h.snippetCompleter=n;var c={name:"expandSnippet",exec:function(S){return b.expandWithTab(S)},bindKey:"Tab"},p=function(S,A){w(A.session.$mode)},w=function(S){typeof S=="string"&&(S=D.$modes[S]),S&&(b.files||(b.files={}),E(S.$id,S.snippetFileId),S.modes&&S.modes.forEach(w))},E=function(S,A){!A||!S||b.files[S]||(b.files[S]={},D.loadModule(A,function(R){R&&(b.files[S]=R,!R.snippets&&R.snippetText&&(R.snippets=b.parseSnippetFile(R.snippetText)),b.register(R.snippets||[],R.scope),R.includeScopes&&(b.snippetMap[R.scope].includeScopes=R.includeScopes,R.includeScopes.forEach(function(P){w("ace/mode/"+P)})))}))},k=function(S){var A=S.editor,R=A.completer&&A.completer.activated;if(S.command.name==="backspace")R&&!e.getCompletionPrefix(A)&&A.completer.detach();else if(S.command.name==="insertstring"&&!R){f=S;var P=S.editor.$liveAutocompletionDelay;P?C.delay(P):g(S)}},f,C=r.delayedCall(function(){g(f)},0),g=function(S){var A=S.editor,R=e.getCompletionPrefix(A),P=S.args,W=e.triggerAutocomplete(A,P);if(R&&R.length>=A.$liveAutocompletionThreshold||W){var _=d.for(A);_.autoShown=!0,_.showPopup(A)}},m=M("../editor").Editor;M("../config").defineOptions(m.prototype,"editor",{enableBasicAutocompletion:{set:function(S){S?(this.completers||(this.completers=Array.isArray(S)?S:o),this.commands.addCommand(d.startCommand)):this.commands.removeCommand(d.startCommand)},value:!1},enableLiveAutocompletion:{set:function(S){S?(this.completers||(this.completers=Array.isArray(S)?S:o),this.commands.on("afterExec",k)):this.commands.off("afterExec",k)},value:!1},liveAutocompletionDelay:{initialValue:0},liveAutocompletionThreshold:{initialValue:0},enableSnippets:{set:function(S){S?(this.commands.addCommand(c),this.on("changeMode",p),p(null,this)):(this.commands.removeCommand(c),this.off("changeMode",p))},value:!1}})}),function(){ace.require(["ace/ext/language_tools"],function(M){X&&(X.exports=M)})}()},97726:(X,j,L)=>{X=L.nmd(X),ace.define("ace/mode/json_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(M,h,F){"use strict";var b=M("../lib/oop"),d=M("./text_highlight_rules").TextHighlightRules,D=function(){this.$rules={start:[{token:"variable",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]\\s*(?=:)'},{token:"string",regex:'"',next:"string"},{token:"constant.numeric",regex:"0[xX][0-9a-fA-F]+\\b"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:"constant.language.boolean",regex:"(?:true|false)\\b"},{token:"text",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"comment",regex:"\\/\\/.*$"},{token:"comment.start",regex:"\\/\\*",next:"comment"},{token:"paren.lparen",regex:"[[({]"},{token:"paren.rparen",regex:"[\\])}]"},{token:"punctuation.operator",regex:/[,]/},{token:"text",regex:"\\s+"}],string:[{token:"constant.language.escape",regex:/\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|["\\\/bfnrt])/},{token:"string",regex:'"|$',next:"start"},{defaultToken:"string"}],comment:[{token:"comment.end",regex:"\\*\\/",next:"start"},{defaultToken:"comment"}]}};b.inherits(D,d),h.JsonHighlightRules=D}),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(M,h,F){"use strict";var b=M("../range").Range,d=function(){};(function(){this.checkOutdent=function(D,r){return/^\s+$/.test(D)?/^\s*\}/.test(r):!1},this.autoOutdent=function(D,r){var e=D.getLine(r),s=e.match(/^(\s*\})/);if(!s)return 0;var t=s[1].length,i=D.findMatchingBracket({row:r,column:t});if(!i||i.row==r)return 0;var n=this.$getIndent(D.getLine(i.row));D.replace(new b(r,0,r,t-1),n)},this.$getIndent=function(D){return D.match(/^\s*/)[0]}}).call(d.prototype),h.MatchingBraceOutdent=d}),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(M,h,F){"use strict";var b=M("../../lib/oop"),d=M("../../range").Range,D=M("./fold_mode").FoldMode,r=h.FoldMode=function(e){e&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+e.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+e.end)))};b.inherits(r,D),function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(e,s,t){var i=e.getLine(t);if(this.singleLineBlockCommentRe.test(i)&&!this.startRegionRe.test(i)&&!this.tripleStarBlockCommentRe.test(i))return"";var n=this._getFoldWidgetBase(e,s,t);return!n&&this.startRegionRe.test(i)?"start":n},this.getFoldWidgetRange=function(e,s,t,i){var n=e.getLine(t);if(this.startRegionRe.test(n))return this.getCommentRegionBlock(e,n,t);var p=n.match(this.foldingStartMarker);if(p){var o=p.index;if(p[1])return this.openingBracketBlock(e,p[1],t,o);var c=e.getCommentFoldRange(t,o+p[0].length,1);return c&&!c.isMultiLine()&&(i?c=this.getSectionRange(e,t):s!="all"&&(c=null)),c}if(s!=="markbegin"){var p=n.match(this.foldingStopMarker);if(p){var o=p.index+p[0].length;return p[1]?this.closingBracketBlock(e,p[1],t,o):e.getCommentFoldRange(t,o,-1)}}},this.getSectionRange=function(e,s){var t=e.getLine(s),i=t.search(/\S/),n=s,o=t.length;s+=1;for(var c=s,p=e.getLength();++s<p;){t=e.getLine(s);var w=t.search(/\S/);if(w!==-1){if(i>w)break;var E=this.getFoldWidgetRange(e,"all",s);if(E){if(E.start.row<=n)break;if(E.isMultiLine())s=E.end.row;else if(i==w)break}c=s}}return new d(n,o,c,e.getLine(c).length)},this.getCommentRegionBlock=function(e,s,t){for(var i=s.search(/\s*$/),n=e.getLength(),o=t,c=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,p=1;++t<n;){s=e.getLine(t);var w=c.exec(s);if(w&&(w[1]?p--:p++,!p))break}var E=t;if(E>o)return new d(o,i,E,s.length)}}.call(r.prototype)}),ace.define("ace/mode/json",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/json_highlight_rules","ace/mode/matching_brace_outdent","ace/mode/folding/cstyle","ace/worker/worker_client"],function(M,h,F){"use strict";var b=M("../lib/oop"),d=M("./text").Mode,D=M("./json_highlight_rules").JsonHighlightRules,r=M("./matching_brace_outdent").MatchingBraceOutdent,e=M("./folding/cstyle").FoldMode,s=M("../worker/worker_client").WorkerClient,t=function(){this.HighlightRules=D,this.$outdent=new r,this.$behaviour=this.$defaultBehaviour,this.foldingRules=new e};b.inherits(t,d),function(){this.lineCommentStart="//",this.blockComment={start:"/*",end:"*/"},this.getNextLineIndent=function(i,n,o){var c=this.$getIndent(n);if(i=="start"){var p=n.match(/^.*[\{\(\[]\s*$/);p&&(c+=o)}return c},this.checkOutdent=function(i,n,o){return this.$outdent.checkOutdent(n,o)},this.autoOutdent=function(i,n,o){this.$outdent.autoOutdent(n,o)},this.createWorker=function(i){var n=new s(["ace"],"ace/mode/json_worker","JsonWorker");return n.attachToDocument(i.getDocument()),n.on("annotate",function(o){i.setAnnotations(o.data)}),n.on("terminate",function(){i.clearAnnotations()}),n},this.$id="ace/mode/json"}.call(t.prototype),h.Mode=t}),function(){ace.require(["ace/mode/json"],function(M){X&&(X.exports=M)})}()},44210:(X,j,L)=>{X=L.nmd(X),ace.define("ace/theme/chrome-css",["require","exports","module"],function(M,h,F){F.exports=`.ace-chrome .ace_gutter {
  background: #ebebeb;
  color: #333;
  overflow : hidden;
}

.ace-chrome .ace_print-margin {
  width: 1px;
  background: #e8e8e8;
}

.ace-chrome {
  background-color: #FFFFFF;
  color: black;
}

.ace-chrome .ace_cursor {
  color: black;
}

.ace-chrome .ace_invisible {
  color: rgb(191, 191, 191);
}

.ace-chrome .ace_constant.ace_buildin {
  color: rgb(88, 72, 246);
}

.ace-chrome .ace_constant.ace_language {
  color: rgb(88, 92, 246);
}

.ace-chrome .ace_constant.ace_library {
  color: rgb(6, 150, 14);
}

.ace-chrome .ace_invalid {
  background-color: rgb(153, 0, 0);
  color: white;
}

.ace-chrome .ace_fold {
}

.ace-chrome .ace_support.ace_function {
  color: rgb(60, 76, 114);
}

.ace-chrome .ace_support.ace_constant {
  color: rgb(6, 150, 14);
}

.ace-chrome .ace_support.ace_type,
.ace-chrome .ace_support.ace_class
.ace-chrome .ace_support.ace_other {
  color: rgb(109, 121, 222);
}

.ace-chrome .ace_variable.ace_parameter {
  font-style:italic;
  color:#FD971F;
}
.ace-chrome .ace_keyword.ace_operator {
  color: rgb(104, 118, 135);
}

.ace-chrome .ace_comment {
  color: #236e24;
}

.ace-chrome .ace_comment.ace_doc {
  color: #236e24;
}

.ace-chrome .ace_comment.ace_doc.ace_tag {
  color: #236e24;
}

.ace-chrome .ace_constant.ace_numeric {
  color: rgb(0, 0, 205);
}

.ace-chrome .ace_variable {
  color: rgb(49, 132, 149);
}

.ace-chrome .ace_xml-pe {
  color: rgb(104, 104, 91);
}

.ace-chrome .ace_entity.ace_name.ace_function {
  color: #0000A2;
}


.ace-chrome .ace_heading {
  color: rgb(12, 7, 255);
}

.ace-chrome .ace_list {
  color:rgb(185, 6, 144);
}

.ace-chrome .ace_marker-layer .ace_selection {
  background: rgb(181, 213, 255);
}

.ace-chrome .ace_marker-layer .ace_step {
  background: rgb(252, 255, 0);
}

.ace-chrome .ace_marker-layer .ace_stack {
  background: rgb(164, 229, 101);
}

.ace-chrome .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid rgb(192, 192, 192);
}

.ace-chrome .ace_marker-layer .ace_active-line {
  background: rgba(0, 0, 0, 0.07);
}

.ace-chrome .ace_gutter-active-line {
    background-color : #dcdcdc;
}

.ace-chrome .ace_marker-layer .ace_selected-word {
  background: rgb(250, 250, 255);
  border: 1px solid rgb(200, 200, 250);
}

.ace-chrome .ace_storage,
.ace-chrome .ace_keyword,
.ace-chrome .ace_meta.ace_tag {
  color: rgb(147, 15, 128);
}

.ace-chrome .ace_string.ace_regex {
  color: rgb(255, 0, 0)
}

.ace-chrome .ace_string {
  color: #1A1AA6;
}

.ace-chrome .ace_entity.ace_other.ace_attribute-name {
  color: #994409;
}

.ace-chrome .ace_indent-guide {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;
}
  
.ace-chrome .ace_indent-guide-active {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;
}
`}),ace.define("ace/theme/chrome",["require","exports","module","ace/theme/chrome-css","ace/lib/dom"],function(M,h,F){h.isDark=!1,h.cssClass="ace-chrome",h.cssText=M("./chrome-css");var b=M("../lib/dom");b.importCssString(h.cssText,h.cssClass,!1)}),function(){ace.require(["ace/theme/chrome"],function(M){X&&(X.exports=M)})}()},9285:(X,j,L)=>{X=L.nmd(X),ace.define("ace/theme/clouds_midnight-css",["require","exports","module"],function(M,h,F){F.exports=`.ace-clouds-midnight .ace_gutter {
  background: #232323;
  color: #929292
}

.ace-clouds-midnight .ace_print-margin {
  width: 1px;
  background: #232323
}

.ace-clouds-midnight {
  background-color: #191919;
  color: #929292
}

.ace-clouds-midnight .ace_cursor {
  color: #7DA5DC
}

.ace-clouds-midnight .ace_marker-layer .ace_selection {
  background: #000000
}

.ace-clouds-midnight.ace_multiselect .ace_selection.ace_start {
  box-shadow: 0 0 3px 0px #191919;
}

.ace-clouds-midnight .ace_marker-layer .ace_step {
  background: rgb(102, 82, 0)
}

.ace-clouds-midnight .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid #BFBFBF
}

.ace-clouds-midnight .ace_marker-layer .ace_active-line {
  background: rgba(215, 215, 215, 0.031)
}

.ace-clouds-midnight .ace_gutter-active-line {
  background-color: rgba(215, 215, 215, 0.031)
}

.ace-clouds-midnight .ace_marker-layer .ace_selected-word {
  border: 1px solid #000000
}

.ace-clouds-midnight .ace_invisible {
  color: #666
}

.ace-clouds-midnight .ace_keyword,
.ace-clouds-midnight .ace_meta,
.ace-clouds-midnight .ace_support.ace_constant.ace_property-value {
  color: #927C5D
}

.ace-clouds-midnight .ace_keyword.ace_operator {
  color: #4B4B4B
}

.ace-clouds-midnight .ace_keyword.ace_other.ace_unit {
  color: #366F1A
}

.ace-clouds-midnight .ace_constant.ace_language {
  color: #39946A
}

.ace-clouds-midnight .ace_constant.ace_numeric {
  color: #46A609
}

.ace-clouds-midnight .ace_constant.ace_character.ace_entity {
  color: #A165AC
}

.ace-clouds-midnight .ace_invalid {
  color: #FFFFFF;
  background-color: #E92E2E
}

.ace-clouds-midnight .ace_fold {
  background-color: #927C5D;
  border-color: #929292
}

.ace-clouds-midnight .ace_storage,
.ace-clouds-midnight .ace_support.ace_class,
.ace-clouds-midnight .ace_support.ace_function,
.ace-clouds-midnight .ace_support.ace_other,
.ace-clouds-midnight .ace_support.ace_type {
  color: #E92E2E
}

.ace-clouds-midnight .ace_string {
  color: #5D90CD
}

.ace-clouds-midnight .ace_comment {
  color: #3C403B
}

.ace-clouds-midnight .ace_entity.ace_name.ace_tag,
.ace-clouds-midnight .ace_entity.ace_other.ace_attribute-name {
  color: #606060
}

.ace-clouds-midnight .ace_indent-guide {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWNgYGBgYHB3d/8PAAOIAdULw8qMAAAAAElFTkSuQmCC) right repeat-y
}

.ace-clouds-midnight .ace_indent-guide-active {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQIW2PQ1dX9zzBz5sz/ABCcBFFentLlAAAAAElFTkSuQmCC) right repeat-y;
}
`}),ace.define("ace/theme/clouds_midnight",["require","exports","module","ace/theme/clouds_midnight-css","ace/lib/dom"],function(M,h,F){h.isDark=!0,h.cssClass="ace-clouds-midnight",h.cssText=M("./clouds_midnight-css");var b=M("../lib/dom");b.importCssString(h.cssText,h.cssClass,!1)}),function(){ace.require(["ace/theme/clouds_midnight"],function(M){X&&(X.exports=M)})}()},51197:function(){"no use strict";(function(X){function j(h,F){for(var b=h,d="";b;){var D=F[b];if(typeof D=="string")return D+d;if(D)return D.location.replace(/\/*$/,"/")+(d||D.main||D.name);if(D===!1)return"";var r=b.lastIndexOf("/");if(r===-1)break;d=b.substr(r)+d,b=b.slice(0,r)}return h}if(!(typeof X.window!="undefined"&&X.document)&&!(X.require&&X.define)){X.console||(X.console=function(){var h=Array.prototype.slice.call(arguments,0);postMessage({type:"log",data:h})},X.console.error=X.console.warn=X.console.log=X.console.trace=X.console),X.window=X,X.ace=X,X.onerror=function(h,F,b,d,D){postMessage({type:"error",data:{message:h,data:D&&D.data,file:F,line:b,col:d,stack:D&&D.stack}})},X.normalizeModule=function(h,F){if(F.indexOf("!")!==-1){var b=F.split("!");return X.normalizeModule(h,b[0])+"!"+X.normalizeModule(h,b[1])}if(F.charAt(0)=="."){var d=h.split("/").slice(0,-1).join("/");for(F=(d?d+"/":"")+F;F.indexOf(".")!==-1&&D!=F;){var D=F;F=F.replace(/^\.\//,"").replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}}return F},X.require=function(h,F){if(F||(F=h,h=null),!F.charAt)throw new Error("worker.js require() accepts only (parentId, id) as arguments");F=X.normalizeModule(h,F);var b=X.require.modules[F];if(b)return b.initialized||(b.initialized=!0,b.exports=b.factory().exports),b.exports;if(!X.require.tlns)return console.log("unable to load "+F);var d=j(F,X.require.tlns);return d.slice(-3)!=".js"&&(d+=".js"),X.require.id=F,X.require.modules[F]={},importScripts(d),X.require(h,F)},X.require.modules={},X.require.tlns={},X.define=function(h,F,b){if(arguments.length==2?(b=F,typeof h!="string"&&(F=h,h=X.require.id)):arguments.length==1&&(b=h,F=[],h=X.require.id),typeof b!="function"){X.require.modules[h]={exports:b,initialized:!0};return}F.length||(F=["require","exports","module"]);var d=function(D){return X.require(h,D)};X.require.modules[h]={exports:{},factory:function(){var D=this,r=b.apply(this,F.slice(0,b.length).map(function(e){switch(e){case"require":return d;case"exports":return D.exports;case"module":return D;default:return d(e)}}));return r&&(D.exports=r),D}}},X.define.amd={},X.require.tlns={},X.initBaseUrls=function(h){for(var F in h)this.require.tlns[F]=h[F]},X.initSender=function(){var h=X.require("ace/lib/event_emitter").EventEmitter,F=X.require("ace/lib/oop"),b=function(){};return function(){F.implement(this,h),this.callback=function(d,D){postMessage({type:"call",id:D,data:d})},this.emit=function(d,D){postMessage({type:"event",name:d,data:D})}}.call(b.prototype),new b};var L=X.main=null,M=X.sender=null;X.onmessage=function(h){var F=h.data;if(F.event&&M)M._signal(F.event,F.data);else if(F.command)if(L[F.command])L[F.command].apply(L,F.args);else{if(!X[F.command])throw new Error("Unknown command:"+F.command);X[F.command].apply(X,F.args)}else if(F.init){X.initBaseUrls(F.tlns),M=X.sender=X.initSender();var b=this.require(F.module)[F.classname];L=X.main=new b(M)}}}})(this),ace.define("ace/lib/oop",[],function(X,j,L){"use strict";j.inherits=function(M,h){M.super_=h,M.prototype=Object.create(h.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}})},j.mixin=function(M,h){for(var F in h)M[F]=h[F];return M},j.implement=function(M,h){j.mixin(M,h)}}),ace.define("ace/apply_delta",[],function(X,j,L){"use strict";function M(b,d){throw console.log("Invalid Delta:",b),"Invalid Delta: "+d}function h(b,d){return d.row>=0&&d.row<b.length&&d.column>=0&&d.column<=b[d.row].length}function F(b,d){d.action!="insert"&&d.action!="remove"&&M(d,"delta.action must be 'insert' or 'remove'"),d.lines instanceof Array||M(d,"delta.lines must be an Array"),(!d.start||!d.end)&&M(d,"delta.start/end must be an present");var D=d.start;h(b,d.start)||M(d,"delta.start must be contained in document");var r=d.end;d.action=="remove"&&!h(b,r)&&M(d,"delta.end must contained in document for 'remove' actions");var e=r.row-D.row,s=r.column-(e==0?D.column:0);(e!=d.lines.length-1||d.lines[e].length!=s)&&M(d,"delta.range must match delta lines")}j.applyDelta=function(b,d,D){var r=d.start.row,e=d.start.column,s=b[r]||"";switch(d.action){case"insert":var t=d.lines;if(t.length===1)b[r]=s.substring(0,e)+d.lines[0]+s.substring(e);else{var i=[r,1].concat(d.lines);b.splice.apply(b,i),b[r]=s.substring(0,e)+b[r],b[r+d.lines.length-1]+=s.substring(e)}break;case"remove":var n=d.end.column,o=d.end.row;r===o?b[r]=s.substring(0,e)+s.substring(n):b.splice(r,o-r+1,s.substring(0,e)+b[o].substring(n))}}}),ace.define("ace/lib/event_emitter",[],function(X,j,L){"use strict";var M={},h=function(){this.propagationStopped=!0},F=function(){this.defaultPrevented=!0};M._emit=M._dispatchEvent=function(b,d){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var D=this._eventRegistry[b]||[],r=this._defaultHandlers[b];if(!(!D.length&&!r)){(typeof d!="object"||!d)&&(d={}),d.type||(d.type=b),d.stopPropagation||(d.stopPropagation=h),d.preventDefault||(d.preventDefault=F),D=D.slice();for(var e=0;e<D.length&&(D[e](d,this),!d.propagationStopped);e++);if(r&&!d.defaultPrevented)return r(d,this)}},M._signal=function(b,d){var D=(this._eventRegistry||{})[b];if(D){D=D.slice();for(var r=0;r<D.length;r++)D[r](d,this)}},M.once=function(b,d){var D=this;if(this.on(b,function r(){D.off(b,r),d.apply(null,arguments)}),!d)return new Promise(function(r){d=r})},M.setDefaultHandler=function(b,d){var D=this._defaultHandlers;if(D||(D=this._defaultHandlers={_disabled_:{}}),D[b]){var r=D[b],e=D._disabled_[b];e||(D._disabled_[b]=e=[]),e.push(r);var s=e.indexOf(d);s!=-1&&e.splice(s,1)}D[b]=d},M.removeDefaultHandler=function(b,d){var D=this._defaultHandlers;if(D){var r=D._disabled_[b];if(D[b]==d)r&&this.setDefaultHandler(b,r.pop());else if(r){var e=r.indexOf(d);e!=-1&&r.splice(e,1)}}},M.on=M.addEventListener=function(b,d,D){this._eventRegistry=this._eventRegistry||{};var r=this._eventRegistry[b];return r||(r=this._eventRegistry[b]=[]),r.indexOf(d)==-1&&r[D?"unshift":"push"](d),d},M.off=M.removeListener=M.removeEventListener=function(b,d){this._eventRegistry=this._eventRegistry||{};var D=this._eventRegistry[b];if(D){var r=D.indexOf(d);r!==-1&&D.splice(r,1)}},M.removeAllListeners=function(b){b||(this._eventRegistry=this._defaultHandlers=void 0),this._eventRegistry&&(this._eventRegistry[b]=void 0),this._defaultHandlers&&(this._defaultHandlers[b]=void 0)},j.EventEmitter=M}),ace.define("ace/range",[],function(X,j,L){"use strict";var M=function(){function h(F,b,d,D){this.start={row:F,column:b},this.end={row:d,column:D}}return h.prototype.isEqual=function(F){return this.start.row===F.start.row&&this.end.row===F.end.row&&this.start.column===F.start.column&&this.end.column===F.end.column},h.prototype.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},h.prototype.contains=function(F,b){return this.compare(F,b)==0},h.prototype.compareRange=function(F){var b,d=F.end,D=F.start;return b=this.compare(d.row,d.column),b==1?(b=this.compare(D.row,D.column),b==1?2:b==0?1:0):b==-1?-2:(b=this.compare(D.row,D.column),b==-1?-1:b==1?42:0)},h.prototype.comparePoint=function(F){return this.compare(F.row,F.column)},h.prototype.containsRange=function(F){return this.comparePoint(F.start)==0&&this.comparePoint(F.end)==0},h.prototype.intersects=function(F){var b=this.compareRange(F);return b==-1||b==0||b==1},h.prototype.isEnd=function(F,b){return this.end.row==F&&this.end.column==b},h.prototype.isStart=function(F,b){return this.start.row==F&&this.start.column==b},h.prototype.setStart=function(F,b){typeof F=="object"?(this.start.column=F.column,this.start.row=F.row):(this.start.row=F,this.start.column=b)},h.prototype.setEnd=function(F,b){typeof F=="object"?(this.end.column=F.column,this.end.row=F.row):(this.end.row=F,this.end.column=b)},h.prototype.inside=function(F,b){return this.compare(F,b)==0?!(this.isEnd(F,b)||this.isStart(F,b)):!1},h.prototype.insideStart=function(F,b){return this.compare(F,b)==0?!this.isEnd(F,b):!1},h.prototype.insideEnd=function(F,b){return this.compare(F,b)==0?!this.isStart(F,b):!1},h.prototype.compare=function(F,b){return!this.isMultiLine()&&F===this.start.row?b<this.start.column?-1:b>this.end.column?1:0:F<this.start.row?-1:F>this.end.row?1:this.start.row===F?b>=this.start.column?0:-1:this.end.row===F?b<=this.end.column?0:1:0},h.prototype.compareStart=function(F,b){return this.start.row==F&&this.start.column==b?-1:this.compare(F,b)},h.prototype.compareEnd=function(F,b){return this.end.row==F&&this.end.column==b?1:this.compare(F,b)},h.prototype.compareInside=function(F,b){return this.end.row==F&&this.end.column==b?1:this.start.row==F&&this.start.column==b?-1:this.compare(F,b)},h.prototype.clipRows=function(F,b){if(this.end.row>b)var d={row:b+1,column:0};else if(this.end.row<F)var d={row:F,column:0};if(this.start.row>b)var D={row:b+1,column:0};else if(this.start.row<F)var D={row:F,column:0};return h.fromPoints(D||this.start,d||this.end)},h.prototype.extend=function(F,b){var d=this.compare(F,b);if(d==0)return this;if(d==-1)var D={row:F,column:b};else var r={row:F,column:b};return h.fromPoints(D||this.start,r||this.end)},h.prototype.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},h.prototype.isMultiLine=function(){return this.start.row!==this.end.row},h.prototype.clone=function(){return h.fromPoints(this.start,this.end)},h.prototype.collapseRows=function(){return this.end.column==0?new h(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new h(this.start.row,0,this.end.row,0)},h.prototype.toScreenRange=function(F){var b=F.documentToScreenPosition(this.start),d=F.documentToScreenPosition(this.end);return new h(b.row,b.column,d.row,d.column)},h.prototype.moveBy=function(F,b){this.start.row+=F,this.start.column+=b,this.end.row+=F,this.end.column+=b},h}();M.fromPoints=function(h,F){return new M(h.row,h.column,F.row,F.column)},M.comparePoints=function(h,F){return h.row-F.row||h.column-F.column},j.Range=M}),ace.define("ace/anchor",[],function(X,j,L){"use strict";function M(D,r,e){var s=e?D.column<=r.column:D.column<r.column;return D.row<r.row||D.row==r.row&&s}function h(D,r,e){var s=D.action=="insert",t=(s?1:-1)*(D.end.row-D.start.row),i=(s?1:-1)*(D.end.column-D.start.column),n=D.start,o=s?n:D.end;return M(r,n,e)?{row:r.row,column:r.column}:M(o,r,!e)?{row:r.row+t,column:r.column+(r.row==o.row?i:0)}:{row:n.row,column:n.column}}var F=X("./lib/oop"),b=X("./lib/event_emitter").EventEmitter,d=function(){function D(r,e,s){this.$onChange=this.onChange.bind(this),this.attach(r),typeof e!="number"?this.setPosition(e.row,e.column):this.setPosition(e,s)}return D.prototype.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},D.prototype.getDocument=function(){return this.document},D.prototype.onChange=function(r){if(!(r.start.row==r.end.row&&r.start.row!=this.row)&&!(r.start.row>this.row)){var e=h(r,{row:this.row,column:this.column},this.$insertRight);this.setPosition(e.row,e.column,!0)}},D.prototype.setPosition=function(r,e,s){var t;if(s?t={row:r,column:e}:t=this.$clipPositionToDocument(r,e),!(this.row==t.row&&this.column==t.column)){var i={row:this.row,column:this.column};this.row=t.row,this.column=t.column,this._signal("change",{old:i,value:t})}},D.prototype.detach=function(){this.document.off("change",this.$onChange)},D.prototype.attach=function(r){this.document=r||this.document,this.document.on("change",this.$onChange)},D.prototype.$clipPositionToDocument=function(r,e){var s={};return r>=this.document.getLength()?(s.row=Math.max(0,this.document.getLength()-1),s.column=this.document.getLine(s.row).length):r<0?(s.row=0,s.column=0):(s.row=r,s.column=Math.min(this.document.getLine(s.row).length,Math.max(0,e))),e<0&&(s.column=0),s},D}();d.prototype.$insertRight=!1,F.implement(d.prototype,b),j.Anchor=d}),ace.define("ace/document",[],function(X,j,L){"use strict";var M=X("./lib/oop"),h=X("./apply_delta").applyDelta,F=X("./lib/event_emitter").EventEmitter,b=X("./range").Range,d=X("./anchor").Anchor,D=function(){function r(e){this.$lines=[""],e.length===0?this.$lines=[""]:Array.isArray(e)?this.insertMergedLines({row:0,column:0},e):this.insert({row:0,column:0},e)}return r.prototype.setValue=function(e){var s=this.getLength()-1;this.remove(new b(0,0,s,this.getLine(s).length)),this.insert({row:0,column:0},e||"")},r.prototype.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},r.prototype.createAnchor=function(e,s){return new d(this,e,s)},r.prototype.$detectNewLine=function(e){var s=e.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=s?s[1]:`
`,this._signal("changeNewLineMode")},r.prototype.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return`\r
`;case"unix":return`
`;default:return this.$autoNewLine||`
`}},r.prototype.setNewLineMode=function(e){this.$newLineMode!==e&&(this.$newLineMode=e,this._signal("changeNewLineMode"))},r.prototype.getNewLineMode=function(){return this.$newLineMode},r.prototype.isNewLine=function(e){return e==`\r
`||e=="\r"||e==`
`},r.prototype.getLine=function(e){return this.$lines[e]||""},r.prototype.getLines=function(e,s){return this.$lines.slice(e,s+1)},r.prototype.getAllLines=function(){return this.getLines(0,this.getLength())},r.prototype.getLength=function(){return this.$lines.length},r.prototype.getTextRange=function(e){return this.getLinesForRange(e).join(this.getNewLineCharacter())},r.prototype.getLinesForRange=function(e){var s;if(e.start.row===e.end.row)s=[this.getLine(e.start.row).substring(e.start.column,e.end.column)];else{s=this.getLines(e.start.row,e.end.row),s[0]=(s[0]||"").substring(e.start.column);var t=s.length-1;e.end.row-e.start.row==t&&(s[t]=s[t].substring(0,e.end.column))}return s},r.prototype.insertLines=function(e,s){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(e,s)},r.prototype.removeLines=function(e,s){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(e,s)},r.prototype.insertNewLine=function(e){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(e,["",""])},r.prototype.insert=function(e,s){return this.getLength()<=1&&this.$detectNewLine(s),this.insertMergedLines(e,this.$split(s))},r.prototype.insertInLine=function(e,s){var t=this.clippedPos(e.row,e.column),i=this.pos(e.row,e.column+s.length);return this.applyDelta({start:t,end:i,action:"insert",lines:[s]},!0),this.clonePos(i)},r.prototype.clippedPos=function(e,s){var t=this.getLength();e===void 0?e=t:e<0?e=0:e>=t&&(e=t-1,s=void 0);var i=this.getLine(e);return s==null&&(s=i.length),s=Math.min(Math.max(s,0),i.length),{row:e,column:s}},r.prototype.clonePos=function(e){return{row:e.row,column:e.column}},r.prototype.pos=function(e,s){return{row:e,column:s}},r.prototype.$clipPosition=function(e){var s=this.getLength();return e.row>=s?(e.row=Math.max(0,s-1),e.column=this.getLine(s-1).length):(e.row=Math.max(0,e.row),e.column=Math.min(Math.max(e.column,0),this.getLine(e.row).length)),e},r.prototype.insertFullLines=function(e,s){e=Math.min(Math.max(e,0),this.getLength());var t=0;e<this.getLength()?(s=s.concat([""]),t=0):(s=[""].concat(s),e--,t=this.$lines[e].length),this.insertMergedLines({row:e,column:t},s)},r.prototype.insertMergedLines=function(e,s){var t=this.clippedPos(e.row,e.column),i={row:t.row+s.length-1,column:(s.length==1?t.column:0)+s[s.length-1].length};return this.applyDelta({start:t,end:i,action:"insert",lines:s}),this.clonePos(i)},r.prototype.remove=function(e){var s=this.clippedPos(e.start.row,e.start.column),t=this.clippedPos(e.end.row,e.end.column);return this.applyDelta({start:s,end:t,action:"remove",lines:this.getLinesForRange({start:s,end:t})}),this.clonePos(s)},r.prototype.removeInLine=function(e,s,t){var i=this.clippedPos(e,s),n=this.clippedPos(e,t);return this.applyDelta({start:i,end:n,action:"remove",lines:this.getLinesForRange({start:i,end:n})},!0),this.clonePos(i)},r.prototype.removeFullLines=function(e,s){e=Math.min(Math.max(0,e),this.getLength()-1),s=Math.min(Math.max(0,s),this.getLength()-1);var t=s==this.getLength()-1&&e>0,i=s<this.getLength()-1,n=t?e-1:e,o=t?this.getLine(n).length:0,c=i?s+1:s,p=i?0:this.getLine(c).length,w=new b(n,o,c,p),E=this.$lines.slice(e,s+1);return this.applyDelta({start:w.start,end:w.end,action:"remove",lines:this.getLinesForRange(w)}),E},r.prototype.removeNewLine=function(e){e<this.getLength()-1&&e>=0&&this.applyDelta({start:this.pos(e,this.getLine(e).length),end:this.pos(e+1,0),action:"remove",lines:["",""]})},r.prototype.replace=function(e,s){if(e instanceof b||(e=b.fromPoints(e.start,e.end)),s.length===0&&e.isEmpty())return e.start;if(s==this.getTextRange(e))return e.end;this.remove(e);var t;return s?t=this.insert(e.start,s):t=e.start,t},r.prototype.applyDeltas=function(e){for(var s=0;s<e.length;s++)this.applyDelta(e[s])},r.prototype.revertDeltas=function(e){for(var s=e.length-1;s>=0;s--)this.revertDelta(e[s])},r.prototype.applyDelta=function(e,s){var t=e.action=="insert";(t?e.lines.length<=1&&!e.lines[0]:!b.comparePoints(e.start,e.end))||(t&&e.lines.length>2e4?this.$splitAndapplyLargeDelta(e,2e4):(h(this.$lines,e,s),this._signal("change",e)))},r.prototype.$safeApplyDelta=function(e){var s=this.$lines.length;(e.action=="remove"&&e.start.row<s&&e.end.row<s||e.action=="insert"&&e.start.row<=s)&&this.applyDelta(e)},r.prototype.$splitAndapplyLargeDelta=function(e,s){for(var t=e.lines,i=t.length-s+1,n=e.start.row,o=e.start.column,c=0,p=0;c<i;c=p){p+=s-1;var w=t.slice(c,p);w.push(""),this.applyDelta({start:this.pos(n+c,o),end:this.pos(n+p,o=0),action:e.action,lines:w},!0)}e.lines=t.slice(c),e.start.row=n+c,e.start.column=o,this.applyDelta(e,!0)},r.prototype.revertDelta=function(e){this.$safeApplyDelta({start:this.clonePos(e.start),end:this.clonePos(e.end),action:e.action=="insert"?"remove":"insert",lines:e.lines.slice()})},r.prototype.indexToPosition=function(e,s){for(var t=this.$lines||this.getAllLines(),i=this.getNewLineCharacter().length,n=s||0,o=t.length;n<o;n++)if(e-=t[n].length+i,e<0)return{row:n,column:e+t[n].length+i};return{row:o-1,column:e+t[o-1].length+i}},r.prototype.positionToIndex=function(e,s){for(var t=this.$lines||this.getAllLines(),i=this.getNewLineCharacter().length,n=0,o=Math.min(e.row,t.length),c=s||0;c<o;++c)n+=t[c].length+i;return n+e.column},r.prototype.$split=function(e){return e.split(/\r\n|\r|\n/)},r}();D.prototype.$autoNewLine="",D.prototype.$newLineMode="auto",M.implement(D.prototype,F),j.Document=D}),ace.define("ace/lib/deep_copy",[],function(X,j,L){j.deepCopy=function M(h){if(typeof h!="object"||!h)return h;var F;if(Array.isArray(h)){F=[];for(var b=0;b<h.length;b++)F[b]=M(h[b]);return F}if(Object.prototype.toString.call(h)!=="[object Object]")return h;F={};for(var b in h)F[b]=M(h[b]);return F}}),ace.define("ace/lib/lang",[],function(X,j,L){"use strict";j.last=function(F){return F[F.length-1]},j.stringReverse=function(F){return F.split("").reverse().join("")},j.stringRepeat=function(F,b){for(var d="";b>0;)b&1&&(d+=F),(b>>=1)&&(F+=F);return d};var M=/^\s\s*/,h=/\s\s*$/;j.stringTrimLeft=function(F){return F.replace(M,"")},j.stringTrimRight=function(F){return F.replace(h,"")},j.copyObject=function(F){var b={};for(var d in F)b[d]=F[d];return b},j.copyArray=function(F){for(var b=[],d=0,D=F.length;d<D;d++)F[d]&&typeof F[d]=="object"?b[d]=this.copyObject(F[d]):b[d]=F[d];return b},j.deepCopy=X("./deep_copy").deepCopy,j.arrayToMap=function(F){for(var b={},d=0;d<F.length;d++)b[F[d]]=1;return b},j.createMap=function(F){var b=Object.create(null);for(var d in F)b[d]=F[d];return b},j.arrayRemove=function(F,b){for(var d=0;d<=F.length;d++)b===F[d]&&F.splice(d,1)},j.escapeRegExp=function(F){return F.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},j.escapeHTML=function(F){return(""+F).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},j.getMatchOffsets=function(F,b){var d=[];return F.replace(b,function(D){d.push({offset:arguments[arguments.length-2],length:D.length})}),d},j.deferredCall=function(F){var b=null,d=function(){b=null,F()},D=function(r){return D.cancel(),b=setTimeout(d,r||0),D};return D.schedule=D,D.call=function(){return this.cancel(),F(),D},D.cancel=function(){return clearTimeout(b),b=null,D},D.isPending=function(){return b},D},j.delayedCall=function(F,b){var d=null,D=function(){d=null,F()},r=function(e){d==null&&(d=setTimeout(D,e||b))};return r.delay=function(e){d&&clearTimeout(d),d=setTimeout(D,e||b)},r.schedule=r,r.call=function(){this.cancel(),F()},r.cancel=function(){d&&clearTimeout(d),d=null},r.isPending=function(){return d},r},j.supportsLookbehind=function(){try{new RegExp("(?<=.)")}catch(F){return!1}return!0},j.skipEmptyMatch=function(F,b,d){return d&&F.codePointAt(b)>65535?2:1}}),ace.define("ace/worker/mirror",[],function(X,j,L){"use strict";var M=X("../document").Document,h=X("../lib/lang"),F=j.Mirror=function(b){this.sender=b;var d=this.doc=new M(""),D=this.deferredUpdate=h.delayedCall(this.onUpdate.bind(this)),r=this;b.on("change",function(e){var s=e.data;if(s[0].start)d.applyDeltas(s);else for(var t=0;t<s.length;t+=2){var i,n;if(Array.isArray(s[t+1])?i={action:"insert",start:s[t],lines:s[t+1]}:i={action:"remove",start:s[t],end:s[t+1]},(i.action=="insert"?i.start:i.end).row>=d.$lines.length)throw n=new Error("Invalid delta"),n.data={path:r.$path,linesLength:d.$lines.length,start:i.start,end:i.end},n;d.applyDelta(i,!0)}if(r.$timeout)return D.schedule(r.$timeout);r.onUpdate()})};(function(){this.$timeout=500,this.setTimeout=function(b){this.$timeout=b},this.setValue=function(b){this.doc.setValue(b),this.deferredUpdate.schedule(this.$timeout)},this.getValue=function(b){this.sender.callback(this.doc.getValue(),b)},this.onUpdate=function(){},this.isPending=function(){return this.deferredUpdate.isPending()}}).call(F.prototype)}),ace.define("ace/mode/json/json_parse",[],function(X,j,L){"use strict";var M,h,F={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},b,d=function(c){throw{name:"SyntaxError",message:c,at:M,text:b}},D=function(c){return c&&c!==h&&d("Expected '"+c+"' instead of '"+h+"'"),h=b.charAt(M),M+=1,h},r=function(){var c,p="";for(h==="-"&&(p="-",D("-"));h>="0"&&h<="9";)p+=h,D();if(h===".")for(p+=".";D()&&h>="0"&&h<="9";)p+=h;if(h==="e"||h==="E")for(p+=h,D(),(h==="-"||h==="+")&&(p+=h,D());h>="0"&&h<="9";)p+=h,D();if(c=+p,!isNaN(c))return c;d("Bad number")},e=function(){var c,p,w="",E;if(h==='"')for(;D();){if(h==='"')return D(),w;if(h==="\\")if(D(),h==="u"){for(E=0,p=0;p<4&&(c=parseInt(D(),16),!!isFinite(c));p+=1)E=E*16+c;w+=String.fromCharCode(E)}else{if(typeof F[h]!="string")break;w+=F[h]}else{if(h==`
`||h=="\r")break;w+=h}}d("Bad string")},s=function(){for(;h&&h<=" ";)D()},t=function(){switch(h){case"t":return D("t"),D("r"),D("u"),D("e"),!0;case"f":return D("f"),D("a"),D("l"),D("s"),D("e"),!1;case"n":return D("n"),D("u"),D("l"),D("l"),null}d("Unexpected '"+h+"'")},i,n=function(){var c=[];if(h==="["){if(D("["),s(),h==="]")return D("]"),c;for(;h;){if(c.push(i()),s(),h==="]")return D("]"),c;D(","),s()}}d("Bad array")},o=function(){var c,p={};if(h==="{"){if(D("{"),s(),h==="}")return D("}"),p;for(;h;){if(c=e(),s(),D(":"),Object.hasOwnProperty.call(p,c)&&d('Duplicate key "'+c+'"'),p[c]=i(),s(),h==="}")return D("}"),p;D(","),s()}}d("Bad object")};return i=function(){switch(s(),h){case"{":return o();case"[":return n();case'"':return e();case"-":return r();default:return h>="0"&&h<="9"?r():t()}},function(c,p){var w;return b=c,M=0,h=" ",w=i(),s(),h&&d("Syntax error"),typeof p=="function"?function E(k,f){var C,g,m=k[f];if(m&&typeof m=="object")for(C in m)Object.hasOwnProperty.call(m,C)&&(g=E(m,C),g!==void 0?m[C]=g:delete m[C]);return p.call(k,f,m)}({"":w},""):w}}),ace.define("ace/mode/json_worker",[],function(X,j,L){"use strict";var M=X("../lib/oop"),h=X("../worker/mirror").Mirror,F=X("./json/json_parse"),b=j.JsonWorker=function(d){h.call(this,d),this.setTimeout(200)};M.inherits(b,h),function(){this.onUpdate=function(){var d=this.doc.getValue(),D=[];try{d&&F(d)}catch(e){var r=this.doc.indexToPosition(e.at-1);D.push({row:r.row,column:r.column,text:e.message,type:"error"})}this.sender.emit("annotate",D)}}.call(b.prototype)})},16990:(X,j,L)=>{X=L.nmd(X),function(){var M="ace",h=function(){return this}();if(!h&&typeof window!="undefined"&&(h=window),!M&&typeof requirejs!="undefined")return;var F=function(s,t,i){if(typeof s!="string"){F.original?F.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace());return}arguments.length==2&&(i=t),F.modules[s]||(F.payloads[s]=i,F.modules[s]=null)};F.modules={},F.payloads={};var b=function(s,t,i){if(typeof t=="string"){var n=r(s,t);if(n!=null)return i&&i(),n}else if(Object.prototype.toString.call(t)==="[object Array]"){for(var o=[],c=0,p=t.length;c<p;++c){var w=r(s,t[c]);if(w==null&&d.original)return;o.push(w)}return i&&i.apply(null,o)||!0}},d=function(s,t){var i=b("",s,t);return i==null&&d.original?d.original.apply(this,arguments):i},D=function(s,t){if(t.indexOf("!")!==-1){var i=t.split("!");return D(s,i[0])+"!"+D(s,i[1])}if(t.charAt(0)=="."){var n=s.split("/").slice(0,-1).join("/");for(t=n+"/"+t;t.indexOf(".")!==-1&&o!=t;){var o=t;t=t.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}}return t},r=function(s,t){t=D(s,t);var i=F.modules[t];if(!i){if(i=F.payloads[t],typeof i=="function"){var n={},o={id:t,uri:"",exports:n,packaged:!0},c=function(w,E){return b(t,w,E)},p=i(c,n,o);n=p||o.exports,F.modules[t]=n,delete F.payloads[t]}i=F.modules[t]=n||i}return i};function e(s){var t=h;s&&(h[s]||(h[s]={}),t=h[s]),(!t.define||!t.define.packaged)&&(F.original=t.define,t.define=F,t.define.packaged=!0),(!t.require||!t.require.packaged)&&(d.original=t.require,t.require=d,t.require.packaged=!0)}e(M)}(),ace.define("ace/lib/es6-shim",["require","exports","module"],function(M,h,F){function b(d,D,r){Object.defineProperty(d,D,{value:r,enumerable:!1,writable:!0,configurable:!0})}String.prototype.startsWith||b(String.prototype,"startsWith",function(d,D){return D=D||0,this.lastIndexOf(d,D)===D}),String.prototype.endsWith||b(String.prototype,"endsWith",function(d,D){var r=this;(D===void 0||D>r.length)&&(D=r.length),D-=d.length;var e=r.indexOf(d,D);return e!==-1&&e===D}),String.prototype.repeat||b(String.prototype,"repeat",function(d){for(var D="",r=this;d>0;)d&1&&(D+=r),(d>>=1)&&(r+=r);return D}),String.prototype.includes||b(String.prototype,"includes",function(d,D){return this.indexOf(d,D)!=-1}),Object.assign||(Object.assign=function(d){if(d==null)throw new TypeError("Cannot convert undefined or null to object");for(var D=Object(d),r=1;r<arguments.length;r++){var e=arguments[r];e!=null&&Object.keys(e).forEach(function(s){D[s]=e[s]})}return D}),Object.values||(Object.values=function(d){return Object.keys(d).map(function(D){return d[D]})}),Array.prototype.find||b(Array.prototype,"find",function(d){for(var D=this.length,r=arguments[1],e=0;e<D;e++){var s=this[e];if(d.call(r,s,e,this))return s}}),Array.prototype.findIndex||b(Array.prototype,"findIndex",function(d){for(var D=this.length,r=arguments[1],e=0;e<D;e++){var s=this[e];if(d.call(r,s,e,this))return e}}),Array.prototype.includes||b(Array.prototype,"includes",function(d,D){return this.indexOf(d,D)!=-1}),Array.prototype.fill||b(Array.prototype,"fill",function(d){for(var D=this,r=D.length>>>0,e=arguments[1],s=e>>0,t=s<0?Math.max(r+s,0):Math.min(s,r),i=arguments[2],n=i===void 0?r:i>>0,o=n<0?Math.max(r+n,0):Math.min(n,r);t<o;)D[t]=d,t++;return D}),Array.of||b(Array,"of",function(){return Array.prototype.slice.call(arguments)})}),ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/es6-shim"],function(M,h,F){"use strict";M("./es6-shim")}),ace.define("ace/lib/deep_copy",["require","exports","module"],function(M,h,F){h.deepCopy=function b(d){if(typeof d!="object"||!d)return d;var D;if(Array.isArray(d)){D=[];for(var r=0;r<d.length;r++)D[r]=b(d[r]);return D}if(Object.prototype.toString.call(d)!=="[object Object]")return d;D={};for(var r in d)D[r]=b(d[r]);return D}}),ace.define("ace/lib/lang",["require","exports","module","ace/lib/deep_copy"],function(M,h,F){"use strict";h.last=function(D){return D[D.length-1]},h.stringReverse=function(D){return D.split("").reverse().join("")},h.stringRepeat=function(D,r){for(var e="";r>0;)r&1&&(e+=D),(r>>=1)&&(D+=D);return e};var b=/^\s\s*/,d=/\s\s*$/;h.stringTrimLeft=function(D){return D.replace(b,"")},h.stringTrimRight=function(D){return D.replace(d,"")},h.copyObject=function(D){var r={};for(var e in D)r[e]=D[e];return r},h.copyArray=function(D){for(var r=[],e=0,s=D.length;e<s;e++)D[e]&&typeof D[e]=="object"?r[e]=this.copyObject(D[e]):r[e]=D[e];return r},h.deepCopy=M("./deep_copy").deepCopy,h.arrayToMap=function(D){for(var r={},e=0;e<D.length;e++)r[D[e]]=1;return r},h.createMap=function(D){var r=Object.create(null);for(var e in D)r[e]=D[e];return r},h.arrayRemove=function(D,r){for(var e=0;e<=D.length;e++)r===D[e]&&D.splice(e,1)},h.escapeRegExp=function(D){return D.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},h.escapeHTML=function(D){return(""+D).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},h.getMatchOffsets=function(D,r){var e=[];return D.replace(r,function(s){e.push({offset:arguments[arguments.length-2],length:s.length})}),e},h.deferredCall=function(D){var r=null,e=function(){r=null,D()},s=function(t){return s.cancel(),r=setTimeout(e,t||0),s};return s.schedule=s,s.call=function(){return this.cancel(),D(),s},s.cancel=function(){return clearTimeout(r),r=null,s},s.isPending=function(){return r},s},h.delayedCall=function(D,r){var e=null,s=function(){e=null,D()},t=function(i){e==null&&(e=setTimeout(s,i||r))};return t.delay=function(i){e&&clearTimeout(e),e=setTimeout(s,i||r)},t.schedule=t,t.call=function(){this.cancel(),D()},t.cancel=function(){e&&clearTimeout(e),e=null},t.isPending=function(){return e},t},h.supportsLookbehind=function(){try{new RegExp("(?<=.)")}catch(D){return!1}return!0},h.skipEmptyMatch=function(D,r,e){return e&&D.codePointAt(r)>65535?2:1}}),ace.define("ace/lib/useragent",["require","exports","module"],function(M,h,F){"use strict";h.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},h.getOS=function(){return h.isMac?h.OS.MAC:h.isLinux?h.OS.LINUX:h.OS.WINDOWS};var b=typeof navigator=="object"?navigator:{},d=(/mac|win|linux/i.exec(b.platform)||["other"])[0].toLowerCase(),D=b.userAgent||"",r=b.appName||"";h.isWin=d=="win",h.isMac=d=="mac",h.isLinux=d=="linux",h.isIE=r=="Microsoft Internet Explorer"||r.indexOf("MSAppHost")>=0?parseFloat((D.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((D.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),h.isOldIE=h.isIE&&h.isIE<9,h.isGecko=h.isMozilla=D.match(/ Gecko\/\d+/),h.isOpera=typeof opera=="object"&&Object.prototype.toString.call(window.opera)=="[object Opera]",h.isWebKit=parseFloat(D.split("WebKit/")[1])||void 0,h.isChrome=parseFloat(D.split(" Chrome/")[1])||void 0,h.isSafari=parseFloat(D.split(" Safari/")[1])&&!h.isChrome||void 0,h.isEdge=parseFloat(D.split(" Edge/")[1])||void 0,h.isAIR=D.indexOf("AdobeAIR")>=0,h.isAndroid=D.indexOf("Android")>=0,h.isChromeOS=D.indexOf(" CrOS ")>=0,h.isIOS=/iPad|iPhone|iPod/.test(D)&&!window.MSStream,h.isIOS&&(h.isMac=!0),h.isMobile=h.isIOS||h.isAndroid}),ace.define("ace/lib/dom",["require","exports","module","ace/lib/useragent"],function(M,h,F){"use strict";var b=M("./useragent"),d="http://www.w3.org/1999/xhtml";h.buildDom=function i(n,o,c){if(typeof n=="string"&&n){var p=document.createTextNode(n);return o&&o.appendChild(p),p}if(!Array.isArray(n))return n&&n.appendChild&&o&&o.appendChild(n),n;if(typeof n[0]!="string"||!n[0]){for(var w=[],E=0;E<n.length;E++){var k=i(n[E],o,c);k&&w.push(k)}return w}var f=document.createElement(n[0]),C=n[1],g=1;C&&typeof C=="object"&&!Array.isArray(C)&&(g=2);for(var E=g;E<n.length;E++)i(n[E],f,c);return g==2&&Object.keys(C).forEach(function(m){var S=C[m];m==="class"?f.className=Array.isArray(S)?S.join(" "):S:typeof S=="function"||m=="value"||m[0]=="$"?f[m]=S:m==="ref"?c&&(c[S]=f):m==="style"?typeof S=="string"&&(f.style.cssText=S):S!=null&&f.setAttribute(m,S)}),o&&o.appendChild(f),f},h.getDocumentHead=function(i){return i||(i=document),i.head||i.getElementsByTagName("head")[0]||i.documentElement},h.createElement=function(i,n){return document.createElementNS?document.createElementNS(n||d,i):document.createElement(i)},h.removeChildren=function(i){i.innerHTML=""},h.createTextNode=function(i,n){var o=n?n.ownerDocument:document;return o.createTextNode(i)},h.createFragment=function(i){var n=i?i.ownerDocument:document;return n.createDocumentFragment()},h.hasCssClass=function(i,n){var o=(i.className+"").split(/\s+/g);return o.indexOf(n)!==-1},h.addCssClass=function(i,n){h.hasCssClass(i,n)||(i.className+=" "+n)},h.removeCssClass=function(i,n){for(var o=i.className.split(/\s+/g);;){var c=o.indexOf(n);if(c==-1)break;o.splice(c,1)}i.className=o.join(" ")},h.toggleCssClass=function(i,n){for(var o=i.className.split(/\s+/g),c=!0;;){var p=o.indexOf(n);if(p==-1)break;c=!1,o.splice(p,1)}return c&&o.push(n),i.className=o.join(" "),c},h.setCssClass=function(i,n,o){o?h.addCssClass(i,n):h.removeCssClass(i,n)},h.hasCssString=function(i,n){var o=0,c;if(n=n||document,c=n.querySelectorAll("style")){for(;o<c.length;)if(c[o++].id===i)return!0}},h.removeElementById=function(i,n){n=n||document,n.getElementById(i)&&n.getElementById(i).remove()};var D,r=[];h.useStrictCSP=function(i){D=i,i==!1?e():r||(r=[])};function e(){var i=r;r=null,i&&i.forEach(function(n){s(n[0],n[1])})}function s(i,n,o){if(typeof document!="undefined"){if(r){if(o)e();else if(o===!1)return r.push([i,n])}if(!D){var c=o;!o||!o.getRootNode?c=document:(c=o.getRootNode(),(!c||c==o)&&(c=document));var p=c.ownerDocument||c;if(n&&h.hasCssString(n,c))return null;n&&(i+=`
/*# sourceURL=ace/css/`+n+" */");var w=h.createElement("style");w.appendChild(p.createTextNode(i)),n&&(w.id=n),c==p&&(c=h.getDocumentHead(p)),c.insertBefore(w,c.firstChild)}}}if(h.importCssString=s,h.importCssStylsheet=function(i,n){h.buildDom(["link",{rel:"stylesheet",href:i}],h.getDocumentHead(n))},h.scrollbarWidth=function(i){var n=h.createElement("ace_inner");n.style.width="100%",n.style.minWidth="0px",n.style.height="200px",n.style.display="block";var o=h.createElement("ace_outer"),c=o.style;c.position="absolute",c.left="-10000px",c.overflow="hidden",c.width="200px",c.minWidth="0px",c.height="150px",c.display="block",o.appendChild(n);var p=i&&i.documentElement||document&&document.documentElement;if(!p)return 0;p.appendChild(o);var w=n.offsetWidth;c.overflow="scroll";var E=n.offsetWidth;return w===E&&(E=o.clientWidth),p.removeChild(o),w-E},h.computedStyle=function(i,n){return window.getComputedStyle(i,"")||{}},h.setStyle=function(i,n,o){i[n]!==o&&(i[n]=o)},h.HAS_CSS_ANIMATION=!1,h.HAS_CSS_TRANSFORMS=!1,h.HI_DPI=b.isWin?typeof window!="undefined"&&window.devicePixelRatio>=1.5:!0,b.isChromeOS&&(h.HI_DPI=!1),typeof document!="undefined"){var t=document.createElement("div");h.HI_DPI&&t.style.transform!==void 0&&(h.HAS_CSS_TRANSFORMS=!0),!b.isEdge&&typeof t.style.animationName!="undefined"&&(h.HAS_CSS_ANIMATION=!0),t=null}h.HAS_CSS_TRANSFORMS?h.translate=function(i,n,o){i.style.transform="translate("+Math.round(n)+"px, "+Math.round(o)+"px)"}:h.translate=function(i,n,o){i.style.top=Math.round(o)+"px",i.style.left=Math.round(n)+"px"}}),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],function(M,h,F){/*
* based on code from:
*
* @license RequireJS text 0.25.0 Copyright (c) 2010-2011, The Dojo Foundation All Rights Reserved.
* Available via the MIT or new BSD license.
* see: http://github.com/jrburke/requirejs for details
*/"use strict";var b=M("./dom");h.get=function(d,D){var r=new XMLHttpRequest;r.open("GET",d,!0),r.onreadystatechange=function(){r.readyState===4&&D(r.responseText)},r.send(null)},h.loadScript=function(d,D){var r=b.getDocumentHead(),e=document.createElement("script");e.src=d,r.appendChild(e),e.onload=e.onreadystatechange=function(s,t){(t||!e.readyState||e.readyState=="loaded"||e.readyState=="complete")&&(e=e.onload=e.onreadystatechange=null,t||D())}},h.qualifyURL=function(d){var D=document.createElement("a");return D.href=d,D.href}}),ace.define("ace/lib/oop",["require","exports","module"],function(M,h,F){"use strict";h.inherits=function(b,d){b.super_=d,b.prototype=Object.create(d.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}})},h.mixin=function(b,d){for(var D in d)b[D]=d[D];return b},h.implement=function(b,d){h.mixin(b,d)}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(M,h,F){"use strict";var b={},d=function(){this.propagationStopped=!0},D=function(){this.defaultPrevented=!0};b._emit=b._dispatchEvent=function(r,e){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var s=this._eventRegistry[r]||[],t=this._defaultHandlers[r];if(!(!s.length&&!t)){(typeof e!="object"||!e)&&(e={}),e.type||(e.type=r),e.stopPropagation||(e.stopPropagation=d),e.preventDefault||(e.preventDefault=D),s=s.slice();for(var i=0;i<s.length&&(s[i](e,this),!e.propagationStopped);i++);if(t&&!e.defaultPrevented)return t(e,this)}},b._signal=function(r,e){var s=(this._eventRegistry||{})[r];if(s){s=s.slice();for(var t=0;t<s.length;t++)s[t](e,this)}},b.once=function(r,e){var s=this;if(this.on(r,function t(){s.off(r,t),e.apply(null,arguments)}),!e)return new Promise(function(t){e=t})},b.setDefaultHandler=function(r,e){var s=this._defaultHandlers;if(s||(s=this._defaultHandlers={_disabled_:{}}),s[r]){var t=s[r],i=s._disabled_[r];i||(s._disabled_[r]=i=[]),i.push(t);var n=i.indexOf(e);n!=-1&&i.splice(n,1)}s[r]=e},b.removeDefaultHandler=function(r,e){var s=this._defaultHandlers;if(s){var t=s._disabled_[r];if(s[r]==e)t&&this.setDefaultHandler(r,t.pop());else if(t){var i=t.indexOf(e);i!=-1&&t.splice(i,1)}}},b.on=b.addEventListener=function(r,e,s){this._eventRegistry=this._eventRegistry||{};var t=this._eventRegistry[r];return t||(t=this._eventRegistry[r]=[]),t.indexOf(e)==-1&&t[s?"unshift":"push"](e),e},b.off=b.removeListener=b.removeEventListener=function(r,e){this._eventRegistry=this._eventRegistry||{};var s=this._eventRegistry[r];if(s){var t=s.indexOf(e);t!==-1&&s.splice(t,1)}},b.removeAllListeners=function(r){r||(this._eventRegistry=this._defaultHandlers=void 0),this._eventRegistry&&(this._eventRegistry[r]=void 0),this._defaultHandlers&&(this._defaultHandlers[r]=void 0)},h.EventEmitter=b}),ace.define("ace/lib/report_error",["require","exports","module"],function(M,h,F){h.reportError=function(d,D){var r=new Error(d);r.data=D,typeof console=="object"&&console.error&&console.error(r),setTimeout(function(){throw r})}}),ace.define("ace/lib/default_english_messages",["require","exports","module"],function(M,h,F){var b={"autocomplete.popup.aria-roledescription":"Autocomplete suggestions","autocomplete.popup.aria-label":"Autocomplete suggestions","autocomplete.popup.item.aria-roledescription":"item","autocomplete.loading":"Loading...","editor.scroller.aria-roledescription":"editor","editor.scroller.aria-label":"Editor content, press Enter to start editing, press Escape to exit","editor.gutter.aria-roledescription":"editor","editor.gutter.aria-label":"Editor gutter, press Enter to interact with controls using arrow keys, press Escape to exit","error-marker.good-state":"Looks good!","prompt.recently-used":"Recently used","prompt.other-commands":"Other commands","prompt.no-matching-commands":"No matching commands","search-box.find.placeholder":"Search for","search-box.find-all.text":"All","search-box.replace.placeholder":"Replace with","search-box.replace-next.text":"Replace","search-box.replace-all.text":"All","search-box.toggle-replace.title":"Toggle Replace mode","search-box.toggle-regexp.title":"RegExp Search","search-box.toggle-case.title":"CaseSensitive Search","search-box.toggle-whole-word.title":"Whole Word Search","search-box.toggle-in-selection.title":"Search In Selection","search-box.search-counter":"$0 of $1","text-input.aria-roledescription":"editor","text-input.aria-label":"Cursor at row $0","gutter.code-folding.range.aria-label":"Toggle code folding, rows $0 through $1","gutter.code-folding.closed.aria-label":"Toggle code folding, rows $0 through $1","gutter.code-folding.open.aria-label":"Toggle code folding, row $0","gutter.code-folding.closed.title":"Unfold code","gutter.code-folding.open.title":"Fold code","gutter.annotation.aria-label.error":"Error, read annotations row $0","gutter.annotation.aria-label.warning":"Warning, read annotations row $0","gutter.annotation.aria-label.info":"Info, read annotations row $0","inline-fold.closed.title":"Unfold code","gutter-tooltip.aria-label.error.singular":"error","gutter-tooltip.aria-label.error.plural":"errors","gutter-tooltip.aria-label.warning.singular":"warning","gutter-tooltip.aria-label.warning.plural":"warnings","gutter-tooltip.aria-label.info.singular":"information message","gutter-tooltip.aria-label.info.plural":"information messages"};h.defaultEnglishMessages=b}),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter","ace/lib/report_error","ace/lib/default_english_messages"],function(M,h,F){"no use strict";var b=M("./oop"),d=M("./event_emitter").EventEmitter,D=M("./report_error").reportError,r=M("./default_english_messages").defaultEnglishMessages,e={setOptions:function(n){Object.keys(n).forEach(function(o){this.setOption(o,n[o])},this)},getOptions:function(n){var o={};if(n)Array.isArray(n)||(o=n,n=Object.keys(o));else{var c=this.$options;n=Object.keys(c).filter(function(p){return!c[p].hidden})}return n.forEach(function(p){o[p]=this.getOption(p)},this),o},setOption:function(n,o){if(this["$"+n]!==o){var c=this.$options[n];if(!c)return s('misspelled option "'+n+'"');if(c.forwardTo)return this[c.forwardTo]&&this[c.forwardTo].setOption(n,o);c.handlesSet||(this["$"+n]=o),c&&c.set&&c.set.call(this,o)}},getOption:function(n){var o=this.$options[n];return o?o.forwardTo?this[o.forwardTo]&&this[o.forwardTo].getOption(n):o&&o.get?o.get.call(this):this["$"+n]:s('misspelled option "'+n+'"')}};function s(n){typeof console!="undefined"&&console.warn&&console.warn.apply(console,arguments)}var t,i=function(){function n(){this.$defaultOptions={},t=r}return n.prototype.defineOptions=function(o,c,p){return o.$options||(this.$defaultOptions[c]=o.$options={}),Object.keys(p).forEach(function(w){var E=p[w];typeof E=="string"&&(E={forwardTo:E}),E.name||(E.name=w),o.$options[E.name]=E,"initialValue"in E&&(o["$"+E.name]=E.initialValue)}),b.implement(o,e),this},n.prototype.resetOptions=function(o){Object.keys(o.$options).forEach(function(c){var p=o.$options[c];"value"in p&&o.setOption(c,p.value)})},n.prototype.setDefaultValue=function(o,c,p){if(!o){for(o in this.$defaultOptions)if(this.$defaultOptions[o][c])break;if(!this.$defaultOptions[o][c])return!1}var w=this.$defaultOptions[o]||(this.$defaultOptions[o]={});w[c]&&(w.forwardTo?this.setDefaultValue(w.forwardTo,c,p):w[c].value=p)},n.prototype.setDefaultValues=function(o,c){Object.keys(c).forEach(function(p){this.setDefaultValue(o,p,c[p])},this)},n.prototype.setMessages=function(o){t=o},n.prototype.nls=function(o,c,p){t[o]||(s("No message found for the key '"+o+"' in the provided messages, trying to find a translation for the default string '"+c+"'."),t[c]||s("No message found for the default string '"+c+"' in the provided messages. Falling back to the default English message."));var w=t[o]||t[c]||c;return p&&(w=w.replace(/\$(\$|[\d]+)/g,function(E,k){return k=="$"?"$":p[k]})),w},n}();i.prototype.warn=s,i.prototype.reportError=D,b.implement(i.prototype,d),h.AppConfig=i}),ace.define("ace/theme/textmate-css",["require","exports","module"],function(M,h,F){F.exports=`.ace-tm .ace_gutter {
  background: #f0f0f0;
  color: #333;
}

.ace-tm .ace_print-margin {
  width: 1px;
  background: #e8e8e8;
}

.ace-tm .ace_fold {
    background-color: #6B72E6;
}

.ace-tm {
  background-color: #FFFFFF;
  color: black;
}

.ace-tm .ace_cursor {
  color: black;
}
        
.ace-tm .ace_invisible {
  color: rgb(191, 191, 191);
}

.ace-tm .ace_storage,
.ace-tm .ace_keyword {
  color: blue;
}

.ace-tm .ace_constant {
  color: rgb(197, 6, 11);
}

.ace-tm .ace_constant.ace_buildin {
  color: rgb(88, 72, 246);
}

.ace-tm .ace_constant.ace_language {
  color: rgb(88, 92, 246);
}

.ace-tm .ace_constant.ace_library {
  color: rgb(6, 150, 14);
}

.ace-tm .ace_invalid {
  background-color: rgba(255, 0, 0, 0.1);
  color: red;
}

.ace-tm .ace_support.ace_function {
  color: rgb(60, 76, 114);
}

.ace-tm .ace_support.ace_constant {
  color: rgb(6, 150, 14);
}

.ace-tm .ace_support.ace_type,
.ace-tm .ace_support.ace_class {
  color: rgb(109, 121, 222);
}

.ace-tm .ace_keyword.ace_operator {
  color: rgb(104, 118, 135);
}

.ace-tm .ace_string {
  color: rgb(3, 106, 7);
}

.ace-tm .ace_comment {
  color: rgb(76, 136, 107);
}

.ace-tm .ace_comment.ace_doc {
  color: rgb(0, 102, 255);
}

.ace-tm .ace_comment.ace_doc.ace_tag {
  color: rgb(128, 159, 191);
}

.ace-tm .ace_constant.ace_numeric {
  color: rgb(0, 0, 205);
}

.ace-tm .ace_variable {
  color: rgb(49, 132, 149);
}

.ace-tm .ace_xml-pe {
  color: rgb(104, 104, 91);
}

.ace-tm .ace_entity.ace_name.ace_function {
  color: #0000A2;
}


.ace-tm .ace_heading {
  color: rgb(12, 7, 255);
}

.ace-tm .ace_list {
  color:rgb(185, 6, 144);
}

.ace-tm .ace_meta.ace_tag {
  color:rgb(0, 22, 142);
}

.ace-tm .ace_string.ace_regex {
  color: rgb(255, 0, 0)
}

.ace-tm .ace_marker-layer .ace_selection {
  background: rgb(181, 213, 255);
}
.ace-tm.ace_multiselect .ace_selection.ace_start {
  box-shadow: 0 0 3px 0px white;
}
.ace-tm .ace_marker-layer .ace_step {
  background: rgb(252, 255, 0);
}

.ace-tm .ace_marker-layer .ace_stack {
  background: rgb(164, 229, 101);
}

.ace-tm .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid rgb(192, 192, 192);
}

.ace-tm .ace_marker-layer .ace_active-line {
  background: rgba(0, 0, 0, 0.07);
}

.ace-tm .ace_gutter-active-line {
    background-color : #dcdcdc;
}

.ace-tm .ace_marker-layer .ace_selected-word {
  background: rgb(250, 250, 255);
  border: 1px solid rgb(200, 200, 250);
}

.ace-tm .ace_indent-guide {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;
}

.ace-tm .ace_indent-guide-active {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;
}
`}),ace.define("ace/theme/textmate",["require","exports","module","ace/theme/textmate-css","ace/lib/dom"],function(M,h,F){"use strict";h.isDark=!1,h.cssClass="ace-tm",h.cssText=M("./textmate-css"),h.$id="ace/theme/textmate";var b=M("../lib/dom");b.importCssString(h.cssText,h.cssClass,!1)}),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/net","ace/lib/dom","ace/lib/app_config","ace/theme/textmate"],function(M,h,F){"no use strict";var b=M("./lib/lang"),d=M("./lib/net"),D=M("./lib/dom"),r=M("./lib/app_config").AppConfig;F.exports=h=new r;var e={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{},loadWorkerFromBlob:!0,sharedPopups:!1,useStrictCSP:null};h.get=function(n){if(!e.hasOwnProperty(n))throw new Error("Unknown config key: "+n);return e[n]},h.set=function(n,o){if(e.hasOwnProperty(n))e[n]=o;else if(this.setDefaultValue("",n,o)==!1)throw new Error("Unknown config key: "+n);n=="useStrictCSP"&&D.useStrictCSP(o)},h.all=function(){return b.copyObject(e)},h.$modes={},h.moduleUrl=function(n,o){if(e.$moduleUrls[n])return e.$moduleUrls[n];var c=n.split("/");o=o||c[c.length-2]||"";var p=o=="snippets"?"/":"-",w=c[c.length-1];if(o=="worker"&&p=="-"){var E=new RegExp("^"+o+"[\\-_]|[\\-_]"+o+"$","g");w=w.replace(E,"")}(!w||w==o)&&c.length>1&&(w=c[c.length-2]);var k=e[o+"Path"];return k==null?k=e.basePath:p=="/"&&(o=p=""),k&&k.slice(-1)!="/"&&(k+="/"),k+o+p+w+this.get("suffix")},h.setModuleUrl=function(n,o){return e.$moduleUrls[n]=o};var s=function(n,o){if(n==="ace/theme/textmate"||n==="./theme/textmate")return o(null,M("./theme/textmate"));if(t)return t(n,o);console.error("loader is not configured")},t;h.setLoader=function(n){t=n},h.dynamicModules=Object.create(null),h.$loading={},h.$loaded={},h.loadModule=function(n,o){var c;if(Array.isArray(n))var p=n[0],w=n[1];else if(typeof n=="string")var w=n;var E=function(k){if(k&&!h.$loading[w])return o&&o(k);if(h.$loading[w]||(h.$loading[w]=[]),h.$loading[w].push(o),!(h.$loading[w].length>1)){var f=function(){s(w,function(C,g){g&&(h.$loaded[w]=g),h._emit("load.module",{name:w,module:g});var m=h.$loading[w];h.$loading[w]=null,m.forEach(function(S){S&&S(g)})})};if(!h.get("packaged"))return f();d.loadScript(h.moduleUrl(w,p),f),i()}};if(h.dynamicModules[w])h.dynamicModules[w]().then(function(k){k.default?E(k.default):E(k)});else{try{c=this.$require(w)}catch(k){}E(c||h.$loaded[w])}},h.$require=function(n){if(typeof F.require=="function"){var o="require";return F[o](n)}},h.setModuleLoader=function(n,o){h.dynamicModules[n]=o};var i=function(){!e.basePath&&!e.workerPath&&!e.modePath&&!e.themePath&&!Object.keys(e.$moduleUrls).length&&(console.error("Unable to infer path to ace from script src,","use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes","or with webpack use ace/webpack-resolver"),i=function(){})};h.version="1.34.2"}),ace.define("ace/loader_build",["require","exports","module","ace/lib/fixoldbrowsers","ace/config"],function(M,h,F){"use strict";M("./lib/fixoldbrowsers");var b=M("./config");b.setLoader(function(e,s){M([e],function(t){s(null,t)})});var d=function(){return this||typeof window!="undefined"&&window}();F.exports=function(e){b.init=D,b.$require=M,e.require=M,e.define=L.amdD},D(!0);function D(e){if(!(!d||!d.document)){b.set("packaged",e||M.packaged||F.packaged||d.define&&L.amdD.packaged);var s={},t="",i=document.currentScript||document._currentScript,n=i&&i.ownerDocument||document;i&&i.src&&(t=i.src.split(/[?#]/)[0].split("/").slice(0,-1).join("/")||"");for(var o=n.getElementsByTagName("script"),c=0;c<o.length;c++){var p=o[c],w=p.src||p.getAttribute("src");if(w){for(var E=p.attributes,k=0,f=E.length;k<f;k++){var C=E[k];C.name.indexOf("data-ace-")===0&&(s[r(C.name.replace(/^data-ace-/,""))]=C.value)}var g=w.match(/^(.*)\/ace([\-.]\w+)?\.js(\?|$)/);g&&(t=g[1])}}t&&(s.base=s.base||t,s.packaged=!0),s.basePath=s.base,s.workerPath=s.workerPath||s.base,s.modePath=s.modePath||s.base,s.themePath=s.themePath||s.base,delete s.base;for(var m in s)typeof s[m]!="undefined"&&b.set(m,s[m])}}function r(e){return e.replace(/-(.)/g,function(s,t){return t.toUpperCase()})}}),ace.define("ace/range",["require","exports","module"],function(M,h,F){"use strict";var b=function(){function d(D,r,e,s){this.start={row:D,column:r},this.end={row:e,column:s}}return d.prototype.isEqual=function(D){return this.start.row===D.start.row&&this.end.row===D.end.row&&this.start.column===D.start.column&&this.end.column===D.end.column},d.prototype.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},d.prototype.contains=function(D,r){return this.compare(D,r)==0},d.prototype.compareRange=function(D){var r,e=D.end,s=D.start;return r=this.compare(e.row,e.column),r==1?(r=this.compare(s.row,s.column),r==1?2:r==0?1:0):r==-1?-2:(r=this.compare(s.row,s.column),r==-1?-1:r==1?42:0)},d.prototype.comparePoint=function(D){return this.compare(D.row,D.column)},d.prototype.containsRange=function(D){return this.comparePoint(D.start)==0&&this.comparePoint(D.end)==0},d.prototype.intersects=function(D){var r=this.compareRange(D);return r==-1||r==0||r==1},d.prototype.isEnd=function(D,r){return this.end.row==D&&this.end.column==r},d.prototype.isStart=function(D,r){return this.start.row==D&&this.start.column==r},d.prototype.setStart=function(D,r){typeof D=="object"?(this.start.column=D.column,this.start.row=D.row):(this.start.row=D,this.start.column=r)},d.prototype.setEnd=function(D,r){typeof D=="object"?(this.end.column=D.column,this.end.row=D.row):(this.end.row=D,this.end.column=r)},d.prototype.inside=function(D,r){return this.compare(D,r)==0?!(this.isEnd(D,r)||this.isStart(D,r)):!1},d.prototype.insideStart=function(D,r){return this.compare(D,r)==0?!this.isEnd(D,r):!1},d.prototype.insideEnd=function(D,r){return this.compare(D,r)==0?!this.isStart(D,r):!1},d.prototype.compare=function(D,r){return!this.isMultiLine()&&D===this.start.row?r<this.start.column?-1:r>this.end.column?1:0:D<this.start.row?-1:D>this.end.row?1:this.start.row===D?r>=this.start.column?0:-1:this.end.row===D?r<=this.end.column?0:1:0},d.prototype.compareStart=function(D,r){return this.start.row==D&&this.start.column==r?-1:this.compare(D,r)},d.prototype.compareEnd=function(D,r){return this.end.row==D&&this.end.column==r?1:this.compare(D,r)},d.prototype.compareInside=function(D,r){return this.end.row==D&&this.end.column==r?1:this.start.row==D&&this.start.column==r?-1:this.compare(D,r)},d.prototype.clipRows=function(D,r){if(this.end.row>r)var e={row:r+1,column:0};else if(this.end.row<D)var e={row:D,column:0};if(this.start.row>r)var s={row:r+1,column:0};else if(this.start.row<D)var s={row:D,column:0};return d.fromPoints(s||this.start,e||this.end)},d.prototype.extend=function(D,r){var e=this.compare(D,r);if(e==0)return this;if(e==-1)var s={row:D,column:r};else var t={row:D,column:r};return d.fromPoints(s||this.start,t||this.end)},d.prototype.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},d.prototype.isMultiLine=function(){return this.start.row!==this.end.row},d.prototype.clone=function(){return d.fromPoints(this.start,this.end)},d.prototype.collapseRows=function(){return this.end.column==0?new d(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new d(this.start.row,0,this.end.row,0)},d.prototype.toScreenRange=function(D){var r=D.documentToScreenPosition(this.start),e=D.documentToScreenPosition(this.end);return new d(r.row,r.column,e.row,e.column)},d.prototype.moveBy=function(D,r){this.start.row+=D,this.start.column+=r,this.end.row+=D,this.end.column+=r},d}();b.fromPoints=function(d,D){return new b(d.row,d.column,D.row,D.column)},b.comparePoints=function(d,D){return d.row-D.row||d.column-D.column},h.Range=b}),ace.define("ace/lib/keys",["require","exports","module","ace/lib/oop"],function(M,h,F){"use strict";for(var b=M("./oop"),d={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta",91:"MetaLeft",92:"MetaRight",93:"ContextMenu"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8,control:1},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete","-13":"NumpadEnter",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",59:";",61:"=",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}},D={Command:224,Backspace:8,Tab:9,Return:13,Enter:13,Pause:19,Escape:27,PageUp:33,PageDown:34,End:35,Home:36,Insert:45,Delete:46,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40,Backquote:192,Minus:189,Equal:187,BracketLeft:219,Backslash:220,BracketRight:221,Semicolon:186,Quote:222,Comma:188,Period:190,Slash:191,Space:32,NumpadAdd:107,NumpadDecimal:110,NumpadSubtract:109,NumpadDivide:111,NumpadMultiply:106},r=0;r<10;r++)D["Digit"+r]=48+r,D["Numpad"+r]=96+r,d.PRINTABLE_KEYS[48+r]=""+r,d.FUNCTION_KEYS[96+r]="Numpad"+r;for(var r=65;r<91;r++){var e=String.fromCharCode(r+32);D["Key"+e.toUpperCase()]=r,d.PRINTABLE_KEYS[r]=e}for(var r=1;r<13;r++)D["F"+r]=111+r,d.FUNCTION_KEYS[111+r]="F"+r;var s={Shift:16,Control:17,Alt:18,Meta:224};for(var t in s)D[t]=D[t+"Left"]=D[t+"Right"]=s[t];h.$codeToKeyCode=D,d.PRINTABLE_KEYS[173]="-";for(var i in d.FUNCTION_KEYS){var n=d.FUNCTION_KEYS[i].toLowerCase();d[n]=parseInt(i,10)}for(var i in d.PRINTABLE_KEYS){var n=d.PRINTABLE_KEYS[i].toLowerCase();d[n]=parseInt(i,10)}b.mixin(d,d.MODIFIER_KEYS),b.mixin(d,d.PRINTABLE_KEYS),b.mixin(d,d.FUNCTION_KEYS),d.enter=d.return,d.escape=d.esc,d.del=d.delete,function(){for(var o=["cmd","ctrl","alt","shift"],c=Math.pow(2,o.length);c--;)d.KEY_MODS[c]=o.filter(function(p){return c&d.KEY_MODS[p]}).join("-")+"-"}(),d.KEY_MODS[0]="",d.KEY_MODS[-1]="input-",b.mixin(h,d),h.default=h,h.keyCodeToString=function(o){var c=d[o];return typeof c!="string"&&(c=String.fromCharCode(o)),c.toLowerCase()}}),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(M,h,F){"use strict";var b=M("./keys"),d=M("./useragent"),D=null,r=0,e;function s(){e=!1;try{document.createComment("").addEventListener("test",function(){},{get passive(){return e={passive:!1},!0}})}catch(k){}}function t(){return e==null&&s(),e}function i(k,f,C){this.elem=k,this.type=f,this.callback=C}i.prototype.destroy=function(){o(this.elem,this.type,this.callback),this.elem=this.type=this.callback=void 0};var n=h.addListener=function(k,f,C,g){k.addEventListener(f,C,t()),g&&g.$toDestroy.push(new i(k,f,C))},o=h.removeListener=function(k,f,C){k.removeEventListener(f,C,t())};h.stopEvent=function(k){return h.stopPropagation(k),h.preventDefault(k),!1},h.stopPropagation=function(k){k.stopPropagation&&k.stopPropagation()},h.preventDefault=function(k){k.preventDefault&&k.preventDefault()},h.getButton=function(k){return k.type=="dblclick"?0:k.type=="contextmenu"||d.isMac&&k.ctrlKey&&!k.altKey&&!k.shiftKey?2:k.button},h.capture=function(k,f,C){var g=k&&k.ownerDocument||document;function m(S){f&&f(S),C&&C(S),o(g,"mousemove",f),o(g,"mouseup",m),o(g,"dragstart",m)}return n(g,"mousemove",f),n(g,"mouseup",m),n(g,"dragstart",m),m},h.addMouseWheelListener=function(k,f,C){n(k,"wheel",function(g){var m=.15,S=g.deltaX||0,A=g.deltaY||0;switch(g.deltaMode){case g.DOM_DELTA_PIXEL:g.wheelX=S*m,g.wheelY=A*m;break;case g.DOM_DELTA_LINE:var R=15;g.wheelX=S*R,g.wheelY=A*R;break;case g.DOM_DELTA_PAGE:var P=150;g.wheelX=S*P,g.wheelY=A*P;break}f(g)},C)},h.addMultiMouseDownListener=function(k,f,C,g,m){var S=0,A,R,P,W={2:"dblclick",3:"tripleclick",4:"quadclick"};function _(T){if(h.getButton(T)!==0?S=0:T.detail>1?(S++,S>4&&(S=1)):S=1,d.isIE){var N=Math.abs(T.clientX-A)>5||Math.abs(T.clientY-R)>5;(!P||N)&&(S=1),P&&clearTimeout(P),P=setTimeout(function(){P=null},f[S-1]||600),S==1&&(A=T.clientX,R=T.clientY)}if(T._clicks=S,C[g]("mousedown",T),S>4)S=0;else if(S>1)return C[g](W[S],T)}Array.isArray(k)||(k=[k]),k.forEach(function(T){n(T,"mousedown",_,m)})};function c(k){return 0|(k.ctrlKey?1:0)|(k.altKey?2:0)|(k.shiftKey?4:0)|(k.metaKey?8:0)}h.getModifierString=function(k){return b.KEY_MODS[c(k)]};function p(k,f,C){var g=c(f);if(!C&&f.code&&(C=b.$codeToKeyCode[f.code]||C),!d.isMac&&D){if(f.getModifierState&&(f.getModifierState("OS")||f.getModifierState("Win"))&&(g|=8),D.altGr)if((3&g)!=3)D.altGr=0;else return;if(C===18||C===17){var m=f.location;if(C===17&&m===1)D[C]==1&&(r=f.timeStamp);else if(C===18&&g===3&&m===2){var S=f.timeStamp-r;S<50&&(D.altGr=!0)}}}if(C in b.MODIFIER_KEYS&&(C=-1),!(!g&&C===13&&f.location===3&&(k(f,g,-C),f.defaultPrevented))){if(d.isChromeOS&&g&8){if(k(f,g,C),f.defaultPrevented)return;g&=-9}return!g&&!(C in b.FUNCTION_KEYS)&&!(C in b.PRINTABLE_KEYS)?!1:k(f,g,C)}}h.addCommandKeyListener=function(k,f,C){var g=null;n(k,"keydown",function(m){D[m.keyCode]=(D[m.keyCode]||0)+1;var S=p(f,m,m.keyCode);return g=m.defaultPrevented,S},C),n(k,"keypress",function(m){g&&(m.ctrlKey||m.altKey||m.shiftKey||m.metaKey)&&(h.stopEvent(m),g=null)},C),n(k,"keyup",function(m){D[m.keyCode]=null},C),D||(w(),n(window,"focus",w))};function w(){D=Object.create(null)}if(typeof window=="object"&&window.postMessage&&!d.isOldIE){var E=1;h.nextTick=function(k,f){f=f||window;var C="zero-timeout-message-"+E++,g=function(m){m.data==C&&(h.stopPropagation(m),o(f,"message",g),k())};n(f,"message",g),f.postMessage(C,"*")}}h.$idleBlocked=!1,h.onIdle=function(k,f){return setTimeout(function C(){h.$idleBlocked?setTimeout(C,100):k()},f)},h.$idleBlockId=null,h.blockIdle=function(k){h.$idleBlockId&&clearTimeout(h.$idleBlockId),h.$idleBlocked=!0,h.$idleBlockId=setTimeout(function(){h.$idleBlocked=!1},k||100)},h.nextFrame=typeof window=="object"&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),h.nextFrame?h.nextFrame=h.nextFrame.bind(window):h.nextFrame=function(k){setTimeout(k,17)}}),ace.define("ace/clipboard",["require","exports","module"],function(M,h,F){"use strict";var b;F.exports={lineMode:!1,pasteCancelled:function(){return b&&b>Date.now()-50?!0:b=!1},cancel:function(){b=Date.now()}}}),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/config","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/clipboard","ace/lib/keys"],function(M,h,F){"use strict";var b=M("../lib/event"),d=M("../config").nls,D=M("../lib/useragent"),r=M("../lib/dom"),e=M("../lib/lang"),s=M("../clipboard"),t=D.isChrome<18,i=D.isIE,n=D.isChrome>63,o=400,c=M("../lib/keys"),p=c.KEY_MODS,w=D.isIOS,E=w?/\s/:/\n/,k=D.isMobile,f;f=function(C,g){var m=r.createElement("textarea");m.className="ace_text-input",m.setAttribute("wrap","off"),m.setAttribute("autocorrect","off"),m.setAttribute("autocapitalize","off"),m.setAttribute("spellcheck","false"),m.style.opacity="0",C.insertBefore(m,C.firstChild);var S=!1,A=!1,R=!1,P=!1,W="";k||(m.style.fontSize="1px");var _=!1,T=!1,N="",V=0,K=0,I=0,q=Number.MAX_SAFE_INTEGER,U=Number.MIN_SAFE_INTEGER,J=0;try{var Q=document.activeElement===m}catch(Ae){}this.setNumberOfExtraLines=function(Ae){if(q=Number.MAX_SAFE_INTEGER,U=Number.MIN_SAFE_INTEGER,Ae<0){J=0;return}J=Ae},this.setAriaOptions=function(Ae){if(Ae.activeDescendant?(m.setAttribute("aria-haspopup","true"),m.setAttribute("aria-autocomplete",Ae.inline?"both":"list"),m.setAttribute("aria-activedescendant",Ae.activeDescendant)):(m.setAttribute("aria-haspopup","false"),m.setAttribute("aria-autocomplete","both"),m.removeAttribute("aria-activedescendant")),Ae.role&&m.setAttribute("role",Ae.role),Ae.setLabel){m.setAttribute("aria-roledescription",d("text-input.aria-roledescription","editor"));var pt="";if(g.$textInputAriaLabel&&(pt+="".concat(g.$textInputAriaLabel,", ")),g.session){var mt=g.session.selection.cursor.row;pt+=d("text-input.aria-label","Cursor at row $0",[mt+1])}m.setAttribute("aria-label",pt)}},this.setAriaOptions({role:"textbox"}),b.addListener(m,"blur",function(Ae){T||(g.onBlur(Ae),Q=!1)},g),b.addListener(m,"focus",function(Ae){if(!T){if(Q=!0,D.isEdge)try{if(!document.hasFocus())return}catch(pt){}g.onFocus(Ae),D.isEdge?setTimeout(se):se()}},g),this.$focusScroll=!1,this.focus=function(){if(this.setAriaOptions({setLabel:g.renderer.enableKeyboardAccessibility}),W||n||this.$focusScroll=="browser")return m.focus({preventScroll:!0});var Ae=m.style.top;m.style.position="fixed",m.style.top="0px";try{var pt=m.getBoundingClientRect().top!=0}catch(Bt){return}var mt=[];if(pt)for(var lt=m.parentElement;lt&&lt.nodeType==1;)mt.push(lt),lt.setAttribute("ace_nocontext","true"),!lt.parentElement&&lt.getRootNode?lt=lt.getRootNode().host:lt=lt.parentElement;m.focus({preventScroll:!0}),pt&&mt.forEach(function(Bt){Bt.removeAttribute("ace_nocontext")}),setTimeout(function(){m.style.position="",m.style.top=="0px"&&(m.style.top=Ae)},0)},this.blur=function(){m.blur()},this.isFocused=function(){return Q},g.on("beforeEndOperation",function(){var Ae=g.curOp,pt=Ae&&Ae.command&&Ae.command.name;if(pt!="insertstring"){var mt=pt&&(Ae.docChanged||Ae.selectionChanged);R&&mt&&(N=m.value="",Xt()),se()}});var ee=function(Ae,pt){for(var mt=pt,lt=1;lt<=Ae-q&&lt<2*J+1;lt++)mt+=g.session.getLine(Ae-lt).length+1;return mt},se=w?function(Ae){if(!(!Q||S&&!Ae||P)){Ae||(Ae="");var pt=`
 ab`+Ae+`cde fg
`;pt!=m.value&&(m.value=N=pt);var mt=4,lt=4+(Ae.length||(g.selection.isEmpty()?0:1));(V!=mt||K!=lt)&&m.setSelectionRange(mt,lt),V=mt,K=lt}}:function(){if(!(R||P)&&!(!Q&&!Je)){R=!0;var Ae=0,pt=0,mt="";if(g.session){var lt=g.selection,Bt=lt.getRange(),Gt=lt.cursor.row;Gt===U+1?(q=U+1,U=q+2*J):Gt===q-1?(U=q-1,q=U-2*J):(Gt<q-1||Gt>U+1)&&(q=Gt>J?Gt-J:0,U=Gt>J?Gt+J:2*J);for(var Oe=[],nn=q;nn<=U;nn++)Oe.push(g.session.getLine(nn));if(mt=Oe.join(`
`),Ae=ee(Bt.start.row,Bt.start.column),pt=ee(Bt.end.row,Bt.end.column),Bt.start.row<q){var dt=g.session.getLine(q-1);Ae=Bt.start.row<q-1?0:Ae,pt+=dt.length+1,mt=dt+`
`+mt}else if(Bt.end.row>U){var Wt=g.session.getLine(U+1);pt=Bt.end.row>U+1?Wt.length:Bt.end.column,pt+=mt.length+1,mt=mt+`
`+Wt}else k&&Gt>0&&(mt=`
`+mt,pt+=1,Ae+=1);mt.length>o&&(Ae<o&&pt<o?mt=mt.slice(0,o):(mt=`
`,Ae==pt?Ae=pt=0:(Ae=0,pt=1)));var an=mt+`

`;an!=N&&(m.value=N=an,V=K=an.length)}if(Je&&(V=m.selectionStart,K=m.selectionEnd),K!=pt||V!=Ae||m.selectionEnd!=K)try{m.setSelectionRange(Ae,pt),V=Ae,K=pt}catch(cn){}R=!1}};this.resetSelection=se,Q&&g.onFocus();var ue=function(Ae){return Ae.selectionStart===0&&Ae.selectionEnd>=N.length&&Ae.value===N&&N&&Ae.selectionEnd!==K},xe=function(Ae){R||(S?S=!1:ue(m)?(g.selectAll(),se()):k&&m.selectionStart!=V&&se())},_e=null;this.setInputHandler=function(Ae){_e=Ae},this.getInputHandler=function(){return _e};var Je=!1,Be=function(Ae,pt){if(Je&&(Je=!1),A)return se(),Ae&&g.onPaste(Ae),A=!1,"";for(var mt=m.selectionStart,lt=m.selectionEnd,Bt=V,Gt=N.length-K,Oe=Ae,nn=Ae.length-mt,dt=Ae.length-lt,Wt=0;Bt>0&&N[Wt]==Ae[Wt];)Wt++,Bt--;for(Oe=Oe.slice(Wt),Wt=1;Gt>0&&N.length-Wt>V-1&&N[N.length-Wt]==Ae[Ae.length-Wt];)Wt++,Gt--;nn-=Wt-1,dt-=Wt-1;var an=Oe.length-Wt+1;if(an<0&&(Bt=-an,an=0),Oe=Oe.slice(0,an),!pt&&!Oe&&!nn&&!Bt&&!Gt&&!dt)return"";P=!0;var cn=!1;return D.isAndroid&&Oe==". "&&(Oe="  ",cn=!0),Oe&&!Bt&&!Gt&&!nn&&!dt||_?g.onTextInput(Oe):g.onTextInput(Oe,{extendLeft:Bt,extendRight:Gt,restoreStart:nn,restoreEnd:dt}),P=!1,N=Ae,V=mt,K=lt,I=dt,cn?`
`:Oe},He=function(Ae){if(R)return zt();if(Ae&&Ae.inputType){if(Ae.inputType=="historyUndo")return g.execCommand("undo");if(Ae.inputType=="historyRedo")return g.execCommand("redo")}var pt=m.value,mt=Be(pt,!0);(pt.length>o+100||E.test(mt)||k&&V<1&&V==K)&&se()},Xe=function(Ae,pt,mt){var lt=Ae.clipboardData||window.clipboardData;if(!(!lt||t)){var Bt=i||mt?"Text":"text/plain";try{return pt?lt.setData(Bt,pt)!==!1:lt.getData(Bt)}catch(Gt){if(!mt)return Xe(Gt,pt,!0)}}},Ue=function(Ae,pt){var mt=g.getCopyText();if(!mt)return b.preventDefault(Ae);Xe(Ae,mt)?(w&&(se(mt),S=mt,setTimeout(function(){S=!1},10)),pt?g.onCut():g.onCopy(),b.preventDefault(Ae)):(S=!0,m.value=mt,m.select(),setTimeout(function(){S=!1,se(),pt?g.onCut():g.onCopy()}))},rt=function(Ae){Ue(Ae,!0)},St=function(Ae){Ue(Ae,!1)},kt=function(Ae){var pt=Xe(Ae);s.pasteCancelled()||(typeof pt=="string"?(pt&&g.onPaste(pt,Ae),D.isIE&&setTimeout(se),b.preventDefault(Ae)):(m.value="",A=!0))};b.addCommandKeyListener(m,function(Ae,pt,mt){if(!R)return g.onCommandKey(Ae,pt,mt)},g),b.addListener(m,"select",xe,g),b.addListener(m,"input",He,g),b.addListener(m,"cut",rt,g),b.addListener(m,"copy",St,g),b.addListener(m,"paste",kt,g),(!("oncut"in m)||!("oncopy"in m)||!("onpaste"in m))&&b.addListener(C,"keydown",function(Ae){if(!(D.isMac&&!Ae.metaKey||!Ae.ctrlKey))switch(Ae.keyCode){case 67:St(Ae);break;case 86:kt(Ae);break;case 88:rt(Ae);break}},g);var It=function(Ae){if(!(R||!g.onCompositionStart||g.$readOnly)&&(R={},!_)){Ae.data&&(R.useTextareaForIME=!1),setTimeout(zt,0),g._signal("compositionStart"),g.on("mousedown",on);var pt=g.getSelectionRange();pt.end.row=pt.start.row,pt.end.column=pt.start.column,R.markerRange=pt,R.selectionStart=V,g.onCompositionStart(R),R.useTextareaForIME?(N=m.value="",V=0,K=0):(m.msGetInputContext&&(R.context=m.msGetInputContext()),m.getInputContext&&(R.context=m.getInputContext()))}},zt=function(){if(!(!R||!g.onCompositionUpdate||g.$readOnly)){if(_)return on();if(R.useTextareaForIME)g.onCompositionUpdate(m.value);else{var Ae=m.value;Be(Ae),R.markerRange&&(R.context&&(R.markerRange.start.column=R.selectionStart=R.context.compositionStartOffset),R.markerRange.end.column=R.markerRange.start.column+K-R.selectionStart+I)}}},Xt=function(Ae){!g.onCompositionEnd||g.$readOnly||(R=!1,g.onCompositionEnd(),g.off("mousedown",on),Ae&&He())};function on(){T=!0,m.blur(),m.focus(),T=!1}var Jt=e.delayedCall(zt,50).schedule.bind(null,null);function tn(Ae){Ae.keyCode==27&&m.value.length<m.selectionStart&&(R||(N=m.value),V=K=-1,se()),Jt()}b.addListener(m,"compositionstart",It,g),b.addListener(m,"compositionupdate",zt,g),b.addListener(m,"keyup",tn,g),b.addListener(m,"keydown",Jt,g),b.addListener(m,"compositionend",Xt,g),this.getElement=function(){return m},this.setCommandMode=function(Ae){_=Ae,m.readOnly=!1},this.setReadOnly=function(Ae){_||(m.readOnly=Ae)},this.setCopyWithEmptySelection=function(Ae){},this.onContextMenu=function(Ae){Je=!0,se(),g._emit("nativecontextmenu",{target:g,domEvent:Ae}),this.moveToMouse(Ae,!0)},this.moveToMouse=function(Ae,pt){W||(W=m.style.cssText),m.style.cssText=(pt?"z-index:100000;":"")+(D.isIE?"opacity:0.1;":"")+"text-indent: -"+(V+K)*g.renderer.characterWidth*.5+"px;";var mt=g.container.getBoundingClientRect(),lt=r.computedStyle(g.container),Bt=mt.top+(parseInt(lt.borderTopWidth)||0),Gt=mt.left+(parseInt(mt.borderLeftWidth)||0),Oe=mt.bottom-Bt-m.clientHeight-2,nn=function(dt){r.translate(m,dt.clientX-Gt-2,Math.min(dt.clientY-Bt-2,Oe))};nn(Ae),Ae.type=="mousedown"&&(g.renderer.$isMousePressed=!0,clearTimeout(rn),D.isWin&&b.capture(g.container,nn,Cn))},this.onContextMenuClose=Cn;var rn;function Cn(){clearTimeout(rn),rn=setTimeout(function(){W&&(m.style.cssText=W,W=""),g.renderer.$isMousePressed=!1,g.renderer.$keepTextAreaAtCursor&&g.renderer.$moveTextAreaToCursor()},0)}var Tn=function(Ae){g.textInput.onContextMenu(Ae),Cn()};b.addListener(m,"mouseup",Tn,g),b.addListener(m,"mousedown",function(Ae){Ae.preventDefault(),Cn()},g),b.addListener(g.renderer.scroller,"contextmenu",Tn,g),b.addListener(m,"contextmenu",Tn,g),w&&Rt(C,g,m);function Rt(Ae,pt,mt){var lt=null,Bt=!1;mt.addEventListener("keydown",function(Oe){lt&&clearTimeout(lt),Bt=!0},!0),mt.addEventListener("keyup",function(Oe){lt=setTimeout(function(){Bt=!1},100)},!0);var Gt=function(Oe){if(document.activeElement===mt&&!(Bt||R||pt.$mouseHandler.isMousePressed)&&!S){var nn=mt.selectionStart,dt=mt.selectionEnd,Wt=null,an=0;if(nn==0?Wt=c.up:nn==1?Wt=c.home:dt>K&&N[dt]==`
`?Wt=c.end:nn<V&&N[nn-1]==" "?(Wt=c.left,an=p.option):nn<V||nn==V&&K!=V&&nn==dt?Wt=c.left:dt>K&&N.slice(0,dt).split(`
`).length>2?Wt=c.down:dt>K&&N[dt-1]==" "?(Wt=c.right,an=p.option):(dt>K||dt==K&&K!=V&&nn==dt)&&(Wt=c.right),nn!==dt&&(an|=p.shift),Wt){var cn=pt.onCommandKey({},an,Wt);if(!cn&&pt.commands){Wt=c.keyCodeToString(Wt);var pe=pt.commands.findKeyCommand(an,Wt);pe&&pt.execCommand(pe)}V=nn,K=dt,se("")}}};document.addEventListener("selectionchange",Gt),pt.on("destroy",function(){document.removeEventListener("selectionchange",Gt)})}this.destroy=function(){m.parentElement&&m.parentElement.removeChild(m)}},h.TextInput=f,h.$setUserAgentForTests=function(C,g){k=C,w=g}}),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/useragent"],function(M,h,F){"use strict";var b=M("../lib/useragent"),d=0,D=550,r=function(){function t(i){i.$clickSelection=null;var n=i.editor;n.setDefaultHandler("mousedown",this.onMouseDown.bind(i)),n.setDefaultHandler("dblclick",this.onDoubleClick.bind(i)),n.setDefaultHandler("tripleclick",this.onTripleClick.bind(i)),n.setDefaultHandler("quadclick",this.onQuadClick.bind(i)),n.setDefaultHandler("mousewheel",this.onMouseWheel.bind(i));var o=["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"];o.forEach(function(c){i[c]=this[c]},this),i.selectByLines=this.extendSelectionBy.bind(i,"getLineRange"),i.selectByWords=this.extendSelectionBy.bind(i,"getWordRange")}return t.prototype.onMouseDown=function(i){var n=i.inSelection(),o=i.getDocumentPosition();this.mousedownEvent=i;var c=this.editor,p=i.getButton();if(p!==0){var w=c.getSelectionRange(),E=w.isEmpty();(E||p==1)&&c.selection.moveToPosition(o),p==2&&(c.textInput.onContextMenu(i.domEvent),b.isMozilla||i.preventDefault());return}if(this.mousedownEvent.time=Date.now(),n&&!c.isFocused()&&(c.focus(),this.$focusTimeout&&!this.$clickSelection&&!c.inMultiSelectMode)){this.setState("focusWait"),this.captureMouse(i);return}return this.captureMouse(i),this.startSelect(o,i.domEvent._clicks>1),i.preventDefault()},t.prototype.startSelect=function(i,n){i=i||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var o=this.editor;this.mousedownEvent&&(this.mousedownEvent.getShiftKey()?o.selection.selectToPosition(i):n||o.selection.moveToPosition(i),n||this.select(),o.setStyle("ace_selecting"),this.setState("select"))},t.prototype.select=function(){var i,n=this.editor,o=n.renderer.screenToTextCoordinates(this.x,this.y);if(this.$clickSelection){var c=this.$clickSelection.comparePoint(o);if(c==-1)i=this.$clickSelection.end;else if(c==1)i=this.$clickSelection.start;else{var p=s(this.$clickSelection,o);o=p.cursor,i=p.anchor}n.selection.setSelectionAnchor(i.row,i.column)}n.selection.selectToPosition(o),n.renderer.scrollCursorIntoView()},t.prototype.extendSelectionBy=function(i){var n,o=this.editor,c=o.renderer.screenToTextCoordinates(this.x,this.y),p=o.selection[i](c.row,c.column);if(this.$clickSelection){var w=this.$clickSelection.comparePoint(p.start),E=this.$clickSelection.comparePoint(p.end);if(w==-1&&E<=0)n=this.$clickSelection.end,(p.end.row!=c.row||p.end.column!=c.column)&&(c=p.start);else if(E==1&&w>=0)n=this.$clickSelection.start,(p.start.row!=c.row||p.start.column!=c.column)&&(c=p.end);else if(w==-1&&E==1)c=p.end,n=p.start;else{var k=s(this.$clickSelection,c);c=k.cursor,n=k.anchor}o.selection.setSelectionAnchor(n.row,n.column)}o.selection.selectToPosition(c),o.renderer.scrollCursorIntoView()},t.prototype.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting")},t.prototype.focusWait=function(){var i=e(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),n=Date.now();(i>d||n-this.mousedownEvent.time>this.$focusTimeout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},t.prototype.onDoubleClick=function(i){var n=i.getDocumentPosition(),o=this.editor,c=o.session,p=c.getBracketRange(n);p?(p.isEmpty()&&(p.start.column--,p.end.column++),this.setState("select")):(p=o.selection.getWordRange(n.row,n.column),this.setState("selectByWords")),this.$clickSelection=p,this.select()},t.prototype.onTripleClick=function(i){var n=i.getDocumentPosition(),o=this.editor;this.setState("selectByLines");var c=o.getSelectionRange();c.isMultiLine()&&c.contains(n.row,n.column)?(this.$clickSelection=o.selection.getLineRange(c.start.row),this.$clickSelection.end=o.selection.getLineRange(c.end.row).end):this.$clickSelection=o.selection.getLineRange(n.row),this.select()},t.prototype.onQuadClick=function(i){var n=this.editor;n.selectAll(),this.$clickSelection=n.getSelectionRange(),this.setState("selectAll")},t.prototype.onMouseWheel=function(i){if(!i.getAccelKey()){i.getShiftKey()&&i.wheelY&&!i.wheelX&&(i.wheelX=i.wheelY,i.wheelY=0);var n=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var o=this.$lastScroll,c=i.domEvent.timeStamp,p=c-o.t,w=p?i.wheelX/p:o.vx,E=p?i.wheelY/p:o.vy;p<D&&(w=(w+o.vx)/2,E=(E+o.vy)/2);var k=Math.abs(w/E),f=!1;if(k>=1&&n.renderer.isScrollableBy(i.wheelX*i.speed,0)&&(f=!0),k<=1&&n.renderer.isScrollableBy(0,i.wheelY*i.speed)&&(f=!0),f)o.allowed=c;else if(c-o.allowed<D){var C=Math.abs(w)<=1.5*Math.abs(o.vx)&&Math.abs(E)<=1.5*Math.abs(o.vy);C?(f=!0,o.allowed=c):o.allowed=0}if(o.t=c,o.vx=w,o.vy=E,f)return n.renderer.scrollBy(i.wheelX*i.speed,i.wheelY*i.speed),i.stop()}},t}();r.prototype.selectEnd=r.prototype.selectByLinesEnd,r.prototype.selectAllEnd=r.prototype.selectByLinesEnd,r.prototype.selectByWordsEnd=r.prototype.selectByLinesEnd,h.DefaultHandlers=r;function e(t,i,n,o){return Math.sqrt(Math.pow(n-t,2)+Math.pow(o-i,2))}function s(t,i){if(t.start.row==t.end.row)var n=2*i.column-t.start.column-t.end.column;else if(t.start.row==t.end.row-1&&!t.start.column&&!t.end.column)var n=i.column-4;else var n=2*i.row-t.start.row-t.end.row;return n<0?{cursor:t.start,anchor:t.end}:{cursor:t.end,anchor:t.start}}}),ace.define("ace/lib/scroll",["require","exports","module"],function(M,h,F){h.preventParentScroll=function(d){d.stopPropagation();var D=d.currentTarget,r=D.scrollHeight>D.clientHeight;r||d.preventDefault()}}),ace.define("ace/tooltip",["require","exports","module","ace/lib/dom","ace/lib/event","ace/range","ace/lib/scroll"],function(M,h,F){"use strict";var b=this&&this.__extends||function(){var p=function(w,E){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,f){k.__proto__=f}||function(k,f){for(var C in f)Object.prototype.hasOwnProperty.call(f,C)&&(k[C]=f[C])},p(w,E)};return function(w,E){if(typeof E!="function"&&E!==null)throw new TypeError("Class extends value "+String(E)+" is not a constructor or null");p(w,E);function k(){this.constructor=w}w.prototype=E===null?Object.create(E):(k.prototype=E.prototype,new k)}}(),d=this&&this.__values||function(p){var w=typeof Symbol=="function"&&Symbol.iterator,E=w&&p[w],k=0;if(E)return E.call(p);if(p&&typeof p.length=="number")return{next:function(){return p&&k>=p.length&&(p=void 0),{value:p&&p[k++],done:!p}}};throw new TypeError(w?"Object is not iterable.":"Symbol.iterator is not defined.")},D=M("./lib/dom"),r=M("./lib/event"),e=M("./range").Range,s=M("./lib/scroll").preventParentScroll,t="ace_tooltip",i=function(){function p(w){this.isOpen=!1,this.$element=null,this.$parentNode=w}return p.prototype.$init=function(){return this.$element=D.createElement("div"),this.$element.className=t,this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},p.prototype.getElement=function(){return this.$element||this.$init()},p.prototype.setText=function(w){this.getElement().textContent=w},p.prototype.setHtml=function(w){this.getElement().innerHTML=w},p.prototype.setPosition=function(w,E){this.getElement().style.left=w+"px",this.getElement().style.top=E+"px"},p.prototype.setClassName=function(w){D.addCssClass(this.getElement(),w)},p.prototype.setTheme=function(w){this.$element.className=t+" "+(w.isDark?"ace_dark ":"")+(w.cssClass||"")},p.prototype.show=function(w,E,k){w!=null&&this.setText(w),E!=null&&k!=null&&this.setPosition(E,k),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},p.prototype.hide=function(w){this.isOpen&&(this.getElement().style.display="none",this.getElement().className=t,this.isOpen=!1)},p.prototype.getHeight=function(){return this.getElement().offsetHeight},p.prototype.getWidth=function(){return this.getElement().offsetWidth},p.prototype.destroy=function(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)},p}(),n=function(){function p(){this.popups=[]}return p.prototype.addPopup=function(w){this.popups.push(w),this.updatePopups()},p.prototype.removePopup=function(w){var E=this.popups.indexOf(w);E!==-1&&(this.popups.splice(E,1),this.updatePopups())},p.prototype.updatePopups=function(){var w,E,k,f;this.popups.sort(function(_,T){return T.priority-_.priority});var C=[];try{for(var g=d(this.popups),m=g.next();!m.done;m=g.next()){var S=m.value,A=!0;try{for(var R=(k=void 0,d(C)),P=R.next();!P.done;P=R.next()){var W=P.value;if(this.doPopupsOverlap(W,S)){A=!1;break}}}catch(_){k={error:_}}finally{try{P&&!P.done&&(f=R.return)&&f.call(R)}finally{if(k)throw k.error}}A?C.push(S):S.hide()}}catch(_){w={error:_}}finally{try{m&&!m.done&&(E=g.return)&&E.call(g)}finally{if(w)throw w.error}}},p.prototype.doPopupsOverlap=function(w,E){var k=w.getElement().getBoundingClientRect(),f=E.getElement().getBoundingClientRect();return k.left<f.right&&k.right>f.left&&k.top<f.bottom&&k.bottom>f.top},p}(),o=new n;h.popupManager=o,h.Tooltip=i;var c=function(p){b(w,p);function w(E){E===void 0&&(E=document.body);var k=p.call(this,E)||this;k.timeout=void 0,k.lastT=0,k.idleTime=350,k.lastEvent=void 0,k.onMouseOut=k.onMouseOut.bind(k),k.onMouseMove=k.onMouseMove.bind(k),k.waitForHover=k.waitForHover.bind(k),k.hide=k.hide.bind(k);var f=k.getElement();return f.style.whiteSpace="pre-wrap",f.style.pointerEvents="auto",f.addEventListener("mouseout",k.onMouseOut),f.tabIndex=-1,f.addEventListener("blur",function(){f.contains(document.activeElement)||this.hide()}.bind(k)),f.addEventListener("wheel",s),k}return w.prototype.addToEditor=function(E){E.on("mousemove",this.onMouseMove),E.on("mousedown",this.hide),E.renderer.getMouseEventTarget().addEventListener("mouseout",this.onMouseOut,!0)},w.prototype.removeFromEditor=function(E){E.off("mousemove",this.onMouseMove),E.off("mousedown",this.hide),E.renderer.getMouseEventTarget().removeEventListener("mouseout",this.onMouseOut,!0),this.timeout&&(clearTimeout(this.timeout),this.timeout=null)},w.prototype.onMouseMove=function(E,k){this.lastEvent=E,this.lastT=Date.now();var f=k.$mouseHandler.isMousePressed;if(this.isOpen){var C=this.lastEvent&&this.lastEvent.getDocumentPosition();(!this.range||!this.range.contains(C.row,C.column)||f||this.isOutsideOfText(this.lastEvent))&&this.hide()}this.timeout||f||(this.lastEvent=E,this.timeout=setTimeout(this.waitForHover,this.idleTime))},w.prototype.waitForHover=function(){this.timeout&&clearTimeout(this.timeout);var E=Date.now()-this.lastT;if(this.idleTime-E>10){this.timeout=setTimeout(this.waitForHover,this.idleTime-E);return}this.timeout=null,this.lastEvent&&!this.isOutsideOfText(this.lastEvent)&&this.$gatherData(this.lastEvent,this.lastEvent.editor)},w.prototype.isOutsideOfText=function(E){var k=E.editor,f=E.getDocumentPosition(),C=k.session.getLine(f.row);if(f.column==C.length){var g=k.renderer.pixelToScreenCoordinates(E.clientX,E.clientY),m=k.session.documentToScreenPosition(f.row,f.column);if(m.column!=g.column||m.row!=g.row)return!0}return!1},w.prototype.setDataProvider=function(E){this.$gatherData=E},w.prototype.showForRange=function(E,k,f,C){var g=10;if(!(C&&C!=this.lastEvent)&&!(this.isOpen&&document.activeElement==this.getElement())){var m=E.renderer;this.isOpen||(o.addPopup(this),this.$registerCloseEvents(),this.setTheme(m.theme)),this.isOpen=!0,this.addMarker(k,E.session),this.range=e.fromPoints(k.start,k.end);var S=m.textToScreenCoordinates(k.start.row,k.start.column),A=m.scroller.getBoundingClientRect();S.pageX<A.left&&(S.pageX=A.left);var R=this.getElement();R.innerHTML="",R.appendChild(f),R.style.maxHeight="",R.style.display="block";var P=R.clientHeight,W=R.clientWidth,_=window.innerHeight-S.pageY-m.lineHeight,T=!0;S.pageY-P<0&&S.pageY<_&&(T=!1),R.style.maxHeight=(T?S.pageY:_)-g+"px",R.style.top=T?"":S.pageY+m.lineHeight+"px",R.style.bottom=T?window.innerHeight-S.pageY+"px":"",R.style.left=Math.min(S.pageX,window.innerWidth-W-g)+"px"}},w.prototype.addMarker=function(E,k){this.marker&&this.$markerSession.removeMarker(this.marker),this.$markerSession=k,this.marker=k&&k.addMarker(E,"ace_highlight-marker","text")},w.prototype.hide=function(E){!E&&document.activeElement==this.getElement()||E&&E.target&&(E.type!="keydown"||E.ctrlKey||E.metaKey)&&this.$element.contains(E.target)||(this.lastEvent=null,this.timeout&&clearTimeout(this.timeout),this.timeout=null,this.addMarker(null),this.isOpen&&(this.$removeCloseEvents(),this.getElement().style.display="none",this.isOpen=!1,o.removePopup(this)))},w.prototype.$registerCloseEvents=function(){window.addEventListener("keydown",this.hide,!0),window.addEventListener("wheel",this.hide,!0),window.addEventListener("mousedown",this.hide,!0)},w.prototype.$removeCloseEvents=function(){window.removeEventListener("keydown",this.hide,!0),window.removeEventListener("wheel",this.hide,!0),window.removeEventListener("mousedown",this.hide,!0)},w.prototype.onMouseOut=function(E){this.timeout&&(clearTimeout(this.timeout),this.timeout=null),this.lastEvent=null,this.isOpen&&(!E.relatedTarget||this.getElement().contains(E.relatedTarget)||E&&E.currentTarget.contains(E.relatedTarget)||E.relatedTarget.classList.contains("ace_content")||this.hide())},w}(i);h.HoverTooltip=c}),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/tooltip","ace/config"],function(M,h,F){"use strict";var b=this&&this.__extends||function(){var n=function(o,c){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,w){p.__proto__=w}||function(p,w){for(var E in w)Object.prototype.hasOwnProperty.call(w,E)&&(p[E]=w[E])},n(o,c)};return function(o,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");n(o,c);function p(){this.constructor=o}o.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),d=this&&this.__values||function(n){var o=typeof Symbol=="function"&&Symbol.iterator,c=o&&n[o],p=0;if(c)return c.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&p>=n.length&&(n=void 0),{value:n&&n[p++],done:!n}}};throw new TypeError(o?"Object is not iterable.":"Symbol.iterator is not defined.")},D=M("../lib/dom"),r=M("../lib/event"),e=M("../tooltip").Tooltip,s=M("../config").nls;function t(n){var o=n.editor,c=o.renderer.$gutterLayer,p=new i(o);n.editor.setDefaultHandler("guttermousedown",function(g){if(!(!o.isFocused()||g.getButton()!=0)){var m=c.getRegion(g);if(m!="foldWidgets"){var S=g.getDocumentPosition().row,A=o.session.selection;if(g.getShiftKey())A.selectTo(S,0);else{if(g.domEvent.detail==2)return o.selectAll(),g.preventDefault();n.$clickSelection=o.selection.getLineRange(S)}return n.setState("selectByLines"),n.captureMouse(g),g.preventDefault()}}});var w,E;function k(){var g=E.getDocumentPosition().row,m=o.session.getLength();if(g==m){var S=o.renderer.pixelToScreenCoordinates(0,E.y).row,A=E.$pos;if(S>o.session.documentToScreenRow(A.row,A.column))return f()}if(p.showTooltip(g),!!p.isOpen)if(o.on("mousewheel",f),n.$tooltipFollowsMouse)C(E);else{var R=E.getGutterRow(),P=c.$lines.get(R);if(P){var W=P.element.querySelector(".ace_gutter_annotation"),_=W.getBoundingClientRect(),T=p.getElement().style;T.left=_.right+"px",T.top=_.bottom+"px"}else C(E)}}function f(){w&&(w=clearTimeout(w)),p.isOpen&&(p.hideTooltip(),o.off("mousewheel",f))}function C(g){p.setPosition(g.x,g.y)}n.editor.setDefaultHandler("guttermousemove",function(g){var m=g.domEvent.target||g.domEvent.srcElement;if(D.hasCssClass(m,"ace_fold-widget"))return f();p.isOpen&&n.$tooltipFollowsMouse&&C(g),E=g,!w&&(w=setTimeout(function(){w=null,E&&!n.isMousePressed?k():f()},50))}),r.addListener(o.renderer.$gutter,"mouseout",function(g){E=null,!(!p.isOpen||w)&&(w=setTimeout(function(){w=null,f()},50))},o),o.on("changeSession",f),o.on("input",f)}h.GutterHandler=t;var i=function(n){b(o,n);function o(c){var p=n.call(this,c.container)||this;return p.editor=c,p}return o.prototype.setPosition=function(c,p){var w=window.innerWidth||document.documentElement.clientWidth,E=window.innerHeight||document.documentElement.clientHeight,k=this.getWidth(),f=this.getHeight();c+=15,p+=15,c+k>w&&(c-=c+k-w),p+f>E&&(p-=20+f),e.prototype.setPosition.call(this,c,p)},Object.defineProperty(o,"annotationLabels",{get:function(){return{error:{singular:s("gutter-tooltip.aria-label.error.singular","error"),plural:s("gutter-tooltip.aria-label.error.plural","errors")},warning:{singular:s("gutter-tooltip.aria-label.warning.singular","warning"),plural:s("gutter-tooltip.aria-label.warning.plural","warnings")},info:{singular:s("gutter-tooltip.aria-label.info.singular","information message"),plural:s("gutter-tooltip.aria-label.info.plural","information messages")}}},enumerable:!1,configurable:!0}),o.prototype.showTooltip=function(c){var p=this.editor.renderer.$gutterLayer,w=p.$annotations[c],E;w?E={text:Array.from(w.text),type:Array.from(w.type)}:E={text:[],type:[]};var k=p.session.getFoldLine(c);if(k&&p.$showFoldedAnnotations){for(var f={error:[],warning:[],info:[]},C,g=c+1;g<=k.end.row;g++)if(p.$annotations[g])for(var m=0;m<p.$annotations[g].text.length;m++){var S=p.$annotations[g].type[m];if(f[S].push(p.$annotations[g].text[m]),S==="error"){C="error_fold";continue}if(S==="warning"){C="warning_fold";continue}}if(C==="error_fold"||C==="warning_fold"){var A="".concat(o.annotationsToSummaryString(f)," in folded code.");E.text.push(A),E.type.push(C)}}if(E.text.length===0)return this.hide();for(var R={error:[],warning:[],info:[]},P=p.$useSvgGutterIcons?"ace_icon_svg":"ace_icon",g=0;g<E.text.length;g++){var W="<span class='ace_".concat(E.type[g]," ").concat(P,"' aria-label='").concat(o.annotationLabels[E.type[g].replace("_fold","")].singular,"' role=img> </span> ").concat(E.text[g]);R[E.type[g].replace("_fold","")].push(W)}var _=[].concat(R.error,R.warning,R.info).join("<br>");this.setHtml(_),this.$element.setAttribute("aria-live","polite"),this.isOpen||(this.setTheme(this.editor.renderer.theme),this.setClassName("ace_gutter-tooltip")),this.show(),this.editor._signal("showGutterTooltip",this)},o.prototype.hideTooltip=function(){this.$element.removeAttribute("aria-live"),this.hide(),this.editor._signal("hideGutterTooltip",this)},o.annotationsToSummaryString=function(c){var p,w,E=[],k=["error","warning","info"];try{for(var f=d(k),C=f.next();!C.done;C=f.next()){var g=C.value;if(c[g].length){var m=c[g].length===1?o.annotationLabels[g].singular:o.annotationLabels[g].plural;E.push("".concat(c[g].length," ").concat(m))}}}catch(S){p={error:S}}finally{try{C&&!C.done&&(w=f.return)&&w.call(f)}finally{if(p)throw p.error}}return E.join(", ")},o}(e);h.GutterTooltip=i}),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(M,h,F){"use strict";var b=M("../lib/event"),d=M("../lib/useragent"),D=function(){function r(e,s){this.speed,this.wheelX,this.wheelY,this.domEvent=e,this.editor=s,this.x=this.clientX=e.clientX,this.y=this.clientY=e.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1}return r.prototype.stopPropagation=function(){b.stopPropagation(this.domEvent),this.propagationStopped=!0},r.prototype.preventDefault=function(){b.preventDefault(this.domEvent),this.defaultPrevented=!0},r.prototype.stop=function(){this.stopPropagation(),this.preventDefault()},r.prototype.getDocumentPosition=function(){return this.$pos?this.$pos:(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY),this.$pos)},r.prototype.getGutterRow=function(){var e=this.getDocumentPosition().row,s=this.editor.session.documentToScreenRow(e,0),t=this.editor.session.documentToScreenRow(this.editor.renderer.$gutterLayer.$lines.get(0).row,0);return s-t},r.prototype.inSelection=function(){if(this.$inSelection!==null)return this.$inSelection;var e=this.editor,s=e.getSelectionRange();if(s.isEmpty())this.$inSelection=!1;else{var t=this.getDocumentPosition();this.$inSelection=s.contains(t.row,t.column)}return this.$inSelection},r.prototype.getButton=function(){return b.getButton(this.domEvent)},r.prototype.getShiftKey=function(){return this.domEvent.shiftKey},r.prototype.getAccelKey=function(){return d.isMac?this.domEvent.metaKey:this.domEvent.ctrlKey},r}();h.MouseEvent=D}),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(M,h,F){"use strict";var b=M("../lib/dom"),d=M("../lib/event"),D=M("../lib/useragent"),r=200,e=200,s=5;function t(n){var o=n.editor,c=b.createElement("div");c.style.cssText="top:-100px;position:absolute;z-index:2147483647;opacity:0.5",c.textContent="\xA0";var p=["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"];p.forEach(function(ee){n[ee]=this[ee]},this),o.on("mousedown",this.onMouseDown.bind(n));var w=o.container,E,k,f,C,g,m,S=0,A,R,P,W,_;this.onDragStart=function(ee){if(this.cancelDrag||!w.draggable){var se=this;return setTimeout(function(){se.startSelect(),se.captureMouse(ee)},0),ee.preventDefault()}g=o.getSelectionRange();var ue=ee.dataTransfer;ue.effectAllowed=o.getReadOnly()?"copy":"copyMove",o.container.appendChild(c),ue.setDragImage&&ue.setDragImage(c,0,0),setTimeout(function(){o.container.removeChild(c)}),ue.clearData(),ue.setData("Text",o.session.getTextRange()),R=!0,this.setState("drag")},this.onDragEnd=function(ee){if(w.draggable=!1,R=!1,this.setState(null),!o.getReadOnly()){var se=ee.dataTransfer.dropEffect;!A&&se=="move"&&o.session.remove(o.getSelectionRange()),o.$resetCursorStyle()}this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(ee){if(!(o.getReadOnly()||!J(ee.dataTransfer)))return k=ee.clientX,f=ee.clientY,E||K(),S++,ee.dataTransfer.dropEffect=A=Q(ee),d.preventDefault(ee)},this.onDragOver=function(ee){if(!(o.getReadOnly()||!J(ee.dataTransfer)))return k=ee.clientX,f=ee.clientY,E||(K(),S++),q!==null&&(q=null),ee.dataTransfer.dropEffect=A=Q(ee),d.preventDefault(ee)},this.onDragLeave=function(ee){if(S--,S<=0&&E)return I(),A=null,d.preventDefault(ee)},this.onDrop=function(ee){if(m){var se=ee.dataTransfer;if(R)switch(A){case"move":g.contains(m.row,m.column)?g={start:m,end:m}:g=o.moveText(g,m);break;case"copy":g=o.moveText(g,m,!0);break}else{var ue=se.getData("Text");g={start:m,end:o.session.insert(m,ue)},o.focus(),A=null}return I(),d.preventDefault(ee)}},d.addListener(w,"dragstart",this.onDragStart.bind(n),o),d.addListener(w,"dragend",this.onDragEnd.bind(n),o),d.addListener(w,"dragenter",this.onDragEnter.bind(n),o),d.addListener(w,"dragover",this.onDragOver.bind(n),o),d.addListener(w,"dragleave",this.onDragLeave.bind(n),o),d.addListener(w,"drop",this.onDrop.bind(n),o);function T(ee,se){var ue=Date.now(),xe=!se||ee.row!=se.row,_e=!se||ee.column!=se.column;if(!W||xe||_e)o.moveCursorToPosition(ee),W=ue,_={x:k,y:f};else{var Je=i(_.x,_.y,k,f);Je>s?W=null:ue-W>=e&&(o.renderer.scrollCursorIntoView(),W=null)}}function N(ee,se){var ue=Date.now(),xe=o.renderer.layerConfig.lineHeight,_e=o.renderer.layerConfig.characterWidth,Je=o.renderer.scroller.getBoundingClientRect(),Be={x:{left:k-Je.left,right:Je.right-k},y:{top:f-Je.top,bottom:Je.bottom-f}},He=Math.min(Be.x.left,Be.x.right),Xe=Math.min(Be.y.top,Be.y.bottom),Ue={row:ee.row,column:ee.column};He/_e<=2&&(Ue.column+=Be.x.left<Be.x.right?-3:2),Xe/xe<=1&&(Ue.row+=Be.y.top<Be.y.bottom?-1:1);var rt=ee.row!=Ue.row,St=ee.column!=Ue.column,kt=!se||ee.row!=se.row;rt||St&&!kt?P?ue-P>=r&&o.renderer.scrollCursorIntoView(Ue):P=ue:P=null}function V(){var ee=m;m=o.renderer.screenToTextCoordinates(k,f),T(m,ee),N(m,ee)}function K(){g=o.selection.toOrientedRange(),E=o.session.addMarker(g,"ace_selection",o.getSelectionStyle()),o.clearSelection(),o.isFocused()&&o.renderer.$cursorLayer.setBlinking(!1),clearInterval(C),V(),C=setInterval(V,20),S=0,d.addListener(document,"mousemove",U)}function I(){clearInterval(C),o.session.removeMarker(E),E=null,o.selection.fromOrientedRange(g),o.isFocused()&&!R&&o.$resetCursorStyle(),g=null,m=null,S=0,P=null,W=null,d.removeListener(document,"mousemove",U)}var q=null;function U(){q==null&&(q=setTimeout(function(){q!=null&&E&&I()},20))}function J(ee){var se=ee.types;return!se||Array.prototype.some.call(se,function(ue){return ue=="text/plain"||ue=="Text"})}function Q(ee){var se=["copy","copymove","all","uninitialized"],ue=["move","copymove","linkmove","all","uninitialized"],xe=D.isMac?ee.altKey:ee.ctrlKey,_e="uninitialized";try{_e=ee.dataTransfer.effectAllowed.toLowerCase()}catch(Be){}var Je="none";return xe&&se.indexOf(_e)>=0?Je="copy":ue.indexOf(_e)>=0?Je="move":se.indexOf(_e)>=0&&(Je="copy"),Je}}(function(){this.dragWait=function(){var n=Date.now()-this.mousedownEvent.time;n>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){var n=this.editor.container;n.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(n){this.editor.$resetCursorStyle(),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var n=this.editor,o=n.container;o.draggable=!0,n.renderer.$cursorLayer.setBlinking(!1),n.setStyle("ace_dragging");var c=D.isWin?"default":"move";n.renderer.setCursorStyle(c),this.setState("dragReady")},this.onMouseDrag=function(n){var o=this.editor.container;if(D.isIE&&this.state=="dragReady"){var c=i(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);c>3&&o.dragDrop()}if(this.state==="dragWait"){var c=i(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);c>0&&(o.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()))}},this.onMouseDown=function(n){if(this.$dragEnabled){this.mousedownEvent=n;var o=this.editor,c=n.inSelection(),p=n.getButton(),w=n.domEvent.detail||1;if(w===1&&p===0&&c){if(n.editor.inMultiSelectMode&&(n.getAccelKey()||n.getShiftKey()))return;this.mousedownEvent.time=Date.now();var E=n.domEvent.target||n.domEvent.srcElement;if("unselectable"in E&&(E.unselectable="on"),o.getDragDelay()){if(D.isWebKit){this.cancelDrag=!0;var k=o.container;k.draggable=!0}this.setState("dragWait")}else this.startDrag();this.captureMouse(n,this.onMouseDrag.bind(this)),n.defaultPrevented=!0}}}}).call(t.prototype);function i(n,o,c,p){return Math.sqrt(Math.pow(c-n,2)+Math.pow(p-o,2))}h.DragdropHandler=t}),ace.define("ace/mouse/touch_handler",["require","exports","module","ace/mouse/mouse_event","ace/lib/event","ace/lib/dom"],function(M,h,F){"use strict";var b=M("./mouse_event").MouseEvent,d=M("../lib/event"),D=M("../lib/dom");h.addTouchListeners=function(r,e){var s="scroll",t,i,n,o,c,p,w=0,E,k=0,f=0,C=0,g,m;function S(){var T=window.navigator&&window.navigator.clipboard,N=!1,V=function(){var I=e.getCopyText(),q=e.session.getUndoManager().hasUndo();m.replaceChild(D.buildDom(N?["span",!I&&["span",{class:"ace_mobile-button",action:"selectall"},"Select All"],I&&["span",{class:"ace_mobile-button",action:"copy"},"Copy"],I&&["span",{class:"ace_mobile-button",action:"cut"},"Cut"],T&&["span",{class:"ace_mobile-button",action:"paste"},"Paste"],q&&["span",{class:"ace_mobile-button",action:"undo"},"Undo"],["span",{class:"ace_mobile-button",action:"find"},"Find"],["span",{class:"ace_mobile-button",action:"openCommandPalette"},"Palette"]]:["span"]),m.firstChild)},K=function(I){var q=I.target.getAttribute("action");if(q=="more"||!N)return N=!N,V();q=="paste"?T.readText().then(function(U){e.execCommand(q,U)}):q&&((q=="cut"||q=="copy")&&(T?T.writeText(e.getCopyText()):document.execCommand("copy")),e.execCommand(q)),m.firstChild.style.display="none",N=!1,q!="openCommandPalette"&&e.focus()};m=D.buildDom(["div",{class:"ace_mobile-menu",ontouchstart:function(I){s="menu",I.stopPropagation(),I.preventDefault(),e.textInput.focus()},ontouchend:function(I){I.stopPropagation(),I.preventDefault(),K(I)},onclick:K},["span"],["span",{class:"ace_mobile-button",action:"more"},"..."]],e.container)}function A(){m||S();var T=e.selection.cursor,N=e.renderer.textToScreenCoordinates(T.row,T.column),V=e.renderer.textToScreenCoordinates(0,0).pageX,K=e.renderer.scrollLeft,I=e.container.getBoundingClientRect();m.style.top=N.pageY-I.top-3+"px",N.pageX-I.left<I.width-70?(m.style.left="",m.style.right="10px"):(m.style.right="",m.style.left=V+K-I.left+"px"),m.style.display="",m.firstChild.style.display="none",e.on("input",R)}function R(T){m&&(m.style.display="none"),e.off("input",R)}function P(){c=null,clearTimeout(c);var T=e.selection.getRange(),N=T.contains(E.row,E.column);(T.isEmpty()||!N)&&(e.selection.moveToPosition(E),e.selection.selectWord()),s="wait",A()}function W(){c=null,clearTimeout(c),e.selection.moveToPosition(E);var T=k>=2?e.selection.getLineRange(E.row):e.session.getBracketRange(E);T&&!T.isEmpty()?e.selection.setRange(T):e.selection.selectWord(),s="wait"}d.addListener(r,"contextmenu",function(T){if(g){var N=e.textInput.getElement();N.focus()}},e),d.addListener(r,"touchstart",function(T){var N=T.touches;if(c||N.length>1){clearTimeout(c),c=null,n=-1,s="zoom";return}g=e.$mouseHandler.isMousePressed=!0;var V=e.renderer.layerConfig.lineHeight,K=e.renderer.layerConfig.lineHeight,I=T.timeStamp;o=I;var q=N[0],U=q.clientX,J=q.clientY;Math.abs(t-U)+Math.abs(i-J)>V&&(n=-1),t=T.clientX=U,i=T.clientY=J,f=C=0;var Q=new b(T,e);if(E=Q.getDocumentPosition(),I-n<500&&N.length==1&&!w)k++,T.preventDefault(),T.button=0,W();else{k=0;var ee=e.selection.cursor,se=e.selection.isEmpty()?ee:e.selection.anchor,ue=e.renderer.$cursorLayer.getPixelPosition(ee,!0),xe=e.renderer.$cursorLayer.getPixelPosition(se,!0),_e=e.renderer.scroller.getBoundingClientRect(),Je=e.renderer.layerConfig.offset,Be=e.renderer.scrollLeft,He=function(rt,St){return rt=rt/K,St=St/V-.75,rt*rt+St*St};if(T.clientX<_e.left){s="zoom";return}var Xe=He(T.clientX-_e.left-ue.left+Be,T.clientY-_e.top-ue.top+Je),Ue=He(T.clientX-_e.left-xe.left+Be,T.clientY-_e.top-xe.top+Je);Xe<3.5&&Ue<3.5&&(s=Xe>Ue?"cursor":"anchor"),Ue<3.5?s="anchor":Xe<3.5?s="cursor":s="scroll",c=setTimeout(P,450)}n=I},e),d.addListener(r,"touchend",function(T){g=e.$mouseHandler.isMousePressed=!1,p&&clearInterval(p),s=="zoom"?(s="",w=0):c?(e.selection.moveToPosition(E),w=0,A()):s=="scroll"?(_(),R()):A(),clearTimeout(c),c=null},e),d.addListener(r,"touchmove",function(T){c&&(clearTimeout(c),c=null);var N=T.touches;if(!(N.length>1||s=="zoom")){var V=N[0],K=t-V.clientX,I=i-V.clientY;if(s=="wait")if(K*K+I*I>4)s="cursor";else return T.preventDefault();t=V.clientX,i=V.clientY,T.clientX=V.clientX,T.clientY=V.clientY;var q=T.timeStamp,U=q-o;if(o=q,s=="scroll"){var J=new b(T,e);J.speed=1,J.wheelX=K,J.wheelY=I,10*Math.abs(K)<Math.abs(I)&&(K=0),10*Math.abs(I)<Math.abs(K)&&(I=0),U!=0&&(f=K/U,C=I/U),e._emit("mousewheel",J),J.propagationStopped||(f=C=0)}else{var Q=new b(T,e),ee=Q.getDocumentPosition();s=="cursor"?e.selection.moveCursorToPosition(ee):s=="anchor"&&e.selection.setSelectionAnchor(ee.row,ee.column),e.renderer.scrollCursorIntoView(ee),T.preventDefault()}}},e);function _(){w+=60,p=setInterval(function(){w--<=0&&(clearInterval(p),p=null),Math.abs(f)<.01&&(f=0),Math.abs(C)<.01&&(C=0),w<20&&(f=.9*f),w<20&&(C=.9*C);var T=e.session.getScrollTop();e.renderer.scrollBy(10*f,10*C),T==e.session.getScrollTop()&&(w=0)},10)}}}),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/mouse/touch_handler","ace/config"],function(M,h,F){"use strict";var b=M("../lib/event"),d=M("../lib/useragent"),D=M("./default_handlers").DefaultHandlers,r=M("./default_gutter_handler").GutterHandler,e=M("./mouse_event").MouseEvent,s=M("./dragdrop_handler").DragdropHandler,t=M("./touch_handler").addTouchListeners,i=M("../config"),n=function(){function o(c){this.$dragDelay,this.$dragEnabled,this.$mouseMoved,this.mouseEvent,this.$focusTimeout;var p=this;this.editor=c,new D(this),new r(this),new s(this);var w=function(f){var C=!document.hasFocus||!document.hasFocus()||!c.isFocused()&&document.activeElement==(c.textInput&&c.textInput.getElement());C&&window.focus(),c.focus(),setTimeout(function(){c.isFocused()||c.focus()})},E=c.renderer.getMouseEventTarget();b.addListener(E,"click",this.onMouseEvent.bind(this,"click"),c),b.addListener(E,"mousemove",this.onMouseMove.bind(this,"mousemove"),c),b.addMultiMouseDownListener([E,c.renderer.scrollBarV&&c.renderer.scrollBarV.inner,c.renderer.scrollBarH&&c.renderer.scrollBarH.inner,c.textInput&&c.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent",c),b.addMouseWheelListener(c.container,this.onMouseWheel.bind(this,"mousewheel"),c),t(c.container,c);var k=c.renderer.$gutter;b.addListener(k,"mousedown",this.onMouseEvent.bind(this,"guttermousedown"),c),b.addListener(k,"click",this.onMouseEvent.bind(this,"gutterclick"),c),b.addListener(k,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick"),c),b.addListener(k,"mousemove",this.onMouseEvent.bind(this,"guttermousemove"),c),b.addListener(E,"mousedown",w,c),b.addListener(k,"mousedown",w,c),d.isIE&&c.renderer.scrollBarV&&(b.addListener(c.renderer.scrollBarV.element,"mousedown",w,c),b.addListener(c.renderer.scrollBarH.element,"mousedown",w,c)),c.on("mousemove",function(f){if(!(p.state||p.$dragDelay||!p.$dragEnabled)){var C=c.renderer.screenToTextCoordinates(f.x,f.y),g=c.session.selection.getRange(),m=c.renderer;!g.isEmpty()&&g.insideStart(C.row,C.column)?m.setCursorStyle("default"):m.setCursorStyle("")}},c)}return o.prototype.onMouseEvent=function(c,p){this.editor.session&&this.editor._emit(c,new e(p,this.editor))},o.prototype.onMouseMove=function(c,p){var w=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;!w||!w.length||this.editor._emit(c,new e(p,this.editor))},o.prototype.onMouseWheel=function(c,p){var w=new e(p,this.editor);w.speed=this.$scrollSpeed*2,w.wheelX=p.wheelX,w.wheelY=p.wheelY,this.editor._emit(c,w)},o.prototype.setState=function(c){this.state=c},o.prototype.captureMouse=function(c,p){this.x=c.x,this.y=c.y,this.isMousePressed=!0;var w=this.editor,E=this.editor.renderer;E.$isMousePressed=!0;var k=this,f=function(A){if(A){if(d.isWebKit&&!A.which&&k.releaseMouse)return k.releaseMouse();k.x=A.clientX,k.y=A.clientY,p&&p(A),k.mouseEvent=new e(A,k.editor),k.$mouseMoved=!0}},C=function(A){w.off("beforeEndOperation",m),clearInterval(S),w.session&&g(),k[k.state+"End"]&&k[k.state+"End"](A),k.state="",k.isMousePressed=E.$isMousePressed=!1,E.$keepTextAreaAtCursor&&E.$moveTextAreaToCursor(),k.$onCaptureMouseMove=k.releaseMouse=null,A&&k.onMouseEvent("mouseup",A),w.endOperation()},g=function(){k[k.state]&&k[k.state](),k.$mouseMoved=!1};if(d.isOldIE&&c.domEvent.type=="dblclick")return setTimeout(function(){C(c)});var m=function(A){k.releaseMouse&&w.curOp.command.name&&w.curOp.selectionChanged&&(k[k.state+"End"]&&k[k.state+"End"](),k.state="",k.releaseMouse())};w.on("beforeEndOperation",m),w.startOperation({command:{name:"mouse"}}),k.$onCaptureMouseMove=f,k.releaseMouse=b.capture(this.editor.container,f,C);var S=setInterval(g,20)},o.prototype.cancelContextMenu=function(){var c=function(p){p&&p.domEvent&&p.domEvent.type!="contextmenu"||(this.editor.off("nativecontextmenu",c),p&&p.domEvent&&b.stopEvent(p.domEvent))}.bind(this);setTimeout(c,10),this.editor.on("nativecontextmenu",c)},o.prototype.destroy=function(){this.releaseMouse&&this.releaseMouse()},o}();n.prototype.releaseMouse=null,i.defineOptions(n.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:d.isMac?150:0},dragEnabled:{initialValue:!0},focusTimeout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),h.MouseHandler=n}),ace.define("ace/mouse/fold_handler",["require","exports","module","ace/lib/dom"],function(M,h,F){"use strict";var b=M("../lib/dom"),d=function(){function D(r){r.on("click",function(e){var s=e.getDocumentPosition(),t=r.session,i=t.getFoldAt(s.row,s.column,1);i&&(e.getAccelKey()?t.removeFold(i):t.expandFold(i),e.stop());var n=e.domEvent&&e.domEvent.target;n&&b.hasCssClass(n,"ace_inline_button")&&b.hasCssClass(n,"ace_toggle_wrap")&&(t.setOption("wrap",!t.getUseWrapMode()),r.renderer.scrollCursorIntoView())}),r.on("gutterclick",function(e){var s=r.renderer.$gutterLayer.getRegion(e);if(s=="foldWidgets"){var t=e.getDocumentPosition().row,i=r.session;i.foldWidgets&&i.foldWidgets[t]&&r.session.onFoldWidgetClick(t,e),r.isFocused()||r.focus(),e.stop()}}),r.on("gutterdblclick",function(e){var s=r.renderer.$gutterLayer.getRegion(e);if(s=="foldWidgets"){var t=e.getDocumentPosition().row,i=r.session,n=i.getParentFoldRangeData(t,!0),o=n.range||n.firstRange;if(o){t=o.start.row;var c=i.getFoldAt(t,i.getLine(t).length,1);c?i.removeFold(c):(i.addFold("...",o),r.renderer.scrollCursorIntoView({row:o.start.row,column:0}))}e.stop()}})}return D}();h.FoldHandler=d}),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(M,h,F){"use strict";var b=M("../lib/keys"),d=M("../lib/event"),D=function(){function r(e){this.$editor=e,this.$data={editor:e},this.$handlers=[],this.setDefaultHandler(e.commands)}return r.prototype.setDefaultHandler=function(e){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=e,this.addKeyboardHandler(e,0)},r.prototype.setKeyboardHandler=function(e){var s=this.$handlers;if(s[s.length-1]!=e){for(;s[s.length-1]&&s[s.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(s[s.length-1]);this.addKeyboardHandler(e,1)}},r.prototype.addKeyboardHandler=function(e,s){if(e){typeof e=="function"&&!e.handleKeyboard&&(e.handleKeyboard=e);var t=this.$handlers.indexOf(e);t!=-1&&this.$handlers.splice(t,1),s==null?this.$handlers.push(e):this.$handlers.splice(s,0,e),t==-1&&e.attach&&e.attach(this.$editor)}},r.prototype.removeKeyboardHandler=function(e){var s=this.$handlers.indexOf(e);return s==-1?!1:(this.$handlers.splice(s,1),e.detach&&e.detach(this.$editor),!0)},r.prototype.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},r.prototype.getStatusText=function(){var e=this.$data,s=e.editor;return this.$handlers.map(function(t){return t.getStatusText&&t.getStatusText(s,e)||""}).filter(Boolean).join(" ")},r.prototype.$callKeyboardHandlers=function(e,s,t,i){for(var n,o=!1,c=this.$editor.commands,p=this.$handlers.length;p--&&(n=this.$handlers[p].handleKeyboard(this.$data,e,s,t,i),!(!(!n||!n.command)&&(n.command=="null"?o=!0:o=c.exec(n.command,this.$editor,n.args,i),o&&i&&e!=-1&&n.passEvent!=!0&&n.command.passEvent!=!0&&d.stopEvent(i),o))););return!o&&e==-1&&(n={command:"insertstring"},o=c.exec("insertstring",this.$editor,s)),o&&this.$editor._signal&&this.$editor._signal("keyboardActivity",n),o},r.prototype.onCommandKey=function(e,s,t){var i=b.keyCodeToString(t);return this.$callKeyboardHandlers(s,i,t,e)},r.prototype.onTextInput=function(e){return this.$callKeyboardHandlers(-1,e)},r}();h.KeyBinding=D}),ace.define("ace/lib/bidiutil",["require","exports","module"],function(M,h,F){"use strict";var b=["\u0621","\u0641"],d=["\u063A","\u064A"],D=0,r=0,e=!1,s=!1,t=!1,i=!1,n=!1,o=!1,c=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],w=0,E=1,k=0,f=1,C=2,g=3,m=4,S=5,A=6,R=7,P=8,W=9,_=10,T=11,N=12,V=13,K=14,I=15,q=16,U=17,J=18,Q=[J,J,J,J,J,J,J,J,J,A,S,A,P,S,J,J,J,J,J,J,J,J,J,J,J,J,J,J,S,S,S,A,P,m,m,T,T,T,m,m,m,m,m,_,W,_,W,W,C,C,C,C,C,C,C,C,C,C,W,m,m,m,m,m,m,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,m,m,m,m,m,m,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,m,m,m,m,J,J,J,J,J,J,S,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,J,W,m,T,T,T,T,m,m,m,m,k,m,m,J,m,m,T,T,C,C,m,k,m,m,m,C,k,m,m,m,m,m],ee=[P,P,P,P,P,P,P,P,P,P,P,J,J,J,k,f,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,P,S,V,K,I,q,U,W,T,T,T,T,T,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,W,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,m,P];function se(Be,He,Xe,Ue){var rt=D?p:c,St=null,kt=null,It=null,zt=0,Xt=null,on=null,Jt=-1,tn=null,rn=null,Cn=[];if(!Ue)for(tn=0,Ue=[];tn<Xe;tn++)Ue[tn]=_e(Be[tn]);for(r=D,e=!1,s=!1,t=!1,i=!1,rn=0;rn<Xe;rn++){if(St=zt,Cn[rn]=kt=xe(Be,Ue,Cn,rn),zt=rt[St][kt],Xt=zt&240,zt&=15,He[rn]=It=rt[zt][5],Xt>0)if(Xt==16){for(tn=Jt;tn<rn;tn++)He[tn]=1;Jt=-1}else Jt=-1;if(on=rt[zt][6],on)Jt==-1&&(Jt=rn);else if(Jt>-1){for(tn=Jt;tn<rn;tn++)He[tn]=It;Jt=-1}Ue[rn]==S&&(He[rn]=0),r|=It}if(i){for(tn=0;tn<Xe;tn++)if(Ue[tn]==A){He[tn]=D;for(var Tn=tn-1;Tn>=0&&Ue[Tn]==P;Tn--)He[Tn]=D}}}function ue(Be,He,Xe){if(!(r<Be)){if(Be==1&&D==E&&!t){Xe.reverse();return}for(var Ue=Xe.length,rt=0,St,kt,It,zt;rt<Ue;){if(He[rt]>=Be){for(St=rt+1;St<Ue&&He[St]>=Be;)St++;for(kt=rt,It=St-1;kt<It;kt++,It--)zt=Xe[kt],Xe[kt]=Xe[It],Xe[It]=zt;rt=St}rt++}}}function xe(Be,He,Xe,Ue){var rt=He[Ue],St,kt,It,zt;switch(rt){case k:case f:e=!1;case m:case g:return rt;case C:return e?g:C;case R:return e=!0,s=!0,f;case P:return m;case W:return Ue<1||Ue+1>=He.length||(St=Xe[Ue-1])!=C&&St!=g||(kt=He[Ue+1])!=C&&kt!=g?m:(e&&(kt=g),kt==St?kt:m);case _:return St=Ue>0?Xe[Ue-1]:S,St==C&&Ue+1<He.length&&He[Ue+1]==C?C:m;case T:if(Ue>0&&Xe[Ue-1]==C)return C;if(e)return m;for(zt=Ue+1,It=He.length;zt<It&&He[zt]==T;)zt++;return zt<It&&He[zt]==C?C:m;case N:for(It=He.length,zt=Ue+1;zt<It&&He[zt]==N;)zt++;if(zt<It){var Xt=Be[Ue],on=Xt>=1425&&Xt<=2303||Xt==64286;if(St=He[zt],on&&(St==f||St==R))return f}return Ue<1||(St=He[Ue-1])==S?m:Xe[Ue-1];case S:return e=!1,t=!0,D;case A:return i=!0,m;case V:case K:case q:case U:case I:e=!1;case J:return m}}function _e(Be){var He=Be.charCodeAt(0),Xe=He>>8;return Xe==0?He>191?k:Q[He]:Xe==5?/[\u0591-\u05f4]/.test(Be)?f:k:Xe==6?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(Be)?N:/[\u0660-\u0669\u066b-\u066c]/.test(Be)?g:He==1642?T:/[\u06f0-\u06f9]/.test(Be)?C:R:Xe==32&&He<=8287?ee[He&255]:Xe==254&&He>=65136?R:m}function Je(Be){return Be>="\u064B"&&Be<="\u0655"}h.L=k,h.R=f,h.EN=C,h.ON_R=3,h.AN=4,h.R_H=5,h.B=6,h.RLE=7,h.DOT="\xB7",h.doBidiReorder=function(Be,He,Xe){if(Be.length<2)return{};var Ue=Be.split(""),rt=new Array(Ue.length),St=new Array(Ue.length),kt=[];D=Xe?E:w,se(Ue,kt,Ue.length,He);for(var It=0;It<rt.length;rt[It]=It,It++);ue(2,kt,rt),ue(1,kt,rt);for(var It=0;It<rt.length-1;It++)He[It]===g?kt[It]=h.AN:kt[It]===f&&(He[It]>R&&He[It]<V||He[It]===m||He[It]===J)?kt[It]=h.ON_R:It>0&&Ue[It-1]==="\u0644"&&/\u0622|\u0623|\u0625|\u0627/.test(Ue[It])&&(kt[It-1]=kt[It]=h.R_H,It++);Ue[Ue.length-1]===h.DOT&&(kt[Ue.length-1]=h.B),Ue[0]==="\u202B"&&(kt[0]=h.RLE);for(var It=0;It<rt.length;It++)St[It]=kt[rt[It]];return{logicalFromVisual:rt,bidiLevels:St}},h.hasBidiCharacters=function(Be,He){for(var Xe=!1,Ue=0;Ue<Be.length;Ue++)He[Ue]=_e(Be.charAt(Ue)),!Xe&&(He[Ue]==f||He[Ue]==R||He[Ue]==g)&&(Xe=!0);return Xe},h.getVisualFromLogicalIdx=function(Be,He){for(var Xe=0;Xe<He.logicalFromVisual.length;Xe++)if(He.logicalFromVisual[Xe]==Be)return Xe;return 0}}),ace.define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang"],function(M,h,F){"use strict";var b=M("./lib/bidiutil"),d=M("./lib/lang"),D=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/,r=function(){function e(s){this.session=s,this.bidiMap={},this.currentRow=null,this.bidiUtil=b,this.charWidths=[],this.EOL="\xAC",this.showInvisibles=!0,this.isRtlDir=!1,this.$isRtl=!1,this.line="",this.wrapIndent=0,this.EOF="\xB6",this.RLE="\u202B",this.contentWidth=0,this.fontMetrics=null,this.rtlLineOffset=0,this.wrapOffset=0,this.isMoveLeftOperation=!1,this.seenBidi=D.test(s.getValue())}return e.prototype.isBidiRow=function(s,t,i){return this.seenBidi?(s!==this.currentRow&&(this.currentRow=s,this.updateRowLine(t,i),this.updateBidiMap()),this.bidiMap.bidiLevels):!1},e.prototype.onChange=function(s){this.seenBidi?this.currentRow=null:s.action=="insert"&&D.test(s.lines.join(`
`))&&(this.seenBidi=!0,this.currentRow=null)},e.prototype.getDocumentRow=function(){var s=0,t=this.session.$screenRowCache;if(t.length){var i=this.session.$getRowCacheIndex(t,this.currentRow);i>=0&&(s=this.session.$docRowCache[i])}return s},e.prototype.getSplitIndex=function(){var s=0,t=this.session.$screenRowCache;if(t.length)for(var i,n=this.session.$getRowCacheIndex(t,this.currentRow);this.currentRow-s>0&&(i=this.session.$getRowCacheIndex(t,this.currentRow-s-1),i===n);)n=i,s++;else s=this.currentRow;return s},e.prototype.updateRowLine=function(s,t){s===void 0&&(s=this.getDocumentRow());var i=s===this.session.getLength()-1,n=i?this.EOF:this.EOL;if(this.wrapIndent=0,this.line=this.session.getLine(s),this.isRtlDir=this.$isRtl||this.line.charAt(0)===this.RLE,this.session.$useWrapMode){var o=this.session.$wrapData[s];o&&(t===void 0&&(t=this.getSplitIndex()),t>0&&o.length?(this.wrapIndent=o.indent,this.wrapOffset=this.wrapIndent*this.charWidths[b.L],this.line=t<o.length?this.line.substring(o[t-1],o[t]):this.line.substring(o[o.length-1])):this.line=this.line.substring(0,o[t]),t==o.length&&(this.line+=this.showInvisibles?n:b.DOT))}else this.line+=this.showInvisibles?n:b.DOT;var c=this.session,p=0,w;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,function(E,k){return E==="	"||c.isFullWidth(E.charCodeAt(0))?(w=E==="	"?c.getScreenTabSize(k+p):2,p+=w-1,d.stringRepeat(b.DOT,w)):E}),this.isRtlDir&&(this.fontMetrics.$main.textContent=this.line.charAt(this.line.length-1)==b.DOT?this.line.substr(0,this.line.length-1):this.line,this.rtlLineOffset=this.contentWidth-this.fontMetrics.$main.getBoundingClientRect().width)},e.prototype.updateBidiMap=function(){var s=[];b.hasBidiCharacters(this.line,s)||this.isRtlDir?this.bidiMap=b.doBidiReorder(this.line,s,this.isRtlDir):this.bidiMap={}},e.prototype.markAsDirty=function(){this.currentRow=null},e.prototype.updateCharacterWidths=function(s){if(this.characterWidth!==s.$characterSize.width){this.fontMetrics=s;var t=this.characterWidth=s.$characterSize.width,i=s.$measureCharWidth("\u05D4");this.charWidths[b.L]=this.charWidths[b.EN]=this.charWidths[b.ON_R]=t,this.charWidths[b.R]=this.charWidths[b.AN]=i,this.charWidths[b.R_H]=i*.45,this.charWidths[b.B]=this.charWidths[b.RLE]=0,this.currentRow=null}},e.prototype.setShowInvisibles=function(s){this.showInvisibles=s,this.currentRow=null},e.prototype.setEolChar=function(s){this.EOL=s},e.prototype.setContentWidth=function(s){this.contentWidth=s},e.prototype.isRtlLine=function(s){return this.$isRtl?!0:s!=null?this.session.getLine(s).charAt(0)==this.RLE:this.isRtlDir},e.prototype.setRtlDirection=function(s,t){for(var i=s.getCursorPosition(),n=s.selection.getSelectionAnchor().row;n<=i.row;n++)!t&&s.session.getLine(n).charAt(0)===s.session.$bidiHandler.RLE?s.session.doc.removeInLine(n,0,1):t&&s.session.getLine(n).charAt(0)!==s.session.$bidiHandler.RLE&&s.session.doc.insert({column:0,row:n},s.session.$bidiHandler.RLE)},e.prototype.getPosLeft=function(s){s-=this.wrapIndent;var t=this.line.charAt(0)===this.RLE?1:0,i=s>t?this.session.getOverwrite()?s:s-1:t,n=b.getVisualFromLogicalIdx(i,this.bidiMap),o=this.bidiMap.bidiLevels,c=0;!this.session.getOverwrite()&&s<=t&&o[n]%2!==0&&n++;for(var p=0;p<n;p++)c+=this.charWidths[o[p]];return!this.session.getOverwrite()&&s>t&&o[n]%2===0&&(c+=this.charWidths[o[n]]),this.wrapIndent&&(c+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset),this.isRtlDir&&(c+=this.rtlLineOffset),c},e.prototype.getSelections=function(s,t){var i=this.bidiMap,n=i.bidiLevels,o,c=[],p=0,w=Math.min(s,t)-this.wrapIndent,E=Math.max(s,t)-this.wrapIndent,k=!1,f=!1,C=0;this.wrapIndent&&(p+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);for(var g,m=0;m<n.length;m++)g=i.logicalFromVisual[m],o=n[m],k=g>=w&&g<E,k&&!f?C=p:!k&&f&&c.push({left:C,width:p-C}),p+=this.charWidths[o],f=k;if(k&&m===n.length&&c.push({left:C,width:p-C}),this.isRtlDir)for(var S=0;S<c.length;S++)c[S].left+=this.rtlLineOffset;return c},e.prototype.offsetToCol=function(i){this.isRtlDir&&(i-=this.rtlLineOffset);var t=0,i=Math.max(i,0),n=0,o=0,c=this.bidiMap.bidiLevels,p=this.charWidths[c[o]];for(this.wrapIndent&&(i-=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);i>n+p/2;){if(n+=p,o===c.length-1){p=0;break}p=this.charWidths[c[++o]]}return o>0&&c[o-1]%2!==0&&c[o]%2===0?(i<n&&o--,t=this.bidiMap.logicalFromVisual[o]):o>0&&c[o-1]%2===0&&c[o]%2!==0?t=1+(i>n?this.bidiMap.logicalFromVisual[o]:this.bidiMap.logicalFromVisual[o-1]):this.isRtlDir&&o===c.length-1&&p===0&&c[o-1]%2===0||!this.isRtlDir&&o===0&&c[o]%2!==0?t=1+this.bidiMap.logicalFromVisual[o]:(o>0&&c[o-1]%2!==0&&p!==0&&o--,t=this.bidiMap.logicalFromVisual[o]),t===0&&this.isRtlDir&&t++,t+this.wrapIndent},e}();h.BidiHandler=r}),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],function(M,h,F){"use strict";var b=M("./lib/oop"),d=M("./lib/lang"),D=M("./lib/event_emitter").EventEmitter,r=M("./range").Range,e=function(){function s(t){this.session=t,this.doc=t.getDocument(),this.clearSelection(),this.cursor=this.lead=this.doc.createAnchor(0,0),this.anchor=this.doc.createAnchor(0,0),this.$silent=!1;var i=this;this.cursor.on("change",function(n){i.$cursorChanged=!0,i.$silent||i._emit("changeCursor"),!i.$isEmpty&&!i.$silent&&i._emit("changeSelection"),!i.$keepDesiredColumnOnChange&&n.old.column!=n.value.column&&(i.$desiredColumn=null)}),this.anchor.on("change",function(){i.$anchorChanged=!0,!i.$isEmpty&&!i.$silent&&i._emit("changeSelection")})}return s.prototype.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},s.prototype.isMultiLine=function(){return!this.$isEmpty&&this.anchor.row!=this.cursor.row},s.prototype.getCursor=function(){return this.lead.getPosition()},s.prototype.setAnchor=function(t,i){this.$isEmpty=!1,this.anchor.setPosition(t,i)},s.prototype.getAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},s.prototype.getSelectionLead=function(){return this.lead.getPosition()},s.prototype.isBackwards=function(){var t=this.anchor,i=this.lead;return t.row>i.row||t.row==i.row&&t.column>i.column},s.prototype.getRange=function(){var t=this.anchor,i=this.lead;return this.$isEmpty?r.fromPoints(i,i):this.isBackwards()?r.fromPoints(i,t):r.fromPoints(t,i)},s.prototype.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},s.prototype.selectAll=function(){this.$setSelection(0,0,Number.MAX_VALUE,Number.MAX_VALUE)},s.prototype.setRange=function(t,i){var n=i?t.end:t.start,o=i?t.start:t.end;this.$setSelection(n.row,n.column,o.row,o.column)},s.prototype.$setSelection=function(t,i,n,o){if(!this.$silent){var c=this.$isEmpty,p=this.inMultiSelectMode;this.$silent=!0,this.$cursorChanged=this.$anchorChanged=!1,this.anchor.setPosition(t,i),this.cursor.setPosition(n,o),this.$isEmpty=!r.comparePoints(this.anchor,this.cursor),this.$silent=!1,this.$cursorChanged&&this._emit("changeCursor"),(this.$cursorChanged||this.$anchorChanged||c!=this.$isEmpty||p)&&this._emit("changeSelection")}},s.prototype.$moveSelection=function(t){var i=this.lead;this.$isEmpty&&this.setSelectionAnchor(i.row,i.column),t.call(this)},s.prototype.selectTo=function(t,i){this.$moveSelection(function(){this.moveCursorTo(t,i)})},s.prototype.selectToPosition=function(t){this.$moveSelection(function(){this.moveCursorToPosition(t)})},s.prototype.moveTo=function(t,i){this.clearSelection(),this.moveCursorTo(t,i)},s.prototype.moveToPosition=function(t){this.clearSelection(),this.moveCursorToPosition(t)},s.prototype.selectUp=function(){this.$moveSelection(this.moveCursorUp)},s.prototype.selectDown=function(){this.$moveSelection(this.moveCursorDown)},s.prototype.selectRight=function(){this.$moveSelection(this.moveCursorRight)},s.prototype.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},s.prototype.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},s.prototype.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},s.prototype.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},s.prototype.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},s.prototype.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},s.prototype.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},s.prototype.getWordRange=function(t,i){if(typeof i=="undefined"){var n=t||this.lead;t=n.row,i=n.column}return this.session.getWordRange(t,i)},s.prototype.selectWord=function(){this.setSelectionRange(this.getWordRange())},s.prototype.selectAWord=function(){var t=this.getCursor(),i=this.session.getAWordRange(t.row,t.column);this.setSelectionRange(i)},s.prototype.getLineRange=function(t,i){var n=typeof t=="number"?t:this.lead.row,o,c=this.session.getFoldLine(n);return c?(n=c.start.row,o=c.end.row):o=n,i===!0?new r(n,0,o,this.session.getLine(o).length):new r(n,0,o+1,0)},s.prototype.selectLine=function(){this.setSelectionRange(this.getLineRange())},s.prototype.moveCursorUp=function(){this.moveCursorBy(-1,0)},s.prototype.moveCursorDown=function(){this.moveCursorBy(1,0)},s.prototype.wouldMoveIntoSoftTab=function(t,i,n){var o=t.column,c=t.column+i;return n<0&&(o=t.column-i,c=t.column),this.session.isTabStop(t)&&this.doc.getLine(t.row).slice(o,c).split(" ").length-1==i},s.prototype.moveCursorLeft=function(){var t=this.lead.getPosition(),i;if(i=this.session.getFoldAt(t.row,t.column,-1))this.moveCursorTo(i.start.row,i.start.column);else if(t.column===0)t.row>0&&this.moveCursorTo(t.row-1,this.doc.getLine(t.row-1).length);else{var n=this.session.getTabSize();this.wouldMoveIntoSoftTab(t,n,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-n):this.moveCursorBy(0,-1)}},s.prototype.moveCursorRight=function(){var t=this.lead.getPosition(),i;if(i=this.session.getFoldAt(t.row,t.column,1))this.moveCursorTo(i.end.row,i.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var n=this.session.getTabSize(),t=this.lead;this.wouldMoveIntoSoftTab(t,n,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,n):this.moveCursorBy(0,1)}},s.prototype.moveCursorLineStart=function(){var t=this.lead.row,i=this.lead.column,n=this.session.documentToScreenRow(t,i),o=this.session.screenToDocumentPosition(n,0),c=this.session.getDisplayLine(t,null,o.row,o.column),p=c.match(/^\s*/);p[0].length!=i&&!this.session.$useEmacsStyleLineStart&&(o.column+=p[0].length),this.moveCursorToPosition(o)},s.prototype.moveCursorLineEnd=function(){var t=this.lead,i=this.session.getDocumentLastRowColumnPosition(t.row,t.column);if(this.lead.column==i.column){var n=this.session.getLine(i.row);if(i.column==n.length){var o=n.search(/\s+$/);o>0&&(i.column=o)}}this.moveCursorTo(i.row,i.column)},s.prototype.moveCursorFileEnd=function(){var t=this.doc.getLength()-1,i=this.doc.getLine(t).length;this.moveCursorTo(t,i)},s.prototype.moveCursorFileStart=function(){this.moveCursorTo(0,0)},s.prototype.moveCursorLongWordRight=function(){var t=this.lead.row,i=this.lead.column,n=this.doc.getLine(t),o=n.substring(i);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var c=this.session.getFoldAt(t,i,1);if(c){this.moveCursorTo(c.end.row,c.end.column);return}if(this.session.nonTokenRe.exec(o)&&(i+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,o=n.substring(i)),i>=n.length){this.moveCursorTo(t,n.length),this.moveCursorRight(),t<this.doc.getLength()-1&&this.moveCursorWordRight();return}this.session.tokenRe.exec(o)&&(i+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(t,i)},s.prototype.moveCursorLongWordLeft=function(){var t=this.lead.row,i=this.lead.column,n;if(n=this.session.getFoldAt(t,i,-1)){this.moveCursorTo(n.start.row,n.start.column);return}var o=this.session.getFoldStringAt(t,i,-1);o==null&&(o=this.doc.getLine(t).substring(0,i));var c=d.stringReverse(o);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(c)&&(i-=this.session.nonTokenRe.lastIndex,c=c.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),i<=0){this.moveCursorTo(t,0),this.moveCursorLeft(),t>0&&this.moveCursorWordLeft();return}this.session.tokenRe.exec(c)&&(i-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(t,i)},s.prototype.$shortWordEndIndex=function(t){var i=0,n,o=/\s/,c=this.session.tokenRe;if(c.lastIndex=0,this.session.tokenRe.exec(t))i=this.session.tokenRe.lastIndex;else{for(;(n=t[i])&&o.test(n);)i++;if(i<1){for(c.lastIndex=0;(n=t[i])&&!c.test(n);)if(c.lastIndex=0,i++,o.test(n))if(i>2){i--;break}else{for(;(n=t[i])&&o.test(n);)i++;if(i>2)break}}}return c.lastIndex=0,i},s.prototype.moveCursorShortWordRight=function(){var t=this.lead.row,i=this.lead.column,n=this.doc.getLine(t),o=n.substring(i),c=this.session.getFoldAt(t,i,1);if(c)return this.moveCursorTo(c.end.row,c.end.column);if(i==n.length){var p=this.doc.getLength();do t++,o=this.doc.getLine(t);while(t<p&&/^\s*$/.test(o));/^\s+/.test(o)||(o=""),i=0}var w=this.$shortWordEndIndex(o);this.moveCursorTo(t,i+w)},s.prototype.moveCursorShortWordLeft=function(){var t=this.lead.row,i=this.lead.column,n;if(n=this.session.getFoldAt(t,i,-1))return this.moveCursorTo(n.start.row,n.start.column);var o=this.session.getLine(t).substring(0,i);if(i===0){do t--,o=this.doc.getLine(t);while(t>0&&/^\s*$/.test(o));i=o.length,/\s+$/.test(o)||(o="")}var c=d.stringReverse(o),p=this.$shortWordEndIndex(c);return this.moveCursorTo(t,i-p)},s.prototype.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},s.prototype.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},s.prototype.moveCursorBy=function(t,i){var n=this.session.documentToScreenPosition(this.lead.row,this.lead.column),o;if(i===0&&(t!==0&&(this.session.$bidiHandler.isBidiRow(n.row,this.lead.row)?(o=this.session.$bidiHandler.getPosLeft(n.column),n.column=Math.round(o/this.session.$bidiHandler.charWidths[0])):o=n.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?n.column=this.$desiredColumn:this.$desiredColumn=n.column),t!=0&&this.session.lineWidgets&&this.session.lineWidgets[this.lead.row]){var c=this.session.lineWidgets[this.lead.row];t<0?t-=c.rowsAbove||0:t>0&&(t+=c.rowCount-(c.rowsAbove||0))}var p=this.session.screenToDocumentPosition(n.row+t,n.column,o);t!==0&&i===0&&p.row===this.lead.row&&(p.column,this.lead.column),this.moveCursorTo(p.row,p.column+i,i===0)},s.prototype.moveCursorToPosition=function(t){this.moveCursorTo(t.row,t.column)},s.prototype.moveCursorTo=function(t,i,n){var o=this.session.getFoldAt(t,i,1);o&&(t=o.start.row,i=o.start.column),this.$keepDesiredColumnOnChange=!0;var c=this.session.getLine(t);/[\uDC00-\uDFFF]/.test(c.charAt(i))&&c.charAt(i-1)&&(this.lead.row==t&&this.lead.column==i+1?i=i-1:i=i+1),this.lead.setPosition(t,i),this.$keepDesiredColumnOnChange=!1,n||(this.$desiredColumn=null)},s.prototype.moveCursorToScreen=function(t,i,n){var o=this.session.screenToDocumentPosition(t,i);this.moveCursorTo(o.row,o.column,n)},s.prototype.detach=function(){this.lead.detach(),this.anchor.detach()},s.prototype.fromOrientedRange=function(t){this.setSelectionRange(t,t.cursor==t.start),this.$desiredColumn=t.desiredColumn||this.$desiredColumn},s.prototype.toOrientedRange=function(t){var i=this.getRange();return t?(t.start.column=i.start.column,t.start.row=i.start.row,t.end.column=i.end.column,t.end.row=i.end.row):t=i,t.cursor=this.isBackwards()?t.start:t.end,t.desiredColumn=this.$desiredColumn,t},s.prototype.getRangeOfMovements=function(t){var i=this.getCursor();try{t(this);var n=this.getCursor();return r.fromPoints(i,n)}catch(o){return r.fromPoints(i,i)}finally{this.moveCursorToPosition(i)}},s.prototype.toJSON=function(){if(this.rangeCount)var t=this.ranges.map(function(i){var n=i.clone();return n.isBackwards=i.cursor==i.start,n});else{var t=this.getRange();t.isBackwards=this.isBackwards()}return t},s.prototype.fromJSON=function(t){if(t.start==null)if(this.rangeList&&t.length>1){this.toSingleRange(t[0]);for(var i=t.length;i--;){var n=r.fromPoints(t[i].start,t[i].end);t[i].isBackwards&&(n.cursor=n.start),this.addRange(n,!0)}return}else t=t[0];this.rangeList&&this.toSingleRange(t),this.setSelectionRange(t,t.isBackwards)},s.prototype.isEqual=function(t){if((t.length||this.rangeCount)&&t.length!=this.rangeCount)return!1;if(!t.length||!this.ranges)return this.getRange().isEqual(t);for(var i=this.ranges.length;i--;)if(!this.ranges[i].isEqual(t[i]))return!1;return!0},s}();e.prototype.setSelectionAnchor=e.prototype.setAnchor,e.prototype.getSelectionAnchor=e.prototype.getAnchor,e.prototype.setSelectionRange=e.prototype.setRange,b.implement(e.prototype,D),h.Selection=e}),ace.define("ace/tokenizer",["require","exports","module","ace/lib/report_error"],function(M,h,F){"use strict";var b=M("./lib/report_error").reportError,d=2e3,D=function(){function r(e){this.splitRegex,this.states=e,this.regExps={},this.matchMappings={};for(var s in this.states){for(var t=this.states[s],i=[],n=0,o=this.matchMappings[s]={defaultToken:"text"},c="g",p=[],w=0;w<t.length;w++){var E=t[w];if(E.defaultToken&&(o.defaultToken=E.defaultToken),E.caseInsensitive&&c.indexOf("i")===-1&&(c+="i"),E.unicode&&c.indexOf("u")===-1&&(c+="u"),E.regex!=null){E.regex instanceof RegExp&&(E.regex=E.regex.toString().slice(1,-1));var k=E.regex,f=new RegExp("(?:("+k+")|(.))").exec("a").length-2;Array.isArray(E.token)?E.token.length==1||f==1?E.token=E.token[0]:f-1!=E.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:E,groupCount:f-1}),E.token=E.token[0]):(E.tokenArray=E.token,E.token=null,E.onMatch=this.$arrayTokens):typeof E.token=="function"&&!E.onMatch&&(f>1?E.onMatch=this.$applyToken:E.onMatch=E.token),f>1&&(/\\\d/.test(E.regex)?k=E.regex.replace(/\\([0-9]+)/g,function(C,g){return"\\"+(parseInt(g,10)+n+1)}):(f=1,k=this.removeCapturingGroups(E.regex)),!E.splitRegex&&typeof E.token!="string"&&p.push(E)),o[n]=w,n+=f,i.push(k),E.onMatch||(E.onMatch=null)}}i.length||(o[0]=0,i.push("$")),p.forEach(function(C){C.splitRegex=this.createSplitterRegexp(C.regex,c)},this),this.regExps[s]=new RegExp("("+i.join(")|(")+")|($)",c)}}return r.prototype.$setMaxTokenCount=function(e){d=e|0},r.prototype.$applyToken=function(e){var s=this.splitRegex.exec(e).slice(1),t=this.token.apply(this,s);if(typeof t=="string")return[{type:t,value:e}];for(var i=[],n=0,o=t.length;n<o;n++)s[n]&&(i[i.length]={type:t[n],value:s[n]});return i},r.prototype.$arrayTokens=function(e){if(!e)return[];var s=this.splitRegex.exec(e);if(!s)return"text";for(var t=[],i=this.tokenArray,n=0,o=i.length;n<o;n++)s[n+1]&&(t[t.length]={type:i[n],value:s[n+1]});return t},r.prototype.removeCapturingGroups=function(e){var s=e.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!<]|(\()/g,function(t,i){return i?"(?:":t});return s},r.prototype.createSplitterRegexp=function(e,s){if(e.indexOf("(?=")!=-1){var t=0,i=!1,n={};e.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(o,c,p,w,E,k){return i?i=E!="]":E?i=!0:w?(t==n.stack&&(n.end=k+1,n.stack=-1),t--):p&&(t++,p.length!=1&&(n.stack=t,n.start=k)),o}),n.end!=null&&/^\)*$/.test(e.substr(n.end))&&(e=e.substring(0,n.start)+e.substr(n.end))}return e.charAt(0)!="^"&&(e="^"+e),e.charAt(e.length-1)!="$"&&(e+="$"),new RegExp(e,(s||"").replace("g",""))},r.prototype.getLineTokens=function(e,s){if(s&&typeof s!="string"){var t=s.slice(0);s=t[0],s==="#tmp"&&(t.shift(),s=t.shift())}else var t=[];var i=s||"start",n=this.states[i];n||(i="start",n=this.states[i]);var o=this.matchMappings[i],c=this.regExps[i];c.lastIndex=0;for(var p,w=[],E=0,k=0,f={type:null,value:""};p=c.exec(e);){var C=o.defaultToken,g=null,m=p[0],S=c.lastIndex;if(S-m.length>E){var A=e.substring(E,S-m.length);f.type==C?f.value+=A:(f.type&&w.push(f),f={type:C,value:A})}for(var R=0;R<p.length-2;R++)if(p[R+1]!==void 0){g=n[o[R]],g.onMatch?C=g.onMatch(m,i,t,e):C=g.token,g.next&&(typeof g.next=="string"?i=g.next:i=g.next(i,t),n=this.states[i],n||(this.reportError("state doesn't exist",i),i="start",n=this.states[i]),o=this.matchMappings[i],E=S,c=this.regExps[i],c.lastIndex=S),g.consumeLineEnd&&(E=S);break}if(m){if(typeof C=="string")(!g||g.merge!==!1)&&f.type===C?f.value+=m:(f.type&&w.push(f),f={type:C,value:m});else if(C){f.type&&w.push(f),f={type:null,value:""};for(var R=0;R<C.length;R++)w.push(C[R])}}if(E==e.length)break;if(E=S,k++>d){for(k>2*e.length&&this.reportError("infinite loop with in ace tokenizer",{startState:s,line:e});E<e.length;)f.type&&w.push(f),f={value:e.substring(E,E+=500),type:"overflow"};i="start",t=[];break}}return f.type&&w.push(f),t.length>1&&t[0]!==i&&t.unshift("#tmp",i),{tokens:w,state:t.length?t:i}},r}();D.prototype.reportError=b,h.Tokenizer=D}),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/deep_copy"],function(M,h,F){"use strict";var b=M("../lib/deep_copy").deepCopy,d;d=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}},function(){this.addRules=function(e,s){if(!s){for(var t in e)this.$rules[t]=e[t];return}for(var t in e){for(var i=e[t],n=0;n<i.length;n++){var o=i[n];(o.next||o.onMatch)&&(typeof o.next=="string"&&o.next.indexOf(s)!==0&&(o.next=s+o.next),o.nextState&&o.nextState.indexOf(s)!==0&&(o.nextState=s+o.nextState))}this.$rules[s+t]=i}},this.getRules=function(){return this.$rules},this.embedRules=function(e,s,t,i,n){var o=typeof e=="function"?new e().getRules():e;if(i)for(var c=0;c<i.length;c++)i[c]=s+i[c];else{i=[];for(var p in o)i.push(s+p)}if(this.addRules(o,s),t)for(var w=Array.prototype[n?"push":"unshift"],c=0;c<i.length;c++)w.apply(this.$rules[i[c]],b(t));this.$embeds||(this.$embeds=[]),this.$embeds.push(s)},this.getEmbeds=function(){return this.$embeds};var D=function(e,s){return(e!="start"||s.length)&&s.unshift(this.nextState,e),this.nextState},r=function(e,s){return s.shift(),s.shift()||"start"};this.normalizeRules=function(){var e=0,s=this.$rules;function t(i){var n=s[i];n.processed=!0;for(var o=0;o<n.length;o++){var c=n[o],p=null;Array.isArray(c)&&(p=c,c={}),!c.regex&&c.start&&(c.regex=c.start,c.next||(c.next=[]),c.next.push({defaultToken:c.token},{token:c.token+".end",regex:c.end||c.start,next:"pop"}),c.token=c.token+".start",c.push=!0);var w=c.next||c.push;if(w&&Array.isArray(w)){var E=c.stateName;E||(E=c.token,typeof E!="string"&&(E=E[0]||""),s[E]&&(E+=e++)),s[E]=w,c.next=E,t(E)}else w=="pop"&&(c.next=r);if(c.push&&(c.nextState=c.next||c.push,c.next=D,delete c.push),c.rules)for(var k in c.rules)s[k]?s[k].push&&s[k].push.apply(s[k],c.rules[k]):s[k]=c.rules[k];var f=typeof c=="string"?c:c.include;if(f&&(f==="$self"&&(f="start"),Array.isArray(f)?p=f.map(function(g){return s[g]}):p=s[f]),p){var C=[o,1].concat(p);c.noEscape&&(C=C.filter(function(g){return!g.next})),n.splice.apply(n,C),o--}c.keywordMap&&(c.token=this.createKeywordMapper(c.keywordMap,c.defaultToken||"text",c.caseInsensitive),delete c.defaultToken)}}Object.keys(s).forEach(t,this)},this.createKeywordMapper=function(e,s,t,i){var n=Object.create(null);return this.$keywordList=[],Object.keys(e).forEach(function(o){for(var c=e[o],p=c.split(i||"|"),w=p.length;w--;){var E=p[w];this.$keywordList.push(E),t&&(E=E.toLowerCase()),n[E]=o}},this),e=null,t?function(o){return n[o.toLowerCase()]||s}:function(o){return n[o]||s}},this.getKeywords=function(){return this.$keywords}}.call(d.prototype),h.TextHighlightRules=d}),ace.define("ace/mode/behaviour",["require","exports","module"],function(M,h,F){"use strict";var b;b=function(){this.$behaviours={}},function(){this.add=function(d,D,r){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[d]:this.$behaviours[d]={}}this.$behaviours[d][D]=r},this.addBehaviours=function(d){for(var D in d)for(var r in d[D])this.add(D,r,d[D][r])},this.remove=function(d){this.$behaviours&&this.$behaviours[d]&&delete this.$behaviours[d]},this.inherit=function(d,D){if(typeof d=="function")var r=new d().getBehaviours(D);else var r=d.getBehaviours(D);this.addBehaviours(r)},this.getBehaviours=function(d){if(d){for(var D={},r=0;r<d.length;r++)this.$behaviours[d[r]]&&(D[d[r]]=this.$behaviours[d[r]]);return D}else return this.$behaviours}}.call(b.prototype),h.Behaviour=b}),ace.define("ace/token_iterator",["require","exports","module","ace/range"],function(M,h,F){"use strict";var b=M("./range").Range,d=function(){function D(r,e,s){this.$session=r,this.$row=e,this.$rowTokens=r.getTokens(e);var t=r.getTokenAt(e,s);this.$tokenIndex=t?t.index:-1}return D.prototype.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},D.prototype.stepForward=function(){this.$tokenIndex+=1;for(var r;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,r||(r=this.$session.getLength()),this.$row>=r)return this.$row=r-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},D.prototype.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},D.prototype.getCurrentTokenRow=function(){return this.$row},D.prototype.getCurrentTokenColumn=function(){var r=this.$rowTokens,e=this.$tokenIndex,s=r[e].start;if(s!==void 0)return s;for(s=0;e>0;)e-=1,s+=r[e].value.length;return s},D.prototype.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}},D.prototype.getCurrentTokenRange=function(){var r=this.$rowTokens[this.$tokenIndex],e=this.getCurrentTokenColumn();return new b(this.$row,e,this.$row,e+r.value.length)},D}();h.TokenIterator=d}),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(M,h,F){"use strict";var b=M("../../lib/oop"),d=M("../behaviour").Behaviour,D=M("../../token_iterator").TokenIterator,r=M("../../lib/lang"),e=["text","paren.rparen","rparen","paren","punctuation.operator"],s=["text","paren.rparen","rparen","paren","punctuation.operator","comment"],t,i={},n={'"':'"',"'":"'"},o=function(w){var E=-1;if(w.multiSelect&&(E=w.selection.index,i.rangeCount!=w.multiSelect.rangeCount&&(i={rangeCount:w.multiSelect.rangeCount})),i[E])return t=i[E];t=i[E]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},c=function(w,E,k,f){var C=w.end.row-w.start.row;return{text:k+E+f,selection:[0,w.start.column+1,C,w.end.column+(C?0:1)]}},p;p=function(w){w=w||{},this.add("braces","insertion",function(E,k,f,C,g){var m=f.getCursorPosition(),S=C.doc.getLine(m.row);if(g=="{"){o(f);var A=f.getSelectionRange(),R=C.doc.getTextRange(A),P=C.getTokenAt(m.row,m.column);if(R!==""&&R!=="{"&&f.getWrapBehavioursEnabled())return c(A,R,"{","}");if(P&&/(?:string)\.quasi|\.xml/.test(P.type)){var W=[/tag\-(?:open|name)/,/attribute\-name/];return W.some(function(q){return q.test(P.type)})||/(string)\.quasi/.test(P.type)&&P.value[m.column-P.start-1]!=="$"?void 0:(p.recordAutoInsert(f,C,"}"),{text:"{}",selection:[1,1]})}else if(p.isSaneInsertion(f,C))return/[\]\}\)]/.test(S[m.column])||f.inMultiSelectMode||w.braces?(p.recordAutoInsert(f,C,"}"),{text:"{}",selection:[1,1]}):(p.recordMaybeInsert(f,C,"{"),{text:"{",selection:[1,1]})}else if(g=="}"){o(f);var _=S.substring(m.column,m.column+1);if(_=="}"){var T=C.$findOpeningBracket("}",{column:m.column+1,row:m.row});if(T!==null&&p.isAutoInsertedClosing(m,S,g))return p.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}else if(g==`
`||g==`\r
`){o(f);var N="";p.isMaybeInsertedClosing(m,S)&&(N=r.stringRepeat("}",t.maybeInsertedBrackets),p.clearMaybeInsertedClosing());var _=S.substring(m.column,m.column+1);if(_==="}"){var V=C.findMatchingBracket({row:m.row,column:m.column+1},"}");if(!V)return null;var K=this.$getIndent(C.getLine(V.row))}else if(N)var K=this.$getIndent(S);else{p.clearMaybeInsertedClosing();return}var I=K+C.getTabString();return{text:`
`+I+`
`+K+N,selection:[1,I.length,1,I.length]}}else p.clearMaybeInsertedClosing()}),this.add("braces","deletion",function(E,k,f,C,g){var m=C.doc.getTextRange(g);if(!g.isMultiLine()&&m=="{"){o(f);var S=C.doc.getLine(g.start.row),A=S.substring(g.end.column,g.end.column+1);if(A=="}")return g.end.column++,g;t.maybeInsertedBrackets--}}),this.add("parens","insertion",function(E,k,f,C,g){if(g=="("){o(f);var m=f.getSelectionRange(),S=C.doc.getTextRange(m);if(S!==""&&f.getWrapBehavioursEnabled())return c(m,S,"(",")");if(p.isSaneInsertion(f,C))return p.recordAutoInsert(f,C,")"),{text:"()",selection:[1,1]}}else if(g==")"){o(f);var A=f.getCursorPosition(),R=C.doc.getLine(A.row),P=R.substring(A.column,A.column+1);if(P==")"){var W=C.$findOpeningBracket(")",{column:A.column+1,row:A.row});if(W!==null&&p.isAutoInsertedClosing(A,R,g))return p.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("parens","deletion",function(E,k,f,C,g){var m=C.doc.getTextRange(g);if(!g.isMultiLine()&&m=="("){o(f);var S=C.doc.getLine(g.start.row),A=S.substring(g.start.column+1,g.start.column+2);if(A==")")return g.end.column++,g}}),this.add("brackets","insertion",function(E,k,f,C,g){if(g=="["){o(f);var m=f.getSelectionRange(),S=C.doc.getTextRange(m);if(S!==""&&f.getWrapBehavioursEnabled())return c(m,S,"[","]");if(p.isSaneInsertion(f,C))return p.recordAutoInsert(f,C,"]"),{text:"[]",selection:[1,1]}}else if(g=="]"){o(f);var A=f.getCursorPosition(),R=C.doc.getLine(A.row),P=R.substring(A.column,A.column+1);if(P=="]"){var W=C.$findOpeningBracket("]",{column:A.column+1,row:A.row});if(W!==null&&p.isAutoInsertedClosing(A,R,g))return p.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("brackets","deletion",function(E,k,f,C,g){var m=C.doc.getTextRange(g);if(!g.isMultiLine()&&m=="["){o(f);var S=C.doc.getLine(g.start.row),A=S.substring(g.start.column+1,g.start.column+2);if(A=="]")return g.end.column++,g}}),this.add("string_dquotes","insertion",function(E,k,f,C,g){var m=C.$mode.$quotes||n;if(g.length==1&&m[g]){if(this.lineCommentStart&&this.lineCommentStart.indexOf(g)!=-1)return;o(f);var S=g,A=f.getSelectionRange(),R=C.doc.getTextRange(A);if(R!==""&&(R.length!=1||!m[R])&&f.getWrapBehavioursEnabled())return c(A,R,S,S);if(!R){var P=f.getCursorPosition(),W=C.doc.getLine(P.row),_=W.substring(P.column-1,P.column),T=W.substring(P.column,P.column+1),N=C.getTokenAt(P.row,P.column),V=C.getTokenAt(P.row,P.column+1);if(_=="\\"&&N&&/escape/.test(N.type))return null;var K=N&&/string|escape/.test(N.type),I=!V||/string|escape/.test(V.type),q;if(T==S)q=K!==I,q&&/string\.end/.test(V.type)&&(q=!1);else{if(K&&!I||K&&I)return null;var U=C.$mode.tokenRe;U.lastIndex=0;var J=U.test(_);U.lastIndex=0;var Q=U.test(T),ee=C.$mode.$pairQuotesAfter,se=ee&&ee[S]&&ee[S].test(_);if(!se&&J||Q||T&&!/[\s;,.})\]\\]/.test(T))return null;var ue=W[P.column-2];if(_==S&&(ue==S||U.test(ue)))return null;q=!0}return{text:q?S+S:"",selection:[1,1]}}}}),this.add("string_dquotes","deletion",function(E,k,f,C,g){var m=C.$mode.$quotes||n,S=C.doc.getTextRange(g);if(!g.isMultiLine()&&m.hasOwnProperty(S)){o(f);var A=C.doc.getLine(g.start.row),R=A.substring(g.start.column+1,g.start.column+2);if(R==S)return g.end.column++,g}}),w.closeDocComment!==!1&&this.add("doc comment end","insertion",function(E,k,f,C,g){if(E==="doc-start"&&(g===`
`||g===`\r
`)&&f.selection.isEmpty()){var m=f.getCursorPosition(),S=C.doc.getLine(m.row),A=C.doc.getLine(m.row+1),R=this.$getIndent(S);if(/\s*\*/.test(A))return/^\s*\*/.test(S)?{text:g+R+"* ",selection:[1,3+R.length,1,3+R.length]}:{text:g+R+" * ",selection:[1,3+R.length,1,3+R.length]};if(/\/\*\*/.test(S.substring(0,m.column)))return{text:g+R+" * "+g+" "+R+"*/",selection:[1,4+R.length,1,4+R.length]}}})},p.isSaneInsertion=function(w,E){var k=w.getCursorPosition(),f=new D(E,k.row,k.column);if(!this.$matchTokenType(f.getCurrentToken()||"text",e)){if(/[)}\]]/.test(w.session.getLine(k.row)[k.column]))return!0;var C=new D(E,k.row,k.column+1);if(!this.$matchTokenType(C.getCurrentToken()||"text",e))return!1}return f.stepForward(),f.getCurrentTokenRow()!==k.row||this.$matchTokenType(f.getCurrentToken()||"text",s)},p.$matchTokenType=function(w,E){return E.indexOf(w.type||w)>-1},p.recordAutoInsert=function(w,E,k){var f=w.getCursorPosition(),C=E.doc.getLine(f.row);this.isAutoInsertedClosing(f,C,t.autoInsertedLineEnd[0])||(t.autoInsertedBrackets=0),t.autoInsertedRow=f.row,t.autoInsertedLineEnd=k+C.substr(f.column),t.autoInsertedBrackets++},p.recordMaybeInsert=function(w,E,k){var f=w.getCursorPosition(),C=E.doc.getLine(f.row);this.isMaybeInsertedClosing(f,C)||(t.maybeInsertedBrackets=0),t.maybeInsertedRow=f.row,t.maybeInsertedLineStart=C.substr(0,f.column)+k,t.maybeInsertedLineEnd=C.substr(f.column),t.maybeInsertedBrackets++},p.isAutoInsertedClosing=function(w,E,k){return t.autoInsertedBrackets>0&&w.row===t.autoInsertedRow&&k===t.autoInsertedLineEnd[0]&&E.substr(w.column)===t.autoInsertedLineEnd},p.isMaybeInsertedClosing=function(w,E){return t.maybeInsertedBrackets>0&&w.row===t.maybeInsertedRow&&E.substr(w.column)===t.maybeInsertedLineEnd&&E.substr(0,w.column)==t.maybeInsertedLineStart},p.popAutoInsertedClosing=function(){t.autoInsertedLineEnd=t.autoInsertedLineEnd.substr(1),t.autoInsertedBrackets--},p.clearMaybeInsertedClosing=function(){t&&(t.maybeInsertedBrackets=0,t.maybeInsertedRow=-1)},b.inherits(p,d),h.CstyleBehaviour=p}),ace.define("ace/unicode",["require","exports","module"],function(M,h,F){"use strict";for(var b=[48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2],d=0,D=[],r=0;r<b.length;r+=2)D.push(d+=b[r]),b[r+1]&&D.push(45,d+=b[r+1]);h.wordChars=String.fromCharCode.apply(null,D)}),ace.define("ace/mode/text",["require","exports","module","ace/config","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],function(M,h,F){"use strict";var b=M("../config"),d=M("../tokenizer").Tokenizer,D=M("./text_highlight_rules").TextHighlightRules,r=M("./behaviour/cstyle").CstyleBehaviour,e=M("../unicode"),s=M("../lib/lang"),t=M("../token_iterator").TokenIterator,i=M("../range").Range,n;n=function(){this.HighlightRules=D},function(){this.$defaultBehaviour=new r,this.tokenRe=new RegExp("^["+e.wordChars+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+e.wordChars+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new d(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(o,c,p,w){var E=c.doc,k=!0,f=!0,C=1/0,g=c.getTabSize(),m=!1;if(this.lineCommentStart){if(Array.isArray(this.lineCommentStart))var R=this.lineCommentStart.map(s.escapeRegExp).join("|"),S=this.lineCommentStart[0];else var R=s.escapeRegExp(this.lineCommentStart),S=this.lineCommentStart;R=new RegExp("^(\\s*)(?:"+R+") ?"),m=c.getUseSoftTabs();var _=function(Q,ee){var se=Q.match(R);if(se){var ue=se[1].length,xe=se[0].length;!V(Q,ue,xe)&&se[0][xe-1]==" "&&xe--,E.removeInLine(ee,ue,xe)}},N=S+" ",W=function(Q,ee){(!k||/\S/.test(Q))&&(V(Q,C,C)?E.insertInLine({row:ee,column:C},N):E.insertInLine({row:ee,column:C},S))},T=function(Q,ee){return R.test(Q)},V=function(Q,ee,se){for(var ue=0;ee--&&Q.charAt(ee)==" ";)ue++;if(ue%g!=0)return!1;for(var ue=0;Q.charAt(se++)==" ";)ue++;return g>2?ue%g!=g-1:ue%g==0}}else{if(!this.blockComment)return!1;var S=this.blockComment.start,A=this.blockComment.end,R=new RegExp("^(\\s*)(?:"+s.escapeRegExp(S)+")"),P=new RegExp("(?:"+s.escapeRegExp(A)+")\\s*$"),W=function(q,U){T(q,U)||(!k||/\S/.test(q))&&(E.insertInLine({row:U,column:q.length},A),E.insertInLine({row:U,column:C},S))},_=function(q,U){var J;(J=q.match(P))&&E.removeInLine(U,q.length-J[0].length,q.length),(J=q.match(R))&&E.removeInLine(U,J[1].length,J[0].length)},T=function(q,U){if(R.test(q))return!0;for(var J=c.getTokens(U),Q=0;Q<J.length;Q++)if(J[Q].type==="comment")return!0}}function K(q){for(var U=p;U<=w;U++)q(E.getLine(U),U)}var I=1/0;K(function(q,U){var J=q.search(/\S/);J!==-1?(J<C&&(C=J),f&&!T(q,U)&&(f=!1)):I>q.length&&(I=q.length)}),C==1/0&&(C=I,k=!1,f=!1),m&&C%g!=0&&(C=Math.floor(C/g)*g),K(f?_:W)},this.toggleBlockComment=function(o,c,p,w){var E=this.blockComment;if(E){!E.start&&E[0]&&(E=E[0]);var k=new t(c,w.row,w.column),f=k.getCurrentToken(),C=c.selection,g=c.selection.toOrientedRange(),m,S;if(f&&/comment/.test(f.type)){for(var A,R;f&&/comment/.test(f.type);){var P=f.value.indexOf(E.start);if(P!=-1){var W=k.getCurrentTokenRow(),_=k.getCurrentTokenColumn()+P;A=new i(W,_,W,_+E.start.length);break}f=k.stepBackward()}for(var k=new t(c,w.row,w.column),f=k.getCurrentToken();f&&/comment/.test(f.type);){var P=f.value.indexOf(E.end);if(P!=-1){var W=k.getCurrentTokenRow(),_=k.getCurrentTokenColumn()+P;R=new i(W,_,W,_+E.end.length);break}f=k.stepForward()}R&&c.remove(R),A&&(c.remove(A),m=A.start.row,S=-E.start.length)}else S=E.start.length,m=p.start.row,c.insert(p.end,E.end),c.insert(p.start,E.start);g.start.row==m&&(g.start.column+=S),g.end.row==m&&(g.end.column+=S),c.selection.fromOrientedRange(g)}},this.getNextLineIndent=function(o,c,p){return this.$getIndent(c)},this.checkOutdent=function(o,c,p){return!1},this.autoOutdent=function(o,c,p){},this.$getIndent=function(o){return o.match(/^\s*/)[0]},this.createWorker=function(o){return null},this.createModeDelegates=function(o){this.$embeds=[],this.$modes={};for(var c in o)if(o[c]){var p=o[c],w=p.prototype.$id,E=b.$modes[w];E||(b.$modes[w]=E=new p),b.$modes[c]||(b.$modes[c]=E),this.$embeds.push(c),this.$modes[c]=E}for(var k=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"],f=function(g){(function(m){var S=k[g],A=m[S];m[k[g]]=function(){return this.$delegator(S,arguments,A)}})(C)},C=this,c=0;c<k.length;c++)f(c)},this.$delegator=function(o,c,p){var w=c[0]||"start";if(typeof w!="string"){if(Array.isArray(w[2])){var E=w[2][w[2].length-1],k=this.$modes[E];if(k)return k[o].apply(k,[w[1]].concat([].slice.call(c,1)))}w=w[0]||"start"}for(var f=0;f<this.$embeds.length;f++)if(this.$modes[this.$embeds[f]]){var C=w.split(this.$embeds[f]);if(!C[0]&&C[1]){c[0]=C[1];var k=this.$modes[this.$embeds[f]];return k[o].apply(k,c)}}var g=p.apply(this,c);return p?g:void 0},this.transformAction=function(o,c,p,w,E){if(this.$behaviour){var k=this.$behaviour.getBehaviours();for(var f in k)if(k[f][c]){var C=k[f][c].apply(this,arguments);if(C)return C}}},this.getKeywords=function(o){if(!this.completionKeywords){var c=this.$tokenizer.rules,p=[];for(var w in c)for(var E=c[w],k=0,f=E.length;k<f;k++)if(typeof E[k].token=="string")/keyword|support|storage/.test(E[k].token)&&p.push(E[k].regex);else if(typeof E[k].token=="object"){for(var C=0,g=E[k].token.length;C<g;C++)if(/keyword|support|storage/.test(E[k].token[C])){var w=E[k].regex.match(/\(.+?\)/g)[C];p.push(w.substr(1,w.length-2))}}this.completionKeywords=p}return o?p.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(o,c,p,w){var E=this.$keywordList||this.$createKeywordList();return E.map(function(k){return{name:k,value:k,score:0,meta:"keyword"}})},this.$id="ace/mode/text"}.call(n.prototype),h.Mode=n}),ace.define("ace/apply_delta",["require","exports","module"],function(M,h,F){"use strict";function b(r,e){throw console.log("Invalid Delta:",r),"Invalid Delta: "+e}function d(r,e){return e.row>=0&&e.row<r.length&&e.column>=0&&e.column<=r[e.row].length}function D(r,e){e.action!="insert"&&e.action!="remove"&&b(e,"delta.action must be 'insert' or 'remove'"),e.lines instanceof Array||b(e,"delta.lines must be an Array"),(!e.start||!e.end)&&b(e,"delta.start/end must be an present");var s=e.start;d(r,e.start)||b(e,"delta.start must be contained in document");var t=e.end;e.action=="remove"&&!d(r,t)&&b(e,"delta.end must contained in document for 'remove' actions");var i=t.row-s.row,n=t.column-(i==0?s.column:0);(i!=e.lines.length-1||e.lines[i].length!=n)&&b(e,"delta.range must match delta lines")}h.applyDelta=function(r,e,s){var t=e.start.row,i=e.start.column,n=r[t]||"";switch(e.action){case"insert":var o=e.lines;if(o.length===1)r[t]=n.substring(0,i)+e.lines[0]+n.substring(i);else{var c=[t,1].concat(e.lines);r.splice.apply(r,c),r[t]=n.substring(0,i)+r[t],r[t+e.lines.length-1]+=n.substring(i)}break;case"remove":var p=e.end.column,w=e.end.row;t===w?r[t]=n.substring(0,i)+n.substring(p):r.splice(t,w-t+1,n.substring(0,i)+r[w].substring(p));break}}}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(M,h,F){"use strict";var b=M("./lib/oop"),d=M("./lib/event_emitter").EventEmitter,D=function(){function s(t,i,n){this.$onChange=this.onChange.bind(this),this.attach(t),typeof i!="number"?this.setPosition(i.row,i.column):this.setPosition(i,n)}return s.prototype.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},s.prototype.getDocument=function(){return this.document},s.prototype.onChange=function(t){if(!(t.start.row==t.end.row&&t.start.row!=this.row)&&!(t.start.row>this.row)){var i=e(t,{row:this.row,column:this.column},this.$insertRight);this.setPosition(i.row,i.column,!0)}},s.prototype.setPosition=function(t,i,n){var o;if(n?o={row:t,column:i}:o=this.$clipPositionToDocument(t,i),!(this.row==o.row&&this.column==o.column)){var c={row:this.row,column:this.column};this.row=o.row,this.column=o.column,this._signal("change",{old:c,value:o})}},s.prototype.detach=function(){this.document.off("change",this.$onChange)},s.prototype.attach=function(t){this.document=t||this.document,this.document.on("change",this.$onChange)},s.prototype.$clipPositionToDocument=function(t,i){var n={};return t>=this.document.getLength()?(n.row=Math.max(0,this.document.getLength()-1),n.column=this.document.getLine(n.row).length):t<0?(n.row=0,n.column=0):(n.row=t,n.column=Math.min(this.document.getLine(n.row).length,Math.max(0,i))),i<0&&(n.column=0),n},s}();D.prototype.$insertRight=!1,b.implement(D.prototype,d);function r(s,t,i){var n=i?s.column<=t.column:s.column<t.column;return s.row<t.row||s.row==t.row&&n}function e(s,t,i){var n=s.action=="insert",o=(n?1:-1)*(s.end.row-s.start.row),c=(n?1:-1)*(s.end.column-s.start.column),p=s.start,w=n?p:s.end;return r(t,p,i)?{row:t.row,column:t.column}:r(w,t,!i)?{row:t.row+o,column:t.column+(t.row==w.row?c:0)}:{row:p.row,column:p.column}}h.Anchor=D}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(M,h,F){"use strict";var b=M("./lib/oop"),d=M("./apply_delta").applyDelta,D=M("./lib/event_emitter").EventEmitter,r=M("./range").Range,e=M("./anchor").Anchor,s=function(){function t(i){this.$lines=[""],i.length===0?this.$lines=[""]:Array.isArray(i)?this.insertMergedLines({row:0,column:0},i):this.insert({row:0,column:0},i)}return t.prototype.setValue=function(i){var n=this.getLength()-1;this.remove(new r(0,0,n,this.getLine(n).length)),this.insert({row:0,column:0},i||"")},t.prototype.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},t.prototype.createAnchor=function(i,n){return new e(this,i,n)},t.prototype.$detectNewLine=function(i){var n=i.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=n?n[1]:`
`,this._signal("changeNewLineMode")},t.prototype.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return`\r
`;case"unix":return`
`;default:return this.$autoNewLine||`
`}},t.prototype.setNewLineMode=function(i){this.$newLineMode!==i&&(this.$newLineMode=i,this._signal("changeNewLineMode"))},t.prototype.getNewLineMode=function(){return this.$newLineMode},t.prototype.isNewLine=function(i){return i==`\r
`||i=="\r"||i==`
`},t.prototype.getLine=function(i){return this.$lines[i]||""},t.prototype.getLines=function(i,n){return this.$lines.slice(i,n+1)},t.prototype.getAllLines=function(){return this.getLines(0,this.getLength())},t.prototype.getLength=function(){return this.$lines.length},t.prototype.getTextRange=function(i){return this.getLinesForRange(i).join(this.getNewLineCharacter())},t.prototype.getLinesForRange=function(i){var n;if(i.start.row===i.end.row)n=[this.getLine(i.start.row).substring(i.start.column,i.end.column)];else{n=this.getLines(i.start.row,i.end.row),n[0]=(n[0]||"").substring(i.start.column);var o=n.length-1;i.end.row-i.start.row==o&&(n[o]=n[o].substring(0,i.end.column))}return n},t.prototype.insertLines=function(i,n){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(i,n)},t.prototype.removeLines=function(i,n){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(i,n)},t.prototype.insertNewLine=function(i){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(i,["",""])},t.prototype.insert=function(i,n){return this.getLength()<=1&&this.$detectNewLine(n),this.insertMergedLines(i,this.$split(n))},t.prototype.insertInLine=function(i,n){var o=this.clippedPos(i.row,i.column),c=this.pos(i.row,i.column+n.length);return this.applyDelta({start:o,end:c,action:"insert",lines:[n]},!0),this.clonePos(c)},t.prototype.clippedPos=function(i,n){var o=this.getLength();i===void 0?i=o:i<0?i=0:i>=o&&(i=o-1,n=void 0);var c=this.getLine(i);return n==null&&(n=c.length),n=Math.min(Math.max(n,0),c.length),{row:i,column:n}},t.prototype.clonePos=function(i){return{row:i.row,column:i.column}},t.prototype.pos=function(i,n){return{row:i,column:n}},t.prototype.$clipPosition=function(i){var n=this.getLength();return i.row>=n?(i.row=Math.max(0,n-1),i.column=this.getLine(n-1).length):(i.row=Math.max(0,i.row),i.column=Math.min(Math.max(i.column,0),this.getLine(i.row).length)),i},t.prototype.insertFullLines=function(i,n){i=Math.min(Math.max(i,0),this.getLength());var o=0;i<this.getLength()?(n=n.concat([""]),o=0):(n=[""].concat(n),i--,o=this.$lines[i].length),this.insertMergedLines({row:i,column:o},n)},t.prototype.insertMergedLines=function(i,n){var o=this.clippedPos(i.row,i.column),c={row:o.row+n.length-1,column:(n.length==1?o.column:0)+n[n.length-1].length};return this.applyDelta({start:o,end:c,action:"insert",lines:n}),this.clonePos(c)},t.prototype.remove=function(i){var n=this.clippedPos(i.start.row,i.start.column),o=this.clippedPos(i.end.row,i.end.column);return this.applyDelta({start:n,end:o,action:"remove",lines:this.getLinesForRange({start:n,end:o})}),this.clonePos(n)},t.prototype.removeInLine=function(i,n,o){var c=this.clippedPos(i,n),p=this.clippedPos(i,o);return this.applyDelta({start:c,end:p,action:"remove",lines:this.getLinesForRange({start:c,end:p})},!0),this.clonePos(c)},t.prototype.removeFullLines=function(i,n){i=Math.min(Math.max(0,i),this.getLength()-1),n=Math.min(Math.max(0,n),this.getLength()-1);var o=n==this.getLength()-1&&i>0,c=n<this.getLength()-1,p=o?i-1:i,w=o?this.getLine(p).length:0,E=c?n+1:n,k=c?0:this.getLine(E).length,f=new r(p,w,E,k),C=this.$lines.slice(i,n+1);return this.applyDelta({start:f.start,end:f.end,action:"remove",lines:this.getLinesForRange(f)}),C},t.prototype.removeNewLine=function(i){i<this.getLength()-1&&i>=0&&this.applyDelta({start:this.pos(i,this.getLine(i).length),end:this.pos(i+1,0),action:"remove",lines:["",""]})},t.prototype.replace=function(i,n){if(i instanceof r||(i=r.fromPoints(i.start,i.end)),n.length===0&&i.isEmpty())return i.start;if(n==this.getTextRange(i))return i.end;this.remove(i);var o;return n?o=this.insert(i.start,n):o=i.start,o},t.prototype.applyDeltas=function(i){for(var n=0;n<i.length;n++)this.applyDelta(i[n])},t.prototype.revertDeltas=function(i){for(var n=i.length-1;n>=0;n--)this.revertDelta(i[n])},t.prototype.applyDelta=function(i,n){var o=i.action=="insert";(o?i.lines.length<=1&&!i.lines[0]:!r.comparePoints(i.start,i.end))||(o&&i.lines.length>2e4?this.$splitAndapplyLargeDelta(i,2e4):(d(this.$lines,i,n),this._signal("change",i)))},t.prototype.$safeApplyDelta=function(i){var n=this.$lines.length;(i.action=="remove"&&i.start.row<n&&i.end.row<n||i.action=="insert"&&i.start.row<=n)&&this.applyDelta(i)},t.prototype.$splitAndapplyLargeDelta=function(i,n){for(var o=i.lines,c=o.length-n+1,p=i.start.row,w=i.start.column,E=0,k=0;E<c;E=k){k+=n-1;var f=o.slice(E,k);f.push(""),this.applyDelta({start:this.pos(p+E,w),end:this.pos(p+k,w=0),action:i.action,lines:f},!0)}i.lines=o.slice(E),i.start.row=p+E,i.start.column=w,this.applyDelta(i,!0)},t.prototype.revertDelta=function(i){this.$safeApplyDelta({start:this.clonePos(i.start),end:this.clonePos(i.end),action:i.action=="insert"?"remove":"insert",lines:i.lines.slice()})},t.prototype.indexToPosition=function(i,n){for(var o=this.$lines||this.getAllLines(),c=this.getNewLineCharacter().length,p=n||0,w=o.length;p<w;p++)if(i-=o[p].length+c,i<0)return{row:p,column:i+o[p].length+c};return{row:w-1,column:i+o[w-1].length+c}},t.prototype.positionToIndex=function(i,n){for(var o=this.$lines||this.getAllLines(),c=this.getNewLineCharacter().length,p=0,w=Math.min(i.row,o.length),E=n||0;E<w;++E)p+=o[E].length+c;return p+i.column},t.prototype.$split=function(i){return i.split(/\r\n|\r|\n/)},t}();s.prototype.$autoNewLine="",s.prototype.$newLineMode="auto",b.implement(s.prototype,D),h.Document=s}),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(M,h,F){"use strict";var b=M("./lib/oop"),d=M("./lib/event_emitter").EventEmitter,D=function(){function r(e,s){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=e;var t=this;this.$worker=function(){if(t.running){for(var i=new Date,n=t.currentLine,o=-1,c=t.doc,p=n;t.lines[n];)n++;var w=c.getLength(),E=0;for(t.running=!1;n<w;){t.$tokenizeRow(n),o=n;do n++;while(t.lines[n]);if(E++,E%5===0&&new Date-i>20){t.running=setTimeout(t.$worker,20);break}}t.currentLine=n,o==-1&&(o=n),p<=o&&t.fireUpdateEvent(p,o)}}}return r.prototype.setTokenizer=function(e){this.tokenizer=e,this.lines=[],this.states=[],this.start(0)},r.prototype.setDocument=function(e){this.doc=e,this.lines=[],this.states=[],this.stop()},r.prototype.fireUpdateEvent=function(e,s){var t={first:e,last:s};this._signal("update",{data:t})},r.prototype.start=function(e){this.currentLine=Math.min(e||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},r.prototype.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},r.prototype.$updateOnChange=function(e){var s=e.start.row,t=e.end.row-s;if(t===0)this.lines[s]=null;else if(e.action=="remove")this.lines.splice(s,t+1,null),this.states.splice(s,t+1,null);else{var i=Array(t+1);i.unshift(s,1),this.lines.splice.apply(this.lines,i),this.states.splice.apply(this.states,i)}this.currentLine=Math.min(s,this.currentLine,this.doc.getLength()),this.stop()},r.prototype.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},r.prototype.getTokens=function(e){return this.lines[e]||this.$tokenizeRow(e)},r.prototype.getState=function(e){return this.currentLine==e&&this.$tokenizeRow(e),this.states[e]||"start"},r.prototype.$tokenizeRow=function(e){var s=this.doc.getLine(e),t=this.states[e-1],i=this.tokenizer.getLineTokens(s,t,e);return this.states[e]+""!=i.state+""?(this.states[e]=i.state,this.lines[e+1]=null,this.currentLine>e+1&&(this.currentLine=e+1)):this.currentLine==e&&(this.currentLine=e+1),this.lines[e]=i.tokens},r.prototype.cleanup=function(){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.removeAllListeners()},r}();b.implement(D.prototype,d),h.BackgroundTokenizer=D}),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/range"],function(M,h,F){"use strict";var b=M("./lib/lang"),d=M("./range").Range,D=function(){function r(e,s,t){t===void 0&&(t="text"),this.setRegexp(e),this.clazz=s,this.type=t}return r.prototype.setRegexp=function(e){this.regExp+""!=e+""&&(this.regExp=e,this.cache=[])},r.prototype.update=function(e,s,t,i){if(this.regExp)for(var n=i.firstRow,o=i.lastRow,c={},p=n;p<=o;p++){var w=this.cache[p];w==null&&(w=b.getMatchOffsets(t.getLine(p),this.regExp),w.length>this.MAX_RANGES&&(w=w.slice(0,this.MAX_RANGES)),w=w.map(function(C){return new d(p,C.offset,p,C.offset+C.length)}),this.cache[p]=w.length?w:"");for(var E=w.length;E--;){var k=w[E].toScreenRange(t),f=k.toString();c[f]||(c[f]=!0,s.drawSingleLineMarker(e,k,this.clazz,i))}}},r}();D.prototype.MAX_RANGES=500,h.SearchHighlight=D}),ace.define("ace/undomanager",["require","exports","module","ace/range"],function(M,h,F){"use strict";var b=function(){function m(){this.$keepRedoStack,this.$maxRev=0,this.$fromUndo=!1,this.$undoDepth=1/0,this.reset()}return m.prototype.addSession=function(S){this.$session=S},m.prototype.add=function(S,A,R){if(!this.$fromUndo&&S!=this.$lastDelta){if(this.$keepRedoStack||(this.$redoStack.length=0),A===!1||!this.lastDeltas){this.lastDeltas=[];var P=this.$undoStack.length;P>this.$undoDepth-1&&this.$undoStack.splice(0,P-this.$undoDepth+1),this.$undoStack.push(this.lastDeltas),S.id=this.$rev=++this.$maxRev}(S.action=="remove"||S.action=="insert")&&(this.$lastDelta=S),this.lastDeltas.push(S)}},m.prototype.addSelection=function(S,A){this.selections.push({value:S,rev:A||this.$rev})},m.prototype.startNewGroup=function(){return this.lastDeltas=null,this.$rev},m.prototype.markIgnored=function(S,A){A==null&&(A=this.$rev+1);for(var R=this.$undoStack,P=R.length;P--;){var W=R[P][0];if(W.id<=S)break;W.id<A&&(W.ignore=!0)}this.lastDeltas=null},m.prototype.getSelection=function(S,A){for(var R=this.selections,P=R.length;P--;){var W=R[P];if(W.rev<S)return A&&(W=R[P+1]),W}},m.prototype.getRevision=function(){return this.$rev},m.prototype.getDeltas=function(S,A){A==null&&(A=this.$rev+1);for(var R=this.$undoStack,P=null,W=0,_=R.length;_--;){var T=R[_][0];if(T.id<A&&!P&&(P=_+1),T.id<=S){W=_+1;break}}return R.slice(W,P)},m.prototype.getChangedRanges=function(S,A){A==null&&(A=this.$rev+1)},m.prototype.getChangedLines=function(S,A){A==null&&(A=this.$rev+1)},m.prototype.undo=function(S,A){this.lastDeltas=null;var R=this.$undoStack;if(d(R,R.length)){S||(S=this.$session),this.$redoStackBaseRev!==this.$rev&&this.$redoStack.length&&(this.$redoStack=[]),this.$fromUndo=!0;var P=R.pop(),W=null;return P&&(W=S.undoChanges(P,A),this.$redoStack.push(P),this.$syncRev()),this.$fromUndo=!1,W}},m.prototype.redo=function(S,A){if(this.lastDeltas=null,S||(S=this.$session),this.$fromUndo=!0,this.$redoStackBaseRev!=this.$rev){var R=this.getDeltas(this.$redoStackBaseRev,this.$rev+1);g(this.$redoStack,R),this.$redoStackBaseRev=this.$rev,this.$redoStack.forEach(function(_){_[0].id=++this.$maxRev},this)}var P=this.$redoStack.pop(),W=null;return P&&(W=S.redoChanges(P,A),this.$undoStack.push(P),this.$syncRev()),this.$fromUndo=!1,W},m.prototype.$syncRev=function(){var S=this.$undoStack,A=S[S.length-1],R=A&&A[0].id||0;this.$redoStackBaseRev=R,this.$rev=R},m.prototype.reset=function(){this.lastDeltas=null,this.$lastDelta=null,this.$undoStack=[],this.$redoStack=[],this.$rev=0,this.mark=0,this.$redoStackBaseRev=this.$rev,this.selections=[]},m.prototype.canUndo=function(){return this.$undoStack.length>0},m.prototype.canRedo=function(){return this.$redoStack.length>0},m.prototype.bookmark=function(S){S==null&&(S=this.$rev),this.mark=S},m.prototype.isAtBookmark=function(){return this.$rev===this.mark},m.prototype.toJSON=function(){return{$redoStack:this.$redoStack,$undoStack:this.$undoStack}},m.prototype.fromJSON=function(S){this.reset(),this.$undoStack=S.$undoStack,this.$redoStack=S.$redoStack},m.prototype.$prettyPrint=function(S){return S?n(S):n(this.$undoStack)+`
---
`+n(this.$redoStack)},m}();b.prototype.hasUndo=b.prototype.canUndo,b.prototype.hasRedo=b.prototype.canRedo,b.prototype.isClean=b.prototype.isAtBookmark,b.prototype.markClean=b.prototype.bookmark;function d(m,S){for(var A=S;A--;){var R=m[A];if(R&&!R[0].ignore){for(;A<S-1;){var P=p(m[A],m[A+1]);m[A]=P[0],m[A+1]=P[1],A++}return!0}}}var D=M("./range").Range,r=D.comparePoints,e=D.comparePoints;function s(m){var S=m.action=="insert",A=m.start,R=m.end,P=(R.row-A.row)*(S?1:-1),W=(R.column-A.column)*(S?1:-1);S&&(R=A);for(var _ in this.marks){var T=this.marks[_],N=e(T,A);if(!(N<0)){if(N===0&&S)if(T.bias==1)N=1;else{T.bias==-1;continue}var V=S?N:e(T,R);if(V>0){T.row+=P,T.column+=T.row==R.row?W:0;continue}!S&&V<=0&&(T.row=A.row,T.column=A.column,V===0&&(T.bias=1))}}}function t(m){return{row:m.row,column:m.column}}function i(m){return{start:t(m.start),end:t(m.end),action:m.action,lines:m.lines.slice()}}function n(m){if(m=m||this,Array.isArray(m))return m.map(n).join(`
`);var S="";return m.action?(S=m.action=="insert"?"+":"-",S+="["+m.lines+"]"):m.value&&(Array.isArray(m.value)?S=m.value.map(o).join(`
`):S=o(m.value)),m.start&&(S+=o(m)),(m.id||m.rev)&&(S+="	("+(m.id||m.rev)+")"),S}function o(m){return m.start.row+":"+m.start.column+"=>"+m.end.row+":"+m.end.column}function c(m,S){var A=m.action=="insert",R=S.action=="insert";if(A&&R)if(r(S.start,m.end)>=0)E(S,m,-1);else if(r(S.start,m.start)<=0)E(m,S,1);else return null;else if(A&&!R)if(r(S.start,m.end)>=0)E(S,m,-1);else if(r(S.end,m.start)<=0)E(m,S,-1);else return null;else if(!A&&R)if(r(S.start,m.start)>=0)E(S,m,1);else if(r(S.start,m.start)<=0)E(m,S,1);else return null;else if(!A&&!R)if(r(S.start,m.start)>=0)E(S,m,1);else if(r(S.end,m.start)<=0)E(m,S,-1);else return null;return[S,m]}function p(m,S){for(var A=m.length;A--;)for(var R=0;R<S.length;R++)if(!c(m[A],S[R])){for(;A<m.length;){for(;R--;)c(S[R],m[A]);R=S.length,A++}return[m,S]}return m.selectionBefore=S.selectionBefore=m.selectionAfter=S.selectionAfter=null,[S,m]}function w(m,S){var A=m.action=="insert",R=S.action=="insert";if(A&&R)r(m.start,S.start)<0?E(S,m,1):E(m,S,1);else if(A&&!R)r(m.start,S.end)>=0?E(m,S,-1):(r(m.start,S.start)<=0||E(m,D.fromPoints(S.start,m.start),-1),E(S,m,1));else if(!A&&R)r(S.start,m.end)>=0?E(S,m,-1):(r(S.start,m.start)<=0||E(S,D.fromPoints(m.start,S.start),-1),E(m,S,1));else if(!A&&!R)if(r(S.start,m.end)>=0)E(S,m,-1);else if(r(S.end,m.start)<=0)E(m,S,-1);else{var P,W;return r(m.start,S.start)<0&&(P=m,m=f(m,S.start)),r(m.end,S.end)>0&&(W=f(m,S.end)),k(S.end,m.start,m.end,-1),W&&!P&&(m.lines=W.lines,m.start=W.start,m.end=W.end,W=m),[S,P,W].filter(Boolean)}return[S,m]}function E(m,S,A){k(m.start,S.start,S.end,A),k(m.end,S.start,S.end,A)}function k(m,S,A,R){m.row==(R==1?S:A).row&&(m.column+=R*(A.column-S.column)),m.row+=R*(A.row-S.row)}function f(m,S){var A=m.lines,R=m.end;m.end=t(S);var P=m.end.row-m.start.row,W=A.splice(P,A.length),_=P?S.column:S.column-m.start.column;A.push(W[0].substring(0,_)),W[0]=W[0].substr(_);var T={start:t(S),end:R,lines:W,action:m.action};return T}function C(m,S){S=i(S);for(var A=m.length;A--;){for(var R=m[A],P=0;P<R.length;P++){var W=R[P],_=w(W,S);S=_[0],_.length!=2&&(_[2]?(R.splice(P+1,1,_[1],_[2]),P++):_[1]||(R.splice(P,1),P--))}R.length||m.splice(A,1)}return m}function g(m,S){for(var A=0;A<S.length;A++)for(var R=S[A],P=0;P<R.length;P++)C(m,R[P])}h.UndoManager=b}),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(M,h,F){"use strict";var b=M("../range").Range,d=function(){function D(r,e){this.foldData=r,Array.isArray(e)?this.folds=e:e=this.folds=[e];var s=e[e.length-1];this.range=new b(e[0].start.row,e[0].start.column,s.end.row,s.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach(function(t){t.setFoldLine(this)},this)}return D.prototype.shiftRow=function(r){this.start.row+=r,this.end.row+=r,this.folds.forEach(function(e){e.start.row+=r,e.end.row+=r})},D.prototype.addFold=function(r){if(r.sameRow){if(r.start.row<this.startRow||r.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(r),this.folds.sort(function(e,s){return-e.range.compareEnd(s.start.row,s.start.column)}),this.range.compareEnd(r.start.row,r.start.column)>0?(this.end.row=r.end.row,this.end.column=r.end.column):this.range.compareStart(r.end.row,r.end.column)<0&&(this.start.row=r.start.row,this.start.column=r.start.column)}else if(r.start.row==this.end.row)this.folds.push(r),this.end.row=r.end.row,this.end.column=r.end.column;else if(r.end.row==this.start.row)this.folds.unshift(r),this.start.row=r.start.row,this.start.column=r.start.column;else throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");r.foldLine=this},D.prototype.containsRow=function(r){return r>=this.start.row&&r<=this.end.row},D.prototype.walk=function(r,e,s){var t=0,i=this.folds,n,o,c,p=!0;e==null&&(e=this.end.row,s=this.end.column);for(var w=0;w<i.length;w++){if(n=i[w],o=n.range.compareStart(e,s),o==-1){r(null,e,s,t,p);return}if(c=r(null,n.start.row,n.start.column,t,p),c=!c&&r(n.placeholder,n.start.row,n.start.column,t),c||o===0)return;p=!n.sameRow,t=n.end.column}r(null,e,s,t,p)},D.prototype.getNextFoldTo=function(r,e){for(var s,t,i=0;i<this.folds.length;i++){if(s=this.folds[i],t=s.range.compareEnd(r,e),t==-1)return{fold:s,kind:"after"};if(t===0)return{fold:s,kind:"inside"}}return null},D.prototype.addRemoveChars=function(r,e,s){var t=this.getNextFoldTo(r,e),i,n;if(t){if(i=t.fold,t.kind=="inside"&&i.start.column!=e&&i.start.row!=r)window.console&&window.console.log(r,e,i);else if(i.start.row==r){n=this.folds;var o=n.indexOf(i);for(o===0&&(this.start.column+=s),o;o<n.length;o++){if(i=n[o],i.start.column+=s,!i.sameRow)return;i.end.column+=s}this.end.column+=s}}},D.prototype.split=function(r,e){var s=this.getNextFoldTo(r,e);if(!s||s.kind=="inside")return null;var t=s.fold,i=this.folds,n=this.foldData,o=i.indexOf(t),c=i[o-1];this.end.row=c.end.row,this.end.column=c.end.column,i=i.splice(o,i.length-o);var p=new D(n,i);return n.splice(n.indexOf(this)+1,0,p),p},D.prototype.merge=function(r){for(var e=r.folds,s=0;s<e.length;s++)this.addFold(e[s]);var t=this.foldData;t.splice(t.indexOf(r),1)},D.prototype.toString=function(){var r=[this.range.toString()+": ["];return this.folds.forEach(function(e){r.push("  "+e.toString())}),r.push("]"),r.join(`
`)},D.prototype.idxToPosition=function(r){for(var e=0,s=0;s<this.folds.length;s++){var t=this.folds[s];if(r-=t.start.column-e,r<0)return{row:t.start.row,column:t.start.column+r};if(r-=t.placeholder.length,r<0)return t.start;e=t.end.column}return{row:this.end.row,column:this.end.column+r}},D}();h.FoldLine=d}),ace.define("ace/range_list",["require","exports","module","ace/range"],function(M,h,F){"use strict";var b=M("./range").Range,d=b.comparePoints,D=function(){function r(){this.ranges=[],this.$bias=1}return r.prototype.pointIndex=function(e,s,t){for(var i=this.ranges,n=t||0;n<i.length;n++){var o=i[n],c=d(e,o.end);if(!(c>0)){var p=d(e,o.start);return c===0?s&&p!==0?-n-2:n:p>0||p===0&&!s?n:-n-1}}return-n-1},r.prototype.add=function(e){var s=!e.isEmpty(),t=this.pointIndex(e.start,s);t<0&&(t=-t-1);var i=this.pointIndex(e.end,s,t);return i<0?i=-i-1:i++,this.ranges.splice(t,i-t,e)},r.prototype.addList=function(e){for(var s=[],t=e.length;t--;)s.push.apply(s,this.add(e[t]));return s},r.prototype.substractPoint=function(e){var s=this.pointIndex(e);if(s>=0)return this.ranges.splice(s,1)},r.prototype.merge=function(){var e=[],s=this.ranges;s=s.sort(function(c,p){return d(c.start,p.start)});for(var t=s[0],i,n=1;n<s.length;n++){i=t,t=s[n];var o=d(i.end,t.start);o<0||o==0&&!i.isEmpty()&&!t.isEmpty()||(d(i.end,t.end)<0&&(i.end.row=t.end.row,i.end.column=t.end.column),s.splice(n,1),e.push(t),t=i,n--)}return this.ranges=s,e},r.prototype.contains=function(e,s){return this.pointIndex({row:e,column:s})>=0},r.prototype.containsPoint=function(e){return this.pointIndex(e)>=0},r.prototype.rangeAtPoint=function(e){var s=this.pointIndex(e);if(s>=0)return this.ranges[s]},r.prototype.clipRows=function(e,s){var t=this.ranges;if(t[0].start.row>s||t[t.length-1].start.row<e)return[];var i=this.pointIndex({row:e,column:0});i<0&&(i=-i-1);var n=this.pointIndex({row:s,column:0},i);n<0&&(n=-n-1);for(var o=[],c=i;c<n;c++)o.push(t[c]);return o},r.prototype.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},r.prototype.attach=function(e){this.session&&this.detach(),this.session=e,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},r.prototype.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},r.prototype.$onChange=function(e){for(var s=e.start,t=e.end,i=s.row,n=t.row,o=this.ranges,c=0,p=o.length;c<p;c++){var w=o[c];if(w.end.row>=i)break}if(e.action=="insert")for(var E=n-i,k=-s.column+t.column;c<p;c++){var w=o[c];if(w.start.row>i)break;if(w.start.row==i&&w.start.column>=s.column&&(w.start.column==s.column&&this.$bias<=0||(w.start.column+=k,w.start.row+=E)),w.end.row==i&&w.end.column>=s.column){if(w.end.column==s.column&&this.$bias<0)continue;w.end.column==s.column&&k>0&&c<p-1&&w.end.column>w.start.column&&w.end.column==o[c+1].start.column&&(w.end.column-=k),w.end.column+=k,w.end.row+=E}}else for(var E=i-n,k=s.column-t.column;c<p;c++){var w=o[c];if(w.start.row>n)break;w.end.row<n&&(i<w.end.row||i==w.end.row&&s.column<w.end.column)?(w.end.row=i,w.end.column=s.column):w.end.row==n?w.end.column<=t.column?(E||w.end.column>s.column)&&(w.end.column=s.column,w.end.row=s.row):(w.end.column+=k,w.end.row+=E):w.end.row>n&&(w.end.row+=E),w.start.row<n&&(i<w.start.row||i==w.start.row&&s.column<w.start.column)?(w.start.row=i,w.start.column=s.column):w.start.row==n?w.start.column<=t.column?(E||w.start.column>s.column)&&(w.start.column=s.column,w.start.row=s.row):(w.start.column+=k,w.start.row+=E):w.start.row>n&&(w.start.row+=E)}if(E!=0&&c<p)for(;c<p;c++){var w=o[c];w.start.row+=E,w.end.row+=E}},r}();D.prototype.comparePoints=d,h.RangeList=D}),ace.define("ace/edit_session/fold",["require","exports","module","ace/range_list"],function(M,h,F){"use strict";var b=this&&this.__extends||function(){var i=function(n,o){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,p){c.__proto__=p}||function(c,p){for(var w in p)Object.prototype.hasOwnProperty.call(p,w)&&(c[w]=p[w])},i(n,o)};return function(n,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");i(n,o);function c(){this.constructor=n}n.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),d=M("../range_list").RangeList,D=function(i){b(n,i);function n(o,c){var p=i.call(this)||this;return p.foldLine=null,p.placeholder=c,p.range=o,p.start=o.start,p.end=o.end,p.sameRow=o.start.row==o.end.row,p.subFolds=p.ranges=[],p}return n.prototype.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},n.prototype.setFoldLine=function(o){this.foldLine=o,this.subFolds.forEach(function(c){c.setFoldLine(o)})},n.prototype.clone=function(){var o=this.range.clone(),c=new n(o,this.placeholder);return this.subFolds.forEach(function(p){c.subFolds.push(p.clone())}),c.collapseChildren=this.collapseChildren,c},n.prototype.addSubFold=function(o){if(!this.range.isEqual(o)){e(o,this.start);for(var k=o.start.row,f=o.start.column,c=0,p=-1;c<this.subFolds.length&&(p=this.subFolds[c].range.compare(k,f),p==1);c++);var w=this.subFolds[c],E=0;if(p==0){if(w.range.containsRange(o))return w.addSubFold(o);E=1}for(var k=o.range.end.row,f=o.range.end.column,C=c,p=-1;C<this.subFolds.length&&(p=this.subFolds[C].range.compare(k,f),p==1);C++);p==0&&C++;for(var g=this.subFolds.splice(c,C-c,o),m=p==0?g.length-1:g.length,S=E;S<m;S++)o.addSubFold(g[S]);return o.setFoldLine(this.foldLine),o}},n.prototype.restoreRange=function(o){return t(o,this.start)},n}(d);function r(i,n){i.row-=n.row,i.row==0&&(i.column-=n.column)}function e(i,n){r(i.start,n),r(i.end,n)}function s(i,n){i.row==0&&(i.column+=n.column),i.row+=n.row}function t(i,n){s(i.start,n),s(i.end,n)}h.Fold=D}),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator","ace/mouse/mouse_event"],function(M,h,F){"use strict";var b=M("../range").Range,d=M("./fold_line").FoldLine,D=M("./fold").Fold,r=M("../token_iterator").TokenIterator,e=M("../mouse/mouse_event").MouseEvent;function s(){this.getFoldAt=function(t,i,n){var o=this.getFoldLine(t);if(!o)return null;for(var c=o.folds,p=0;p<c.length;p++){var w=c[p].range;if(w.contains(t,i)){if(n==1&&w.isEnd(t,i)&&!w.isEmpty())continue;if(n==-1&&w.isStart(t,i)&&!w.isEmpty())continue;return c[p]}}},this.getFoldsInRange=function(t){var i=t.start,n=t.end,o=this.$foldData,c=[];i.column+=1,n.column-=1;for(var p=0;p<o.length;p++){var w=o[p].range.compareRange(t);if(w!=2){if(w==-2)break;for(var E=o[p].folds,k=0;k<E.length;k++){var f=E[k];if(w=f.range.compareRange(t),w==-2)break;if(w==2)continue;if(w==42)break;c.push(f)}}}return i.column-=1,n.column+=1,c},this.getFoldsInRangeList=function(t){if(Array.isArray(t)){var i=[];t.forEach(function(n){i=i.concat(this.getFoldsInRange(n))},this)}else var i=this.getFoldsInRange(t);return i},this.getAllFolds=function(){for(var t=[],i=this.$foldData,n=0;n<i.length;n++)for(var o=0;o<i[n].folds.length;o++)t.push(i[n].folds[o]);return t},this.getFoldStringAt=function(t,i,n,o){if(o=o||this.getFoldLine(t),!o)return null;for(var c={end:{column:0}},p,w,E=0;E<o.folds.length;E++){w=o.folds[E];var k=w.range.compareEnd(t,i);if(k==-1){p=this.getLine(w.start.row).substring(c.end.column,w.start.column);break}else if(k===0)return null;c=w}return p||(p=this.getLine(w.start.row).substring(c.end.column)),n==-1?p.substring(0,i-c.end.column):n==1?p.substring(i-c.end.column):p},this.getFoldLine=function(t,i){var n=this.$foldData,o=0;for(i&&(o=n.indexOf(i)),o==-1&&(o=0),o;o<n.length;o++){var c=n[o];if(c.start.row<=t&&c.end.row>=t)return c;if(c.end.row>t)return null}return null},this.getNextFoldLine=function(t,i){var n=this.$foldData,o=0;for(i&&(o=n.indexOf(i)),o==-1&&(o=0),o;o<n.length;o++){var c=n[o];if(c.end.row>=t)return c}return null},this.getFoldedRowCount=function(t,i){for(var n=this.$foldData,o=i-t+1,c=0;c<n.length;c++){var p=n[c],w=p.end.row,E=p.start.row;if(w>=i){E<i&&(E>=t?o-=i-E:o=0);break}else w>=t&&(E>=t?o-=w-E:o-=w-t+1)}return o},this.$addFoldLine=function(t){return this.$foldData.push(t),this.$foldData.sort(function(i,n){return i.start.row-n.start.row}),t},this.addFold=function(t,i){var n=this.$foldData,o=!1,c;t instanceof D?c=t:(c=new D(i,t),c.collapseChildren=i.collapseChildren),this.$clipRangeToDocument(c.range);var p=c.start.row,w=c.start.column,E=c.end.row,k=c.end.column,f=this.getFoldAt(p,w,1),C=this.getFoldAt(E,k,-1);if(f&&C==f)return f.addSubFold(c);f&&!f.range.isStart(p,w)&&this.removeFold(f),C&&!C.range.isEnd(E,k)&&this.removeFold(C);var g=this.getFoldsInRange(c.range);g.length>0&&(this.removeFolds(g),c.collapseChildren||g.forEach(function(R){c.addSubFold(R)}));for(var m=0;m<n.length;m++){var S=n[m];if(E==S.start.row){S.addFold(c),o=!0;break}else if(p==S.end.row){if(S.addFold(c),o=!0,!c.sameRow){var A=n[m+1];if(A&&A.start.row==E){S.merge(A);break}}break}else if(E<=S.start.row)break}return o||(S=this.$addFoldLine(new d(this.$foldData,c))),this.$useWrapMode?this.$updateWrapData(S.start.row,S.start.row):this.$updateRowLengthCache(S.start.row,S.start.row),this.$modified=!0,this._signal("changeFold",{data:c,action:"add"}),c},this.addFolds=function(t){t.forEach(function(i){this.addFold(i)},this)},this.removeFold=function(t){var i=t.foldLine,n=i.start.row,o=i.end.row,c=this.$foldData,p=i.folds;if(p.length==1)c.splice(c.indexOf(i),1);else if(i.range.isEnd(t.end.row,t.end.column))p.pop(),i.end.row=p[p.length-1].end.row,i.end.column=p[p.length-1].end.column;else if(i.range.isStart(t.start.row,t.start.column))p.shift(),i.start.row=p[0].start.row,i.start.column=p[0].start.column;else if(t.sameRow)p.splice(p.indexOf(t),1);else{var w=i.split(t.start.row,t.start.column);p=w.folds,p.shift(),w.start.row=p[0].start.row,w.start.column=p[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(n,o):this.$updateRowLengthCache(n,o)),this.$modified=!0,this._signal("changeFold",{data:t,action:"remove"})},this.removeFolds=function(t){for(var i=[],n=0;n<t.length;n++)i.push(t[n]);i.forEach(function(o){this.removeFold(o)},this),this.$modified=!0},this.expandFold=function(t){this.removeFold(t),t.subFolds.forEach(function(i){t.restoreRange(i),this.addFold(i)},this),t.collapseChildren>0&&this.foldAll(t.start.row+1,t.end.row,t.collapseChildren-1),t.subFolds=[]},this.expandFolds=function(t){t.forEach(function(i){this.expandFold(i)},this)},this.unfold=function(t,i){var n,o;if(t==null)n=new b(0,0,this.getLength(),0),i==null&&(i=!0);else if(typeof t=="number")n=new b(t,0,t,this.getLine(t).length);else if("row"in t)n=b.fromPoints(t,t);else{if(Array.isArray(t))return o=[],t.forEach(function(p){o=o.concat(this.unfold(p))},this),o;n=t}o=this.getFoldsInRangeList(n);for(var c=o;o.length==1&&b.comparePoints(o[0].start,n.start)<0&&b.comparePoints(o[0].end,n.end)>0;)this.expandFolds(o),o=this.getFoldsInRangeList(n);if(i!=!1?this.removeFolds(o):this.expandFolds(o),c.length)return c},this.isRowFolded=function(t,i){return!!this.getFoldLine(t,i)},this.getRowFoldEnd=function(t,i){var n=this.getFoldLine(t,i);return n?n.end.row:t},this.getRowFoldStart=function(t,i){var n=this.getFoldLine(t,i);return n?n.start.row:t},this.getFoldDisplayLine=function(t,i,n,o,c){o==null&&(o=t.start.row),c==null&&(c=0),i==null&&(i=t.end.row),n==null&&(n=this.getLine(i).length);var p=this.doc,w="";return t.walk(function(E,k,f,C){if(!(k<o)){if(k==o){if(f<c)return;C=Math.max(c,C)}E!=null?w+=E:w+=p.getLine(k).substring(C,f)}},i,n),w},this.getDisplayLine=function(t,i,n,o){var c=this.getFoldLine(t);if(c)return this.getFoldDisplayLine(c,t,i,n,o);var p;return p=this.doc.getLine(t),p.substring(o||0,i||p.length)},this.$cloneFoldData=function(){var t=[];return t=this.$foldData.map(function(i){var n=i.folds.map(function(o){return o.clone()});return new d(t,n)}),t},this.toggleFold=function(t){var i=this.selection,n=i.getRange(),o,c;if(n.isEmpty()){var p=n.start;if(o=this.getFoldAt(p.row,p.column),o){this.expandFold(o);return}else(c=this.findMatchingBracket(p))?n.comparePoint(c)==1?n.end=c:(n.start=c,n.start.column++,n.end.column--):(c=this.findMatchingBracket({row:p.row,column:p.column+1}))?(n.comparePoint(c)==1?n.end=c:n.start=c,n.start.column++):n=this.getCommentFoldRange(p.row,p.column)||n}else{var w=this.getFoldsInRange(n);if(t&&w.length){this.expandFolds(w);return}else w.length==1&&(o=w[0])}if(o||(o=this.getFoldAt(n.start.row,n.start.column)),o&&o.range.toString()==n.toString()){this.expandFold(o);return}var E="...";if(!n.isMultiLine()){if(E=this.getTextRange(n),E.length<4)return;E=E.trim().substring(0,2)+".."}this.addFold(E,n)},this.getCommentFoldRange=function(t,i,n){var o=new r(this,t,i),c=o.getCurrentToken(),p=c&&c.type;if(c&&/^comment|string/.test(p)){p=p.match(/comment|string/)[0],p=="comment"&&(p+="|doc-start|\\.doc");var w=new RegExp(p),E=new b;if(n!=1){do c=o.stepBackward();while(c&&w.test(c.type));c=o.stepForward()}E.start.row=o.getCurrentTokenRow(),E.start.column=o.getCurrentTokenColumn()+c.value.length,o=new r(this,t,i);var k=this.getState(o.$row);if(n!=-1){var f=-1;do if(c=o.stepForward(),f==-1){var C=this.getState(o.$row);k.toString()!==C.toString()&&(f=o.$row)}else if(o.$row>f)break;while(c&&w.test(c.type));c=o.stepBackward()}else c=o.getCurrentToken();return E.end.row=o.getCurrentTokenRow(),E.end.column=o.getCurrentTokenColumn(),E}},this.foldAll=function(t,i,n,o){n==null&&(n=1e5);var c=this.foldWidgets;if(c){i=i||this.getLength(),t=t||0;for(var p=t;p<i;p++)if(c[p]==null&&(c[p]=this.getFoldWidget(p)),c[p]=="start"&&!(o&&!o(p))){var w=this.getFoldWidgetRange(p);w&&w.isMultiLine()&&w.end.row<=i&&w.start.row>=t&&(p=w.end.row,w.collapseChildren=n,this.addFold("...",w))}}},this.foldToLevel=function(t){for(this.foldAll();t-- >0;)this.unfold(null,!1)},this.foldAllComments=function(){var t=this;this.foldAll(null,null,null,function(i){for(var n=t.getTokens(i),o=0;o<n.length;o++){var c=n[o];if(!(c.type=="text"&&/^\s+$/.test(c.value)))return!!/comment/.test(c.type)}})},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(t){if(!this.$foldStyles[t])throw new Error("invalid fold style: "+t+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=t){this.$foldStyle=t,t=="manual"&&this.unfold();var i=this.$foldMode;this.$setFolding(null),this.$setFolding(i)}},this.$setFolding=function(t){if(this.$foldMode!=t){if(this.$foldMode=t,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),!t||this.$foldStyle=="manual"){this.foldWidgets=null;return}this.foldWidgets=[],this.getFoldWidget=t.getFoldWidget.bind(t,this,this.$foldStyle),this.getFoldWidgetRange=t.getFoldWidgetRange.bind(t,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)}},this.getParentFoldRangeData=function(t,i){var n=this.foldWidgets;if(!n||i&&n[t])return{};for(var o=t-1,c;o>=0;){var p=n[o];if(p==null&&(p=n[o]=this.getFoldWidget(o)),p=="start"){var w=this.getFoldWidgetRange(o);if(c||(c=w),w&&w.end.row>=t)break}o--}return{range:o!==-1&&w,firstRange:c}},this.onFoldWidgetClick=function(t,i){i instanceof e&&(i=i.domEvent);var n={children:i.shiftKey,all:i.ctrlKey||i.metaKey,siblings:i.altKey},o=this.$toggleFoldWidget(t,n);if(!o){var c=i.target||i.srcElement;c&&/ace_fold-widget/.test(c.className)&&(c.className+=" ace_invalid")}},this.$toggleFoldWidget=function(t,i){if(this.getFoldWidget){var n=this.getFoldWidget(t),o=this.getLine(t),c=n==="end"?-1:1,p=this.getFoldAt(t,c===-1?0:o.length,c);if(p)return i.children||i.all?this.removeFold(p):this.expandFold(p),p;var w=this.getFoldWidgetRange(t,!0);if(w&&!w.isMultiLine()&&(p=this.getFoldAt(w.start.row,w.start.column,1),p&&w.isEqual(p.range)))return this.removeFold(p),p;if(i.siblings){var E=this.getParentFoldRangeData(t);if(E.range)var k=E.range.start.row+1,f=E.range.end.row;this.foldAll(k,f,i.all?1e4:0)}else i.children?(f=w?w.end.row:this.getLength(),this.foldAll(t+1,f,i.all?1e4:0)):w&&(i.all&&(w.collapseChildren=1e4),this.addFold("...",w));return w}},this.toggleFoldWidget=function(t){var i=this.selection.getCursor().row;i=this.getRowFoldStart(i);var n=this.$toggleFoldWidget(i,{});if(!n){var o=this.getParentFoldRangeData(i,!0);if(n=o.range||o.firstRange,n){i=n.start.row;var c=this.getFoldAt(i,this.getLine(i).length,1);c?this.removeFold(c):this.addFold("...",n)}}},this.updateFoldWidgets=function(t){var i=t.start.row,n=t.end.row-i;if(n===0)this.foldWidgets[i]=null;else if(t.action=="remove")this.foldWidgets.splice(i,n+1,null);else{var o=Array(n+1);o.unshift(i,1),this.foldWidgets.splice.apply(this.foldWidgets,o)}},this.tokenizerUpdateFoldWidgets=function(t){var i=t.data;i.first!=i.last&&this.foldWidgets.length>i.first&&this.foldWidgets.splice(i.first,this.foldWidgets.length)}}h.Folding=s}),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(M,h,F){"use strict";var b=M("../token_iterator").TokenIterator,d=M("../range").Range;function D(){this.findMatchingBracket=function(r,e){if(r.column==0)return null;var s=e||this.getLine(r.row).charAt(r.column-1);if(s=="")return null;var t=s.match(/([\(\[\{])|([\)\]\}])/);return t?t[1]?this.$findClosingBracket(t[1],r):this.$findOpeningBracket(t[2],r):null},this.getBracketRange=function(r){var e=this.getLine(r.row),s=!0,t,i=e.charAt(r.column-1),n=i&&i.match(/([\(\[\{])|([\)\]\}])/);if(n||(i=e.charAt(r.column),r={row:r.row,column:r.column+1},n=i&&i.match(/([\(\[\{])|([\)\]\}])/),s=!1),!n)return null;if(n[1]){var o=this.$findClosingBracket(n[1],r);if(!o)return null;t=d.fromPoints(r,o),s||(t.end.column++,t.start.column--),t.cursor=t.end}else{var o=this.$findOpeningBracket(n[2],r);if(!o)return null;t=d.fromPoints(o,r),s||(t.start.column++,t.end.column--),t.cursor=t.start}return t},this.getMatchingBracketRanges=function(r,e){var s=this.getLine(r.row),t=/([\(\[\{])|([\)\]\}])/,i=!e&&s.charAt(r.column-1),n=i&&i.match(t);if(n||(i=(e===void 0||e)&&s.charAt(r.column),r={row:r.row,column:r.column+1},n=i&&i.match(t)),!n)return null;var o=new d(r.row,r.column-1,r.row,r.column),c=n[1]?this.$findClosingBracket(n[1],r):this.$findOpeningBracket(n[2],r);if(!c)return[o];var p=new d(c.row,c.column,c.row,c.column+1);return[o,p]},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{","<":">",">":"<"},this.$findOpeningBracket=function(r,e,s){var t=this.$brackets[r],i=1,n=new b(this,e.row,e.column),o=n.getCurrentToken();if(o||(o=n.stepForward()),!!o){s||(s=new RegExp("(\\.?"+o.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)").replace(/-close\b/,"-(close|open)")+")+"));for(var c=e.column-n.getCurrentTokenColumn()-2,p=o.value;;){for(;c>=0;){var w=p.charAt(c);if(w==t){if(i-=1,i==0)return{row:n.getCurrentTokenRow(),column:c+n.getCurrentTokenColumn()}}else w==r&&(i+=1);c-=1}do o=n.stepBackward();while(o&&!s.test(o.type));if(o==null)break;p=o.value,c=p.length-1}return null}},this.$findClosingBracket=function(r,e,s){var t=this.$brackets[r],i=1,n=new b(this,e.row,e.column),o=n.getCurrentToken();if(o||(o=n.stepForward()),!!o){s||(s=new RegExp("(\\.?"+o.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)").replace(/-open\b/,"-(close|open)")+")+"));for(var c=e.column-n.getCurrentTokenColumn();;){for(var p=o.value,w=p.length;c<w;){var E=p.charAt(c);if(E==t){if(i-=1,i==0)return{row:n.getCurrentTokenRow(),column:c+n.getCurrentTokenColumn()}}else E==r&&(i+=1);c+=1}do o=n.stepForward();while(o&&!s.test(o.type));if(o==null)break;c=0}return null}},this.getMatchingTags=function(r){var e=new b(this,r.row,r.column),s=this.$findTagName(e);if(s){var t=e.stepBackward();return t.value==="<"?this.$findClosingTag(e,s):this.$findOpeningTag(e,s)}},this.$findTagName=function(r){var e=r.getCurrentToken(),s=!1,t=!1;if(e&&e.type.indexOf("tag-name")===-1)do t?e=r.stepBackward():e=r.stepForward(),e&&(e.value==="/>"?t=!0:e.type.indexOf("tag-name")!==-1&&(s=!0));while(e&&!s);return e},this.$findClosingTag=function(r,e){var s,t=e.value,i=e.value,n=0,o=new d(r.getCurrentTokenRow(),r.getCurrentTokenColumn(),r.getCurrentTokenRow(),r.getCurrentTokenColumn()+1);e=r.stepForward();var c=new d(r.getCurrentTokenRow(),r.getCurrentTokenColumn(),r.getCurrentTokenRow(),r.getCurrentTokenColumn()+e.value.length),p=!1;do{if(s=e,s.type.indexOf("tag-close")!==-1&&!p){var w=new d(r.getCurrentTokenRow(),r.getCurrentTokenColumn(),r.getCurrentTokenRow(),r.getCurrentTokenColumn()+1);p=!0}if(e=r.stepForward(),e){if(e.value===">"&&!p){var w=new d(r.getCurrentTokenRow(),r.getCurrentTokenColumn(),r.getCurrentTokenRow(),r.getCurrentTokenColumn()+1);p=!0}if(e.type.indexOf("tag-name")!==-1){if(t=e.value,i===t){if(s.value==="<")n++;else if(s.value==="</"&&(n--,n<0)){r.stepBackward();var E=new d(r.getCurrentTokenRow(),r.getCurrentTokenColumn(),r.getCurrentTokenRow(),r.getCurrentTokenColumn()+2);e=r.stepForward();var k=new d(r.getCurrentTokenRow(),r.getCurrentTokenColumn(),r.getCurrentTokenRow(),r.getCurrentTokenColumn()+e.value.length);if(e.type.indexOf("tag-close")===-1&&(e=r.stepForward()),e&&e.value===">")var f=new d(r.getCurrentTokenRow(),r.getCurrentTokenColumn(),r.getCurrentTokenRow(),r.getCurrentTokenColumn()+1);else return}}}else if(i===t&&e.value==="/>"&&(n--,n<0))var E=new d(r.getCurrentTokenRow(),r.getCurrentTokenColumn(),r.getCurrentTokenRow(),r.getCurrentTokenColumn()+2),k=E,f=k,w=new d(c.end.row,c.end.column,c.end.row,c.end.column+1)}}while(e&&n>=0);if(o&&w&&E&&f&&c&&k)return{openTag:new d(o.start.row,o.start.column,w.end.row,w.end.column),closeTag:new d(E.start.row,E.start.column,f.end.row,f.end.column),openTagName:c,closeTagName:k}},this.$findOpeningTag=function(r,e){var s=r.getCurrentToken(),t=e.value,i=0,n=r.getCurrentTokenRow(),o=r.getCurrentTokenColumn(),c=o+2,p=new d(n,o,n,c);r.stepForward();var w=new d(r.getCurrentTokenRow(),r.getCurrentTokenColumn(),r.getCurrentTokenRow(),r.getCurrentTokenColumn()+e.value.length);if(e.type.indexOf("tag-close")===-1&&(e=r.stepForward()),!(!e||e.value!==">")){var E=new d(r.getCurrentTokenRow(),r.getCurrentTokenColumn(),r.getCurrentTokenRow(),r.getCurrentTokenColumn()+1);r.stepBackward(),r.stepBackward();do if(e=s,n=r.getCurrentTokenRow(),o=r.getCurrentTokenColumn(),c=o+e.value.length,s=r.stepBackward(),e){if(e.type.indexOf("tag-name")!==-1){if(t===e.value)if(s.value==="<"){if(i++,i>0){var k=new d(n,o,n,c),f=new d(r.getCurrentTokenRow(),r.getCurrentTokenColumn(),r.getCurrentTokenRow(),r.getCurrentTokenColumn()+1);do e=r.stepForward();while(e&&e.value!==">");var C=new d(r.getCurrentTokenRow(),r.getCurrentTokenColumn(),r.getCurrentTokenRow(),r.getCurrentTokenColumn()+1)}}else s.value==="</"&&i--}else if(e.value==="/>"){for(var g=0,m=s;m;){if(m.type.indexOf("tag-name")!==-1&&m.value===t){i--;break}else if(m.value==="<")break;m=r.stepBackward(),g++}for(var S=0;S<g;S++)r.stepForward()}}while(s&&i<=0);if(f&&C&&p&&E&&k&&w)return{openTag:new d(f.start.row,f.start.column,C.end.row,C.end.column),closeTag:new d(p.start.row,p.start.column,E.end.row,E.end.column),openTagName:k,closeTagName:w}}}}h.BracketMatch=D}),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/undomanager","ace/edit_session/folding","ace/edit_session/bracket_match"],function(M,h,F){"use strict";var b=M("./lib/oop"),d=M("./lib/lang"),D=M("./bidihandler").BidiHandler,r=M("./config"),e=M("./lib/event_emitter").EventEmitter,s=M("./selection").Selection,t=M("./mode/text").Mode,i=M("./range").Range,n=M("./document").Document,o=M("./background_tokenizer").BackgroundTokenizer,c=M("./search_highlight").SearchHighlight,p=M("./undomanager").UndoManager,w=function(){function P(W,_){this.doc,this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.id="session"+ ++P.$uid,this.$foldData.toString=function(){return this.join(`
`)},this.bgTokenizer=new o(new t().getTokenizer(),this);var T=this;this.bgTokenizer.on("update",function(N){T._signal("tokenizerUpdate",N)}),this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),(typeof W!="object"||!W.getLine)&&(W=new n(W)),this.setDocument(W),this.selection=new s(this),this.$bidiHandler=new D(this),r.resetOptions(this),this.setMode(_),r._signal("session",this),this.destroyed=!1}return P.prototype.setDocument=function(W){this.doc&&this.doc.off("change",this.$onChange),this.doc=W,W.on("change",this.$onChange,!0),this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},P.prototype.getDocument=function(){return this.doc},P.prototype.$resetRowCache=function(W){if(!W){this.$docRowCache=[],this.$screenRowCache=[];return}var _=this.$docRowCache.length,T=this.$getRowCacheIndex(this.$docRowCache,W)+1;_>T&&(this.$docRowCache.splice(T,_),this.$screenRowCache.splice(T,_))},P.prototype.$getRowCacheIndex=function(W,_){for(var T=0,N=W.length-1;T<=N;){var V=T+N>>1,K=W[V];if(_>K)T=V+1;else if(_<K)N=V-1;else return V}return T-1},P.prototype.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.destroyed||this.bgTokenizer.start(0)},P.prototype.onChangeFold=function(W){var _=W.data;this.$resetRowCache(_.start.row)},P.prototype.onChange=function(W){this.$modified=!0,this.$bidiHandler.onChange(W),this.$resetRowCache(W.start.row);var _=this.$updateInternalDataOnChange(W);!this.$fromUndo&&this.$undoManager&&(_&&_.length&&(this.$undoManager.add({action:"removeFolds",folds:_},this.mergeUndoDeltas),this.mergeUndoDeltas=!0),this.$undoManager.add(W,this.mergeUndoDeltas),this.mergeUndoDeltas=!0,this.$informUndoManager.schedule()),this.bgTokenizer.$updateOnChange(W),this._signal("change",W)},P.prototype.setValue=function(W){this.doc.setValue(W),this.selection.moveTo(0,0),this.$resetRowCache(0),this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},P.fromJSON=function(W){typeof W=="string"&&(W=JSON.parse(W));var _=new p;_.$undoStack=W.history.undo,_.$redoStack=W.history.redo,_.mark=W.history.mark,_.$rev=W.history.rev;var T=new P(W.value);return W.folds.forEach(function(N){T.addFold("...",i.fromPoints(N.start,N.end))}),T.setAnnotations(W.annotations),T.setBreakpoints(W.breakpoints),T.setMode(W.mode),T.setScrollLeft(W.scrollLeft),T.setScrollTop(W.scrollTop),T.setUndoManager(_),T.selection.fromJSON(W.selection),T},P.prototype.toJSON=function(){return{annotations:this.$annotations,breakpoints:this.$breakpoints,folds:this.getAllFolds().map(function(W){return W.range}),history:this.getUndoManager(),mode:this.$mode.$id,scrollLeft:this.$scrollLeft,scrollTop:this.$scrollTop,selection:this.selection.toJSON(),value:this.doc.getValue()}},P.prototype.toString=function(){return this.doc.getValue()},P.prototype.getSelection=function(){return this.selection},P.prototype.getState=function(W){return this.bgTokenizer.getState(W)},P.prototype.getTokens=function(W){return this.bgTokenizer.getTokens(W)},P.prototype.getTokenAt=function(W,_){var T=this.bgTokenizer.getTokens(W),N,V=0;if(_==null){var K=T.length-1;V=this.getLine(W).length}else for(var K=0;K<T.length&&(V+=T[K].value.length,!(V>=_));K++);return N=T[K],N?(N.index=K,N.start=V-N.value.length,N):null},P.prototype.setUndoManager=function(W){if(this.$undoManager=W,this.$informUndoManager&&this.$informUndoManager.cancel(),W){var _=this;W.addSession(this),this.$syncInformUndoManager=function(){_.$informUndoManager.cancel(),_.mergeUndoDeltas=!1},this.$informUndoManager=d.delayedCall(this.$syncInformUndoManager)}else this.$syncInformUndoManager=function(){}},P.prototype.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},P.prototype.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},P.prototype.getTabString=function(){return this.getUseSoftTabs()?d.stringRepeat(" ",this.getTabSize()):"	"},P.prototype.setUseSoftTabs=function(W){this.setOption("useSoftTabs",W)},P.prototype.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},P.prototype.setTabSize=function(W){this.setOption("tabSize",W)},P.prototype.getTabSize=function(){return this.$tabSize},P.prototype.isTabStop=function(W){return this.$useSoftTabs&&W.column%this.$tabSize===0},P.prototype.setNavigateWithinSoftTabs=function(W){this.setOption("navigateWithinSoftTabs",W)},P.prototype.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},P.prototype.setOverwrite=function(W){this.setOption("overwrite",W)},P.prototype.getOverwrite=function(){return this.$overwrite},P.prototype.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},P.prototype.addGutterDecoration=function(W,_){this.$decorations[W]||(this.$decorations[W]=""),this.$decorations[W]+=" "+_,this._signal("changeBreakpoint",{})},P.prototype.removeGutterDecoration=function(W,_){this.$decorations[W]=(this.$decorations[W]||"").replace(" "+_,""),this._signal("changeBreakpoint",{})},P.prototype.getBreakpoints=function(){return this.$breakpoints},P.prototype.setBreakpoints=function(W){this.$breakpoints=[];for(var _=0;_<W.length;_++)this.$breakpoints[W[_]]="ace_breakpoint";this._signal("changeBreakpoint",{})},P.prototype.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},P.prototype.setBreakpoint=function(W,_){_===void 0&&(_="ace_breakpoint"),_?this.$breakpoints[W]=_:delete this.$breakpoints[W],this._signal("changeBreakpoint",{})},P.prototype.clearBreakpoint=function(W){delete this.$breakpoints[W],this._signal("changeBreakpoint",{})},P.prototype.addMarker=function(W,_,T,N){var V=this.$markerId++,K={range:W,type:T||"line",renderer:typeof T=="function"?T:null,clazz:_,inFront:!!N,id:V};return N?(this.$frontMarkers[V]=K,this._signal("changeFrontMarker")):(this.$backMarkers[V]=K,this._signal("changeBackMarker")),V},P.prototype.addDynamicMarker=function(W,_){if(W.update){var T=this.$markerId++;return W.id=T,W.inFront=!!_,_?(this.$frontMarkers[T]=W,this._signal("changeFrontMarker")):(this.$backMarkers[T]=W,this._signal("changeBackMarker")),W}},P.prototype.removeMarker=function(W){var _=this.$frontMarkers[W]||this.$backMarkers[W];if(_){var T=_.inFront?this.$frontMarkers:this.$backMarkers;delete T[W],this._signal(_.inFront?"changeFrontMarker":"changeBackMarker")}},P.prototype.getMarkers=function(W){return W?this.$frontMarkers:this.$backMarkers},P.prototype.highlight=function(W){if(!this.$searchHighlight){var _=new c(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(_)}this.$searchHighlight.setRegexp(W)},P.prototype.highlightLines=function(W,_,T,N){typeof _!="number"&&(T=_,_=W),T||(T="ace_step");var V=new i(W,0,_,1/0);return V.id=this.addMarker(V,T,"fullLine",N),V},P.prototype.setAnnotations=function(W){this.$annotations=W,this._signal("changeAnnotation",{})},P.prototype.getAnnotations=function(){return this.$annotations||[]},P.prototype.clearAnnotations=function(){this.setAnnotations([])},P.prototype.$detectNewLine=function(W){var _=W.match(/^.*?(\r?\n)/m);_?this.$autoNewLine=_[1]:this.$autoNewLine=`
`},P.prototype.getWordRange=function(W,_){var T=this.getLine(W),N=!1;if(_>0&&(N=!!T.charAt(_-1).match(this.tokenRe)),N||(N=!!T.charAt(_).match(this.tokenRe)),N)var V=this.tokenRe;else if(/^\s+$/.test(T.slice(_-1,_+1)))var V=/\s/;else var V=this.nonTokenRe;var K=_;if(K>0){do K--;while(K>=0&&T.charAt(K).match(V));K++}for(var I=_;I<T.length&&T.charAt(I).match(V);)I++;return new i(W,K,W,I)},P.prototype.getAWordRange=function(W,_){for(var T=this.getWordRange(W,_),N=this.getLine(T.end.row);N.charAt(T.end.column).match(/[ \t]/);)T.end.column+=1;return T},P.prototype.setNewLineMode=function(W){this.doc.setNewLineMode(W)},P.prototype.getNewLineMode=function(){return this.doc.getNewLineMode()},P.prototype.setUseWorker=function(W){this.setOption("useWorker",W)},P.prototype.getUseWorker=function(){return this.$useWorker},P.prototype.onReloadTokenizer=function(W){var _=W.data;this.bgTokenizer.start(_.first),this._signal("tokenizerUpdate",W)},P.prototype.setMode=function(W,_){if(W&&typeof W=="object"){if(W.getTokenizer)return this.$onChangeMode(W);var T=W,N=T.path}else N=W||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new t),this.$modes[N]&&!T){this.$onChangeMode(this.$modes[N]),_&&_();return}this.$modeId=N,r.loadModule(["mode",N],function(V){if(this.$modeId!==N)return _&&_();this.$modes[N]&&!T?this.$onChangeMode(this.$modes[N]):V&&V.Mode&&(V=new V.Mode(T),T||(this.$modes[N]=V,V.$id=N),this.$onChangeMode(V)),_&&_()}.bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},P.prototype.$onChangeMode=function(W,_){if(_||(this.$modeId=W.$id),this.$mode!==W){var T=this.$mode;this.$mode=W,this.$stopWorker(),this.$useWorker&&this.$startWorker();var N=W.getTokenizer();if(N.on!==void 0){var V=this.onReloadTokenizer.bind(this);N.on("update",V)}this.bgTokenizer.setTokenizer(N),this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=W.tokenRe,this.nonTokenRe=W.nonTokenRe,_||(W.attachToSession&&W.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(W.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode",{oldMode:T,mode:W}))}},P.prototype.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},P.prototype.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(W){r.warn("Could not load worker",W),this.$worker=null}},P.prototype.getMode=function(){return this.$mode},P.prototype.setScrollTop=function(W){this.$scrollTop===W||isNaN(W)||(this.$scrollTop=W,this._signal("changeScrollTop",W))},P.prototype.getScrollTop=function(){return this.$scrollTop},P.prototype.setScrollLeft=function(W){this.$scrollLeft===W||isNaN(W)||(this.$scrollLeft=W,this._signal("changeScrollLeft",W))},P.prototype.getScrollLeft=function(){return this.$scrollLeft},P.prototype.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},P.prototype.getLineWidgetMaxWidth=function(){if(this.lineWidgetsWidth!=null)return this.lineWidgetsWidth;var W=0;return this.lineWidgets.forEach(function(_){_&&_.screenWidth>W&&(W=_.screenWidth)}),this.lineWidgetWidth=W},P.prototype.$computeWidth=function(W){if(this.$modified||W){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var _=this.doc.getAllLines(),T=this.$rowLengthCache,N=0,V=0,K=this.$foldData[V],I=K?K.start.row:1/0,q=_.length,U=0;U<q;U++){if(U>I){if(U=K.end.row+1,U>=q)break;K=this.$foldData[V++],I=K?K.start.row:1/0}T[U]==null&&(T[U]=this.$getStringScreenWidth(_[U])[0]),T[U]>N&&(N=T[U])}this.screenWidth=N}},P.prototype.getLine=function(W){return this.doc.getLine(W)},P.prototype.getLines=function(W,_){return this.doc.getLines(W,_)},P.prototype.getLength=function(){return this.doc.getLength()},P.prototype.getTextRange=function(W){return this.doc.getTextRange(W||this.selection.getRange())},P.prototype.insert=function(W,_){return this.doc.insert(W,_)},P.prototype.remove=function(W){return this.doc.remove(W)},P.prototype.removeFullLines=function(W,_){return this.doc.removeFullLines(W,_)},P.prototype.undoChanges=function(W,_){if(W.length){this.$fromUndo=!0;for(var T=W.length-1;T!=-1;T--){var N=W[T];N.action=="insert"||N.action=="remove"?this.doc.revertDelta(N):N.folds&&this.addFolds(N.folds)}!_&&this.$undoSelect&&(W.selectionBefore?this.selection.fromJSON(W.selectionBefore):this.selection.setRange(this.$getUndoSelection(W,!0))),this.$fromUndo=!1}},P.prototype.redoChanges=function(W,_){if(W.length){this.$fromUndo=!0;for(var T=0;T<W.length;T++){var N=W[T];(N.action=="insert"||N.action=="remove")&&this.doc.$safeApplyDelta(N)}!_&&this.$undoSelect&&(W.selectionAfter?this.selection.fromJSON(W.selectionAfter):this.selection.setRange(this.$getUndoSelection(W,!1))),this.$fromUndo=!1}},P.prototype.setUndoSelect=function(W){this.$undoSelect=W},P.prototype.$getUndoSelection=function(W,_){function T(q){return _?q.action!=="insert":q.action==="insert"}for(var N,V,K=0;K<W.length;K++){var I=W[K];if(I.start){if(!N){T(I)?N=i.fromPoints(I.start,I.end):N=i.fromPoints(I.start,I.start);continue}T(I)?(V=I.start,N.compare(V.row,V.column)==-1&&N.setStart(V),V=I.end,N.compare(V.row,V.column)==1&&N.setEnd(V)):(V=I.start,N.compare(V.row,V.column)==-1&&(N=i.fromPoints(I.start,I.start)))}}return N},P.prototype.replace=function(W,_){return this.doc.replace(W,_)},P.prototype.moveText=function(W,_,T){var N=this.getTextRange(W),V=this.getFoldsInRange(W),K=i.fromPoints(_,_);if(!T){this.remove(W);var I=W.start.row-W.end.row,q=I?-W.end.column:W.start.column-W.end.column;q&&(K.start.row==W.end.row&&K.start.column>W.end.column&&(K.start.column+=q),K.end.row==W.end.row&&K.end.column>W.end.column&&(K.end.column+=q)),I&&K.start.row>=W.end.row&&(K.start.row+=I,K.end.row+=I)}if(K.end=this.insert(K.start,N),V.length){var U=W.start,J=K.start,I=J.row-U.row,q=J.column-U.column;this.addFolds(V.map(function(se){return se=se.clone(),se.start.row==U.row&&(se.start.column+=q),se.end.row==U.row&&(se.end.column+=q),se.start.row+=I,se.end.row+=I,se}))}return K},P.prototype.indentRows=function(W,_,T){T=T.replace(/\t/g,this.getTabString());for(var N=W;N<=_;N++)this.doc.insertInLine({row:N,column:0},T)},P.prototype.outdentRows=function(W){for(var _=W.collapseRows(),T=new i(0,0,0,0),N=this.getTabSize(),V=_.start.row;V<=_.end.row;++V){var K=this.getLine(V);T.start.row=V,T.end.row=V;for(var I=0;I<N&&K.charAt(I)==" ";++I);I<N&&K.charAt(I)=="	"?(T.start.column=I,T.end.column=I+1):(T.start.column=0,T.end.column=I),this.remove(T)}},P.prototype.$moveLines=function(W,_,T){if(W=this.getRowFoldStart(W),_=this.getRowFoldEnd(_),T<0){var N=this.getRowFoldStart(W+T);if(N<0)return 0;var V=N-W}else if(T>0){var N=this.getRowFoldEnd(_+T);if(N>this.doc.getLength()-1)return 0;var V=N-_}else{W=this.$clipRowToDocument(W),_=this.$clipRowToDocument(_);var V=_-W+1}var K=new i(W,0,_,Number.MAX_VALUE),I=this.getFoldsInRange(K).map(function(U){return U=U.clone(),U.start.row+=V,U.end.row+=V,U}),q=T==0?this.doc.getLines(W,_):this.doc.removeFullLines(W,_);return this.doc.insertFullLines(W+V,q),I.length&&this.addFolds(I),V},P.prototype.moveLinesUp=function(W,_){return this.$moveLines(W,_,-1)},P.prototype.moveLinesDown=function(W,_){return this.$moveLines(W,_,1)},P.prototype.duplicateLines=function(W,_){return this.$moveLines(W,_,0)},P.prototype.$clipRowToDocument=function(W){return Math.max(0,Math.min(W,this.doc.getLength()-1))},P.prototype.$clipColumnToRow=function(W,_){return _<0?0:Math.min(this.doc.getLine(W).length,_)},P.prototype.$clipPositionToDocument=function(W,_){if(_=Math.max(0,_),W<0)W=0,_=0;else{var T=this.doc.getLength();W>=T?(W=T-1,_=this.doc.getLine(T-1).length):_=Math.min(this.doc.getLine(W).length,_)}return{row:W,column:_}},P.prototype.$clipRangeToDocument=function(W){W.start.row<0?(W.start.row=0,W.start.column=0):W.start.column=this.$clipColumnToRow(W.start.row,W.start.column);var _=this.doc.getLength()-1;return W.end.row>_?(W.end.row=_,W.end.column=this.doc.getLine(_).length):W.end.column=this.$clipColumnToRow(W.end.row,W.end.column),W},P.prototype.setUseWrapMode=function(W){if(W!=this.$useWrapMode){if(this.$useWrapMode=W,this.$modified=!0,this.$resetRowCache(0),W){var _=this.getLength();this.$wrapData=Array(_),this.$updateWrapData(0,_-1)}this._signal("changeWrapMode")}},P.prototype.getUseWrapMode=function(){return this.$useWrapMode},P.prototype.setWrapLimitRange=function(W,_){(this.$wrapLimitRange.min!==W||this.$wrapLimitRange.max!==_)&&(this.$wrapLimitRange={min:W,max:_},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))},P.prototype.adjustWrapLimit=function(W,_){var T=this.$wrapLimitRange;T.max<0&&(T={min:_,max:_});var N=this.$constrainWrapLimit(W,T.min,T.max);return N!=this.$wrapLimit&&N>1?(this.$wrapLimit=N,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0):!1},P.prototype.$constrainWrapLimit=function(W,_,T){return _&&(W=Math.max(_,W)),T&&(W=Math.min(T,W)),W},P.prototype.getWrapLimit=function(){return this.$wrapLimit},P.prototype.setWrapLimit=function(W){this.setWrapLimitRange(W,W)},P.prototype.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},P.prototype.$updateInternalDataOnChange=function(W){var _=this.$useWrapMode,T=W.action,N=W.start,V=W.end,K=N.row,I=V.row,q=I-K,U=null;if(this.$updating=!0,q!=0)if(T==="remove"){this[_?"$wrapData":"$rowLengthCache"].splice(K,q);var J=this.$foldData;U=this.getFoldsInRange(W),this.removeFolds(U);var Q=this.getFoldLine(V.row),ee=0;if(Q){Q.addRemoveChars(V.row,V.column,N.column-V.column),Q.shiftRow(-q);var se=this.getFoldLine(K);se&&se!==Q&&(se.merge(Q),Q=se),ee=J.indexOf(Q)+1}for(ee;ee<J.length;ee++){var Q=J[ee];Q.start.row>=V.row&&Q.shiftRow(-q)}I=K}else{var ue=Array(q);ue.unshift(K,0);var xe=_?this.$wrapData:this.$rowLengthCache;xe.splice.apply(xe,ue);var J=this.$foldData,Q=this.getFoldLine(K),ee=0;if(Q){var _e=Q.range.compareInside(N.row,N.column);_e==0?(Q=Q.split(N.row,N.column),Q&&(Q.shiftRow(q),Q.addRemoveChars(I,0,V.column-N.column))):_e==-1&&(Q.addRemoveChars(K,0,V.column-N.column),Q.shiftRow(q)),ee=J.indexOf(Q)+1}for(ee;ee<J.length;ee++){var Q=J[ee];Q.start.row>=K&&Q.shiftRow(q)}}else{q=Math.abs(W.start.column-W.end.column),T==="remove"&&(U=this.getFoldsInRange(W),this.removeFolds(U),q=-q);var Q=this.getFoldLine(K);Q&&Q.addRemoveChars(K,N.column,q)}return _&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,_?this.$updateWrapData(K,I):this.$updateRowLengthCache(K,I),U},P.prototype.$updateRowLengthCache=function(W,_){this.$rowLengthCache[W]=null,this.$rowLengthCache[_]=null},P.prototype.$updateWrapData=function(W,_){var T=this.doc.getAllLines(),N=this.getTabSize(),V=this.$wrapData,K=this.$wrapLimit,I,q,U=W;for(_=Math.min(_,T.length-1);U<=_;)q=this.getFoldLine(U,q),q?(I=[],q.walk(function(J,Q,ee,se){var ue;if(J!=null){ue=this.$getDisplayTokens(J,I.length),ue[0]=f;for(var xe=1;xe<ue.length;xe++)ue[xe]=C}else ue=this.$getDisplayTokens(T[Q].substring(se,ee),I.length);I=I.concat(ue)}.bind(this),q.end.row,T[q.end.row].length+1),V[q.start.row]=this.$computeWrapSplits(I,K,N),U=q.end.row+1):(I=this.$getDisplayTokens(T[U]),V[U]=this.$computeWrapSplits(I,K,N),U++)},P.prototype.$computeWrapSplits=function(W,_,T){if(W.length==0)return[];var N=[],V=W.length,K=0,I=0,q=this.$wrapAsCode,U=this.$indentedSoftWrap,J=_<=Math.max(2*T,8)||U===!1?0:Math.floor(_/2);function Q(){var _e=0;if(J===0)return _e;if(U)for(var Je=0;Je<W.length;Je++){var Be=W[Je];if(Be==m)_e+=1;else if(Be==S)_e+=T;else{if(Be==A)continue;break}}return q&&U!==!1&&(_e+=T),Math.min(_e,J)}function ee(_e){for(var Je=_e-K,Be=K;Be<_e;Be++){var He=W[Be];(He===12||He===2)&&(Je-=1)}N.length||(se=Q(),N.indent=se),I+=Je,N.push(I),K=_e}for(var se=0;V-K>_-se;){var ue=K+_-se;if(W[ue-1]>=m&&W[ue]>=m){ee(ue);continue}if(W[ue]==f||W[ue]==C){for(ue;ue!=K-1&&W[ue]!=f;ue--);if(ue>K){ee(ue);continue}for(ue=K+_,ue;ue<W.length&&W[ue]==C;ue++);if(ue==W.length)break;ee(ue);continue}for(var xe=Math.max(ue-(_-(_>>2)),K-1);ue>xe&&W[ue]<f;)ue--;if(q){for(;ue>xe&&W[ue]<f;)ue--;for(;ue>xe&&W[ue]==g;)ue--}else for(;ue>xe&&W[ue]<m;)ue--;if(ue>xe){ee(++ue);continue}ue=K+_,W[ue]==k&&ue--,ee(ue-se)}return N},P.prototype.$getDisplayTokens=function(W,_){var T=[],N;_=_||0;for(var V=0;V<W.length;V++){var K=W.charCodeAt(V);if(K==9){N=this.getScreenTabSize(T.length+_),T.push(S);for(var I=1;I<N;I++)T.push(A)}else K==32?T.push(m):K>39&&K<48||K>57&&K<64?T.push(g):K>=4352&&R(K)?T.push(E,k):T.push(E)}return T},P.prototype.$getStringScreenWidth=function(W,_,T){if(_==0)return[0,0];_==null&&(_=1/0),T=T||0;var N,V;for(V=0;V<W.length&&(N=W.charCodeAt(V),N==9?T+=this.getScreenTabSize(T):N>=4352&&R(N)?T+=2:T+=1,!(T>_));V++);return[T,V]},P.prototype.getRowLength=function(W){var _=1;return this.lineWidgets&&(_+=this.lineWidgets[W]&&this.lineWidgets[W].rowCount||0),!this.$useWrapMode||!this.$wrapData[W]?_:this.$wrapData[W].length+_},P.prototype.getRowLineCount=function(W){return!this.$useWrapMode||!this.$wrapData[W]?1:this.$wrapData[W].length+1},P.prototype.getRowWrapIndent=function(W){if(this.$useWrapMode){var _=this.screenToDocumentPosition(W,Number.MAX_VALUE),T=this.$wrapData[_.row];return T.length&&T[0]<_.column?T.indent:0}else return 0},P.prototype.getScreenLastRowColumn=function(W){var _=this.screenToDocumentPosition(W,Number.MAX_VALUE);return this.documentToScreenColumn(_.row,_.column)},P.prototype.getDocumentLastRowColumn=function(W,_){var T=this.documentToScreenRow(W,_);return this.getScreenLastRowColumn(T)},P.prototype.getDocumentLastRowColumnPosition=function(W,_){var T=this.documentToScreenRow(W,_);return this.screenToDocumentPosition(T,Number.MAX_VALUE/10)},P.prototype.getRowSplitData=function(W){if(this.$useWrapMode)return this.$wrapData[W]},P.prototype.getScreenTabSize=function(W){return this.$tabSize-(W%this.$tabSize|0)},P.prototype.screenToDocumentRow=function(W,_){return this.screenToDocumentPosition(W,_).row},P.prototype.screenToDocumentColumn=function(W,_){return this.screenToDocumentPosition(W,_).column},P.prototype.screenToDocumentPosition=function(W,_,T){if(W<0)return{row:0,column:0};var N,V=0,K=0,I,q=0,U=0,J=this.$screenRowCache,Q=this.$getRowCacheIndex(J,W),ee=J.length;if(ee&&Q>=0)var q=J[Q],V=this.$docRowCache[Q],se=W>J[ee-1];else var se=!ee;for(var ue=this.getLength()-1,xe=this.getNextFoldLine(V),_e=xe?xe.start.row:1/0;q<=W&&(U=this.getRowLength(V),!(q+U>W||V>=ue));)q+=U,V++,V>_e&&(V=xe.end.row+1,xe=this.getNextFoldLine(V,xe),_e=xe?xe.start.row:1/0),se&&(this.$docRowCache.push(V),this.$screenRowCache.push(q));if(xe&&xe.start.row<=V)N=this.getFoldDisplayLine(xe),V=xe.start.row;else{if(q+U<=W||V>ue)return{row:ue,column:this.getLine(ue).length};N=this.getLine(V),xe=null}var Je=0,Be=Math.floor(W-q);if(this.$useWrapMode){var He=this.$wrapData[V];He&&(I=He[Be],Be>0&&He.length&&(Je=He.indent,K=He[Be-1]||He[He.length-1],N=N.substring(K)))}return T!==void 0&&this.$bidiHandler.isBidiRow(q+Be,V,Be)&&(_=this.$bidiHandler.offsetToCol(T)),K+=this.$getStringScreenWidth(N,_-Je)[1],this.$useWrapMode&&K>=I&&(K=I-1),xe?xe.idxToPosition(K):{row:V,column:K}},P.prototype.documentToScreenPosition=function(W,_){if(typeof _=="undefined")var T=this.$clipPositionToDocument(W.row,W.column);else T=this.$clipPositionToDocument(W,_);W=T.row,_=T.column;var N=0,V=null,K=null;K=this.getFoldAt(W,_,1),K&&(W=K.start.row,_=K.start.column);var I,q=0,U=this.$docRowCache,J=this.$getRowCacheIndex(U,W),Q=U.length;if(Q&&J>=0)var q=U[J],N=this.$screenRowCache[J],ee=W>U[Q-1];else var ee=!Q;for(var se=this.getNextFoldLine(q),ue=se?se.start.row:1/0;q<W;){if(q>=ue){if(I=se.end.row+1,I>W)break;se=this.getNextFoldLine(I,se),ue=se?se.start.row:1/0}else I=q+1;N+=this.getRowLength(q),q=I,ee&&(this.$docRowCache.push(q),this.$screenRowCache.push(N))}var xe="";se&&q>=ue?(xe=this.getFoldDisplayLine(se,W,_),V=se.start.row):(xe=this.getLine(W).substring(0,_),V=W);var _e=0;if(this.$useWrapMode){var Je=this.$wrapData[V];if(Je){for(var Be=0;xe.length>=Je[Be];)N++,Be++;xe=xe.substring(Je[Be-1]||0,xe.length),_e=Be>0?Je.indent:0}}return this.lineWidgets&&this.lineWidgets[q]&&this.lineWidgets[q].rowsAbove&&(N+=this.lineWidgets[q].rowsAbove),{row:N,column:_e+this.$getStringScreenWidth(xe)[0]}},P.prototype.documentToScreenColumn=function(W,_){return this.documentToScreenPosition(W,_).column},P.prototype.documentToScreenRow=function(W,_){return this.documentToScreenPosition(W,_).row},P.prototype.getScreenLength=function(){var W=0,_=null;if(this.$useWrapMode)for(var V=this.$wrapData.length,K=0,N=0,_=this.$foldData[N++],I=_?_.start.row:1/0;K<V;){var q=this.$wrapData[K];W+=q?q.length+1:1,K++,K>I&&(K=_.end.row+1,_=this.$foldData[N++],I=_?_.start.row:1/0)}else{W=this.getLength();for(var T=this.$foldData,N=0;N<T.length;N++)_=T[N],W-=_.end.row-_.start.row}return this.lineWidgets&&(W+=this.$getWidgetScreenLength()),W},P.prototype.$setFontMetrics=function(W){this.$enableVarChar&&(this.$getStringScreenWidth=function(_,T,N){if(T===0)return[0,0];T||(T=1/0),N=N||0;var V,K;for(K=0;K<_.length&&(V=_.charAt(K),V==="	"?N+=this.getScreenTabSize(N):N+=W.getCharacterWidth(V),!(N>T));K++);return[N,K]})},P.prototype.getPrecedingCharacter=function(){var W=this.selection.getCursor();if(W.column===0)return W.row===0?"":this.doc.getNewLineCharacter();var _=this.getLine(W.row);return _[W.column-1]},P.prototype.destroy=function(){this.destroyed||(this.bgTokenizer.setDocument(null),this.bgTokenizer.cleanup(),this.destroyed=!0),this.$stopWorker(),this.removeAllListeners(),this.doc&&this.doc.off("change",this.$onChange),this.selection.detach()},P}();w.$uid=0,w.prototype.$modes=r.$modes,w.prototype.getValue=w.prototype.toString,w.prototype.$defaultUndoManager={undo:function(){},redo:function(){},hasUndo:function(){},hasRedo:function(){},reset:function(){},add:function(){},addSelection:function(){},startNewGroup:function(){},addSession:function(){}},w.prototype.$overwrite=!1,w.prototype.$mode=null,w.prototype.$modeId=null,w.prototype.$scrollTop=0,w.prototype.$scrollLeft=0,w.prototype.$wrapLimit=80,w.prototype.$useWrapMode=!1,w.prototype.$wrapLimitRange={min:null,max:null},w.prototype.lineWidgets=null,w.prototype.isFullWidth=R,b.implement(w.prototype,e);var E=1,k=2,f=3,C=4,g=9,m=10,S=11,A=12;function R(P){return P<4352?!1:P>=4352&&P<=4447||P>=4515&&P<=4519||P>=4602&&P<=4607||P>=9001&&P<=9002||P>=11904&&P<=11929||P>=11931&&P<=12019||P>=12032&&P<=12245||P>=12272&&P<=12283||P>=12288&&P<=12350||P>=12353&&P<=12438||P>=12441&&P<=12543||P>=12549&&P<=12589||P>=12593&&P<=12686||P>=12688&&P<=12730||P>=12736&&P<=12771||P>=12784&&P<=12830||P>=12832&&P<=12871||P>=12880&&P<=13054||P>=13056&&P<=19903||P>=19968&&P<=42124||P>=42128&&P<=42182||P>=43360&&P<=43388||P>=44032&&P<=55203||P>=55216&&P<=55238||P>=55243&&P<=55291||P>=63744&&P<=64255||P>=65040&&P<=65049||P>=65072&&P<=65106||P>=65108&&P<=65126||P>=65128&&P<=65131||P>=65281&&P<=65376||P>=65504&&P<=65510}M("./edit_session/folding").Folding.call(w.prototype),M("./edit_session/bracket_match").BracketMatch.call(w.prototype),r.defineOptions(w.prototype,"session",{wrap:{set:function(P){if(!P||P=="off"?P=!1:P=="free"?P=!0:P=="printMargin"?P=-1:typeof P=="string"&&(P=parseInt(P,10)||!1),this.$wrap!=P)if(this.$wrap=P,!P)this.setUseWrapMode(!1);else{var W=typeof P=="number"?P:null;this.setWrapLimitRange(W,W),this.setUseWrapMode(!0)}},get:function(){return this.getUseWrapMode()?this.$wrap==-1?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(P){P=P=="auto"?this.$mode.type!="text":P!="text",P!=this.$wrapAsCode&&(this.$wrapAsCode=P,this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0)))},initialValue:"auto"},indentedSoftWrap:{set:function(){this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0))},initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(P){this.$useWorker=P,this.$stopWorker(),P&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(P){P=parseInt(P),P>0&&this.$tabSize!==P&&(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=P,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},foldStyle:{set:function(P){this.setFoldStyle(P)},handlesSet:!0},overwrite:{set:function(P){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(P){this.doc.setNewLineMode(P)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(P){this.setMode(P)},get:function(){return this.$modeId},handlesSet:!0}}),h.EditSession=w}),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(M,h,F){"use strict";var b=M("./lib/lang"),d=M("./lib/oop"),D=M("./range").Range,r=function(){function s(){this.$options={}}return s.prototype.set=function(t){return d.mixin(this.$options,t),this},s.prototype.getOptions=function(){return b.copyObject(this.$options)},s.prototype.setOptions=function(t){this.$options=t},s.prototype.find=function(t){var i=this.$options,n=this.$matchIterator(t,i);if(!n)return!1;var o=null;return n.forEach(function(c,p,w,E){return o=new D(c,p,w,E),p==E&&i.start&&i.start.start&&i.skipCurrent!=!1&&o.isEqual(i.start)?(o=null,!1):!0}),o},s.prototype.findAll=function(t){var i=this.$options;if(!i.needle)return[];this.$assembleRegExp(i);var n=i.range,o=n?t.getLines(n.start.row,n.end.row):t.doc.getAllLines(),c=[],p=i.re;if(i.$isMultiLine){var w=p.length,E=o.length-w,k;e:for(var f=p.offset||0;f<=E;f++){for(var C=0;C<w;C++)if(o[f+C].search(p[C])==-1)continue e;var g=o[f],m=o[f+w-1],S=g.length-g.match(p[0])[0].length,A=m.match(p[w-1])[0].length;k&&k.end.row===f&&k.end.column>S||(c.push(k=new D(f,S,f+w-1,A)),w>2&&(f=f+w-2))}}else for(var R=0;R<o.length;R++)for(var P=b.getMatchOffsets(o[R],p),C=0;C<P.length;C++){var W=P[C];c.push(new D(R,W.offset,R,W.offset+W.length))}if(n){for(var _=n.start.column,T=n.end.column,R=0,C=c.length-1;R<C&&c[R].start.column<_&&c[R].start.row==0;)R++;for(var N=n.end.row-n.start.row;R<C&&c[C].end.column>T&&c[C].end.row==N;)C--;for(c=c.slice(R,C+1),R=0,C=c.length;R<C;R++)c[R].start.row+=n.start.row,c[R].end.row+=n.start.row}return c},s.prototype.replace=function(t,i){var n=this.$options,o=this.$assembleRegExp(n);if(n.$isMultiLine)return i;if(o){var c=o.exec(t);if(!c||c[0].length!=t.length)return null;if(n.regExp||(i=i.replace(/\$/g,"$$$$")),i=t.replace(o,i),n.preserveCase){i=i.split("");for(var p=Math.min(t.length,t.length);p--;){var w=t[p];w&&w.toLowerCase()!=w?i[p]=i[p].toUpperCase():i[p]=i[p].toLowerCase()}i=i.join("")}return i}},s.prototype.$assembleRegExp=function(t,i){if(t.needle instanceof RegExp)return t.re=t.needle;var n=t.needle;if(!t.needle)return t.re=!1;t.regExp||(n=b.escapeRegExp(n));var o=t.caseSensitive?"gm":"gmi";try{new RegExp(n,"u"),t.$supportsUnicodeFlag=!0,o+="u"}catch(p){t.$supportsUnicodeFlag=!1}if(t.wholeWord&&(n=e(n,t)),t.$isMultiLine=!i&&/[\n\r]/.test(n),t.$isMultiLine)return t.re=this.$assembleMultilineRegExp(n,o);try{var c=new RegExp(n,o)}catch(p){c=!1}return t.re=c},s.prototype.$assembleMultilineRegExp=function(t,i){for(var n=t.replace(/\r\n|\r|\n/g,`$
^`).split(`
`),o=[],c=0;c<n.length;c++)try{o.push(new RegExp(n[c],i))}catch(p){return!1}return o},s.prototype.$matchIterator=function(t,i){var n=this.$assembleRegExp(i);if(!n)return!1;var o=i.backwards==!0,c=i.skipCurrent!=!1,p=n.unicode,w=i.range,E=i.start;E||(E=w?w[o?"end":"start"]:t.selection.getRange()),E.start&&(E=E[c!=o?"end":"start"]);var k=w?w.start.row:0,f=w?w.end.row:t.getLength()-1;if(o)var C=function(S){var A=E.row;if(!m(A,E.column,S)){for(A--;A>=k;A--)if(m(A,Number.MAX_VALUE,S))return;if(i.wrap!=!1){for(A=f,k=E.row;A>=k;A--)if(m(A,Number.MAX_VALUE,S))return}}};else var C=function(A){var R=E.row;if(!m(R,E.column,A)){for(R=R+1;R<=f;R++)if(m(R,0,A))return;if(i.wrap!=!1){for(R=k,f=E.row;R<=f;R++)if(m(R,0,A))return}}};if(i.$isMultiLine)var g=n.length,m=function(S,A,R){var P=o?S-g+1:S;if(!(P<0||P+g>t.getLength())){var W=t.getLine(P),_=W.search(n[0]);if(!(!o&&_<A||_===-1)){for(var T=1;T<g;T++)if(W=t.getLine(P+T),W.search(n[T])==-1)return;var N=W.match(n[g-1])[0].length;if(!(o&&N>A)&&R(P,_,P+g-1,N))return!0}}};else if(o)var m=function(A,R,P){var W=t.getLine(A),_=[],T,N=0;for(n.lastIndex=0;T=n.exec(W);){var V=T[0].length;if(N=T.index,!V){if(N>=W.length)break;n.lastIndex=N+=b.skipEmptyMatch(W,N,p)}if(T.index+V>R)break;_.push(T.index,V)}for(var K=_.length-1;K>=0;K-=2){var I=_[K-1],V=_[K];if(P(A,I,A,I+V))return!0}};else var m=function(A,R,P){var W=t.getLine(A),_,T;for(n.lastIndex=R;T=n.exec(W);){var N=T[0].length;if(_=T.index,P(A,_,A,_+N))return!0;if(!N&&(n.lastIndex=_+=b.skipEmptyMatch(W,_,p),_>=W.length))return!1}};return{forEach:C}},s}();function e(s,t){var i=b.supportsLookbehind();function n(w,E){E===void 0&&(E=!0);var k=i&&t.$supportsUnicodeFlag?new RegExp("[\\p{L}\\p{N}_]","u"):new RegExp("\\w");return k.test(w)||t.regExp?i&&t.$supportsUnicodeFlag?E?"(?<=^|[^\\p{L}\\p{N}_])":"(?=[^\\p{L}\\p{N}_]|$)":"\\b":""}var o=Array.from(s),c=o[0],p=o[o.length-1];return n(c)+s+n(p,!1)}h.Search=r}),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(M,h,F){"use strict";var b=this&&this.__extends||function(){var i=function(n,o){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,p){c.__proto__=p}||function(c,p){for(var w in p)Object.prototype.hasOwnProperty.call(p,w)&&(c[w]=p[w])},i(n,o)};return function(n,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");i(n,o);function c(){this.constructor=n}n.prototype=o===null?Object.create(o):(c.prototype=o.prototype,new c)}}(),d=M("../lib/keys"),D=M("../lib/useragent"),r=d.KEY_MODS,e=function(){function i(n,o){this.$init(n,o,!1)}return i.prototype.$init=function(n,o,c){this.platform=o||(D.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(n),this.$singleCommand=c},i.prototype.addCommand=function(n){this.commands[n.name]&&this.removeCommand(n),this.commands[n.name]=n,n.bindKey&&this._buildKeyHash(n)},i.prototype.removeCommand=function(n,o){var c=n&&(typeof n=="string"?n:n.name);n=this.commands[c],o||delete this.commands[c];var p=this.commandKeyBinding;for(var w in p){var E=p[w];if(E==n)delete p[w];else if(Array.isArray(E)){var k=E.indexOf(n);k!=-1&&(E.splice(k,1),E.length==1&&(p[w]=E[0]))}}},i.prototype.bindKey=function(n,o,c){if(typeof n=="object"&&n&&(c==null&&(c=n.position),n=n[this.platform]),!!n){if(typeof o=="function")return this.addCommand({exec:o,bindKey:n,name:o.name||n});n.split("|").forEach(function(p){var w="";if(p.indexOf(" ")!=-1){var E=p.split(/\s+/);p=E.pop(),E.forEach(function(C){var g=this.parseKeys(C),m=r[g.hashId]+g.key;w+=(w?" ":"")+m,this._addCommandToBinding(w,"chainKeys")},this),w+=" "}var k=this.parseKeys(p),f=r[k.hashId]+k.key;this._addCommandToBinding(w+f,o,c)},this)}},i.prototype._addCommandToBinding=function(n,o,c){var p=this.commandKeyBinding,w;if(!o)delete p[n];else if(!p[n]||this.$singleCommand)p[n]=o;else{Array.isArray(p[n])?(w=p[n].indexOf(o))!=-1&&p[n].splice(w,1):p[n]=[p[n]],typeof c!="number"&&(c=s(o));var E=p[n];for(w=0;w<E.length;w++){var k=E[w],f=s(k);if(f>c)break}E.splice(w,0,o)}},i.prototype.addCommands=function(n){n&&Object.keys(n).forEach(function(o){var c=n[o];if(c){if(typeof c=="string")return this.bindKey(c,o);typeof c=="function"&&(c={exec:c}),typeof c=="object"&&(c.name||(c.name=o),this.addCommand(c))}},this)},i.prototype.removeCommands=function(n){Object.keys(n).forEach(function(o){this.removeCommand(n[o])},this)},i.prototype.bindKeys=function(n){Object.keys(n).forEach(function(o){this.bindKey(o,n[o])},this)},i.prototype._buildKeyHash=function(n){this.bindKey(n.bindKey,n)},i.prototype.parseKeys=function(n){var o=n.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(f){return f}),c=o.pop(),p=d[c];if(d.FUNCTION_KEYS[p])c=d.FUNCTION_KEYS[p].toLowerCase();else if(o.length){if(o.length==1&&o[0]=="shift")return{key:c.toUpperCase(),hashId:-1}}else return{key:c,hashId:-1};for(var w=0,E=o.length;E--;){var k=d.KEY_MODS[o[E]];if(k==null)return typeof console!="undefined"&&console.error("invalid modifier "+o[E]+" in "+n),!1;w|=k}return{key:c,hashId:w}},i.prototype.findKeyCommand=function(n,o){var c=r[n]+o;return this.commandKeyBinding[c]},i.prototype.handleKeyboard=function(n,o,c,p){if(!(p<0)){var w=r[o]+c,E=this.commandKeyBinding[w];return n.$keyChain&&(n.$keyChain+=" "+w,E=this.commandKeyBinding[n.$keyChain]||E),E&&(E=="chainKeys"||E[E.length-1]=="chainKeys")?(n.$keyChain=n.$keyChain||w,{command:"null"}):(n.$keyChain&&((!o||o==4)&&c.length==1?n.$keyChain=n.$keyChain.slice(0,-w.length-1):(o==-1||p>0)&&(n.$keyChain="")),{command:E})}},i.prototype.getStatusText=function(n,o){return o.$keyChain||""},i}();function s(i){return typeof i=="object"&&i.bindKey&&i.bindKey.position||(i.isDefault?-100:0)}var t=function(i){b(n,i);function n(o,c){var p=i.call(this,o,c)||this;return p.$singleCommand=!0,p}return n}(e);t.call=function(i,n,o){e.prototype.$init.call(i,n,o,!0)},e.call=function(i,n,o){e.prototype.$init.call(i,n,o,!1)},h.HashHandler=t,h.MultiHashHandler=e}),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],function(M,h,F){"use strict";var b=this&&this.__extends||function(){var s=function(t,i){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(n[c]=o[c])},s(t,i)};return function(t,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");s(t,i);function n(){this.constructor=t}t.prototype=i===null?Object.create(i):(n.prototype=i.prototype,new n)}}(),d=M("../lib/oop"),D=M("../keyboard/hash_handler").MultiHashHandler,r=M("../lib/event_emitter").EventEmitter,e=function(s){b(t,s);function t(i,n){var o=s.call(this,n,i)||this;return o.byName=o.commands,o.setDefaultHandler("exec",function(c){return c.args?c.command.exec(c.editor,c.args,c.event,!1):c.command.exec(c.editor,{},c.event,!0)}),o}return t.prototype.exec=function(i,n,o){if(Array.isArray(i)){for(var c=i.length;c--;)if(this.exec(i[c],n,o))return!0;return!1}if(typeof i=="string"&&(i=this.commands[i]),!i||n&&n.$readOnly&&!i.readOnly||this.$checkCommandState!=!1&&i.isAvailable&&!i.isAvailable(n))return!1;var p={editor:n,command:i,args:o};return p.returnValue=this._emit("exec",p),this._signal("afterExec",p),p.returnValue!==!1},t.prototype.toggleRecording=function(i){if(!this.$inReplay)return i&&i._emit("changeStatus"),this.recording?(this.macro.pop(),this.off("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=function(n){this.macro.push([n.command,n.args])}.bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},t.prototype.replay=function(i){if(!(this.$inReplay||!this.macro)){if(this.recording)return this.toggleRecording(i);try{this.$inReplay=!0,this.macro.forEach(function(n){typeof n=="string"?this.exec(n,i):this.exec(n[0],i,n[1])},this)}finally{this.$inReplay=!1}}},t.prototype.trimMacro=function(i){return i.map(function(n){return typeof n[0]!="string"&&(n[0]=n[0].name),n[1]||(n=n[0]),n})},t}(D);d.implement(e.prototype,r),h.CommandManager=e}),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],function(M,h,F){"use strict";var b=M("../lib/lang"),d=M("../config"),D=M("../range").Range;function r(s,t){return{win:s,mac:t}}h.commands=[{name:"showSettingsMenu",description:"Show settings menu",bindKey:r("Ctrl-,","Command-,"),exec:function(s){d.loadModule("ace/ext/settings_menu",function(t){t.init(s),s.showSettingsMenu()})},readOnly:!0},{name:"goToNextError",description:"Go to next error",bindKey:r("Alt-E","F4"),exec:function(s){d.loadModule("ace/ext/error_marker",function(t){t.showErrorMarker(s,1)})},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",description:"Go to previous error",bindKey:r("Alt-Shift-E","Shift-F4"),exec:function(s){d.loadModule("ace/ext/error_marker",function(t){t.showErrorMarker(s,-1)})},scrollIntoView:"animate",readOnly:!0},{name:"selectall",description:"Select all",bindKey:r("Ctrl-A","Command-A"),exec:function(s){s.selectAll()},readOnly:!0},{name:"centerselection",description:"Center selection",bindKey:r(null,"Ctrl-L"),exec:function(s){s.centerSelection()},readOnly:!0},{name:"gotoline",description:"Go to line...",bindKey:r("Ctrl-L","Command-L"),exec:function(s,t){typeof t=="number"&&!isNaN(t)&&s.gotoLine(t),s.prompt({$type:"gotoLine"})},readOnly:!0},{name:"fold",bindKey:r("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(s){s.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:r("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(s){s.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",description:"Toggle fold widget",bindKey:r("F2","F2"),exec:function(s){s.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",description:"Toggle parent fold widget",bindKey:r("Alt-F2","Alt-F2"),exec:function(s){s.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",description:"Fold all",bindKey:r(null,"Ctrl-Command-Option-0"),exec:function(s){s.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldAllComments",description:"Fold all comments",bindKey:r(null,"Ctrl-Command-Option-0"),exec:function(s){s.session.foldAllComments()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",description:"Fold other",bindKey:r("Alt-0","Command-Option-0"),exec:function(s){s.session.foldAll(),s.session.unfold(s.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",description:"Unfold all",bindKey:r("Alt-Shift-0","Command-Option-Shift-0"),exec:function(s){s.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",description:"Find next",bindKey:r("Ctrl-K","Command-G"),exec:function(s){s.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",description:"Find previous",bindKey:r("Ctrl-Shift-K","Command-Shift-G"),exec:function(s){s.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",description:"Select or find next",bindKey:r("Alt-K","Ctrl-G"),exec:function(s){s.selection.isEmpty()?s.selection.selectWord():s.findNext()},readOnly:!0},{name:"selectOrFindPrevious",description:"Select or find previous",bindKey:r("Alt-Shift-K","Ctrl-Shift-G"),exec:function(s){s.selection.isEmpty()?s.selection.selectWord():s.findPrevious()},readOnly:!0},{name:"find",description:"Find",bindKey:r("Ctrl-F","Command-F"),exec:function(s){d.loadModule("ace/ext/searchbox",function(t){t.Search(s)})},readOnly:!0},{name:"overwrite",description:"Overwrite",bindKey:"Insert",exec:function(s){s.toggleOverwrite()},readOnly:!0},{name:"selecttostart",description:"Select to start",bindKey:r("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(s){s.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",description:"Go to start",bindKey:r("Ctrl-Home","Command-Home|Command-Up"),exec:function(s){s.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",description:"Select up",bindKey:r("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(s){s.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",description:"Go line up",bindKey:r("Up","Up|Ctrl-P"),exec:function(s,t){s.navigateUp(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",description:"Select to end",bindKey:r("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(s){s.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",description:"Go to end",bindKey:r("Ctrl-End","Command-End|Command-Down"),exec:function(s){s.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",description:"Select down",bindKey:r("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(s){s.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",description:"Go line down",bindKey:r("Down","Down|Ctrl-N"),exec:function(s,t){s.navigateDown(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",description:"Select word left",bindKey:r("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(s){s.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",description:"Go to word left",bindKey:r("Ctrl-Left","Option-Left"),exec:function(s){s.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",description:"Select to line start",bindKey:r("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(s){s.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",description:"Go to line start",bindKey:r("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(s){s.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",description:"Select left",bindKey:r("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(s){s.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",description:"Go to left",bindKey:r("Left","Left|Ctrl-B"),exec:function(s,t){s.navigateLeft(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",description:"Select word right",bindKey:r("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(s){s.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",description:"Go to word right",bindKey:r("Ctrl-Right","Option-Right"),exec:function(s){s.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",description:"Select to line end",bindKey:r("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(s){s.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",description:"Go to line end",bindKey:r("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(s){s.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",description:"Select right",bindKey:r("Shift-Right","Shift-Right"),exec:function(s){s.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",description:"Go to right",bindKey:r("Right","Right|Ctrl-F"),exec:function(s,t){s.navigateRight(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",description:"Select page down",bindKey:"Shift-PageDown",exec:function(s){s.selectPageDown()},readOnly:!0},{name:"pagedown",description:"Page down",bindKey:r(null,"Option-PageDown"),exec:function(s){s.scrollPageDown()},readOnly:!0},{name:"gotopagedown",description:"Go to page down",bindKey:r("PageDown","PageDown|Ctrl-V"),exec:function(s){s.gotoPageDown()},readOnly:!0},{name:"selectpageup",description:"Select page up",bindKey:"Shift-PageUp",exec:function(s){s.selectPageUp()},readOnly:!0},{name:"pageup",description:"Page up",bindKey:r(null,"Option-PageUp"),exec:function(s){s.scrollPageUp()},readOnly:!0},{name:"gotopageup",description:"Go to page up",bindKey:"PageUp",exec:function(s){s.gotoPageUp()},readOnly:!0},{name:"scrollup",description:"Scroll up",bindKey:r("Ctrl-Up",null),exec:function(s){s.renderer.scrollBy(0,-2*s.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",description:"Scroll down",bindKey:r("Ctrl-Down",null),exec:function(s){s.renderer.scrollBy(0,2*s.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",description:"Select line start",bindKey:"Shift-Home",exec:function(s){s.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",description:"Select line end",bindKey:"Shift-End",exec:function(s){s.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",description:"Toggle recording",bindKey:r("Ctrl-Alt-E","Command-Option-E"),exec:function(s){s.commands.toggleRecording(s)},readOnly:!0},{name:"replaymacro",description:"Replay macro",bindKey:r("Ctrl-Shift-E","Command-Shift-E"),exec:function(s){s.commands.replay(s)},readOnly:!0},{name:"jumptomatching",description:"Jump to matching",bindKey:r("Ctrl-\\|Ctrl-P","Command-\\"),exec:function(s){s.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",description:"Select to matching",bindKey:r("Ctrl-Shift-\\|Ctrl-Shift-P","Command-Shift-\\"),exec:function(s){s.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",description:"Expand to matching",bindKey:r("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(s){s.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",description:"Pass keys to browser",bindKey:r(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",description:"Copy",exec:function(s){},readOnly:!0},{name:"cut",description:"Cut",exec:function(s){var t=s.$copyWithEmptySelection&&s.selection.isEmpty(),i=t?s.selection.getLineRange():s.selection.getRange();s._emit("cut",i),i.isEmpty()||s.session.remove(i),s.clearSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",description:"Paste",exec:function(s,t){s.$handlePaste(t)},scrollIntoView:"cursor"},{name:"removeline",description:"Remove line",bindKey:r("Ctrl-D","Command-D"),exec:function(s){s.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",description:"Duplicate selection",bindKey:r("Ctrl-Shift-D","Command-Shift-D"),exec:function(s){s.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",description:"Sort lines",bindKey:r("Ctrl-Alt-S","Command-Alt-S"),exec:function(s){s.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",description:"Toggle comment",bindKey:r("Ctrl-/","Command-/"),exec:function(s){s.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",description:"Toggle block comment",bindKey:r("Ctrl-Shift-/","Command-Shift-/"),exec:function(s){s.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",description:"Modify number up",bindKey:r("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(s){s.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",description:"Modify number down",bindKey:r("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(s){s.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",description:"Replace",bindKey:r("Ctrl-H","Command-Option-F"),exec:function(s){d.loadModule("ace/ext/searchbox",function(t){t.Search(s,!0)})}},{name:"undo",description:"Undo",bindKey:r("Ctrl-Z","Command-Z"),exec:function(s){s.undo()}},{name:"redo",description:"Redo",bindKey:r("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(s){s.redo()}},{name:"copylinesup",description:"Copy lines up",bindKey:r("Alt-Shift-Up","Command-Option-Up"),exec:function(s){s.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",description:"Move lines up",bindKey:r("Alt-Up","Option-Up"),exec:function(s){s.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",description:"Copy lines down",bindKey:r("Alt-Shift-Down","Command-Option-Down"),exec:function(s){s.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",description:"Move lines down",bindKey:r("Alt-Down","Option-Down"),exec:function(s){s.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",description:"Delete",bindKey:r("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(s){s.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",description:"Backspace",bindKey:r("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(s){s.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",description:"Cut or delete",bindKey:r("Shift-Delete",null),exec:function(s){if(s.selection.isEmpty())s.remove("left");else return!1},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",description:"Remove to line start",bindKey:r("Alt-Backspace","Command-Backspace"),exec:function(s){s.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",description:"Remove to line end",bindKey:r("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(s){s.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",description:"Remove to line start hard",bindKey:r("Ctrl-Shift-Backspace",null),exec:function(s){var t=s.selection.getRange();t.start.column=0,s.session.remove(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",description:"Remove to line end hard",bindKey:r("Ctrl-Shift-Delete",null),exec:function(s){var t=s.selection.getRange();t.end.column=Number.MAX_VALUE,s.session.remove(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",description:"Remove word left",bindKey:r("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(s){s.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",description:"Remove word right",bindKey:r("Ctrl-Delete","Alt-Delete"),exec:function(s){s.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",description:"Outdent",bindKey:r("Shift-Tab","Shift-Tab"),exec:function(s){s.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",description:"Indent",bindKey:r("Tab","Tab"),exec:function(s){s.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",description:"Block outdent",bindKey:r("Ctrl-[","Ctrl-["),exec:function(s){s.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",description:"Block indent",bindKey:r("Ctrl-]","Ctrl-]"),exec:function(s){s.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",description:"Insert string",exec:function(s,t){s.insert(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",description:"Insert text",exec:function(s,t){s.insert(b.stringRepeat(t.text||"",t.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",description:"Split line",bindKey:r(null,"Ctrl-O"),exec:function(s){s.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",description:"Transpose letters",bindKey:r("Alt-Shift-X","Ctrl-T"),exec:function(s){s.transposeLetters()},multiSelectAction:function(s){s.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",description:"To uppercase",bindKey:r("Ctrl-U","Ctrl-U"),exec:function(s){s.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",description:"To lowercase",bindKey:r("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(s){s.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"autoindent",description:"Auto Indent",bindKey:r(null,null),exec:function(s){s.autoIndent()},scrollIntoView:"animate"},{name:"expandtoline",description:"Expand to line",bindKey:r("Ctrl-Shift-L","Command-Shift-L"),exec:function(s){var t=s.selection.getRange();t.start.column=t.end.column=0,t.end.row++,s.selection.setRange(t,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"openlink",bindKey:r("Ctrl+F3","F3"),exec:function(s){s.openLink()}},{name:"joinlines",description:"Join lines",bindKey:r(null,null),exec:function(s){for(var t=s.selection.isBackwards(),i=t?s.selection.getSelectionLead():s.selection.getSelectionAnchor(),n=t?s.selection.getSelectionAnchor():s.selection.getSelectionLead(),o=s.session.doc.getLine(i.row).length,c=s.session.doc.getTextRange(s.selection.getRange()),p=c.replace(/\n\s*/," ").length,w=s.session.doc.getLine(i.row),E=i.row+1;E<=n.row+1;E++){var k=b.stringTrimLeft(b.stringTrimRight(s.session.doc.getLine(E)));k.length!==0&&(k=" "+k),w+=k}n.row+1<s.session.doc.getLength()-1&&(w+=s.session.doc.getNewLineCharacter()),s.clearSelection(),s.session.doc.replace(new D(i.row,0,n.row+2,0),w),p>0?(s.selection.moveCursorTo(i.row,i.column),s.selection.selectTo(i.row,i.column+p)):(o=s.session.doc.getLine(i.row).length>o?o+1:o,s.selection.moveCursorTo(i.row,o))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",description:"Invert selection",bindKey:r(null,null),exec:function(s){var t=s.session.doc.getLength()-1,i=s.session.doc.getLine(t).length,n=s.selection.rangeList.ranges,o=[];n.length<1&&(n=[s.selection.getRange()]);for(var c=0;c<n.length;c++)c==n.length-1&&(n[c].end.row===t&&n[c].end.column===i||o.push(new D(n[c].end.row,n[c].end.column,t,i))),c===0?n[c].start.row===0&&n[c].start.column===0||o.push(new D(0,0,n[c].start.row,n[c].start.column)):o.push(new D(n[c-1].end.row,n[c-1].end.column,n[c].start.row,n[c].start.column));s.exitMultiSelectMode(),s.clearSelection();for(var c=0;c<o.length;c++)s.selection.addRange(o[c],!1)},readOnly:!0,scrollIntoView:"none"},{name:"addLineAfter",description:"Add new line after the current line",exec:function(s){s.selection.clearSelection(),s.navigateLineEnd(),s.insert(`
`)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"addLineBefore",description:"Add new line before the current line",exec:function(s){s.selection.clearSelection();var t=s.getCursorPosition();s.selection.moveTo(t.row-1,Number.MAX_VALUE),s.insert(`
`),t.row===0&&s.navigateUp()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"openCommandPallete",exec:function(s){console.warn("This is an obsolete command. Please use `openCommandPalette` instead."),s.prompt({$type:"commands"})},readOnly:!0},{name:"openCommandPalette",description:"Open command palette",bindKey:r("F1","F1"),exec:function(s){s.prompt({$type:"commands"})},readOnly:!0},{name:"modeSelect",description:"Change language mode...",bindKey:r(null,null),exec:function(s){s.prompt({$type:"modes"})},readOnly:!0}];for(var e=1;e<9;e++)h.commands.push({name:"foldToLevel"+e,description:"Fold To Level "+e,level:e,exec:function(s){s.session.foldToLevel(this.level)},scrollIntoView:"center",readOnly:!0})}),ace.define("ace/line_widgets",["require","exports","module","ace/lib/dom"],function(M,h,F){"use strict";var b=M("./lib/dom"),d=function(){function D(r){this.session=r,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}return D.prototype.getRowLength=function(r){var e;return this.lineWidgets?e=this.lineWidgets[r]&&this.lineWidgets[r].rowCount||0:e=0,!this.$useWrapMode||!this.$wrapData[r]?1+e:this.$wrapData[r].length+1+e},D.prototype.$getWidgetScreenLength=function(){var r=0;return this.lineWidgets.forEach(function(e){e&&e.rowCount&&!e.hidden&&(r+=e.rowCount)}),r},D.prototype.$onChangeEditor=function(r){this.attach(r.editor)},D.prototype.attach=function(r){r&&r.widgetManager&&r.widgetManager!=this&&r.widgetManager.detach(),this.editor!=r&&(this.detach(),this.editor=r,r&&(r.widgetManager=this,r.renderer.on("beforeRender",this.measureWidgets),r.renderer.on("afterRender",this.renderWidgets)))},D.prototype.detach=function(r){var e=this.editor;if(e){this.editor=null,e.widgetManager=null,e.renderer.off("beforeRender",this.measureWidgets),e.renderer.off("afterRender",this.renderWidgets);var s=this.session.lineWidgets;s&&s.forEach(function(t){t&&t.el&&t.el.parentNode&&(t._inDocument=!1,t.el.parentNode.removeChild(t.el))})}},D.prototype.updateOnFold=function(r,e){var s=e.lineWidgets;if(!(!s||!r.action)){for(var t=r.data,i=t.start.row,n=t.end.row,o=r.action=="add",c=i+1;c<n;c++)s[c]&&(s[c].hidden=o);s[n]&&(o?s[i]?s[n].hidden=o:s[i]=s[n]:(s[i]==s[n]&&(s[i]=void 0),s[n].hidden=o))}},D.prototype.updateOnChange=function(r){var e=this.session.lineWidgets;if(e){var s=r.start.row,t=r.end.row-s;if(t!==0)if(r.action=="remove"){var i=e.splice(s+1,t);!e[s]&&i[i.length-1]&&(e[s]=i.pop()),i.forEach(function(o){o&&this.removeLineWidget(o)},this),this.$updateRows()}else{var n=new Array(t);e[s]&&e[s].column!=null&&r.start.column>e[s].column&&s++,n.unshift(s,0),e.splice.apply(e,n),this.$updateRows()}}},D.prototype.$updateRows=function(){var r=this.session.lineWidgets;if(r){var e=!0;r.forEach(function(s,t){if(s)for(e=!1,s.row=t;s.$oldWidget;)s.$oldWidget.row=t,s=s.$oldWidget}),e&&(this.session.lineWidgets=null)}},D.prototype.$registerLineWidget=function(r){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var e=this.session.lineWidgets[r.row];return e&&(r.$oldWidget=e,e.el&&e.el.parentNode&&(e.el.parentNode.removeChild(e.el),e._inDocument=!1)),this.session.lineWidgets[r.row]=r,r},D.prototype.addLineWidget=function(r){if(this.$registerLineWidget(r),r.session=this.session,!this.editor)return r;var e=this.editor.renderer;r.html&&!r.el&&(r.el=b.createElement("div"),r.el.innerHTML=r.html),r.text&&!r.el&&(r.el=b.createElement("div"),r.el.textContent=r.text),r.el&&(b.addCssClass(r.el,"ace_lineWidgetContainer"),r.className&&b.addCssClass(r.el,r.className),r.el.style.position="absolute",r.el.style.zIndex="5",e.container.appendChild(r.el),r._inDocument=!0,r.coverGutter||(r.el.style.zIndex="3"),r.pixelHeight==null&&(r.pixelHeight=r.el.offsetHeight)),r.rowCount==null&&(r.rowCount=r.pixelHeight/e.layerConfig.lineHeight);var s=this.session.getFoldAt(r.row,0);if(r.$fold=s,s){var t=this.session.lineWidgets;r.row==s.end.row&&!t[s.start.row]?t[s.start.row]=r:r.hidden=!0}return this.session._emit("changeFold",{data:{start:{row:r.row}}}),this.$updateRows(),this.renderWidgets(null,e),this.onWidgetChanged(r),r},D.prototype.removeLineWidget=function(r){if(r._inDocument=!1,r.session=null,r.el&&r.el.parentNode&&r.el.parentNode.removeChild(r.el),r.editor&&r.editor.destroy)try{r.editor.destroy()}catch(s){}if(this.session.lineWidgets){var e=this.session.lineWidgets[r.row];if(e==r)this.session.lineWidgets[r.row]=r.$oldWidget,r.$oldWidget&&this.onWidgetChanged(r.$oldWidget);else for(;e;){if(e.$oldWidget==r){e.$oldWidget=r.$oldWidget;break}e=e.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:r.row}}}),this.$updateRows()},D.prototype.getWidgetsAtRow=function(r){for(var e=this.session.lineWidgets,s=e&&e[r],t=[];s;)t.push(s),s=s.$oldWidget;return t},D.prototype.onWidgetChanged=function(r){this.session._changedWidgets.push(r),this.editor&&this.editor.renderer.updateFull()},D.prototype.measureWidgets=function(r,e){var s=this.session._changedWidgets,t=e.layerConfig;if(!(!s||!s.length)){for(var i=1/0,n=0;n<s.length;n++){var o=s[n];if(!(!o||!o.el)&&o.session==this.session){if(!o._inDocument){if(this.session.lineWidgets[o.row]!=o)continue;o._inDocument=!0,e.container.appendChild(o.el)}o.h=o.el.offsetHeight,o.fixedWidth||(o.w=o.el.offsetWidth,o.screenWidth=Math.ceil(o.w/t.characterWidth));var c=o.h/t.lineHeight;o.coverLine&&(c-=this.session.getRowLineCount(o.row),c<0&&(c=0)),o.rowCount!=c&&(o.rowCount=c,o.row<i&&(i=o.row))}}i!=1/0&&(this.session._emit("changeFold",{data:{start:{row:i}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},D.prototype.renderWidgets=function(r,e){var s=e.layerConfig,t=this.session.lineWidgets;if(t){for(var i=Math.min(this.firstRow,s.firstRow),n=Math.max(this.lastRow,s.lastRow,t.length);i>0&&!t[i];)i--;this.firstRow=s.firstRow,this.lastRow=s.lastRow,e.$cursorLayer.config=s;for(var o=i;o<=n;o++){var c=t[o];if(!(!c||!c.el)){if(c.hidden){c.el.style.top=-100-(c.pixelHeight||0)+"px";continue}c._inDocument||(c._inDocument=!0,e.container.appendChild(c.el));var p=e.$cursorLayer.getPixelPosition({row:o,column:0},!0).top;c.coverLine||(p+=s.lineHeight*this.session.getRowLineCount(c.row)),c.el.style.top=p-s.offset+"px";var w=c.coverGutter?0:e.gutterWidth;c.fixedWidth||(w-=e.scrollLeft),c.el.style.left=w+"px",c.fullWidth&&c.screenWidth&&(c.el.style.minWidth=s.width+2*s.padding+"px"),c.fixedWidth?c.el.style.right=e.scrollBar.getWidth()+"px":c.el.style.right=""}}}},D}();h.LineWidgets=d}),ace.define("ace/keyboard/gutter_handler",["require","exports","module","ace/lib/keys","ace/mouse/default_gutter_handler"],function(M,h,F){"use strict";var b=M("../lib/keys"),d=M("../mouse/default_gutter_handler").GutterTooltip,D=function(){function e(s){this.editor=s,this.gutterLayer=s.renderer.$gutterLayer,this.element=s.renderer.$gutter,this.lines=s.renderer.$gutterLayer.$lines,this.activeRowIndex=null,this.activeLane=null,this.annotationTooltip=new d(this.editor)}return e.prototype.addListener=function(){this.element.addEventListener("keydown",this.$onGutterKeyDown.bind(this)),this.element.addEventListener("focusout",this.$blurGutter.bind(this)),this.editor.on("mousewheel",this.$blurGutter.bind(this))},e.prototype.removeListener=function(){this.element.removeEventListener("keydown",this.$onGutterKeyDown.bind(this)),this.element.removeEventListener("focusout",this.$blurGutter.bind(this)),this.editor.off("mousewheel",this.$blurGutter.bind(this))},e.prototype.$onGutterKeyDown=function(s){if(this.annotationTooltip.isOpen){s.preventDefault(),s.keyCode===b.escape&&this.annotationTooltip.hideTooltip();return}if(s.target===this.element){if(s.keyCode!=b.enter)return;s.preventDefault();var t=this.editor.getCursorPosition().row;this.editor.isRowVisible(t)||this.editor.scrollToLine(t,!0,!0),setTimeout(function(){var i=this.$rowToRowIndex(this.gutterLayer.$cursorCell.row),n=this.$findNearestFoldWidget(i),o=this.$findNearestAnnotation(i);if(!(n===null&&o===null)){if(n===null&&o!==null){this.activeRowIndex=o,this.activeLane="annotation",this.$focusAnnotation(this.activeRowIndex);return}if(n!==null&&o===null){this.activeRowIndex=n,this.activeLane="fold",this.$focusFoldWidget(this.activeRowIndex);return}if(Math.abs(o-i)<Math.abs(n-i)){this.activeRowIndex=o,this.activeLane="annotation",this.$focusAnnotation(this.activeRowIndex);return}else{this.activeRowIndex=n,this.activeLane="fold",this.$focusFoldWidget(this.activeRowIndex);return}}}.bind(this),10);return}this.$handleGutterKeyboardInteraction(s),setTimeout(function(){this.editor._signal("gutterkeydown",new r(s,this))}.bind(this),10)},e.prototype.$handleGutterKeyboardInteraction=function(s){if(s.keyCode===b.tab){s.preventDefault();return}if(s.keyCode===b.escape){s.preventDefault(),this.$blurGutter(),this.element.focus(),this.lane=null;return}if(s.keyCode===b.up){switch(s.preventDefault(),this.activeLane){case"fold":this.$moveFoldWidgetUp();break;case"annotation":this.$moveAnnotationUp();break}return}if(s.keyCode===b.down){switch(s.preventDefault(),this.activeLane){case"fold":this.$moveFoldWidgetDown();break;case"annotation":this.$moveAnnotationDown();break}return}if(s.keyCode===b.left){s.preventDefault(),this.$switchLane("annotation");return}if(s.keyCode===b.right){s.preventDefault(),this.$switchLane("fold");return}if(s.keyCode===b.enter||s.keyCode===b.space){switch(s.preventDefault(),this.activeLane){case"fold":if(this.gutterLayer.session.foldWidgets[this.$rowIndexToRow(this.activeRowIndex)]==="start"){var t=this.$rowIndexToRow(this.activeRowIndex);this.editor.session.onFoldWidgetClick(this.$rowIndexToRow(this.activeRowIndex),s),setTimeout(function(){this.$rowIndexToRow(this.activeRowIndex)!==t&&(this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=this.$rowToRowIndex(t),this.$focusFoldWidget(this.activeRowIndex))}.bind(this),10);break}else if(this.gutterLayer.session.foldWidgets[this.$rowIndexToRow(this.activeRowIndex)]==="end")break;return;case"annotation":var i=this.lines.cells[this.activeRowIndex].element.childNodes[2],n=i.getBoundingClientRect(),o=this.annotationTooltip.getElement().style;o.left=n.right+"px",o.top=n.bottom+"px",this.annotationTooltip.showTooltip(this.$rowIndexToRow(this.activeRowIndex));break}return}},e.prototype.$blurGutter=function(){if(this.activeRowIndex!==null)switch(this.activeLane){case"fold":this.$blurFoldWidget(this.activeRowIndex);break;case"annotation":this.$blurAnnotation(this.activeRowIndex);break}this.annotationTooltip.isOpen&&this.annotationTooltip.hideTooltip()},e.prototype.$isFoldWidgetVisible=function(s){var t=this.editor.isRowFullyVisible(this.$rowIndexToRow(s)),i=this.$getFoldWidget(s).style.display!=="none";return t&&i},e.prototype.$isAnnotationVisible=function(s){var t=this.editor.isRowFullyVisible(this.$rowIndexToRow(s)),i=this.$getAnnotation(s).style.display!=="none";return t&&i},e.prototype.$getFoldWidget=function(s){var t=this.lines.get(s),i=t.element;return i.childNodes[1]},e.prototype.$getAnnotation=function(s){var t=this.lines.get(s),i=t.element;return i.childNodes[2]},e.prototype.$findNearestFoldWidget=function(s){if(this.$isFoldWidgetVisible(s))return s;for(var t=0;s-t>0||s+t<this.lines.getLength()-1;){if(t++,s-t>=0&&this.$isFoldWidgetVisible(s-t))return s-t;if(s+t<=this.lines.getLength()-1&&this.$isFoldWidgetVisible(s+t))return s+t}return null},e.prototype.$findNearestAnnotation=function(s){if(this.$isAnnotationVisible(s))return s;for(var t=0;s-t>0||s+t<this.lines.getLength()-1;){if(t++,s-t>=0&&this.$isAnnotationVisible(s-t))return s-t;if(s+t<=this.lines.getLength()-1&&this.$isAnnotationVisible(s+t))return s+t}return null},e.prototype.$focusFoldWidget=function(s){if(s!=null){var t=this.$getFoldWidget(s);t.classList.add(this.editor.renderer.keyboardFocusClassName),t.focus()}},e.prototype.$focusAnnotation=function(s){if(s!=null){var t=this.$getAnnotation(s);t.classList.add(this.editor.renderer.keyboardFocusClassName),t.focus()}},e.prototype.$blurFoldWidget=function(s){var t=this.$getFoldWidget(s);t.classList.remove(this.editor.renderer.keyboardFocusClassName),t.blur()},e.prototype.$blurAnnotation=function(s){var t=this.$getAnnotation(s);t.classList.remove(this.editor.renderer.keyboardFocusClassName),t.blur()},e.prototype.$moveFoldWidgetUp=function(){for(var s=this.activeRowIndex;s>0;)if(s--,this.$isFoldWidgetVisible(s)){this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=s,this.$focusFoldWidget(this.activeRowIndex);return}},e.prototype.$moveFoldWidgetDown=function(){for(var s=this.activeRowIndex;s<this.lines.getLength()-1;)if(s++,this.$isFoldWidgetVisible(s)){this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=s,this.$focusFoldWidget(this.activeRowIndex);return}},e.prototype.$moveAnnotationUp=function(){for(var s=this.activeRowIndex;s>0;)if(s--,this.$isAnnotationVisible(s)){this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=s,this.$focusAnnotation(this.activeRowIndex);return}},e.prototype.$moveAnnotationDown=function(){for(var s=this.activeRowIndex;s<this.lines.getLength()-1;)if(s++,this.$isAnnotationVisible(s)){this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=s,this.$focusAnnotation(this.activeRowIndex);return}},e.prototype.$switchLane=function(s){switch(s){case"annotation":if(this.activeLane==="annotation")break;var t=this.$findNearestAnnotation(this.activeRowIndex);if(t==null)break;this.activeLane="annotation",this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=t,this.$focusAnnotation(this.activeRowIndex);break;case"fold":if(this.activeLane==="fold")break;var i=this.$findNearestFoldWidget(this.activeRowIndex);if(i==null)break;this.activeLane="fold",this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=i,this.$focusFoldWidget(this.activeRowIndex);break}},e.prototype.$rowIndexToRow=function(s){var t=this.lines.get(s);return t?t.row:null},e.prototype.$rowToRowIndex=function(s){for(var t=0;t<this.lines.getLength();t++){var i=this.lines.get(t);if(i.row==s)return t}return null},e}();h.GutterKeyboardHandler=D;var r=function(){function e(s,t){this.gutterKeyboardHandler=t,this.domEvent=s}return e.prototype.getKey=function(){return b.keyCodeToString(this.domEvent.keyCode)},e.prototype.getRow=function(){return this.gutterKeyboardHandler.$rowIndexToRow(this.gutterKeyboardHandler.activeRowIndex)},e.prototype.isInAnnotationLane=function(){return this.gutterKeyboardHandler.activeLane==="annotation"},e.prototype.isInFoldLane=function(){return this.gutterKeyboardHandler.activeLane==="fold"},e}();h.GutterKeyboardEvent=r}),ace.define("ace/editor",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator","ace/line_widgets","ace/keyboard/gutter_handler","ace/config","ace/clipboard","ace/lib/keys"],function(M,h,F){"use strict";var b=this&&this.__values||function(_){var T=typeof Symbol=="function"&&Symbol.iterator,N=T&&_[T],V=0;if(N)return N.call(_);if(_&&typeof _.length=="number")return{next:function(){return _&&V>=_.length&&(_=void 0),{value:_&&_[V++],done:!_}}};throw new TypeError(T?"Object is not iterable.":"Symbol.iterator is not defined.")},d=M("./lib/oop"),D=M("./lib/dom"),r=M("./lib/lang"),e=M("./lib/useragent"),s=M("./keyboard/textinput").TextInput,t=M("./mouse/mouse_handler").MouseHandler,i=M("./mouse/fold_handler").FoldHandler,n=M("./keyboard/keybinding").KeyBinding,o=M("./edit_session").EditSession,c=M("./search").Search,p=M("./range").Range,w=M("./lib/event_emitter").EventEmitter,E=M("./commands/command_manager").CommandManager,k=M("./commands/default_commands").commands,f=M("./config"),C=M("./token_iterator").TokenIterator,g=M("./line_widgets").LineWidgets,m=M("./keyboard/gutter_handler").GutterKeyboardHandler,S=M("./config").nls,A=M("./clipboard"),R=M("./lib/keys"),P=function(){function _(T,N,V){this.session,this.$toDestroy=[];var K=T.getContainerElement();this.container=K,this.renderer=T,this.id="editor"+ ++_.$uid,this.commands=new E(e.isMac?"mac":"win",k),typeof document=="object"&&(this.textInput=new s(T.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new t(this),new i(this)),this.keyBinding=new n(this),this.$search=new c().set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=r.delayedCall(function(){this._signal("input",{}),this.session&&!this.session.destroyed&&this.session.bgTokenizer.scheduleStart()}.bind(this)),this.on("change",function(I,q){q._$emitInputEvent.schedule(31)}),this.setSession(N||V&&V.session||new o("")),f.resetOptions(this),V&&this.setOptions(V),f._signal("editor",this)}return _.prototype.$initOperationListeners=function(){this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0),this.$opResetTimer=r.delayedCall(this.endOperation.bind(this,!0)),this.on("change",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.docChanged=!0}.bind(this),!0),this.on("changeSelection",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.selectionChanged=!0}.bind(this),!0)},_.prototype.startOperation=function(T){if(this.curOp){if(!T||this.curOp.command)return;this.prevOp=this.curOp}T||(this.previousCommand=null,T={}),this.$opResetTimer.schedule(),this.curOp=this.session.curOp={command:T.command||{},args:T.args,scrollTop:this.renderer.scrollTop},this.curOp.selectionBefore=this.selection.toJSON()},_.prototype.endOperation=function(T){if(this.curOp&&this.session){if(T&&T.returnValue===!1||!this.session)return this.curOp=null;if(T==!0&&this.curOp.command&&this.curOp.command.name=="mouse"||(this._signal("beforeEndOperation"),!this.curOp))return;var N=this.curOp.command,V=N&&N.scrollIntoView;if(V){switch(V){case"center-animate":V="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var K=this.selection.getRange(),I=this.renderer.layerConfig;(K.start.row>=I.lastRow||K.end.row<=I.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead);break;default:break}V=="animate"&&this.renderer.animateScrolling(this.curOp.scrollTop)}var q=this.selection.toJSON();this.curOp.selectionAfter=q,this.$lastSel=this.selection.toJSON(),this.session.getUndoManager().addSelection(q),this.prevOp=this.curOp,this.curOp=null}},_.prototype.$historyTracker=function(T){if(this.$mergeUndoDeltas){var N=this.prevOp,V=this.$mergeableCommands,K=N.command&&T.command.name==N.command.name;if(T.command.name=="insertstring"){var I=T.args;this.mergeNextCommand===void 0&&(this.mergeNextCommand=!0),K=K&&this.mergeNextCommand&&(!/\s/.test(I)||/\s/.test(N.args)),this.mergeNextCommand=!0}else K=K&&V.indexOf(T.command.name)!==-1;this.$mergeUndoDeltas!="always"&&Date.now()-this.sequenceStartTime>2e3&&(K=!1),K?this.session.mergeUndoDeltas=!0:V.indexOf(T.command.name)!==-1&&(this.sequenceStartTime=Date.now())}},_.prototype.setKeyboardHandler=function(T,N){if(T&&typeof T=="string"&&T!="ace"){this.$keybindingId=T;var V=this;f.loadModule(["keybinding",T],function(K){V.$keybindingId==T&&V.keyBinding.setKeyboardHandler(K&&K.handler),N&&N()})}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(T),N&&N()},_.prototype.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},_.prototype.setSession=function(T){if(this.session!=T){this.curOp&&this.endOperation(),this.curOp={};var N=this.session;if(N){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange);var V=this.session.getSelection();V.off("changeCursor",this.$onCursorChange),V.off("changeSelection",this.$onSelectionChange)}this.session=T,T?(this.$onDocumentChange=this.onDocumentChange.bind(this),T.on("change",this.$onDocumentChange),this.renderer.setSession(T),this.$onChangeMode=this.onChangeMode.bind(this),T.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),T.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),T.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),T.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),T.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),T.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=T.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.onCursorChange(),this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(T)),this._signal("changeSession",{session:T,oldSession:N}),this.curOp=null,N&&N._signal("changeEditor",{oldEditor:this}),T&&T._signal("changeEditor",{editor:this}),T&&!T.destroyed&&T.bgTokenizer.scheduleStart()}},_.prototype.getSession=function(){return this.session},_.prototype.setValue=function(T,N){return this.session.doc.setValue(T),N?N==1?this.navigateFileEnd():N==-1&&this.navigateFileStart():this.selectAll(),T},_.prototype.getValue=function(){return this.session.getValue()},_.prototype.getSelection=function(){return this.selection},_.prototype.resize=function(T){this.renderer.onResize(T)},_.prototype.setTheme=function(T,N){this.renderer.setTheme(T,N)},_.prototype.getTheme=function(){return this.renderer.getTheme()},_.prototype.setStyle=function(T){this.renderer.setStyle(T)},_.prototype.unsetStyle=function(T){this.renderer.unsetStyle(T)},_.prototype.getFontSize=function(){return this.getOption("fontSize")||D.computedStyle(this.container).fontSize},_.prototype.setFontSize=function(T){this.setOption("fontSize",T)},_.prototype.$highlightBrackets=function(){if(!this.$highlightPending){var T=this;this.$highlightPending=!0,setTimeout(function(){T.$highlightPending=!1;var N=T.session;if(!(!N||N.destroyed)){N.$bracketHighlight&&(N.$bracketHighlight.markerIds.forEach(function(se){N.removeMarker(se)}),N.$bracketHighlight=null);var V=T.getCursorPosition(),K=T.getKeyboardHandler(),I=K&&K.$getDirectionForHighlight&&K.$getDirectionForHighlight(T),q=N.getMatchingBracketRanges(V,I);if(!q){var U=new C(N,V.row,V.column),J=U.getCurrentToken();if(J&&/\b(?:tag-open|tag-name)/.test(J.type)){var Q=N.getMatchingTags(V);Q&&(q=[Q.openTagName.isEmpty()?Q.openTag:Q.openTagName,Q.closeTagName.isEmpty()?Q.closeTag:Q.closeTagName])}}if(!q&&N.$mode.getMatching&&(q=N.$mode.getMatching(T.session)),!q){T.getHighlightIndentGuides()&&T.renderer.$textLayer.$highlightIndentGuide();return}var ee="ace_bracket";Array.isArray(q)?q.length==1&&(ee="ace_error_bracket"):q=[q],q.length==2&&(p.comparePoints(q[0].end,q[1].start)==0?q=[p.fromPoints(q[0].start,q[1].end)]:p.comparePoints(q[0].start,q[1].end)==0&&(q=[p.fromPoints(q[1].start,q[0].end)])),N.$bracketHighlight={ranges:q,markerIds:q.map(function(se){return N.addMarker(se,ee,"text")})},T.getHighlightIndentGuides()&&T.renderer.$textLayer.$highlightIndentGuide()}},50)}},_.prototype.focus=function(){this.textInput.focus()},_.prototype.isFocused=function(){return this.textInput.isFocused()},_.prototype.blur=function(){this.textInput.blur()},_.prototype.onFocus=function(T){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",T))},_.prototype.onBlur=function(T){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",T))},_.prototype.$cursorChange=function(){this.renderer.updateCursor(),this.$highlightBrackets(),this.$updateHighlightActiveLine()},_.prototype.onDocumentChange=function(T){var N=this.session.$useWrapMode,V=T.start.row==T.end.row?T.end.row:1/0;this.renderer.updateLines(T.start.row,V,N),this._signal("change",T),this.$cursorChange()},_.prototype.onTokenizerUpdate=function(T){var N=T.data;this.renderer.updateLines(N.first,N.last)},_.prototype.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},_.prototype.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},_.prototype.onCursorChange=function(){this.$cursorChange(),this._signal("changeSelection")},_.prototype.$updateHighlightActiveLine=function(){var T=this.getSession(),N;if(this.$highlightActiveLine&&((this.$selectionStyle!="line"||!this.selection.isMultiLine())&&(N=this.getCursorPosition()),this.renderer.theme&&this.renderer.theme.$selectionColorConflict&&!this.selection.isEmpty()&&(N=!1),this.renderer.$maxLines&&this.session.getLength()===1&&!(this.renderer.$minLines>1)&&(N=!1)),T.$highlightLineMarker&&!N)T.removeMarker(T.$highlightLineMarker.id),T.$highlightLineMarker=null;else if(!T.$highlightLineMarker&&N){var V=new p(N.row,N.column,N.row,1/0);V.id=T.addMarker(V,"ace_active-line","screenLine"),T.$highlightLineMarker=V}else N&&(T.$highlightLineMarker.start.row=N.row,T.$highlightLineMarker.end.row=N.row,T.$highlightLineMarker.start.column=N.column,T._signal("changeBackMarker"))},_.prototype.onSelectionChange=function(T){var N=this.session;if(N.$selectionMarker&&N.removeMarker(N.$selectionMarker),N.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var V=this.selection.getRange(),K=this.getSelectionStyle();N.$selectionMarker=N.addMarker(V,"ace_selection",K)}var I=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(I),this._signal("changeSelection")},_.prototype.$getSelectionHighLightRegexp=function(){var T=this.session,N=this.getSelectionRange();if(!(N.isEmpty()||N.isMultiLine())){var V=N.start.column,K=N.end.column,I=T.getLine(N.start.row),q=I.substring(V,K);if(!(q.length>5e3||!/[\w\d]/.test(q))){var U=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:q}),J=I.substring(V-1,K+1);if(U.test(J))return U}}},_.prototype.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},_.prototype.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},_.prototype.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},_.prototype.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},_.prototype.onChangeMode=function(T){this.renderer.updateText(),this._emit("changeMode",T)},_.prototype.onChangeWrapLimit=function(){this.renderer.updateFull()},_.prototype.onChangeWrapMode=function(){this.renderer.onResize(!0)},_.prototype.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},_.prototype.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},_.prototype.getCopyText=function(){var T=this.getSelectedText(),N=this.session.doc.getNewLineCharacter(),V=!1;if(!T&&this.$copyWithEmptySelection){V=!0;for(var K=this.selection.getAllRanges(),I=0;I<K.length;I++){var q=K[I];I&&K[I-1].start.row==q.start.row||(T+=this.session.getLine(q.start.row)+N)}}var U={text:T};return this._signal("copy",U),A.lineMode=V?U.text:!1,U.text},_.prototype.onCopy=function(){this.commands.exec("copy",this)},_.prototype.onCut=function(){this.commands.exec("cut",this)},_.prototype.onPaste=function(T,N){var V={text:T,event:N};this.commands.exec("paste",this,V)},_.prototype.$handlePaste=function(T){typeof T=="string"&&(T={text:T}),this._signal("paste",T);var N=T.text,V=N===A.lineMode,K=this.session;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)V?K.insert({row:this.selection.lead.row,column:0},N):this.insert(N);else if(V)this.selection.rangeList.ranges.forEach(function(ee){K.insert({row:ee.start.row,column:0},N)});else{var I=N.split(/\r\n|\r|\n/),q=this.selection.rangeList.ranges,U=I.length==2&&(!I[0]||!I[1]);if(I.length!=q.length||U)return this.commands.exec("insertstring",this,N);for(var J=q.length;J--;){var Q=q[J];Q.isEmpty()||K.remove(Q),K.insert(Q.start,I[J])}}},_.prototype.execCommand=function(T,N){return this.commands.exec(T,this,N)},_.prototype.insert=function(T,N){var V=this.session,K=V.getMode(),I=this.getCursorPosition();if(this.getBehavioursEnabled()&&!N){var q=K.transformAction(V.getState(I.row),"insertion",this,V,T);q&&(T!==q.text&&(this.inVirtualSelectionMode||(this.session.mergeUndoDeltas=!1,this.mergeNextCommand=!1)),T=q.text)}if(T=="	"&&(T=this.session.getTabString()),this.selection.isEmpty()){if(this.session.getOverwrite()&&T.indexOf(`
`)==-1){var U=p.fromPoints(I,I);U.end.column+=T.length,this.session.remove(U)}}else{var U=this.getSelectionRange();I=this.session.remove(U),this.clearSelection()}if(T==`
`||T==`\r
`){var se=V.getLine(I.row);if(I.column>se.search(/\S|$/)){var J=se.substr(I.column).search(/\S|$/);V.doc.removeInLine(I.row,I.column,I.column+J)}}this.clearSelection();var Q=I.column,ee=V.getState(I.row),se=V.getLine(I.row),ue=K.checkOutdent(ee,se,T);if(V.insert(I,T),q&&q.selection&&(q.selection.length==2?this.selection.setSelectionRange(new p(I.row,Q+q.selection[0],I.row,Q+q.selection[1])):this.selection.setSelectionRange(new p(I.row+q.selection[0],q.selection[1],I.row+q.selection[2],q.selection[3]))),this.$enableAutoIndent){if(V.getDocument().isNewLine(T)){var xe=K.getNextLineIndent(ee,se.slice(0,I.column),V.getTabString());V.insert({row:I.row+1,column:0},xe)}ue&&K.autoOutdent(ee,V,I.row)}},_.prototype.autoIndent=function(){for(var T=this.session,N=T.getMode(),V=this.selection.isEmpty()?[new p(0,0,T.doc.getLength()-1,0)]:this.selection.getAllRanges(),K="",I="",q="",U=T.getTabString(),J=0;J<V.length;J++)for(var Q=V[J].start.row,ee=V[J].end.row,se=Q;se<=ee;se++){se>0&&(K=T.getState(se-1),I=T.getLine(se-1),q=N.getNextLineIndent(K,I,U));var ue=T.getLine(se),xe=N.$getIndent(ue);if(q!==xe){if(xe.length>0){var _e=new p(se,0,se,xe.length);T.remove(_e)}q.length>0&&T.insert({row:se,column:0},q)}N.autoOutdent(K,T,se)}},_.prototype.onTextInput=function(T,N){if(!N)return this.keyBinding.onTextInput(T);this.startOperation({command:{name:"insertstring"}});var V=this.applyComposition.bind(this,T,N);this.selection.rangeCount?this.forEachSelection(V):V(),this.endOperation()},_.prototype.applyComposition=function(T,N){if(N.extendLeft||N.extendRight){var V=this.selection.getRange();V.start.column-=N.extendLeft,V.end.column+=N.extendRight,V.start.column<0&&(V.start.row--,V.start.column+=this.session.getLine(V.start.row).length+1),this.selection.setRange(V),!T&&!V.isEmpty()&&this.remove()}if((T||!this.selection.isEmpty())&&this.insert(T,!0),N.restoreStart||N.restoreEnd){var V=this.selection.getRange();V.start.column-=N.restoreStart,V.end.column-=N.restoreEnd,this.selection.setRange(V)}},_.prototype.onCommandKey=function(T,N,V){return this.keyBinding.onCommandKey(T,N,V)},_.prototype.setOverwrite=function(T){this.session.setOverwrite(T)},_.prototype.getOverwrite=function(){return this.session.getOverwrite()},_.prototype.toggleOverwrite=function(){this.session.toggleOverwrite()},_.prototype.setScrollSpeed=function(T){this.setOption("scrollSpeed",T)},_.prototype.getScrollSpeed=function(){return this.getOption("scrollSpeed")},_.prototype.setDragDelay=function(T){this.setOption("dragDelay",T)},_.prototype.getDragDelay=function(){return this.getOption("dragDelay")},_.prototype.setSelectionStyle=function(T){this.setOption("selectionStyle",T)},_.prototype.getSelectionStyle=function(){return this.getOption("selectionStyle")},_.prototype.setHighlightActiveLine=function(T){this.setOption("highlightActiveLine",T)},_.prototype.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},_.prototype.setHighlightGutterLine=function(T){this.setOption("highlightGutterLine",T)},_.prototype.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},_.prototype.setHighlightSelectedWord=function(T){this.setOption("highlightSelectedWord",T)},_.prototype.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},_.prototype.setAnimatedScroll=function(T){this.renderer.setAnimatedScroll(T)},_.prototype.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},_.prototype.setShowInvisibles=function(T){this.renderer.setShowInvisibles(T)},_.prototype.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},_.prototype.setDisplayIndentGuides=function(T){this.renderer.setDisplayIndentGuides(T)},_.prototype.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},_.prototype.setHighlightIndentGuides=function(T){this.renderer.setHighlightIndentGuides(T)},_.prototype.getHighlightIndentGuides=function(){return this.renderer.getHighlightIndentGuides()},_.prototype.setShowPrintMargin=function(T){this.renderer.setShowPrintMargin(T)},_.prototype.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},_.prototype.setPrintMarginColumn=function(T){this.renderer.setPrintMarginColumn(T)},_.prototype.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},_.prototype.setReadOnly=function(T){this.setOption("readOnly",T)},_.prototype.getReadOnly=function(){return this.getOption("readOnly")},_.prototype.setBehavioursEnabled=function(T){this.setOption("behavioursEnabled",T)},_.prototype.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},_.prototype.setWrapBehavioursEnabled=function(T){this.setOption("wrapBehavioursEnabled",T)},_.prototype.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},_.prototype.setShowFoldWidgets=function(T){this.setOption("showFoldWidgets",T)},_.prototype.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},_.prototype.setFadeFoldWidgets=function(T){this.setOption("fadeFoldWidgets",T)},_.prototype.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},_.prototype.remove=function(T){this.selection.isEmpty()&&(T=="left"?this.selection.selectLeft():this.selection.selectRight());var N=this.getSelectionRange();if(this.getBehavioursEnabled()){var V=this.session,K=V.getState(N.start.row),I=V.getMode().transformAction(K,"deletion",this,V,N);if(N.end.column===0){var q=V.getTextRange(N);if(q[q.length-1]==`
`){var U=V.getLine(N.end.row);/^\s+$/.test(U)&&(N.end.column=U.length)}}I&&(N=I)}this.session.remove(N),this.clearSelection()},_.prototype.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},_.prototype.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},_.prototype.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.selection.isEmpty()&&this.selection.selectLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},_.prototype.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var T=this.getSelectionRange();T.start.column==T.end.column&&T.start.row==T.end.row&&(T.end.column=0,T.end.row++),this.session.remove(T),this.clearSelection()},_.prototype.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var T=this.getCursorPosition();this.insert(`
`),this.moveCursorToPosition(T)},_.prototype.setGhostText=function(T,N){this.session.widgetManager||(this.session.widgetManager=new g(this.session),this.session.widgetManager.attach(this)),this.renderer.setGhostText(T,N)},_.prototype.removeGhostText=function(){this.session.widgetManager&&this.renderer.removeGhostText()},_.prototype.transposeLetters=function(){if(this.selection.isEmpty()){var T=this.getCursorPosition(),N=T.column;if(N!==0){var V=this.session.getLine(T.row),K,I;N<V.length?(K=V.charAt(N)+V.charAt(N-1),I=new p(T.row,N-1,T.row,N+1)):(K=V.charAt(N-1)+V.charAt(N-2),I=new p(T.row,N-2,T.row,N)),this.session.replace(I,K),this.session.selection.moveToPosition(I.end)}}},_.prototype.toLowerCase=function(){var T=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var N=this.getSelectionRange(),V=this.session.getTextRange(N);this.session.replace(N,V.toLowerCase()),this.selection.setSelectionRange(T)},_.prototype.toUpperCase=function(){var T=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var N=this.getSelectionRange(),V=this.session.getTextRange(N);this.session.replace(N,V.toUpperCase()),this.selection.setSelectionRange(T)},_.prototype.indent=function(){var T=this.session,N=this.getSelectionRange();if(N.start.row<N.end.row){var V=this.$getSelectedRows();T.indentRows(V.first,V.last,"	");return}else if(N.start.column<N.end.column){var K=T.getTextRange(N);if(!/^\s+$/.test(K)){var V=this.$getSelectedRows();T.indentRows(V.first,V.last,"	");return}}var I=T.getLine(N.start.row),q=N.start,U=T.getTabSize(),J=T.documentToScreenColumn(q.row,q.column);if(this.session.getUseSoftTabs())var Q=U-J%U,ee=r.stringRepeat(" ",Q);else{for(var Q=J%U;I[N.start.column-1]==" "&&Q;)N.start.column--,Q--;this.selection.setSelectionRange(N),ee="	"}return this.insert(ee)},_.prototype.blockIndent=function(){var T=this.$getSelectedRows();this.session.indentRows(T.first,T.last,"	")},_.prototype.blockOutdent=function(){var T=this.session.getSelection();this.session.outdentRows(T.getRange())},_.prototype.sortLines=function(){for(var T=this.$getSelectedRows(),N=this.session,V=[],K=T.first;K<=T.last;K++)V.push(N.getLine(K));V.sort(function(U,J){return U.toLowerCase()<J.toLowerCase()?-1:U.toLowerCase()>J.toLowerCase()?1:0});for(var I=new p(0,0,0,0),K=T.first;K<=T.last;K++){var q=N.getLine(K);I.start.row=K,I.end.row=K,I.end.column=q.length,N.replace(I,V[K-T.first])}},_.prototype.toggleCommentLines=function(){var T=this.session.getState(this.getCursorPosition().row),N=this.$getSelectedRows();this.session.getMode().toggleCommentLines(T,this.session,N.first,N.last)},_.prototype.toggleBlockComment=function(){var T=this.getCursorPosition(),N=this.session.getState(T.row),V=this.getSelectionRange();this.session.getMode().toggleBlockComment(N,this.session,V,T)},_.prototype.getNumberAt=function(T,N){var V=/[\-]?[0-9]+(?:\.[0-9]+)?/g;V.lastIndex=0;for(var K=this.session.getLine(T);V.lastIndex<N;){var I=V.exec(K);if(I.index<=N&&I.index+I[0].length>=N){var q={value:I[0],start:I.index,end:I.index+I[0].length};return q}}return null},_.prototype.modifyNumber=function(T){var N=this.selection.getCursor().row,V=this.selection.getCursor().column,K=new p(N,V-1,N,V),I=this.session.getTextRange(K);if(!isNaN(parseFloat(I))&&isFinite(I)){var q=this.getNumberAt(N,V);if(q){var U=q.value.indexOf(".")>=0?q.start+q.value.indexOf(".")+1:q.end,J=q.start+q.value.length-U,Q=parseFloat(q.value);Q*=Math.pow(10,J),U!==q.end&&V<U?T*=Math.pow(10,q.end-V-1):T*=Math.pow(10,q.end-V),Q+=T,Q/=Math.pow(10,J);var ee=Q.toFixed(J),se=new p(N,q.start,N,q.end);this.session.replace(se,ee),this.moveCursorTo(N,Math.max(q.start+1,V+ee.length-q.value.length))}}else this.toggleWord()},_.prototype.toggleWord=function(){var T=this.selection.getCursor().row,N=this.selection.getCursor().column;this.selection.selectWord();var V=this.getSelectedText(),K=this.selection.getWordRange().start.column,I=V.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g,"$1 ").split(/\s/),q=N-K-1;q<0&&(q=0);var U=0,J=0,Q=this;V.match(/[A-Za-z0-9_]+/)&&I.forEach(function(Xe,Ue){J=U+Xe.length,q>=U&&q<=J&&(V=Xe,Q.selection.clearSelection(),Q.moveCursorTo(T,U+K),Q.selection.selectTo(T,J+K)),U=J});for(var ee=this.$toggleWordPairs,se,ue=0;ue<ee.length;ue++)for(var xe=ee[ue],_e=0;_e<=1;_e++){var Je=+!_e,Be=V.match(new RegExp("^\\s?_?("+r.escapeRegExp(xe[_e])+")\\s?$","i"));if(Be){var He=V.match(new RegExp("([_]|^|\\s)("+r.escapeRegExp(Be[1])+")($|\\s)","g"));He&&(se=V.replace(new RegExp(r.escapeRegExp(xe[_e]),"i"),function(Xe){var Ue=xe[Je];return Xe.toUpperCase()==Xe?Ue=Ue.toUpperCase():Xe.charAt(0).toUpperCase()==Xe.charAt(0)&&(Ue=Ue.substr(0,0)+xe[Je].charAt(0).toUpperCase()+Ue.substr(1)),Ue}),this.insert(se),se="")}}},_.prototype.findLinkAt=function(T,N){var V,K,I=this.session.getLine(T),q=I.split(/((?:https?|ftp):\/\/[\S]+)/),U=N;U<0&&(U=0);var J=0,Q=0,ee;try{for(var se=b(q),ue=se.next();!ue.done;ue=se.next()){var xe=ue.value;if(Q=J+xe.length,U>=J&&U<=Q&&xe.match(/((?:https?|ftp):\/\/[\S]+)/)){ee=xe.replace(/[\s:.,'";}\]]+$/,"");break}J=Q}}catch(_e){V={error:_e}}finally{try{ue&&!ue.done&&(K=se.return)&&K.call(se)}finally{if(V)throw V.error}}return ee},_.prototype.openLink=function(){var T=this.selection.getCursor(),N=this.findLinkAt(T.row,T.column);return N&&window.open(N,"_blank"),N!=null},_.prototype.removeLines=function(){var T=this.$getSelectedRows();this.session.removeFullLines(T.first,T.last),this.clearSelection()},_.prototype.duplicateSelection=function(){var T=this.selection,N=this.session,V=T.getRange(),K=T.isBackwards();if(V.isEmpty()){var I=V.start.row;N.duplicateLines(I,I)}else{var q=K?V.start:V.end,U=N.insert(q,N.getTextRange(V));V.start=q,V.end=U,T.setSelectionRange(V,K)}},_.prototype.moveLinesDown=function(){this.$moveLines(1,!1)},_.prototype.moveLinesUp=function(){this.$moveLines(-1,!1)},_.prototype.moveText=function(T,N,V){return this.session.moveText(T,N,V)},_.prototype.copyLinesUp=function(){this.$moveLines(-1,!0)},_.prototype.copyLinesDown=function(){this.$moveLines(1,!0)},_.prototype.$moveLines=function(T,N){var V,K,I=this.selection;if(!I.inMultiSelectMode||this.inVirtualSelectionMode){var q=I.toOrientedRange();V=this.$getSelectedRows(q),K=this.session.$moveLines(V.first,V.last,N?0:T),N&&T==-1&&(K=0),q.moveBy(K,0),I.fromOrientedRange(q)}else{var U=I.rangeList.ranges;I.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var J=0,Q=0,ee=U.length,se=0;se<ee;se++){var ue=se;U[se].moveBy(J,0),V=this.$getSelectedRows(U[se]);for(var xe=V.first,_e=V.last;++se<ee;){Q&&U[se].moveBy(Q,0);var Je=this.$getSelectedRows(U[se]);if(N&&Je.first!=_e)break;if(!N&&Je.first>_e+1)break;_e=Je.last}for(se--,J=this.session.$moveLines(xe,_e,N?0:T),N&&T==-1&&(ue=se+1);ue<=se;)U[ue].moveBy(J,0),ue++;N||(J=0),Q+=J}I.fromOrientedRange(I.ranges[0]),I.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},_.prototype.$getSelectedRows=function(T){return T=(T||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(T.start.row),last:this.session.getRowFoldEnd(T.end.row)}},_.prototype.onCompositionStart=function(T){this.renderer.showComposition(T)},_.prototype.onCompositionUpdate=function(T){this.renderer.setCompositionText(T)},_.prototype.onCompositionEnd=function(){this.renderer.hideComposition()},_.prototype.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},_.prototype.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},_.prototype.isRowVisible=function(T){return T>=this.getFirstVisibleRow()&&T<=this.getLastVisibleRow()},_.prototype.isRowFullyVisible=function(T){return T>=this.renderer.getFirstFullyVisibleRow()&&T<=this.renderer.getLastFullyVisibleRow()},_.prototype.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},_.prototype.$moveByPage=function(T,N){var V=this.renderer,K=this.renderer.layerConfig,I=T*Math.floor(K.height/K.lineHeight);N===!0?this.selection.$moveSelection(function(){this.moveCursorBy(I,0)}):N===!1&&(this.selection.moveCursorBy(I,0),this.selection.clearSelection());var q=V.scrollTop;V.scrollBy(0,I*K.lineHeight),N!=null&&V.scrollCursorIntoView(null,.5),V.animateScrolling(q)},_.prototype.selectPageDown=function(){this.$moveByPage(1,!0)},_.prototype.selectPageUp=function(){this.$moveByPage(-1,!0)},_.prototype.gotoPageDown=function(){this.$moveByPage(1,!1)},_.prototype.gotoPageUp=function(){this.$moveByPage(-1,!1)},_.prototype.scrollPageDown=function(){this.$moveByPage(1)},_.prototype.scrollPageUp=function(){this.$moveByPage(-1)},_.prototype.scrollToRow=function(T){this.renderer.scrollToRow(T)},_.prototype.scrollToLine=function(T,N,V,K){this.renderer.scrollToLine(T,N,V,K)},_.prototype.centerSelection=function(){var T=this.getSelectionRange(),N={row:Math.floor(T.start.row+(T.end.row-T.start.row)/2),column:Math.floor(T.start.column+(T.end.column-T.start.column)/2)};this.renderer.alignCursor(N,.5)},_.prototype.getCursorPosition=function(){return this.selection.getCursor()},_.prototype.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},_.prototype.getSelectionRange=function(){return this.selection.getRange()},_.prototype.selectAll=function(){this.selection.selectAll()},_.prototype.clearSelection=function(){this.selection.clearSelection()},_.prototype.moveCursorTo=function(T,N){this.selection.moveCursorTo(T,N)},_.prototype.moveCursorToPosition=function(T){this.selection.moveCursorToPosition(T)},_.prototype.jumpToMatching=function(T,N){var V=this.getCursorPosition(),K=new C(this.session,V.row,V.column),I=K.getCurrentToken(),q=0;I&&I.type.indexOf("tag-name")!==-1&&(I=K.stepBackward());var U=I||K.stepForward();if(U){var J,Q=!1,ee={},se=V.column-U.start,ue,xe={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(U.value.match(/[{}()\[\]]/g)){for(;se<U.value.length&&!Q;se++)if(xe[U.value[se]])switch(ue=xe[U.value[se]]+"."+U.type.replace("rparen","lparen"),isNaN(ee[ue])&&(ee[ue]=0),U.value[se]){case"(":case"[":case"{":ee[ue]++;break;case")":case"]":case"}":ee[ue]--,ee[ue]===-1&&(J="bracket",Q=!0);break}}else U.type.indexOf("tag-name")!==-1&&(isNaN(ee[U.value])&&(ee[U.value]=0),I.value==="<"&&q>1?ee[U.value]++:I.value==="</"&&ee[U.value]--,ee[U.value]===-1&&(J="tag",Q=!0));Q||(I=U,q++,U=K.stepForward(),se=0)}while(U&&!Q);if(J){var _e,Je;if(J==="bracket")_e=this.session.getBracketRange(V),_e||(_e=new p(K.getCurrentTokenRow(),K.getCurrentTokenColumn()+se-1,K.getCurrentTokenRow(),K.getCurrentTokenColumn()+se-1),Je=_e.start,(N||Je.row===V.row&&Math.abs(Je.column-V.column)<2)&&(_e=this.session.getBracketRange(Je)));else if(J==="tag"){if(!U||U.type.indexOf("tag-name")===-1)return;if(_e=new p(K.getCurrentTokenRow(),K.getCurrentTokenColumn()-2,K.getCurrentTokenRow(),K.getCurrentTokenColumn()-2),_e.compare(V.row,V.column)===0){var Be=this.session.getMatchingTags(V);Be&&(Be.openTag.contains(V.row,V.column)?(_e=Be.closeTag,Je=_e.start):(_e=Be.openTag,Be.closeTag.start.row===V.row&&Be.closeTag.start.column===V.column?Je=_e.end:Je=_e.start))}Je=Je||_e.start}Je=_e&&_e.cursor||Je,Je&&(T?_e&&N?this.selection.setRange(_e):_e&&_e.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(Je.row,Je.column):this.selection.moveTo(Je.row,Je.column))}}},_.prototype.gotoLine=function(T,N,V){this.selection.clearSelection(),this.session.unfold({row:T-1,column:N||0}),this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(T-1,N||0),this.isRowFullyVisible(T-1)||this.scrollToLine(T-1,!0,V)},_.prototype.navigateTo=function(T,N){this.selection.moveTo(T,N)},_.prototype.navigateUp=function(T){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var N=this.selection.anchor.getPosition();return this.moveCursorToPosition(N)}this.selection.clearSelection(),this.selection.moveCursorBy(-T||-1,0)},_.prototype.navigateDown=function(T){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var N=this.selection.anchor.getPosition();return this.moveCursorToPosition(N)}this.selection.clearSelection(),this.selection.moveCursorBy(T||1,0)},_.prototype.navigateLeft=function(T){if(this.selection.isEmpty())for(T=T||1;T--;)this.selection.moveCursorLeft();else{var N=this.getSelectionRange().start;this.moveCursorToPosition(N)}this.clearSelection()},_.prototype.navigateRight=function(T){if(this.selection.isEmpty())for(T=T||1;T--;)this.selection.moveCursorRight();else{var N=this.getSelectionRange().end;this.moveCursorToPosition(N)}this.clearSelection()},_.prototype.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},_.prototype.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},_.prototype.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},_.prototype.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},_.prototype.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},_.prototype.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},_.prototype.replace=function(T,N){N&&this.$search.set(N);var V=this.$search.find(this.session),K=0;return V&&(this.$tryReplace(V,T)&&(K=1),this.selection.setSelectionRange(V),this.renderer.scrollSelectionIntoView(V.start,V.end)),K},_.prototype.replaceAll=function(T,N){N&&this.$search.set(N);var V=this.$search.findAll(this.session),K=0;if(!V.length)return K;var I=this.getSelectionRange();this.selection.moveTo(0,0);for(var q=V.length-1;q>=0;--q)this.$tryReplace(V[q],T)&&K++;return this.selection.setSelectionRange(I),K},_.prototype.$tryReplace=function(T,N){var V=this.session.getTextRange(T);return N=this.$search.replace(V,N),N!==null?(T.end=this.session.replace(T,N),T):null},_.prototype.getLastSearchOptions=function(){return this.$search.getOptions()},_.prototype.find=function(T,N,V){N||(N={}),typeof T=="string"||T instanceof RegExp?N.needle=T:typeof T=="object"&&d.mixin(N,T);var K=this.selection.getRange();N.needle==null&&(T=this.session.getTextRange(K)||this.$search.$options.needle,T||(K=this.session.getWordRange(K.start.row,K.start.column),T=this.session.getTextRange(K)),this.$search.set({needle:T})),this.$search.set(N),N.start||this.$search.set({start:K});var I=this.$search.find(this.session);if(N.preventScroll)return I;if(I)return this.revealRange(I,V),I;N.backwards?K.start=K.end:K.end=K.start,this.selection.setRange(K)},_.prototype.findNext=function(T,N){this.find({skipCurrent:!0,backwards:!1},T,N)},_.prototype.findPrevious=function(T,N){this.find(T,{skipCurrent:!0,backwards:!0},N)},_.prototype.revealRange=function(T,N){this.session.unfold(T),this.selection.setSelectionRange(T);var V=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(T.start,T.end,.5),N!==!1&&this.renderer.animateScrolling(V)},_.prototype.undo=function(){this.session.getUndoManager().undo(this.session),this.renderer.scrollCursorIntoView(null,.5)},_.prototype.redo=function(){this.session.getUndoManager().redo(this.session),this.renderer.scrollCursorIntoView(null,.5)},_.prototype.destroy=function(){this.$toDestroy&&(this.$toDestroy.forEach(function(T){T.destroy()}),this.$toDestroy=null),this.$mouseHandler&&this.$mouseHandler.destroy(),this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy(),this._$emitInputEvent&&this._$emitInputEvent.cancel(),this.removeAllListeners()},_.prototype.setAutoScrollEditorIntoView=function(T){if(T){var N,V=this,K=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var I=this.$scrollAnchor;I.style.cssText="position:absolute",this.container.insertBefore(I,this.container.firstChild);var q=this.on("changeSelection",function(){K=!0}),U=this.renderer.on("beforeRender",function(){K&&(N=V.renderer.container.getBoundingClientRect())}),J=this.renderer.on("afterRender",function(){if(K&&N&&(V.isFocused()||V.searchBox&&V.searchBox.isFocused())){var Q=V.renderer,ee=Q.$cursorLayer.$pixelPos,se=Q.layerConfig,ue=ee.top-se.offset;ee.top>=0&&ue+N.top<0?K=!0:ee.top<se.height&&ee.top+N.top+se.lineHeight>window.innerHeight?K=!1:K=null,K!=null&&(I.style.top=ue+"px",I.style.left=ee.left+"px",I.style.height=se.lineHeight+"px",I.scrollIntoView(K)),K=N=null}});this.setAutoScrollEditorIntoView=function(Q){Q||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",q),this.renderer.off("afterRender",J),this.renderer.off("beforeRender",U))}}},_.prototype.$resetCursorStyle=function(){var T=this.$cursorStyle||"ace",N=this.renderer.$cursorLayer;N&&(N.setSmoothBlinking(/smooth/.test(T)),N.isBlinking=!this.$readOnly&&T!="wide",D.setCssClass(N.element,"ace_slim-cursors",/slim/.test(T)))},_.prototype.prompt=function(T,N,V){var K=this;f.loadModule("ace/ext/prompt",function(I){I.prompt(K,T,N,V)})},_}();P.$uid=0,P.prototype.curOp=null,P.prototype.prevOp={},P.prototype.$mergeableCommands=["backspace","del","insertstring"],P.prototype.$toggleWordPairs=[["first","last"],["true","false"],["yes","no"],["width","height"],["top","bottom"],["right","left"],["on","off"],["x","y"],["get","set"],["max","min"],["horizontal","vertical"],["show","hide"],["add","remove"],["up","down"],["before","after"],["even","odd"],["in","out"],["inside","outside"],["next","previous"],["increase","decrease"],["attach","detach"],["&&","||"],["==","!="]],d.implement(P.prototype,w),f.defineOptions(P.prototype,"editor",{selectionStyle:{set:function(_){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:_})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(_){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(_){this.textInput.setReadOnly(_),this.$resetCursorStyle()},initialValue:!1},copyWithEmptySelection:{set:function(_){this.textInput.setCopyWithEmptySelection(_)},initialValue:!1},cursorStyle:{set:function(_){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},enableAutoIndent:{initialValue:!0},autoScrollEditorIntoView:{set:function(_){this.setAutoScrollEditorIntoView(_)}},keyboardHandler:{set:function(_){this.setKeyboardHandler(_)},get:function(){return this.$keybindingId},handlesSet:!0},value:{set:function(_){this.session.setValue(_)},get:function(){return this.getValue()},handlesSet:!0,hidden:!0},session:{set:function(_){this.setSession(_)},get:function(){return this.session},handlesSet:!0,hidden:!0},showLineNumbers:{set:function(_){this.renderer.$gutterLayer.setShowLineNumbers(_),this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER),_&&this.$relativeLineNumbers?W.attach(this):W.detach(this)},initialValue:!0},relativeLineNumbers:{set:function(_){this.$showLineNumbers&&_?W.attach(this):W.detach(this)}},placeholder:{set:function(_){this.$updatePlaceholder||(this.$updatePlaceholder=function(){var T=this.session&&(this.renderer.$composition||this.session.getLength()>1||this.session.getLine(0).length>0);if(T&&this.renderer.placeholderNode)this.renderer.off("afterRender",this.$updatePlaceholder),D.removeCssClass(this.container,"ace_hasPlaceholder"),this.renderer.placeholderNode.remove(),this.renderer.placeholderNode=null;else if(!T&&!this.renderer.placeholderNode){this.renderer.on("afterRender",this.$updatePlaceholder),D.addCssClass(this.container,"ace_hasPlaceholder");var N=D.createElement("div");N.className="ace_placeholder",N.textContent=this.$placeholder||"",this.renderer.placeholderNode=N,this.renderer.content.appendChild(this.renderer.placeholderNode)}else!T&&this.renderer.placeholderNode&&(this.renderer.placeholderNode.textContent=this.$placeholder||"")}.bind(this),this.on("input",this.$updatePlaceholder)),this.$updatePlaceholder()}},enableKeyboardAccessibility:{set:function(_){var T={name:"blurTextInput",description:"Set focus to the editor content div to allow tabbing through the page",bindKey:"Esc",exec:function(K){K.blur(),K.renderer.scroller.focus()},readOnly:!0},N=function(K){if(K.target==this.renderer.scroller&&K.keyCode===R.enter){K.preventDefault();var I=this.getCursorPosition().row;this.isRowVisible(I)||this.scrollToLine(I,!0,!0),this.focus()}},V;_?(this.renderer.enableKeyboardAccessibility=!0,this.renderer.keyboardFocusClassName="ace_keyboard-focus",this.textInput.getElement().setAttribute("tabindex",-1),this.textInput.setNumberOfExtraLines(e.isWin?3:0),this.renderer.scroller.setAttribute("tabindex",0),this.renderer.scroller.setAttribute("role","group"),this.renderer.scroller.setAttribute("aria-roledescription",S("editor.scroller.aria-roledescription","editor")),this.renderer.scroller.classList.add(this.renderer.keyboardFocusClassName),this.renderer.scroller.setAttribute("aria-label",S("editor.scroller.aria-label","Editor content, press Enter to start editing, press Escape to exit")),this.renderer.scroller.addEventListener("keyup",N.bind(this)),this.commands.addCommand(T),this.renderer.$gutter.setAttribute("tabindex",0),this.renderer.$gutter.setAttribute("aria-hidden",!1),this.renderer.$gutter.setAttribute("role","group"),this.renderer.$gutter.setAttribute("aria-roledescription",S("editor.gutter.aria-roledescription","editor")),this.renderer.$gutter.setAttribute("aria-label",S("editor.gutter.aria-label","Editor gutter, press Enter to interact with controls using arrow keys, press Escape to exit")),this.renderer.$gutter.classList.add(this.renderer.keyboardFocusClassName),this.renderer.content.setAttribute("aria-hidden",!0),V||(V=new m(this)),V.addListener(),this.textInput.setAriaOptions({setLabel:!0})):(this.renderer.enableKeyboardAccessibility=!1,this.textInput.getElement().setAttribute("tabindex",0),this.textInput.setNumberOfExtraLines(0),this.renderer.scroller.setAttribute("tabindex",-1),this.renderer.scroller.removeAttribute("role"),this.renderer.scroller.removeAttribute("aria-roledescription"),this.renderer.scroller.classList.remove(this.renderer.keyboardFocusClassName),this.renderer.scroller.removeAttribute("aria-label"),this.renderer.scroller.removeEventListener("keyup",N.bind(this)),this.commands.removeCommand(T),this.renderer.content.removeAttribute("aria-hidden"),this.renderer.$gutter.setAttribute("tabindex",-1),this.renderer.$gutter.setAttribute("aria-hidden",!0),this.renderer.$gutter.removeAttribute("role"),this.renderer.$gutter.removeAttribute("aria-roledescription"),this.renderer.$gutter.removeAttribute("aria-label"),this.renderer.$gutter.classList.remove(this.renderer.keyboardFocusClassName),V&&V.removeListener())},initialValue:!1},textInputAriaLabel:{set:function(_){this.$textInputAriaLabel=_},initialValue:""},customScrollbar:"renderer",hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",displayIndentGuides:"renderer",highlightIndentGuides:"renderer",showGutter:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",hasCssTransforms:"renderer",maxPixelHeight:"renderer",useTextareaForIME:"renderer",useResizeObserver:"renderer",useSvgGutterIcons:"renderer",showFoldedAnnotations:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimeout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",navigateWithinSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});var W={getText:function(_,T){return(Math.abs(_.selection.lead.row-T)||T+1+(T<9?"\xB7":""))+""},getWidth:function(_,T,N){return Math.max(T.toString().length,(N.lastRow+1).toString().length,2)*N.characterWidth},update:function(_,T){T.renderer.$loop.schedule(T.renderer.CHANGE_GUTTER)},attach:function(_){_.renderer.$gutterLayer.$renderer=this,_.on("changeSelection",this.update),this.update(null,_)},detach:function(_){_.renderer.$gutterLayer.$renderer==this&&(_.renderer.$gutterLayer.$renderer=null),_.off("changeSelection",this.update),this.update(null,_)}};h.Editor=P}),ace.define("ace/layer/lines",["require","exports","module","ace/lib/dom"],function(M,h,F){"use strict";var b=M("../lib/dom"),d=function(){function D(r,e){this.element=r,this.canvasHeight=e||5e5,this.element.style.height=this.canvasHeight*2+"px",this.cells=[],this.cellCache=[],this.$offsetCoefficient=0}return D.prototype.moveContainer=function(r){b.translate(this.element,0,-(r.firstRowScreen*r.lineHeight%this.canvasHeight)-r.offset*this.$offsetCoefficient)},D.prototype.pageChanged=function(r,e){return Math.floor(r.firstRowScreen*r.lineHeight/this.canvasHeight)!==Math.floor(e.firstRowScreen*e.lineHeight/this.canvasHeight)},D.prototype.computeLineTop=function(r,e,s){var t=e.firstRowScreen*e.lineHeight,i=Math.floor(t/this.canvasHeight),n=s.documentToScreenRow(r,0)*e.lineHeight;return n-i*this.canvasHeight},D.prototype.computeLineHeight=function(r,e,s){return e.lineHeight*s.getRowLineCount(r)},D.prototype.getLength=function(){return this.cells.length},D.prototype.get=function(r){return this.cells[r]},D.prototype.shift=function(){this.$cacheCell(this.cells.shift())},D.prototype.pop=function(){this.$cacheCell(this.cells.pop())},D.prototype.push=function(r){if(Array.isArray(r)){this.cells.push.apply(this.cells,r);for(var e=b.createFragment(this.element),s=0;s<r.length;s++)e.appendChild(r[s].element);this.element.appendChild(e)}else this.cells.push(r),this.element.appendChild(r.element)},D.prototype.unshift=function(r){if(Array.isArray(r)){this.cells.unshift.apply(this.cells,r);for(var e=b.createFragment(this.element),s=0;s<r.length;s++)e.appendChild(r[s].element);this.element.firstChild?this.element.insertBefore(e,this.element.firstChild):this.element.appendChild(e)}else this.cells.unshift(r),this.element.insertAdjacentElement("afterbegin",r.element)},D.prototype.last=function(){return this.cells.length?this.cells[this.cells.length-1]:null},D.prototype.$cacheCell=function(r){r&&(r.element.remove(),this.cellCache.push(r))},D.prototype.createCell=function(r,e,s,t){var i=this.cellCache.pop();if(!i){var n=b.createElement("div");t&&t(n),this.element.appendChild(n),i={element:n,text:"",row:r}}return i.row=r,i},D}();h.Lines=d}),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/layer/lines","ace/config"],function(M,h,F){"use strict";var b=M("../lib/dom"),d=M("../lib/oop"),D=M("../lib/lang"),r=M("../lib/event_emitter").EventEmitter,e=M("./lines").Lines,s=M("../config").nls,t=function(){function n(o){this.element=b.createElement("div"),this.element.className="ace_layer ace_gutter-layer",o.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$lines=new e(this.element),this.$lines.$offsetCoefficient=1}return n.prototype.setSession=function(o){this.session&&this.session.off("change",this.$updateAnnotations),this.session=o,o&&o.on("change",this.$updateAnnotations)},n.prototype.addGutterDecoration=function(o,c){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(o,c)},n.prototype.removeGutterDecoration=function(o,c){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(o,c)},n.prototype.setAnnotations=function(o){this.$annotations=[];for(var c=0;c<o.length;c++){var p=o[c],w=p.row,E=this.$annotations[w];E||(E=this.$annotations[w]={text:[],type:[]});var k=p.text,f=p.type;k=k?D.escapeHTML(k):p.html||"",E.text.indexOf(k)===-1&&(E.text.push(k),E.type.push(f));var C=p.className;C?E.className=C:f=="error"?E.className=" ace_error":f=="warning"&&E.className!=" ace_error"?E.className=" ace_warning":f=="info"&&!E.className&&(E.className=" ace_info")}},n.prototype.$updateAnnotations=function(o){if(this.$annotations.length){var c=o.start.row,p=o.end.row-c;if(p!==0)if(o.action=="remove")this.$annotations.splice(c,p+1,null);else{var w=new Array(p+1);w.unshift(c,1),this.$annotations.splice.apply(this.$annotations,w)}}},n.prototype.update=function(o){this.config=o;var c=this.session,p=o.firstRow,w=Math.min(o.lastRow+o.gutterOffset,c.getLength()-1);this.oldLastRow=w,this.config=o,this.$lines.moveContainer(o),this.$updateCursorRow();for(var E=c.getNextFoldLine(p),k=E?E.start.row:1/0,f=null,C=-1,g=p;;){if(g>k&&(g=E.end.row+1,E=c.getNextFoldLine(g,E),k=E?E.start.row:1/0),g>w){for(;this.$lines.getLength()>C+1;)this.$lines.pop();break}f=this.$lines.get(++C),f?f.row=g:(f=this.$lines.createCell(g,o,this.session,i),this.$lines.push(f)),this.$renderCell(f,o,E,g),g++}this._signal("afterRender"),this.$updateGutterWidth(o)},n.prototype.$updateGutterWidth=function(o){var c=this.session,p=c.gutterRenderer||this.$renderer,w=c.$firstLineNumber,E=this.$lines.last()?this.$lines.last().text:"";(this.$fixedWidth||c.$useWrapMode)&&(E=c.getLength()+w-1);var k=p?p.getWidth(c,E,o):E.toString().length*o.characterWidth,f=this.$padding||this.$computePadding();k+=f.left+f.right,k!==this.gutterWidth&&!isNaN(k)&&(this.gutterWidth=k,this.element.parentNode.style.width=this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._signal("changeGutterWidth",k))},n.prototype.$updateCursorRow=function(){if(this.$highlightGutterLine){var o=this.session.selection.getCursor();this.$cursorRow!==o.row&&(this.$cursorRow=o.row)}},n.prototype.updateLineHighlight=function(){if(this.$highlightGutterLine){var o=this.session.selection.cursor.row;if(this.$cursorRow=o,!(this.$cursorCell&&this.$cursorCell.row==o)){this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ",""));var c=this.$lines.cells;this.$cursorCell=null;for(var p=0;p<c.length;p++){var w=c[p];if(w.row>=this.$cursorRow){if(w.row>this.$cursorRow){var E=this.session.getFoldLine(this.$cursorRow);if(p>0&&E&&E.start.row==c[p-1].row)w=c[p-1];else break}w.element.className="ace_gutter-active-line "+w.element.className,this.$cursorCell=w;break}}}}},n.prototype.scrollLines=function(o){var c=this.config;if(this.config=o,this.$updateCursorRow(),this.$lines.pageChanged(c,o))return this.update(o);this.$lines.moveContainer(o);var p=Math.min(o.lastRow+o.gutterOffset,this.session.getLength()-1),w=this.oldLastRow;if(this.oldLastRow=p,!c||w<o.firstRow)return this.update(o);if(p<c.firstRow)return this.update(o);if(c.firstRow<o.firstRow)for(var E=this.session.getFoldedRowCount(c.firstRow,o.firstRow-1);E>0;E--)this.$lines.shift();if(w>p)for(var E=this.session.getFoldedRowCount(p+1,w);E>0;E--)this.$lines.pop();o.firstRow<c.firstRow&&this.$lines.unshift(this.$renderLines(o,o.firstRow,c.firstRow-1)),p>w&&this.$lines.push(this.$renderLines(o,w+1,p)),this.updateLineHighlight(),this._signal("afterRender"),this.$updateGutterWidth(o)},n.prototype.$renderLines=function(o,c,p){for(var w=[],E=c,k=this.session.getNextFoldLine(E),f=k?k.start.row:1/0;E>f&&(E=k.end.row+1,k=this.session.getNextFoldLine(E,k),f=k?k.start.row:1/0),!(E>p);){var C=this.$lines.createCell(E,o,this.session,i);this.$renderCell(C,o,k,E),w.push(C),E++}return w},n.prototype.$renderCell=function(o,c,p,w){var E=o.element,k=this.session,f=E.childNodes[0],C=E.childNodes[1],g=E.childNodes[2],m=g.firstChild,S=k.$firstLineNumber,A=k.$breakpoints,R=k.$decorations,P=k.gutterRenderer||this.$renderer,W=this.$showFoldWidgets&&k.foldWidgets,_=p?p.start.row:Number.MAX_VALUE,T=c.lineHeight+"px",N=this.$useSvgGutterIcons?"ace_gutter-cell_svg-icons ":"ace_gutter-cell ",V=this.$useSvgGutterIcons?"ace_icon_svg":"ace_icon",K=(P?P.getText(k,w):w+S).toString();if(this.$highlightGutterLine&&(w==this.$cursorRow||p&&w<this.$cursorRow&&w>=_&&this.$cursorRow<=p.end.row)&&(N+="ace_gutter-active-line ",this.$cursorCell!=o&&(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","")),this.$cursorCell=o)),A[w]&&(N+=A[w]),R[w]&&(N+=R[w]),this.$annotations[w]&&w!==_&&(N+=this.$annotations[w].className),W){var I=W[w];I==null&&(I=W[w]=k.getFoldWidget(w))}if(I){var q="ace_fold-widget ace_"+I,U=I=="start"&&w==_&&w<p.end.row;if(U){q+=" ace_closed";for(var J="",Q=!1,ee=w+1;ee<=p.end.row;ee++)if(this.$annotations[ee]){if(this.$annotations[ee].className===" ace_error"){Q=!0,J=" ace_error_fold";break}if(this.$annotations[ee].className===" ace_warning"){Q=!0,J=" ace_warning_fold";continue}}N+=J}else q+=" ace_open";C.className!=q&&(C.className=q),b.setStyle(C.style,"height",T),b.setStyle(C.style,"display","inline-block"),C.setAttribute("role","button"),C.setAttribute("tabindex","-1");var se=k.getFoldWidgetRange(w);se?C.setAttribute("aria-label",s("gutter.code-folding.range.aria-label","Toggle code folding, rows $0 through $1",[se.start.row+1,se.end.row+1])):p?C.setAttribute("aria-label",s("gutter.code-folding.closed.aria-label","Toggle code folding, rows $0 through $1",[p.start.row+1,p.end.row+1])):C.setAttribute("aria-label",s("gutter.code-folding.open.aria-label","Toggle code folding, row $0",[w+1])),U?(C.setAttribute("aria-expanded","false"),C.setAttribute("title",s("gutter.code-folding.closed.title","Unfold code"))):(C.setAttribute("aria-expanded","true"),C.setAttribute("title",s("gutter.code-folding.open.title","Fold code")))}else C&&(b.setStyle(C.style,"display","none"),C.setAttribute("tabindex","0"),C.removeAttribute("role"),C.removeAttribute("aria-label"));if(Q&&this.$showFoldedAnnotations){g.className="ace_gutter_annotation",m.className=V,m.className+=J,b.setStyle(m.style,"height",T),b.setStyle(g.style,"display","block"),b.setStyle(g.style,"height",T);var ue;switch(J){case" ace_error_fold":ue=s("gutter.annotation.aria-label.error","Read annotations row $0",[K]);break;case" ace_warning_fold":ue=s("gutter.annotation.aria-label.warning","Read annotations row $0",[K]);break}g.setAttribute("aria-label",ue),g.setAttribute("tabindex","-1"),g.setAttribute("role","button")}else if(this.$annotations[w]){g.className="ace_gutter_annotation",m.className=V,this.$useSvgGutterIcons?m.className+=this.$annotations[w].className:E.classList.add(this.$annotations[w].className.replace(" ","")),b.setStyle(m.style,"height",T),b.setStyle(g.style,"display","block"),b.setStyle(g.style,"height",T);var ue;switch(this.$annotations[w].className){case" ace_error":ue=s("gutter.annotation.aria-label.error","Read annotations row $0",[K]);break;case" ace_warning":ue=s("gutter.annotation.aria-label.warning","Read annotations row $0",[K]);break;case" ace_info":ue=s("gutter.annotation.aria-label.info","Read annotations row $0",[K]);break}g.setAttribute("aria-label",ue),g.setAttribute("tabindex","-1"),g.setAttribute("role","button")}else b.setStyle(g.style,"display","none"),g.removeAttribute("aria-label"),g.removeAttribute("role"),g.setAttribute("tabindex","0");return K!==f.data&&(f.data=K),E.className!=N&&(E.className=N),b.setStyle(o.element.style,"height",this.$lines.computeLineHeight(w,c,k)+"px"),b.setStyle(o.element.style,"top",this.$lines.computeLineTop(w,c,k)+"px"),o.text=K,g.style.display==="none"&&C.style.display==="none"?o.element.setAttribute("aria-hidden",!0):o.element.setAttribute("aria-hidden",!1),o},n.prototype.setHighlightGutterLine=function(o){this.$highlightGutterLine=o},n.prototype.setShowLineNumbers=function(o){this.$renderer=!o&&{getWidth:function(){return 0},getText:function(){return""}}},n.prototype.getShowLineNumbers=function(){return this.$showLineNumbers},n.prototype.setShowFoldWidgets=function(o){o?b.addCssClass(this.element,"ace_folding-enabled"):b.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=o,this.$padding=null},n.prototype.getShowFoldWidgets=function(){return this.$showFoldWidgets},n.prototype.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var o=b.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=(parseInt(o.borderLeftWidth)||0)+(parseInt(o.paddingLeft)||0)+1,this.$padding.right=(parseInt(o.borderRightWidth)||0)+(parseInt(o.paddingRight)||0),this.$padding},n.prototype.getRegion=function(o){var c=this.$padding||this.$computePadding(),p=this.element.getBoundingClientRect();if(o.x<c.left+p.left)return"markers";if(this.$showFoldWidgets&&o.x>p.right-c.right)return"foldWidgets"},n}();t.prototype.$fixedWidth=!1,t.prototype.$highlightGutterLine=!0,t.prototype.$renderer="",t.prototype.$showLineNumbers=!0,t.prototype.$showFoldWidgets=!0,d.implement(t.prototype,r);function i(n){var o=document.createTextNode("");n.appendChild(o);var c=b.createElement("span");n.appendChild(c);var p=b.createElement("span");n.appendChild(p);var w=b.createElement("span");return p.appendChild(w),n}h.Gutter=t}),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(M,h,F){"use strict";var b=M("../range").Range,d=M("../lib/dom"),D=function(){function e(s){this.element=d.createElement("div"),this.element.className="ace_layer ace_marker-layer",s.appendChild(this.element)}return e.prototype.setPadding=function(s){this.$padding=s},e.prototype.setSession=function(s){this.session=s},e.prototype.setMarkers=function(s){this.markers=s},e.prototype.elt=function(s,t){var i=this.i!=-1&&this.element.childNodes[this.i];i?this.i++:(i=document.createElement("div"),this.element.appendChild(i),this.i=-1),i.style.cssText=t,i.className=s},e.prototype.update=function(s){if(s){this.config=s,this.i=0;var t;for(var i in this.markers){var n=this.markers[i];if(!n.range){n.update(t,this,this.session,s);continue}var o=n.range.clipRows(s.firstRow,s.lastRow);if(!o.isEmpty())if(o=o.toScreenRange(this.session),n.renderer){var c=this.$getTop(o.start.row,s),p=this.$padding+o.start.column*s.characterWidth;n.renderer(t,o,p,c,s)}else n.type=="fullLine"?this.drawFullLineMarker(t,o,n.clazz,s):n.type=="screenLine"?this.drawScreenLineMarker(t,o,n.clazz,s):o.isMultiLine()?n.type=="text"?this.drawTextMarker(t,o,n.clazz,s):this.drawMultiLineMarker(t,o,n.clazz,s):this.drawSingleLineMarker(t,o,n.clazz+" ace_start ace_br15",s)}if(this.i!=-1)for(;this.i<this.element.childElementCount;)this.element.removeChild(this.element.lastChild)}},e.prototype.$getTop=function(s,t){return(s-t.firstRowScreen)*t.lineHeight},e.prototype.drawTextMarker=function(s,t,i,n,o){for(var c=this.session,p=t.start.row,w=t.end.row,E=p,k=0,f=0,C=c.getScreenLastRowColumn(E),g=new b(E,t.start.column,E,f);E<=w;E++)g.start.row=g.end.row=E,g.start.column=E==p?t.start.column:c.getRowWrapIndent(E),g.end.column=C,k=f,f=C,C=E+1<w?c.getScreenLastRowColumn(E+1):E==w?0:t.end.column,this.drawSingleLineMarker(s,g,i+(E==p?" ace_start":"")+" ace_br"+r(E==p||E==p+1&&t.start.column,k<f,f>C,E==w),n,E==w?0:1,o)},e.prototype.drawMultiLineMarker=function(s,t,i,n,o){var c=this.$padding,p=n.lineHeight,w=this.$getTop(t.start.row,n),E=c+t.start.column*n.characterWidth;if(o=o||"",this.session.$bidiHandler.isBidiRow(t.start.row)){var k=t.clone();k.end.row=k.start.row,k.end.column=this.session.getLine(k.start.row).length,this.drawBidiSingleLineMarker(s,k,i+" ace_br1 ace_start",n,null,o)}else this.elt(i+" ace_br1 ace_start","height:"+p+"px;right:0;top:"+w+"px;left:"+E+"px;"+(o||""));if(this.session.$bidiHandler.isBidiRow(t.end.row)){var k=t.clone();k.start.row=k.end.row,k.start.column=0,this.drawBidiSingleLineMarker(s,k,i+" ace_br12",n,null,o)}else{w=this.$getTop(t.end.row,n);var f=t.end.column*n.characterWidth;this.elt(i+" ace_br12","height:"+p+"px;width:"+f+"px;top:"+w+"px;left:"+c+"px;"+(o||""))}if(p=(t.end.row-t.start.row-1)*n.lineHeight,!(p<=0)){w=this.$getTop(t.start.row+1,n);var C=(t.start.column?1:0)|(t.end.column?0:8);this.elt(i+(C?" ace_br"+C:""),"height:"+p+"px;right:0;top:"+w+"px;left:"+c+"px;"+(o||""))}},e.prototype.drawSingleLineMarker=function(s,t,i,n,o,c){if(this.session.$bidiHandler.isBidiRow(t.start.row))return this.drawBidiSingleLineMarker(s,t,i,n,o,c);var p=n.lineHeight,w=(t.end.column+(o||0)-t.start.column)*n.characterWidth,E=this.$getTop(t.start.row,n),k=this.$padding+t.start.column*n.characterWidth;this.elt(i,"height:"+p+"px;width:"+w+"px;top:"+E+"px;left:"+k+"px;"+(c||""))},e.prototype.drawBidiSingleLineMarker=function(s,t,i,n,o,c){var p=n.lineHeight,w=this.$getTop(t.start.row,n),E=this.$padding,k=this.session.$bidiHandler.getSelections(t.start.column,t.end.column);k.forEach(function(f){this.elt(i,"height:"+p+"px;width:"+(f.width+(o||0))+"px;top:"+w+"px;left:"+(E+f.left)+"px;"+(c||""))},this)},e.prototype.drawFullLineMarker=function(s,t,i,n,o){var c=this.$getTop(t.start.row,n),p=n.lineHeight;t.start.row!=t.end.row&&(p+=this.$getTop(t.end.row,n)-c),this.elt(i,"height:"+p+"px;top:"+c+"px;left:0;right:0;"+(o||""))},e.prototype.drawScreenLineMarker=function(s,t,i,n,o){var c=this.$getTop(t.start.row,n),p=n.lineHeight;this.elt(i,"height:"+p+"px;top:"+c+"px;left:0;right:0;"+(o||""))},e}();D.prototype.$padding=0;function r(e,s,t,i){return(e?1:0)|(s?2:0)|(t?4:0)|(i?8:0)}h.Marker=D}),ace.define("ace/layer/text_util",["require","exports","module"],function(M,h,F){var b=new Set(["text","rparen","lparen"]);h.isTextToken=function(d){return b.has(d)}}),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/layer/lines","ace/lib/event_emitter","ace/config","ace/layer/text_util"],function(M,h,F){"use strict";var b=M("../lib/oop"),d=M("../lib/dom"),D=M("../lib/lang"),r=M("./lines").Lines,e=M("../lib/event_emitter").EventEmitter,s=M("../config").nls,t=M("./text_util").isTextToken,i=function(){function n(o){this.dom=d,this.element=this.dom.createElement("div"),this.element.className="ace_layer ace_text-layer",o.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this),this.$lines=new r(this.element)}return n.prototype.$updateEolChar=function(){var o=this.session.doc,c=o.getNewLineCharacter()==`
`&&o.getNewLineMode()!="windows",p=c?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=p)return this.EOL_CHAR=p,!0},n.prototype.setPadding=function(o){this.$padding=o,this.element.style.margin="0 "+o+"px"},n.prototype.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},n.prototype.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},n.prototype.$setFontMetrics=function(o){this.$fontMetrics=o,this.$fontMetrics.on("changeCharacterSize",function(c){this._signal("changeCharacterSize",c)}.bind(this)),this.$pollSizeChanges()},n.prototype.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},n.prototype.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},n.prototype.setSession=function(o){this.session=o,o&&this.$computeTabString()},n.prototype.setShowInvisibles=function(o){return this.showInvisibles==o?!1:(this.showInvisibles=o,typeof o=="string"?(this.showSpaces=/tab/i.test(o),this.showTabs=/space/i.test(o),this.showEOL=/eol/i.test(o)):this.showSpaces=this.showTabs=this.showEOL=o,this.$computeTabString(),!0)},n.prototype.setDisplayIndentGuides=function(o){return this.displayIndentGuides==o?!1:(this.displayIndentGuides=o,this.$computeTabString(),!0)},n.prototype.setHighlightIndentGuides=function(o){return this.$highlightIndentGuides===o?!1:(this.$highlightIndentGuides=o,o)},n.prototype.$computeTabString=function(){var o=this.session.getTabSize();this.tabSize=o;for(var c=this.$tabStrings=[0],p=1;p<o+1;p++)if(this.showTabs){var w=this.dom.createElement("span");w.className="ace_invisible ace_invisible_tab",w.textContent=D.stringRepeat(this.TAB_CHAR,p),c.push(w)}else c.push(this.dom.createTextNode(D.stringRepeat(" ",p),this.element));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var E="ace_indent-guide",k=this.showSpaces?" ace_invisible ace_invisible_space":"",f=this.showSpaces?D.stringRepeat(this.SPACE_CHAR,this.tabSize):D.stringRepeat(" ",this.tabSize),C=this.showTabs?" ace_invisible ace_invisible_tab":"",g=this.showTabs?D.stringRepeat(this.TAB_CHAR,this.tabSize):f,w=this.dom.createElement("span");w.className=E+k,w.textContent=f,this.$tabStrings[" "]=w;var w=this.dom.createElement("span");w.className=E+C,w.textContent=g,this.$tabStrings["	"]=w}},n.prototype.updateLines=function(o,c,p){if(this.config.lastRow!=o.lastRow||this.config.firstRow!=o.firstRow)return this.update(o);this.config=o;for(var w=Math.max(c,o.firstRow),E=Math.min(p,o.lastRow),k=this.element.childNodes,f=0,g=o.firstRow;g<w;g++){var m=this.session.getFoldLine(g);if(m)if(m.containsRow(w)){w=m.start.row;break}else g=m.end.row;f++}for(var C=!1,g=w,m=this.session.getNextFoldLine(g),S=m?m.start.row:1/0;g>S&&(g=m.end.row+1,m=this.session.getNextFoldLine(g,m),S=m?m.start.row:1/0),!(g>E);){var A=k[f++];if(A){this.dom.removeChildren(A),this.$renderLine(A,g,g==S?m:!1),C&&(A.style.top=this.$lines.computeLineTop(g,o,this.session)+"px");var R=o.lineHeight*this.session.getRowLength(g)+"px";A.style.height!=R&&(C=!0,A.style.height=R)}g++}if(C)for(;f<this.$lines.cells.length;){var P=this.$lines.cells[f++];P.element.style.top=this.$lines.computeLineTop(P.row,o,this.session)+"px"}},n.prototype.scrollLines=function(o){var c=this.config;if(this.config=o,this.$lines.pageChanged(c,o))return this.update(o);this.$lines.moveContainer(o);var p=o.lastRow,w=c?c.lastRow:-1;if(!c||w<o.firstRow)return this.update(o);if(p<c.firstRow)return this.update(o);if(!c||c.lastRow<o.firstRow)return this.update(o);if(o.lastRow<c.firstRow)return this.update(o);if(c.firstRow<o.firstRow)for(var E=this.session.getFoldedRowCount(c.firstRow,o.firstRow-1);E>0;E--)this.$lines.shift();if(c.lastRow>o.lastRow)for(var E=this.session.getFoldedRowCount(o.lastRow+1,c.lastRow);E>0;E--)this.$lines.pop();o.firstRow<c.firstRow&&this.$lines.unshift(this.$renderLinesFragment(o,o.firstRow,c.firstRow-1)),o.lastRow>c.lastRow&&this.$lines.push(this.$renderLinesFragment(o,c.lastRow+1,o.lastRow)),this.$highlightIndentGuide()},n.prototype.$renderLinesFragment=function(o,c,p){for(var w=[],E=c,k=this.session.getNextFoldLine(E),f=k?k.start.row:1/0;E>f&&(E=k.end.row+1,k=this.session.getNextFoldLine(E,k),f=k?k.start.row:1/0),!(E>p);){var C=this.$lines.createCell(E,o,this.session),g=C.element;this.dom.removeChildren(g),d.setStyle(g.style,"height",this.$lines.computeLineHeight(E,o,this.session)+"px"),d.setStyle(g.style,"top",this.$lines.computeLineTop(E,o,this.session)+"px"),this.$renderLine(g,E,E==f?k:!1),this.$useLineGroups()?g.className="ace_line_group":g.className="ace_line",w.push(C),E++}return w},n.prototype.update=function(o){this.$lines.moveContainer(o),this.config=o;for(var c=o.firstRow,p=o.lastRow,w=this.$lines;w.getLength();)w.pop();w.push(this.$renderLinesFragment(o,c,p))},n.prototype.$renderToken=function(o,c,p,w){for(var E=this,k=/(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC\u2066\u2067\u2068\u202A\u202B\u202D\u202E\u202C\u2069]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g,f=this.dom.createFragment(this.element),C,g=0;C=k.exec(w);){var m=C[1],S=C[2],A=C[3],R=C[4],P=C[5];if(!(!E.showSpaces&&S)){var W=g!=C.index?w.slice(g,C.index):"";if(g=C.index+C[0].length,W&&f.appendChild(this.dom.createTextNode(W,this.element)),m){var _=E.session.getScreenTabSize(c+C.index);f.appendChild(E.$tabStrings[_].cloneNode(!0)),c+=_-1}else if(S)if(E.showSpaces){var T=this.dom.createElement("span");T.className="ace_invisible ace_invisible_space",T.textContent=D.stringRepeat(E.SPACE_CHAR,S.length),f.appendChild(T)}else f.appendChild(this.dom.createTextNode(S,this.element));else if(A){var T=this.dom.createElement("span");T.className="ace_invisible ace_invisible_space ace_invalid",T.textContent=D.stringRepeat(E.SPACE_CHAR,A.length),f.appendChild(T)}else if(R){c+=1;var T=this.dom.createElement("span");T.style.width=E.config.characterWidth*2+"px",T.className=E.showSpaces?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",T.textContent=E.showSpaces?E.SPACE_CHAR:R,f.appendChild(T)}else if(P){c+=1;var T=this.dom.createElement("span");T.style.width=E.config.characterWidth*2+"px",T.className="ace_cjk",T.textContent=P,f.appendChild(T)}}}if(f.appendChild(this.dom.createTextNode(g?w.slice(g):w,this.element)),t(p.type))o.appendChild(f);else{var N="ace_"+p.type.replace(/\./g," ace_"),T=this.dom.createElement("span");p.type=="fold"&&(T.style.width=p.value.length*this.config.characterWidth+"px",T.setAttribute("title",s("inline-fold.closed.title","Unfold code"))),T.className=N,T.appendChild(f),o.appendChild(T)}return c+w.length},n.prototype.renderIndentGuide=function(o,c,p){var w=c.search(this.$indentGuideRe);if(w<=0||w>=p)return c;if(c[0]==" "){w-=w%this.tabSize;for(var E=w/this.tabSize,k=0;k<E;k++)o.appendChild(this.$tabStrings[" "].cloneNode(!0));return this.$highlightIndentGuide(),c.substr(w)}else if(c[0]=="	"){for(var k=0;k<w;k++)o.appendChild(this.$tabStrings["	"].cloneNode(!0));return this.$highlightIndentGuide(),c.substr(w)}return this.$highlightIndentGuide(),c},n.prototype.$highlightIndentGuide=function(){if(!(!this.$highlightIndentGuides||!this.displayIndentGuides)){this.$highlightIndentGuideMarker={indentLevel:void 0,start:void 0,end:void 0,dir:void 0};var o=this.session.doc.$lines;if(o){var c=this.session.selection.getCursor(),p=/^\s*/.exec(this.session.doc.getLine(c.row))[0].length,w=Math.floor(p/this.tabSize);this.$highlightIndentGuideMarker={indentLevel:w,start:c.row};var E=this.session.$bracketHighlight;if(E){for(var k=this.session.$bracketHighlight.ranges,f=0;f<k.length;f++)if(c.row!==k[f].start.row){this.$highlightIndentGuideMarker.end=k[f].start.row,c.row>k[f].start.row?this.$highlightIndentGuideMarker.dir=-1:this.$highlightIndentGuideMarker.dir=1;break}}if(!this.$highlightIndentGuideMarker.end&&o[c.row]!==""&&c.column===o[c.row].length){this.$highlightIndentGuideMarker.dir=1;for(var f=c.row+1;f<o.length;f++){var C=o[f],g=/^\s*/.exec(C)[0].length;if(C!==""&&(this.$highlightIndentGuideMarker.end=f,g<=p))break}}this.$renderHighlightIndentGuide()}}},n.prototype.$clearActiveIndentGuide=function(){for(var o=this.$lines.cells,c=0;c<o.length;c++){var p=o[c],w=p.element.childNodes;if(w.length>0){for(var E=0;E<w.length;E++)if(w[E].classList&&w[E].classList.contains("ace_indent-guide-active")){w[E].classList.remove("ace_indent-guide-active");break}}}},n.prototype.$setIndentGuideActive=function(o,c){var p=this.session.doc.getLine(o.row);if(p!==""){var w=o.element.childNodes;if(w){var E=w[c-1];E&&E.classList&&E.classList.contains("ace_indent-guide")&&E.classList.add("ace_indent-guide-active")}}},n.prototype.$renderHighlightIndentGuide=function(){if(this.$lines){var o=this.$lines.cells;this.$clearActiveIndentGuide();var c=this.$highlightIndentGuideMarker.indentLevel;if(c!==0)if(this.$highlightIndentGuideMarker.dir===1)for(var p=0;p<o.length;p++){var w=o[p];if(this.$highlightIndentGuideMarker.end&&w.row>=this.$highlightIndentGuideMarker.start+1){if(w.row>=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(w,c)}}else for(var p=o.length-1;p>=0;p--){var w=o[p];if(this.$highlightIndentGuideMarker.end&&w.row<this.$highlightIndentGuideMarker.start){if(w.row<=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(w,c)}}}},n.prototype.$createLineElement=function(o){var c=this.dom.createElement("div");return c.className="ace_line",c.style.height=this.config.lineHeight+"px",c},n.prototype.$renderWrappedLine=function(o,c,p){var w=0,E=0,k=p[0],f=0,C=this.$createLineElement();o.appendChild(C);for(var g=0;g<c.length;g++){var m=c[g],S=m.value;if(g==0&&this.displayIndentGuides){if(w=S.length,S=this.renderIndentGuide(C,S,k),!S)continue;w-=S.length}if(w+S.length<k)f=this.$renderToken(C,f,m,S),w+=S.length;else{for(;w+S.length>=k;)f=this.$renderToken(C,f,m,S.substring(0,k-w)),S=S.substring(k-w),w=k,C=this.$createLineElement(),o.appendChild(C),C.appendChild(this.dom.createTextNode(D.stringRepeat("\xA0",p.indent),this.element)),E++,f=0,k=p[E]||Number.MAX_VALUE;S.length!=0&&(w+=S.length,f=this.$renderToken(C,f,m,S))}}p[p.length-1]>this.MAX_LINE_LENGTH&&this.$renderOverflowMessage(C,f,null,"",!0)},n.prototype.$renderSimpleLine=function(o,c){for(var p=0,w=0;w<c.length;w++){var E=c[w],k=E.value;if(!(w==0&&this.displayIndentGuides&&(k=this.renderIndentGuide(o,k),!k))){if(p+k.length>this.MAX_LINE_LENGTH)return this.$renderOverflowMessage(o,p,E,k);p=this.$renderToken(o,p,E,k)}}},n.prototype.$renderOverflowMessage=function(o,c,p,w,E){p&&this.$renderToken(o,c,p,w.slice(0,this.MAX_LINE_LENGTH-c));var k=this.dom.createElement("span");k.className="ace_inline_button ace_keyword ace_toggle_wrap",k.textContent=E?"<hide>":"<click to see more...>",o.appendChild(k)},n.prototype.$renderLine=function(o,c,p){if(!p&&p!=!1&&(p=this.session.getFoldLine(c)),p)var w=this.$getFoldLineTokens(c,p);else var w=this.session.getTokens(c);var E=o;if(w.length){var k=this.session.getRowSplitData(c);if(k&&k.length){this.$renderWrappedLine(o,w,k);var E=o.lastChild}else{var E=o;this.$useLineGroups()&&(E=this.$createLineElement(),o.appendChild(E)),this.$renderSimpleLine(E,w)}}else this.$useLineGroups()&&(E=this.$createLineElement(),o.appendChild(E));if(this.showEOL&&E){p&&(c=p.end.row);var f=this.dom.createElement("span");f.className="ace_invisible ace_invisible_eol",f.textContent=c==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,E.appendChild(f)}},n.prototype.$getFoldLineTokens=function(o,c){var p=this.session,w=[];function E(f,C,g){for(var m=0,S=0;S+f[m].value.length<C;)if(S+=f[m].value.length,m++,m==f.length)return;if(S!=C){var A=f[m].value.substring(C-S);A.length>g-C&&(A=A.substring(0,g-C)),w.push({type:f[m].type,value:A}),S=C+A.length,m+=1}for(;S<g&&m<f.length;){var A=f[m].value;A.length+S>g?w.push({type:f[m].type,value:A.substring(0,g-S)}):w.push(f[m]),S+=A.length,m+=1}}var k=p.getTokens(o);return c.walk(function(f,C,g,m,S){f!=null?w.push({type:"fold",value:f}):(S&&(k=p.getTokens(C)),k.length&&E(k,m,g))},c.end.row,this.session.getLine(c.end.row).length),w},n.prototype.$useLineGroups=function(){return this.session.getUseWrapMode()},n}();i.prototype.EOF_CHAR="\xB6",i.prototype.EOL_CHAR_LF="\xAC",i.prototype.EOL_CHAR_CRLF="\xA4",i.prototype.EOL_CHAR=i.prototype.EOL_CHAR_LF,i.prototype.TAB_CHAR="\u2014",i.prototype.SPACE_CHAR="\xB7",i.prototype.$padding=0,i.prototype.MAX_LINE_LENGTH=1e4,i.prototype.showInvisibles=!1,i.prototype.showSpaces=!1,i.prototype.showTabs=!1,i.prototype.showEOL=!1,i.prototype.displayIndentGuides=!0,i.prototype.$highlightIndentGuides=!0,i.prototype.$tabStrings=[],i.prototype.destroy={},i.prototype.onChangeTabSize=i.prototype.$computeTabString,b.implement(i.prototype,e),h.Text=i}),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(M,h,F){"use strict";var b=M("../lib/dom"),d=function(){function D(r){this.element=b.createElement("div"),this.element.className="ace_layer ace_cursor-layer",r.appendChild(this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),b.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=this.$updateOpacity.bind(this)}return D.prototype.$updateOpacity=function(r){for(var e=this.cursors,s=e.length;s--;)b.setStyle(e[s].style,"opacity",r?"":"0")},D.prototype.$startCssAnimation=function(){for(var r=this.cursors,e=r.length;e--;)r[e].style.animationDuration=this.blinkInterval+"ms";this.$isAnimating=!0,setTimeout(function(){this.$isAnimating&&b.addCssClass(this.element,"ace_animate-blinking")}.bind(this))},D.prototype.$stopCssAnimation=function(){this.$isAnimating=!1,b.removeCssClass(this.element,"ace_animate-blinking")},D.prototype.setPadding=function(r){this.$padding=r},D.prototype.setSession=function(r){this.session=r},D.prototype.setBlinking=function(r){r!=this.isBlinking&&(this.isBlinking=r,this.restartTimer())},D.prototype.setBlinkInterval=function(r){r!=this.blinkInterval&&(this.blinkInterval=r,this.restartTimer())},D.prototype.setSmoothBlinking=function(r){r!=this.smoothBlinking&&(this.smoothBlinking=r,b.setCssClass(this.element,"ace_smooth-blinking",r),this.$updateCursors(!0),this.restartTimer())},D.prototype.addCursor=function(){var r=b.createElement("div");return r.className="ace_cursor",this.element.appendChild(r),this.cursors.push(r),r},D.prototype.removeCursor=function(){if(this.cursors.length>1){var r=this.cursors.pop();return r.parentNode.removeChild(r),r}},D.prototype.hideCursor=function(){this.isVisible=!1,b.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},D.prototype.showCursor=function(){this.isVisible=!0,b.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},D.prototype.restartTimer=function(){var r=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.$stopCssAnimation(),this.smoothBlinking&&(this.$isSmoothBlinking=!1,b.removeCssClass(this.element,"ace_smooth-blinking")),r(!0),!this.isBlinking||!this.blinkInterval||!this.isVisible){this.$stopCssAnimation();return}if(this.smoothBlinking&&(this.$isSmoothBlinking=!0,setTimeout(function(){this.$isSmoothBlinking&&b.addCssClass(this.element,"ace_smooth-blinking")}.bind(this))),b.HAS_CSS_ANIMATION)this.$startCssAnimation();else{var e=function(){this.timeoutId=setTimeout(function(){r(!1)},.6*this.blinkInterval)}.bind(this);this.intervalId=setInterval(function(){r(!0),e()},this.blinkInterval),e()}},D.prototype.getPixelPosition=function(r,e){if(!this.config||!this.session)return{left:0,top:0};r||(r=this.session.selection.getCursor());var s=this.session.documentToScreenPosition(r),t=this.$padding+(this.session.$bidiHandler.isBidiRow(s.row,r.row)?this.session.$bidiHandler.getPosLeft(s.column):s.column*this.config.characterWidth),i=(s.row-(e?this.config.firstRowScreen:0))*this.config.lineHeight;return{left:t,top:i}},D.prototype.isCursorInView=function(r,e){return r.top>=0&&r.top<e.maxHeight},D.prototype.update=function(r){this.config=r;var e=this.session.$selectionMarkers,s=0,t=0;(e===void 0||e.length===0)&&(e=[{cursor:null}]);for(var s=0,i=e.length;s<i;s++){var n=this.getPixelPosition(e[s].cursor,!0);if(!((n.top>r.height+r.offset||n.top<0)&&s>1)){var o=this.cursors[t++]||this.addCursor(),c=o.style;this.drawCursor?this.drawCursor(o,n,r,e[s],this.session):this.isCursorInView(n,r)?(b.setStyle(c,"display","block"),b.translate(o,n.left,n.top),b.setStyle(c,"width",Math.round(r.characterWidth)+"px"),b.setStyle(c,"height",r.lineHeight+"px")):b.setStyle(c,"display","none")}}for(;this.cursors.length>t;)this.removeCursor();var p=this.session.getOverwrite();this.$setOverwrite(p),this.$pixelPos=n,this.restartTimer()},D.prototype.$setOverwrite=function(r){r!=this.overwrite&&(this.overwrite=r,r?b.addCssClass(this.element,"ace_overwrite-cursors"):b.removeCssClass(this.element,"ace_overwrite-cursors"))},D.prototype.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)},D}();d.prototype.$padding=0,d.prototype.drawCursor=null,h.Cursor=d}),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(M,h,F){"use strict";var b=this&&this.__extends||function(){var o=function(c,p){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(w,E){w.__proto__=E}||function(w,E){for(var k in E)Object.prototype.hasOwnProperty.call(E,k)&&(w[k]=E[k])},o(c,p)};return function(c,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");o(c,p);function w(){this.constructor=c}c.prototype=p===null?Object.create(p):(w.prototype=p.prototype,new w)}}(),d=M("./lib/oop"),D=M("./lib/dom"),r=M("./lib/event"),e=M("./lib/event_emitter").EventEmitter,s=32768,t=function(){function o(c,p){this.element=D.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+p,this.inner=D.createElement("div"),this.inner.className="ace_scrollbar-inner",this.inner.textContent="\xA0",this.element.appendChild(this.inner),c.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,r.addListener(this.element,"scroll",this.onScroll.bind(this)),r.addListener(this.element,"mousedown",r.preventDefault)}return o.prototype.setVisible=function(c){this.element.style.display=c?"":"none",this.isVisible=c,this.coeff=1},o}();d.implement(t.prototype,e);var i=function(o){b(c,o);function c(p,w){var E=o.call(this,p,"-v")||this;return E.scrollTop=0,E.scrollHeight=0,w.$scrollbarWidth=E.width=D.scrollbarWidth(p.ownerDocument),E.inner.style.width=E.element.style.width=(E.width||15)+5+"px",E.$minWidth=0,E}return c.prototype.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,this.coeff!=1){var p=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-p)/(this.coeff-p)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},c.prototype.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},c.prototype.setHeight=function(p){this.element.style.height=p+"px"},c.prototype.setScrollHeight=function(p){this.scrollHeight=p,p>s?(this.coeff=s/p,p=s):this.coeff!=1&&(this.coeff=1),this.inner.style.height=p+"px"},c.prototype.setScrollTop=function(p){this.scrollTop!=p&&(this.skipEvent=!0,this.scrollTop=p,this.element.scrollTop=p*this.coeff)},c}(t);i.prototype.setInnerHeight=i.prototype.setScrollHeight;var n=function(o){b(c,o);function c(p,w){var E=o.call(this,p,"-h")||this;return E.scrollLeft=0,E.height=w.$scrollbarWidth,E.inner.style.height=E.element.style.height=(E.height||15)+5+"px",E}return c.prototype.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},c.prototype.getHeight=function(){return this.isVisible?this.height:0},c.prototype.setWidth=function(p){this.element.style.width=p+"px"},c.prototype.setInnerWidth=function(p){this.inner.style.width=p+"px"},c.prototype.setScrollWidth=function(p){this.inner.style.width=p+"px"},c.prototype.setScrollLeft=function(p){this.scrollLeft!=p&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=p)},c}(t);h.ScrollBar=i,h.ScrollBarV=i,h.ScrollBarH=n,h.VScrollBar=i,h.HScrollBar=n}),ace.define("ace/scrollbar_custom",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(M,h,F){"use strict";var b=this&&this.__extends||function(){var n=function(o,c){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,w){p.__proto__=w}||function(p,w){for(var E in w)Object.prototype.hasOwnProperty.call(w,E)&&(p[E]=w[E])},n(o,c)};return function(o,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");n(o,c);function p(){this.constructor=o}o.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),d=M("./lib/oop"),D=M("./lib/dom"),r=M("./lib/event"),e=M("./lib/event_emitter").EventEmitter;D.importCssString(`.ace_editor>.ace_sb-v div, .ace_editor>.ace_sb-h div{
  position: absolute;
  background: rgba(128, 128, 128, 0.6);
  -moz-box-sizing: border-box;
  box-sizing: border-box;
  border: 1px solid #bbb;
  border-radius: 2px;
  z-index: 8;
}
.ace_editor>.ace_sb-v, .ace_editor>.ace_sb-h {
  position: absolute;
  z-index: 6;
  background: none;
  overflow: hidden!important;
}
.ace_editor>.ace_sb-v {
  z-index: 6;
  right: 0;
  top: 0;
  width: 12px;
}
.ace_editor>.ace_sb-v div {
  z-index: 8;
  right: 0;
  width: 100%;
}
.ace_editor>.ace_sb-h {
  bottom: 0;
  left: 0;
  height: 12px;
}
.ace_editor>.ace_sb-h div {
  bottom: 0;
  height: 100%;
}
.ace_editor>.ace_sb_grabbed {
  z-index: 8;
  background: #000;
}`,"ace_scrollbar.css",!1);var s=function(){function n(o,c){this.element=D.createElement("div"),this.element.className="ace_sb"+c,this.inner=D.createElement("div"),this.inner.className="",this.element.appendChild(this.inner),this.VScrollWidth=12,this.HScrollHeight=12,o.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,r.addMultiMouseDownListener(this.element,[500,300,300],this,"onMouseDown")}return n.prototype.setVisible=function(o){this.element.style.display=o?"":"none",this.isVisible=o,this.coeff=1},n}();d.implement(s.prototype,e);var t=function(n){b(o,n);function o(c,p){var w=n.call(this,c,"-v")||this;return w.scrollTop=0,w.scrollHeight=0,w.parent=c,w.width=w.VScrollWidth,w.renderer=p,w.inner.style.width=w.element.style.width=(w.width||15)+"px",w.$minWidth=0,w}return o.prototype.onMouseDown=function(c,p){if(c==="mousedown"&&!(r.getButton(p)!==0||p.detail===2)){if(p.target===this.inner){var w=this,E=p.clientY,k=function(R){E=R.clientY},f=function(){clearInterval(S)},C=p.clientY,g=this.thumbTop,m=function(){if(E!==void 0){var R=w.scrollTopFromThumbTop(g+E-C);R!==w.scrollTop&&w._emit("scroll",{data:R})}};r.capture(this.inner,k,f);var S=setInterval(m,20);return r.preventDefault(p)}var A=p.clientY-this.element.getBoundingClientRect().top-this.thumbHeight/2;return this._emit("scroll",{data:this.scrollTopFromThumbTop(A)}),r.preventDefault(p)}},o.prototype.getHeight=function(){return this.height},o.prototype.scrollTopFromThumbTop=function(c){var p=c*(this.pageHeight-this.viewHeight)/(this.slideHeight-this.thumbHeight);return p=p>>0,p<0?p=0:p>this.pageHeight-this.viewHeight&&(p=this.pageHeight-this.viewHeight),p},o.prototype.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},o.prototype.setHeight=function(c){this.height=Math.max(0,c),this.slideHeight=this.height,this.viewHeight=this.height,this.setScrollHeight(this.pageHeight,!0)},o.prototype.setScrollHeight=function(c,p){this.pageHeight===c&&!p||(this.pageHeight=c,this.thumbHeight=this.slideHeight*this.viewHeight/this.pageHeight,this.thumbHeight>this.slideHeight&&(this.thumbHeight=this.slideHeight),this.thumbHeight<15&&(this.thumbHeight=15),this.inner.style.height=this.thumbHeight+"px",this.scrollTop>this.pageHeight-this.viewHeight&&(this.scrollTop=this.pageHeight-this.viewHeight,this.scrollTop<0&&(this.scrollTop=0),this._emit("scroll",{data:this.scrollTop})))},o.prototype.setScrollTop=function(c){this.scrollTop=c,c<0&&(c=0),this.thumbTop=c*(this.slideHeight-this.thumbHeight)/(this.pageHeight-this.viewHeight),this.inner.style.top=this.thumbTop+"px"},o}(s);t.prototype.setInnerHeight=t.prototype.setScrollHeight;var i=function(n){b(o,n);function o(c,p){var w=n.call(this,c,"-h")||this;return w.scrollLeft=0,w.scrollWidth=0,w.height=w.HScrollHeight,w.inner.style.height=w.element.style.height=(w.height||12)+"px",w.renderer=p,w}return o.prototype.onMouseDown=function(c,p){if(c==="mousedown"&&!(r.getButton(p)!==0||p.detail===2)){if(p.target===this.inner){var w=this,E=p.clientX,k=function(R){E=R.clientX},f=function(){clearInterval(S)},C=p.clientX,g=this.thumbLeft,m=function(){if(E!==void 0){var R=w.scrollLeftFromThumbLeft(g+E-C);R!==w.scrollLeft&&w._emit("scroll",{data:R})}};r.capture(this.inner,k,f);var S=setInterval(m,20);return r.preventDefault(p)}var A=p.clientX-this.element.getBoundingClientRect().left-this.thumbWidth/2;return this._emit("scroll",{data:this.scrollLeftFromThumbLeft(A)}),r.preventDefault(p)}},o.prototype.getHeight=function(){return this.isVisible?this.height:0},o.prototype.scrollLeftFromThumbLeft=function(c){var p=c*(this.pageWidth-this.viewWidth)/(this.slideWidth-this.thumbWidth);return p=p>>0,p<0?p=0:p>this.pageWidth-this.viewWidth&&(p=this.pageWidth-this.viewWidth),p},o.prototype.setWidth=function(c){this.width=Math.max(0,c),this.element.style.width=this.width+"px",this.slideWidth=this.width,this.viewWidth=this.width,this.setScrollWidth(this.pageWidth,!0)},o.prototype.setScrollWidth=function(c,p){this.pageWidth===c&&!p||(this.pageWidth=c,this.thumbWidth=this.slideWidth*this.viewWidth/this.pageWidth,this.thumbWidth>this.slideWidth&&(this.thumbWidth=this.slideWidth),this.thumbWidth<15&&(this.thumbWidth=15),this.inner.style.width=this.thumbWidth+"px",this.scrollLeft>this.pageWidth-this.viewWidth&&(this.scrollLeft=this.pageWidth-this.viewWidth,this.scrollLeft<0&&(this.scrollLeft=0),this._emit("scroll",{data:this.scrollLeft})))},o.prototype.setScrollLeft=function(c){this.scrollLeft=c,c<0&&(c=0),this.thumbLeft=c*(this.slideWidth-this.thumbWidth)/(this.pageWidth-this.viewWidth),this.inner.style.left=this.thumbLeft+"px"},o}(s);i.prototype.setInnerWidth=i.prototype.setScrollWidth,h.ScrollBar=t,h.ScrollBarV=t,h.ScrollBarH=i,h.VScrollBar=t,h.HScrollBar=i}),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],function(M,h,F){"use strict";var b=M("./lib/event"),d=function(){function D(r,e){this.onRender=r,this.pending=!1,this.changes=0,this.$recursionLimit=2,this.window=e||window;var s=this;this._flush=function(t){s.pending=!1;var i=s.changes;if(i&&(b.blockIdle(100),s.changes=0,s.onRender(i)),s.changes){if(s.$recursionLimit--<0)return;s.schedule()}else s.$recursionLimit=2}}return D.prototype.schedule=function(r){this.changes=this.changes|r,this.changes&&!this.pending&&(b.nextFrame(this._flush),this.pending=!0)},D.prototype.clear=function(r){var e=this.changes;return this.changes=0,e},D}();h.RenderLoop=d}),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/lib/useragent","ace/lib/event_emitter"],function(M,h,F){var b=M("../lib/oop"),d=M("../lib/dom"),D=M("../lib/lang"),r=M("../lib/event"),e=M("../lib/useragent"),s=M("../lib/event_emitter").EventEmitter,t=512,i=typeof ResizeObserver=="function",n=200,o=function(){function c(p){this.el=d.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=d.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=d.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),p.appendChild(this.el),this.$measureNode.textContent=D.stringRepeat("X",t),this.$characterSize={width:0,height:0},i?this.$addObserver():this.checkForSizeChanges()}return c.prototype.$setMeasureNodeStyles=function(p,w){p.width=p.height="auto",p.left=p.top="0px",p.visibility="hidden",p.position="absolute",p.whiteSpace="pre",e.isIE<8?p["font-family"]="inherit":p.font="inherit",p.overflow=w?"hidden":"visible"},c.prototype.checkForSizeChanges=function(p){if(p===void 0&&(p=this.$measureSizes()),p&&(this.$characterSize.width!==p.width||this.$characterSize.height!==p.height)){this.$measureNode.style.fontWeight="bold";var w=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=p,this.charSizes=Object.create(null),this.allowBoldFonts=w&&w.width===p.width&&w.height===p.height,this._emit("changeCharacterSize",{data:p})}},c.prototype.$addObserver=function(){var p=this;this.$observer=new window.ResizeObserver(function(w){p.checkForSizeChanges()}),this.$observer.observe(this.$measureNode)},c.prototype.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer||this.$observer)return this.$pollSizeChangesTimer;var p=this;return this.$pollSizeChangesTimer=r.onIdle(function w(){p.checkForSizeChanges(),r.onIdle(w,500)},500)},c.prototype.setPolling=function(p){p?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},c.prototype.$measureSizes=function(p){var w={height:(p||this.$measureNode).clientHeight,width:(p||this.$measureNode).clientWidth/t};return w.width===0||w.height===0?null:w},c.prototype.$measureCharWidth=function(p){this.$main.textContent=D.stringRepeat(p,t);var w=this.$main.getBoundingClientRect();return w.width/t},c.prototype.getCharacterWidth=function(p){var w=this.charSizes[p];return w===void 0&&(w=this.charSizes[p]=this.$measureCharWidth(p)/this.$characterSize.width),w},c.prototype.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$observer&&this.$observer.disconnect(),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},c.prototype.$getZoom=function(p){return!p||!p.parentElement?1:(window.getComputedStyle(p).zoom||1)*this.$getZoom(p.parentElement)},c.prototype.$initTransformMeasureNodes=function(){var p=function(w,E){return["div",{style:"position: absolute;top:"+w+"px;left:"+E+"px;"}]};this.els=d.buildDom([p(0,0),p(n,0),p(0,n),p(n,n)],this.el)},c.prototype.transformCoordinates=function(p,w){if(p){var E=this.$getZoom(this.el);p=g(1/E,p)}function k(U,J,Q){var ee=U[1]*J[0]-U[0]*J[1];return[(-J[1]*Q[0]+J[0]*Q[1])/ee,(+U[1]*Q[0]-U[0]*Q[1])/ee]}function f(U,J){return[U[0]-J[0],U[1]-J[1]]}function C(U,J){return[U[0]+J[0],U[1]+J[1]]}function g(U,J){return[U*J[0],U*J[1]]}this.els||this.$initTransformMeasureNodes();function m(U){var J=U.getBoundingClientRect();return[J.left,J.top]}var S=m(this.els[0]),A=m(this.els[1]),R=m(this.els[2]),P=m(this.els[3]),W=k(f(P,A),f(P,R),f(C(A,R),C(P,S))),_=g(1+W[0],f(A,S)),T=g(1+W[1],f(R,S));if(w){var N=w,V=W[0]*N[0]/n+W[1]*N[1]/n+1,K=C(g(N[0],_),g(N[1],T));return C(g(1/V/n,K),S)}var I=f(p,S),q=k(f(_,g(W[0],I)),f(T,g(W[1],I)),I);return g(n,q)},c}();o.prototype.$characterSize={width:0,height:0},b.implement(o.prototype,s),h.FontMetrics=o}),ace.define("ace/css/editor-css",["require","exports","module"],function(M,h,F){F.exports=`
.ace_br1 {border-top-left-radius    : 3px;}
.ace_br2 {border-top-right-radius   : 3px;}
.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}
.ace_br4 {border-bottom-right-radius: 3px;}
.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}
.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}
.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}
.ace_br8 {border-bottom-left-radius : 3px;}
.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}
.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}
.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}
.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}


.ace_editor {
    position: relative;
    overflow: hidden;
    padding: 0;
    font: 12px/normal 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'Source Code Pro', 'source-code-pro', monospace;
    direction: ltr;
    text-align: left;
    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
}

.ace_scroller {
    position: absolute;
    overflow: hidden;
    top: 0;
    bottom: 0;
    background-color: inherit;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    cursor: text;
}

.ace_content {
    position: absolute;
    box-sizing: border-box;
    min-width: 100%;
    contain: style size layout;
    font-variant-ligatures: no-common-ligatures;
}

.ace_keyboard-focus:focus {
    box-shadow: inset 0 0 0 2px #5E9ED6;
    outline: none;
}

.ace_dragging .ace_scroller:before{
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    content: '';
    background: rgba(250, 250, 250, 0.01);
    z-index: 1000;
}
.ace_dragging.ace_dark .ace_scroller:before{
    background: rgba(0, 0, 0, 0.01);
}

.ace_gutter {
    position: absolute;
    overflow : hidden;
    width: auto;
    top: 0;
    bottom: 0;
    left: 0;
    cursor: default;
    z-index: 4;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    contain: style size layout;
}

.ace_gutter-active-line {
    position: absolute;
    left: 0;
    right: 0;
}

.ace_scroller.ace_scroll-left:after {
    content: "";
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;
    pointer-events: none;
}

.ace_gutter-cell, .ace_gutter-cell_svg-icons {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    padding-left: 19px;
    padding-right: 6px;
    background-repeat: no-repeat;
}

.ace_gutter-cell_svg-icons .ace_gutter_annotation {
    margin-left: -14px;
    float: left;
}

.ace_gutter-cell .ace_gutter_annotation {
    margin-left: -19px;
    float: left;
}

.ace_gutter-cell.ace_error, .ace_icon.ace_error, .ace_icon.ace_error_fold {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_gutter-cell.ace_warning, .ace_icon.ace_warning, .ace_icon.ace_warning_fold {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_gutter-cell.ace_info, .ace_icon.ace_info {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");
    background-repeat: no-repeat;
    background-position: 2px center;
}
.ace_dark .ace_gutter-cell.ace_info, .ace_dark .ace_icon.ace_info {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");
}

.ace_icon_svg.ace_error {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJyZWQiIHNoYXBlLXJlbmRlcmluZz0iZ2VvbWV0cmljUHJlY2lzaW9uIj4KPGNpcmNsZSBmaWxsPSJub25lIiBjeD0iOCIgY3k9IjgiIHI9IjciIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPGxpbmUgeDE9IjExIiB5MT0iNSIgeDI9IjUiIHkyPSIxMSIvPgo8bGluZSB4MT0iMTEiIHkxPSIxMSIgeDI9IjUiIHkyPSI1Ii8+CjwvZz4KPC9zdmc+");
    background-color: crimson;
}
.ace_icon_svg.ace_warning {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJkYXJrb3JhbmdlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+Cjxwb2x5Z29uIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGZpbGw9Im5vbmUiIHBvaW50cz0iOCAxIDE1IDE1IDEgMTUgOCAxIi8+CjxyZWN0IHg9IjgiIHk9IjEyIiB3aWR0aD0iMC4wMSIgaGVpZ2h0PSIwLjAxIi8+CjxsaW5lIHgxPSI4IiB5MT0iNiIgeDI9IjgiIHkyPSIxMCIvPgo8L2c+Cjwvc3ZnPg==");
    background-color: darkorange;
}
.ace_icon_svg.ace_info {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJibHVlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+CjxjaXJjbGUgZmlsbD0ibm9uZSIgY3g9IjgiIGN5PSI4IiByPSI3IiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjxwb2x5bGluZSBwb2ludHM9IjggMTEgOCA4Ii8+Cjxwb2x5bGluZSBwb2ludHM9IjkgOCA2IDgiLz4KPGxpbmUgeDE9IjEwIiB5MT0iMTEiIHgyPSI2IiB5Mj0iMTEiLz4KPHJlY3QgeD0iOCIgeT0iNSIgd2lkdGg9IjAuMDEiIGhlaWdodD0iMC4wMSIvPgo8L2c+Cjwvc3ZnPg==");
    background-color: royalblue;
}

.ace_icon_svg.ace_error_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSI+CiAgPHBhdGggZD0ibSAxOC45Mjk4NTEsNy44Mjk4MDc2IGMgMC4xNDYzNTMsNi4zMzc0NjA0IC02LjMyMzE0Nyw3Ljc3Nzg0NDQgLTcuNDc3OTEyLDcuNzc3ODQ0NCAtMi4xMDcyNzI2LC0wLjEyODc1IDUuMTE3Njc4LDAuMzU2MjQ5IDUuMDUxNjk4LC03Ljg3MDA2MTggLTAuNjA0NjcyLC04LjAwMzk3MzQ5IC03LjA3NzI3MDYsLTcuNTYzMTE4OSAtNC44NTczLC03LjQzMDM5NTU2IDEuNjA2LC0wLjExNTE0MjI1IDYuODk3NDg1LDEuMjYyNTQ1OTYgNy4yODM1MTQsNy41MjI2MTI5NiB6IiBmaWxsPSJjcmltc29uIiBzdHJva2Utd2lkdGg9IjIiLz4KICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0ibSA4LjExNDc1NjIsMi4wNTI5ODI4IGMgMy4zNDkxNjk4LDAgNi4wNjQxMzI4LDIuNjc2ODYyNyA2LjA2NDEzMjgsNS45Nzg5NTMgMCwzLjMwMjExMjIgLTIuNzE0OTYzLDUuOTc4OTIwMiAtNi4wNjQxMzI4LDUuOTc4OTIwMiAtMy4zNDkxNDczLDAgLTYuMDY0MTc3MiwtMi42NzY4MDggLTYuMDY0MTc3MiwtNS45Nzg5MjAyIDAuMDA1MzksLTMuMjk5ODg2MSAyLjcxNzI2NTYsLTUuOTczNjQwOCA2LjA2NDE3NzIsLTUuOTc4OTUzIHogbSAwLC0xLjczNTgyNzE5IGMgLTQuMzIxNDgzNiwwIC03LjgyNDc0MDM4LDMuNDU0MDE4NDkgLTcuODI0NzQwMzgsNy43MTQ3ODAxOSAwLDQuMjYwNzI4MiAzLjUwMzI1Njc4LDcuNzE0NzQ1MiA3LjgyNDc0MDM4LDcuNzE0NzQ1MiA0LjMyMTQ0OTgsMCA3LjgyNDY5OTgsLTMuNDU0MDE3IDcuODI0Njk5OCwtNy43MTQ3NDUyIDAsLTIuMDQ2MDkxNCAtMC44MjQzOTIsLTQuMDA4MzY3MiAtMi4yOTE3NTYsLTUuNDU1MTc0NiBDIDEyLjE4MDIyNSwxLjEyOTk2NDggMTAuMTkwMDEzLDAuMzE3MTU1NjEgOC4xMTQ3NTYyLDAuMzE3MTU1NjEgWiBNIDYuOTM3NDU2Myw4LjI0MDU5ODUgNC42NzE4Njg1LDEwLjQ4NTg1MiA2LjAwODY4MTQsMTEuODc2NzI4IDguMzE3MDAzNSw5LjYwMDc5MTEgMTAuNjI1MzM3LDExLjg3NjcyOCAxMS45NjIxMzgsMTAuNDg1ODUyIDkuNjk2NTUwOCw4LjI0MDU5ODUgMTEuOTYyMTM4LDYuMDA2ODA2NiAxMC41NzMyNDYsNC42Mzc0MzM1IDguMzE3MDAzNSw2Ljg3MzQyOTcgNi4wNjA3NjA3LDQuNjM3NDMzNSA0LjY3MTg2ODUsNi4wMDY4MDY2IFoiIGZpbGw9ImNyaW1zb24iIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4=");
    background-color: crimson;
}
.ace_icon_svg.ace_warning_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNC43NzY5IDE0LjczMzdMOC42NTE5MiAyLjQ4MzY5QzguMzI5NDYgMS44Mzg3NyA3LjQwOTEzIDEuODM4NzcgNy4wODY2NyAyLjQ4MzY5TDAuOTYxNjY5IDE0LjczMzdDMC42NzA3NzUgMTUuMzE1NSAxLjA5MzgzIDE2IDEuNzQ0MjkgMTZIMTMuOTk0M0MxNC42NDQ4IDE2IDE1LjA2NzggMTUuMzE1NSAxNC43NzY5IDE0LjczMzdaTTMuMTYwMDcgMTQuMjVMNy44NjkyOSA0LjgzMTU2TDEyLjU3ODUgMTQuMjVIMy4xNjAwN1pNOC43NDQyOSAxMS42MjVWMTMuMzc1SDYuOTk0MjlWMTEuNjI1SDguNzQ0MjlaTTYuOTk0MjkgMTAuNzVWNy4yNUg4Ljc0NDI5VjEwLjc1SDYuOTk0MjlaIiBmaWxsPSIjRUM3MjExIi8+CjxwYXRoIGQ9Ik0xMS4xOTkxIDIuOTUyMzhDMTAuODgwOSAyLjMxNDY3IDEwLjM1MzcgMS44MDUyNiA5LjcwNTUgMS41MDlMMTEuMDQxIDEuMDY5NzhDMTEuNjg4MyAwLjk0OTgxNCAxMi4zMzcgMS4yNzI2MyAxMi42MzE3IDEuODYxNDFMMTcuNjEzNiAxMS44MTYxQzE4LjM1MjcgMTMuMjkyOSAxNy41OTM4IDE1LjA4MDQgMTYuMDE4IDE1LjU3NDVDMTYuNDA0NCAxNC40NTA3IDE2LjMyMzEgMTMuMjE4OCAxNS43OTI0IDEyLjE1NTVMMTEuMTk5MSAyLjk1MjM4WiIgZmlsbD0iI0VDNzIxMSIvPgo8L3N2Zz4=");
    background-color: darkorange;
}

.ace_scrollbar {
    contain: strict;
    position: absolute;
    right: 0;
    bottom: 0;
    z-index: 6;
}

.ace_scrollbar-inner {
    position: absolute;
    cursor: text;
    left: 0;
    top: 0;
}

.ace_scrollbar-v{
    overflow-x: hidden;
    overflow-y: scroll;
    top: 0;
}

.ace_scrollbar-h {
    overflow-x: scroll;
    overflow-y: hidden;
    left: 0;
}

.ace_print-margin {
    position: absolute;
    height: 100%;
}

.ace_text-input {
    position: absolute;
    z-index: 0;
    width: 0.5em;
    height: 1em;
    opacity: 0;
    background: transparent;
    -moz-appearance: none;
    appearance: none;
    border: none;
    resize: none;
    outline: none;
    overflow: hidden;
    font: inherit;
    padding: 0 1px;
    margin: 0 -1px;
    contain: strict;
    -ms-user-select: text;
    -moz-user-select: text;
    -webkit-user-select: text;
    user-select: text;
    /*with \`pre-line\` chrome inserts &nbsp; instead of space*/
    white-space: pre!important;
}
.ace_text-input.ace_composition {
    background: transparent;
    color: inherit;
    z-index: 1000;
    opacity: 1;
}
.ace_composition_placeholder { color: transparent }
.ace_composition_marker { 
    border-bottom: 1px solid;
    position: absolute;
    border-radius: 0;
    margin-top: 1px;
}

[ace_nocontext=true] {
    transform: none!important;
    filter: none!important;
    clip-path: none!important;
    mask : none!important;
    contain: none!important;
    perspective: none!important;
    mix-blend-mode: initial!important;
    z-index: auto;
}

.ace_layer {
    z-index: 1;
    position: absolute;
    overflow: hidden;
    /* workaround for chrome bug https://github.com/ajaxorg/ace/issues/2312*/
    word-wrap: normal;
    white-space: pre;
    height: 100%;
    width: 100%;
    box-sizing: border-box;
    /* setting pointer-events: auto; on node under the mouse, which changes
        during scroll, will break mouse wheel scrolling in Safari */
    pointer-events: none;
}

.ace_gutter-layer {
    position: relative;
    width: auto;
    text-align: right;
    pointer-events: auto;
    height: 1000000px;
    contain: style size layout;
}

.ace_text-layer {
    font: inherit !important;
    position: absolute;
    height: 1000000px;
    width: 1000000px;
    contain: style size layout;
}

.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {
    contain: style size layout;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
}

.ace_hidpi .ace_text-layer,
.ace_hidpi .ace_gutter-layer,
.ace_hidpi .ace_content,
.ace_hidpi .ace_gutter {
    contain: strict;
}
.ace_hidpi .ace_text-layer > .ace_line, 
.ace_hidpi .ace_text-layer > .ace_line_group {
    contain: strict;
}

.ace_cjk {
    display: inline-block;
    text-align: center;
}

.ace_cursor-layer {
    z-index: 4;
}

.ace_cursor {
    z-index: 4;
    position: absolute;
    box-sizing: border-box;
    border-left: 2px solid;
    /* workaround for smooth cursor repaintng whole screen in chrome */
    transform: translatez(0);
}

.ace_multiselect .ace_cursor {
    border-left-width: 1px;
}

.ace_slim-cursors .ace_cursor {
    border-left-width: 1px;
}

.ace_overwrite-cursors .ace_cursor {
    border-left-width: 0;
    border-bottom: 1px solid;
}

.ace_hidden-cursors .ace_cursor {
    opacity: 0.2;
}

.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {
    opacity: 0;
}

.ace_smooth-blinking .ace_cursor {
    transition: opacity 0.18s;
}

.ace_animate-blinking .ace_cursor {
    animation-duration: 1000ms;
    animation-timing-function: step-end;
    animation-name: blink-ace-animate;
    animation-iteration-count: infinite;
}

.ace_animate-blinking.ace_smooth-blinking .ace_cursor {
    animation-duration: 1000ms;
    animation-timing-function: ease-in-out;
    animation-name: blink-ace-animate-smooth;
}
    
@keyframes blink-ace-animate {
    from, to { opacity: 1; }
    60% { opacity: 0; }
}

@keyframes blink-ace-animate-smooth {
    from, to { opacity: 1; }
    45% { opacity: 1; }
    60% { opacity: 0; }
    85% { opacity: 0; }
}

.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {
    position: absolute;
    z-index: 3;
}

.ace_marker-layer .ace_selection {
    position: absolute;
    z-index: 5;
}

.ace_marker-layer .ace_bracket {
    position: absolute;
    z-index: 6;
}

.ace_marker-layer .ace_error_bracket {
    position: absolute;
    border-bottom: 1px solid #DE5555;
    border-radius: 0;
}

.ace_marker-layer .ace_active-line {
    position: absolute;
    z-index: 2;
}

.ace_marker-layer .ace_selected-word {
    position: absolute;
    z-index: 4;
    box-sizing: border-box;
}

.ace_line .ace_fold {
    box-sizing: border-box;

    display: inline-block;
    height: 11px;
    margin-top: -2px;
    vertical-align: middle;

    background-image:
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");
    background-repeat: no-repeat, repeat-x;
    background-position: center center, top left;
    color: transparent;

    border: 1px solid black;
    border-radius: 2px;

    cursor: pointer;
    pointer-events: auto;
}

.ace_dark .ace_fold {
}

.ace_fold:hover{
    background-image:
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");
}

.ace_tooltip {
    background-color: #f5f5f5;
    border: 1px solid gray;
    border-radius: 1px;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
    color: black;
    max-width: 100%;
    padding: 3px 4px;
    position: fixed;
    z-index: 999999;
    box-sizing: border-box;
    cursor: default;
    white-space: pre-wrap;
    word-wrap: break-word;
    line-height: normal;
    font-style: normal;
    font-weight: normal;
    letter-spacing: normal;
    pointer-events: none;
    overflow: auto;
    max-width: min(60em, 66vw);
    overscroll-behavior: contain;
}
.ace_tooltip pre {
    white-space: pre-wrap;
}

.ace_tooltip.ace_dark {
    background-color: #636363;
    color: #fff;
}

.ace_tooltip:focus {
    outline: 1px solid #5E9ED6;
}

.ace_icon {
    display: inline-block;
    width: 18px;
    vertical-align: top;
}

.ace_icon_svg {
    display: inline-block;
    width: 12px;
    vertical-align: top;
    -webkit-mask-repeat: no-repeat;
    -webkit-mask-size: 12px;
    -webkit-mask-position: center;
}

.ace_folding-enabled > .ace_gutter-cell, .ace_folding-enabled > .ace_gutter-cell_svg-icons {
    padding-right: 13px;
}

.ace_fold-widget {
    box-sizing: border-box;

    margin: 0 -12px 0 1px;
    display: none;
    width: 11px;
    vertical-align: top;

    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: center;

    border-radius: 3px;
    
    border: 1px solid transparent;
    cursor: pointer;
}

.ace_folding-enabled .ace_fold-widget {
    display: inline-block;   
}

.ace_fold-widget.ace_end {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");
}

.ace_fold-widget.ace_closed {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");
}

.ace_fold-widget:hover {
    border: 1px solid rgba(0, 0, 0, 0.3);
    background-color: rgba(255, 255, 255, 0.2);
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);
}

.ace_fold-widget:active {
    border: 1px solid rgba(0, 0, 0, 0.4);
    background-color: rgba(0, 0, 0, 0.05);
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);
}
/**
 * Dark version for fold widgets
 */
.ace_dark .ace_fold-widget {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");
}
.ace_dark .ace_fold-widget.ace_end {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");
}
.ace_dark .ace_fold-widget.ace_closed {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");
}
.ace_dark .ace_fold-widget:hover {
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);
    background-color: rgba(255, 255, 255, 0.1);
}
.ace_dark .ace_fold-widget:active {
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);
}

.ace_inline_button {
    border: 1px solid lightgray;
    display: inline-block;
    margin: -1px 8px;
    padding: 0 5px;
    pointer-events: auto;
    cursor: pointer;
}
.ace_inline_button:hover {
    border-color: gray;
    background: rgba(200,200,200,0.2);
    display: inline-block;
    pointer-events: auto;
}

.ace_fold-widget.ace_invalid {
    background-color: #FFB4B4;
    border-color: #DE5555;
}

.ace_fade-fold-widgets .ace_fold-widget {
    transition: opacity 0.4s ease 0.05s;
    opacity: 0;
}

.ace_fade-fold-widgets:hover .ace_fold-widget {
    transition: opacity 0.05s ease 0.05s;
    opacity:1;
}

.ace_underline {
    text-decoration: underline;
}

.ace_bold {
    font-weight: bold;
}

.ace_nobold .ace_bold {
    font-weight: normal;
}

.ace_italic {
    font-style: italic;
}


.ace_error-marker {
    background-color: rgba(255, 0, 0,0.2);
    position: absolute;
    z-index: 9;
}

.ace_highlight-marker {
    background-color: rgba(255, 255, 0,0.2);
    position: absolute;
    z-index: 8;
}

.ace_mobile-menu {
    position: absolute;
    line-height: 1.5;
    border-radius: 4px;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    background: white;
    box-shadow: 1px 3px 2px grey;
    border: 1px solid #dcdcdc;
    color: black;
}
.ace_dark > .ace_mobile-menu {
    background: #333;
    color: #ccc;
    box-shadow: 1px 3px 2px grey;
    border: 1px solid #444;

}
.ace_mobile-button {
    padding: 2px;
    cursor: pointer;
    overflow: hidden;
}
.ace_mobile-button:hover {
    background-color: #eee;
    opacity:1;
}
.ace_mobile-button:active {
    background-color: #ddd;
}

.ace_placeholder {
    font-family: arial;
    transform: scale(0.9);
    transform-origin: left;
    white-space: pre;
    opacity: 0.7;
    margin: 0 10px;
}

.ace_ghost_text {
    opacity: 0.5;
    font-style: italic;
}

.ace_ghost_text > div {
    white-space: pre;
}

.ghost_text_line_wrapped::after {
    content: "\u21A9";
    position: absolute;
}

.ace_lineWidgetContainer.ace_ghost_text {
    margin: 0px 4px
}

.ace_screenreader-only {
    position:absolute;
    left:-10000px;
    top:auto;
    width:1px;
    height:1px;
    overflow:hidden;
}`}),ace.define("ace/layer/decorators",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter"],function(M,h,F){"use strict";var b=M("../lib/dom"),d=M("../lib/oop"),D=M("../lib/event_emitter").EventEmitter,r=function(){function e(s,t){this.canvas=b.createElement("canvas"),this.renderer=t,this.pixelRatio=1,this.maxHeight=t.layerConfig.maxHeight,this.lineHeight=t.layerConfig.lineHeight,this.canvasHeight=s.parent.scrollHeight,this.heightRatio=this.canvasHeight/this.maxHeight,this.canvasWidth=s.width,this.minDecorationHeight=2*this.pixelRatio|0,this.halfMinDecorationHeight=this.minDecorationHeight/2|0,this.canvas.width=this.canvasWidth,this.canvas.height=this.canvasHeight,this.canvas.style.top="0px",this.canvas.style.right="0px",this.canvas.style.zIndex="7px",this.canvas.style.position="absolute",this.colors={},this.colors.dark={error:"rgba(255, 18, 18, 1)",warning:"rgba(18, 136, 18, 1)",info:"rgba(18, 18, 136, 1)"},this.colors.light={error:"rgb(255,51,51)",warning:"rgb(32,133,72)",info:"rgb(35,68,138)"},s.element.appendChild(this.canvas)}return e.prototype.$updateDecorators=function(s){var t=this.renderer.theme.isDark===!0?this.colors.dark:this.colors.light;if(s){this.maxHeight=s.maxHeight,this.lineHeight=s.lineHeight,this.canvasHeight=s.height;var i=(s.lastRow+1)*this.lineHeight;i<this.canvasHeight?this.heightRatio=1:this.heightRatio=this.canvasHeight/this.maxHeight}var n=this.canvas.getContext("2d");function o(P,W){return P.priority<W.priority?-1:P.priority>W.priority?1:0}var c=this.renderer.session.$annotations;if(n.clearRect(0,0,this.canvas.width,this.canvas.height),c){var p={info:1,warning:2,error:3};c.forEach(function(P){P.priority=p[P.type]||null}),c=c.sort(o);for(var w=this.renderer.session.$foldData,E=0;E<c.length;E++){var k=c[E].row,f=this.compensateFoldRows(k,w),C=Math.round((k-f)*this.lineHeight*this.heightRatio),g=Math.round((k-f)*this.lineHeight*this.heightRatio),m=Math.round(((k-f)*this.lineHeight+this.lineHeight)*this.heightRatio),S=m-g;if(S<this.minDecorationHeight){var A=(g+m)/2|0;A<this.halfMinDecorationHeight?A=this.halfMinDecorationHeight:A+this.halfMinDecorationHeight>this.canvasHeight&&(A=this.canvasHeight-this.halfMinDecorationHeight),g=Math.round(A-this.halfMinDecorationHeight),m=Math.round(A+this.halfMinDecorationHeight)}n.fillStyle=t[c[E].type]||null,n.fillRect(0,C,this.canvasWidth,m-g)}}var R=this.renderer.session.selection.getCursor();if(R){var f=this.compensateFoldRows(R.row,w),C=Math.round((R.row-f)*this.lineHeight*this.heightRatio);n.fillStyle="rgba(0, 0, 0, 0.5)",n.fillRect(0,C,this.canvasWidth,2)}},e.prototype.compensateFoldRows=function(s,t){var i=0;if(t&&t.length>0)for(var n=0;n<t.length;n++)s>t[n].start.row&&s<t[n].end.row?i+=s-t[n].start.row:s>=t[n].end.row&&(i+=t[n].end.row-t[n].start.row);return i},e}();d.implement(r.prototype,D),h.Decorator=r}),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/config","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/scrollbar_custom","ace/scrollbar_custom","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter","ace/css/editor-css","ace/layer/decorators","ace/lib/useragent"],function(M,h,F){"use strict";var b=M("./lib/oop"),d=M("./lib/dom"),D=M("./lib/lang"),r=M("./config"),e=M("./layer/gutter").Gutter,s=M("./layer/marker").Marker,t=M("./layer/text").Text,i=M("./layer/cursor").Cursor,n=M("./scrollbar").HScrollBar,o=M("./scrollbar").VScrollBar,c=M("./scrollbar_custom").HScrollBar,p=M("./scrollbar_custom").VScrollBar,w=M("./renderloop").RenderLoop,E=M("./layer/font_metrics").FontMetrics,k=M("./lib/event_emitter").EventEmitter,f=M("./css/editor-css"),C=M("./layer/decorators").Decorator,g=M("./lib/useragent");d.importCssString(f,"ace_editor.css",!1);var m=function(){function S(A,R){var P=this;this.container=A||d.createElement("div"),d.addCssClass(this.container,"ace_editor"),d.HI_DPI&&d.addCssClass(this.container,"ace_hidpi"),this.setTheme(R),r.get("useStrictCSP")==null&&r.set("useStrictCSP",!1),this.$gutter=d.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.$gutter.setAttribute("aria-hidden","true"),this.scroller=d.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=d.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new e(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new s(this.content);var W=this.$textLayer=new t(this.content);this.canvas=W.element,this.$markerFront=new s(this.content),this.$cursorLayer=new i(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new o(this.container,this),this.scrollBarH=new n(this.container,this),this.scrollBarV.on("scroll",function(_){P.$scrollAnimation||P.session.setScrollTop(_.data-P.scrollMargin.top)}),this.scrollBarH.on("scroll",function(_){P.$scrollAnimation||P.session.setScrollLeft(_.data-P.scrollMargin.left)}),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new E(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.on("changeCharacterSize",function(_){P.updateCharacterSize(),P.onResize(!0,P.gutterWidth,P.$size.width,P.$size.height),P._signal("changeCharacterSize",_)}),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.margin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$keepTextAreaAtCursor=!g.isIOS,this.$loop=new w(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),this.$addResizeObserver(),r.resetOptions(this),r._signal("renderer",this)}return S.prototype.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin(),d.setStyle(this.scroller.style,"line-height",this.lineHeight+"px")},S.prototype.setSession=function(A){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=A,A&&this.scrollMargin.top&&A.getScrollTop()<=0&&A.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(A),this.$markerBack.setSession(A),this.$markerFront.setSession(A),this.$gutterLayer.setSession(A),this.$textLayer.setSession(A),A&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},S.prototype.updateLines=function(A,R,P){if(R===void 0&&(R=1/0),this.$changedLines?(this.$changedLines.firstRow>A&&(this.$changedLines.firstRow=A),this.$changedLines.lastRow<R&&(this.$changedLines.lastRow=R)):this.$changedLines={firstRow:A,lastRow:R},this.$changedLines.lastRow<this.layerConfig.firstRow)if(P)this.$changedLines.lastRow=this.layerConfig.lastRow;else return;this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},S.prototype.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)},S.prototype.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},S.prototype.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},S.prototype.updateFull=function(A){A?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},S.prototype.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},S.prototype.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},S.prototype.onResize=function(A,R,P,W){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=A?1:0;var _=this.container;W||(W=_.clientHeight||_.scrollHeight),!W&&this.$maxLines&&this.lineHeight>1&&(!_.style.height||_.style.height=="0px")&&(_.style.height="1px",W=_.clientHeight||_.scrollHeight),P||(P=_.clientWidth||_.scrollWidth);var T=this.$updateCachedSize(A,R,P,W);if(this.$resizeTimer&&this.$resizeTimer.cancel(),!this.$size.scrollerHeight||!P&&!W)return this.resizing=0;A&&(this.$gutterLayer.$padding=null),A?this.$renderChanges(T|this.$changes,!0):this.$loop.schedule(T|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.$customScrollbar&&this.$updateCustomScrollbar(!0)}},S.prototype.$updateCachedSize=function(A,R,P,W){W-=this.$extraHeight||0;var _=0,T=this.$size,N={width:T.width,height:T.height,scrollerHeight:T.scrollerHeight,scrollerWidth:T.scrollerWidth};if(W&&(A||T.height!=W)&&(T.height=W,_|=this.CHANGE_SIZE,T.scrollerHeight=T.height,this.$horizScroll&&(T.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.setHeight(T.scrollerHeight),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",_=_|this.CHANGE_SCROLL),P&&(A||T.width!=P)){_|=this.CHANGE_SIZE,T.width=P,R==null&&(R=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=R,d.setStyle(this.scrollBarH.element.style,"left",R+"px"),d.setStyle(this.scroller.style,"left",R+this.margin.left+"px"),T.scrollerWidth=Math.max(0,P-R-this.scrollBarV.getWidth()-this.margin.h),d.setStyle(this.$gutter.style,"left",this.margin.left+"px");var V=this.scrollBarV.getWidth()+"px";d.setStyle(this.scrollBarH.element.style,"right",V),d.setStyle(this.scroller.style,"right",V),d.setStyle(this.scroller.style,"bottom",this.scrollBarH.getHeight()),this.scrollBarH.setWidth(T.scrollerWidth),(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||A)&&(_|=this.CHANGE_FULL)}return T.$dirty=!P||!W,_&&this._signal("resize",N),_},S.prototype.onGutterResize=function(A){var R=this.$showGutter?A:0;R!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,R,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()?this.$loop.schedule(this.CHANGE_FULL):this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):this.$computeLayerConfig()},S.prototype.adjustWrapLimit=function(){var A=this.$size.scrollerWidth-this.$padding*2,R=Math.floor(A/this.characterWidth);return this.session.adjustWrapLimit(R,this.$showPrintMargin&&this.$printMarginColumn)},S.prototype.setAnimatedScroll=function(A){this.setOption("animatedScroll",A)},S.prototype.getAnimatedScroll=function(){return this.$animatedScroll},S.prototype.setShowInvisibles=function(A){this.setOption("showInvisibles",A),this.session.$bidiHandler.setShowInvisibles(A)},S.prototype.getShowInvisibles=function(){return this.getOption("showInvisibles")},S.prototype.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},S.prototype.setDisplayIndentGuides=function(A){this.setOption("displayIndentGuides",A)},S.prototype.getHighlightIndentGuides=function(){return this.getOption("highlightIndentGuides")},S.prototype.setHighlightIndentGuides=function(A){this.setOption("highlightIndentGuides",A)},S.prototype.setShowPrintMargin=function(A){this.setOption("showPrintMargin",A)},S.prototype.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},S.prototype.setPrintMarginColumn=function(A){this.setOption("printMarginColumn",A)},S.prototype.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},S.prototype.getShowGutter=function(){return this.getOption("showGutter")},S.prototype.setShowGutter=function(A){return this.setOption("showGutter",A)},S.prototype.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},S.prototype.setFadeFoldWidgets=function(A){this.setOption("fadeFoldWidgets",A)},S.prototype.setHighlightGutterLine=function(A){this.setOption("highlightGutterLine",A)},S.prototype.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},S.prototype.$updatePrintMargin=function(){if(!(!this.$showPrintMargin&&!this.$printMarginEl)){if(!this.$printMarginEl){var A=d.createElement("div");A.className="ace_layer ace_print-margin-layer",this.$printMarginEl=d.createElement("div"),this.$printMarginEl.className="ace_print-margin",A.appendChild(this.$printMarginEl),this.content.insertBefore(A,this.content.firstChild)}var R=this.$printMarginEl.style;R.left=Math.round(this.characterWidth*this.$printMarginColumn+this.$padding)+"px",R.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&this.session.$wrap==-1&&this.adjustWrapLimit()}},S.prototype.getContainerElement=function(){return this.container},S.prototype.getMouseEventTarget=function(){return this.scroller},S.prototype.getTextAreaContainer=function(){return this.container},S.prototype.$moveTextAreaToCursor=function(){if(!this.$isMousePressed){var A=this.textarea.style,R=this.$composition;if(!this.$keepTextAreaAtCursor&&!R){d.translate(this.textarea,-100,0);return}var P=this.$cursorLayer.$pixelPos;if(P){R&&R.markerRange&&(P=this.$cursorLayer.getPixelPosition(R.markerRange.start,!0));var W=this.layerConfig,_=P.top,T=P.left;_-=W.offset;var N=R&&R.useTextareaForIME||g.isMobile?this.lineHeight:1;if(_<0||_>W.height-N){d.translate(this.textarea,0,0);return}var V=1,K=this.$size.height-N;if(!R)_+=this.lineHeight;else if(R.useTextareaForIME){var I=this.textarea.value;V=this.characterWidth*this.session.$getStringScreenWidth(I)[0]}else _+=this.lineHeight+2;T-=this.scrollLeft,T>this.$size.scrollerWidth-V&&(T=this.$size.scrollerWidth-V),T+=this.gutterWidth+this.margin.left,d.setStyle(A,"height",N+"px"),d.setStyle(A,"width",V+"px"),d.translate(this.textarea,Math.min(T,this.$size.scrollerWidth-V),Math.min(_,K))}}},S.prototype.getFirstVisibleRow=function(){return this.layerConfig.firstRow},S.prototype.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(this.layerConfig.offset===0?0:1)},S.prototype.getLastFullyVisibleRow=function(){var A=this.layerConfig,R=A.lastRow,P=this.session.documentToScreenRow(R,0)*A.lineHeight;return P-this.session.getScrollTop()>A.height-A.lineHeight?R-1:R},S.prototype.getLastVisibleRow=function(){return this.layerConfig.lastRow},S.prototype.setPadding=function(A){this.$padding=A,this.$textLayer.setPadding(A),this.$cursorLayer.setPadding(A),this.$markerFront.setPadding(A),this.$markerBack.setPadding(A),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},S.prototype.setScrollMargin=function(A,R,P,W){var _=this.scrollMargin;_.top=A|0,_.bottom=R|0,_.right=W|0,_.left=P|0,_.v=_.top+_.bottom,_.h=_.left+_.right,_.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-_.top),this.updateFull()},S.prototype.setMargin=function(A,R,P,W){var _=this.margin;_.top=A|0,_.bottom=R|0,_.right=W|0,_.left=P|0,_.v=_.top+_.bottom,_.h=_.left+_.right,this.$updateCachedSize(!0,this.gutterWidth,this.$size.width,this.$size.height),this.updateFull()},S.prototype.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},S.prototype.setHScrollBarAlwaysVisible=function(A){this.setOption("hScrollBarAlwaysVisible",A)},S.prototype.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},S.prototype.setVScrollBarAlwaysVisible=function(A){this.setOption("vScrollBarAlwaysVisible",A)},S.prototype.$updateScrollBarV=function(){var A=this.layerConfig.maxHeight,R=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(A-=(R-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>A-R&&(A=this.scrollTop+R,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(A+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},S.prototype.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},S.prototype.freeze=function(){this.$frozen=!0},S.prototype.unfreeze=function(){this.$frozen=!1},S.prototype.$renderChanges=function(A,R){if(this.$changes&&(A|=this.$changes,this.$changes=0),!this.session||!this.container.offsetWidth||this.$frozen||!A&&!R){this.$changes|=A;return}if(this.$size.$dirty)return this.$changes|=A,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender",A),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var P=this.layerConfig;if(A&this.CHANGE_FULL||A&this.CHANGE_SIZE||A&this.CHANGE_TEXT||A&this.CHANGE_LINES||A&this.CHANGE_SCROLL||A&this.CHANGE_H_SCROLL){if(A|=this.$computeLayerConfig()|this.$loop.clear(),P.firstRow!=this.layerConfig.firstRow&&P.firstRowScreen==this.layerConfig.firstRowScreen){var W=this.scrollTop+(P.firstRow-Math.max(this.layerConfig.firstRow,0))*this.lineHeight;W>0&&(this.scrollTop=W,A=A|this.CHANGE_SCROLL,A|=this.$computeLayerConfig()|this.$loop.clear())}P=this.layerConfig,this.$updateScrollBarV(),A&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),d.translate(this.content,-this.scrollLeft,-P.offset);var _=P.width+2*this.$padding+"px",T=P.minHeight+"px";d.setStyle(this.content.style,"width",_),d.setStyle(this.content.style,"height",T)}if(A&this.CHANGE_H_SCROLL&&(d.translate(this.content,-this.scrollLeft,-P.offset),this.scroller.className=this.scrollLeft<=0?"ace_scroller ":"ace_scroller ace_scroll-left ",this.enableKeyboardAccessibility&&(this.scroller.className+=this.keyboardFocusClassName)),A&this.CHANGE_FULL){this.$changedLines=null,this.$textLayer.update(P),this.$showGutter&&this.$gutterLayer.update(P),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(P),this.$markerBack.update(P),this.$markerFront.update(P),this.$cursorLayer.update(P),this.$moveTextAreaToCursor(),this._signal("afterRender",A);return}if(A&this.CHANGE_SCROLL){this.$changedLines=null,A&this.CHANGE_TEXT||A&this.CHANGE_LINES?this.$textLayer.update(P):this.$textLayer.scrollLines(P),this.$showGutter&&(A&this.CHANGE_GUTTER||A&this.CHANGE_LINES?this.$gutterLayer.update(P):this.$gutterLayer.scrollLines(P)),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(P),this.$markerBack.update(P),this.$markerFront.update(P),this.$cursorLayer.update(P),this.$moveTextAreaToCursor(),this._signal("afterRender",A);return}A&this.CHANGE_TEXT?(this.$changedLines=null,this.$textLayer.update(P),this.$showGutter&&this.$gutterLayer.update(P),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(P)):A&this.CHANGE_LINES?((this.$updateLines()||A&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(P),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(P)):A&this.CHANGE_TEXT||A&this.CHANGE_GUTTER?(this.$showGutter&&this.$gutterLayer.update(P),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(P)):A&this.CHANGE_CURSOR&&(this.$highlightGutterLine&&this.$gutterLayer.updateLineHighlight(P),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(P)),A&this.CHANGE_CURSOR&&(this.$cursorLayer.update(P),this.$moveTextAreaToCursor()),A&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(P),A&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(P),this._signal("afterRender",A)},S.prototype.$autosize=function(){var A=this.session.getScreenLength()*this.lineHeight,R=this.$maxLines*this.lineHeight,P=Math.min(R,Math.max((this.$minLines||1)*this.lineHeight,A))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(P+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&P>this.$maxPixelHeight&&(P=this.$maxPixelHeight);var W=P<=2*this.lineHeight,_=!W&&A>R;if(P!=this.desiredHeight||this.$size.height!=this.desiredHeight||_!=this.$vScroll){_!=this.$vScroll&&(this.$vScroll=_,this.scrollBarV.setVisible(_));var T=this.container.clientWidth;this.container.style.height=P+"px",this.$updateCachedSize(!0,this.$gutterWidth,T,P),this.desiredHeight=P,this._signal("autosize")}},S.prototype.$computeLayerConfig=function(){var A=this.session,R=this.$size,P=R.height<=2*this.lineHeight,W=this.session.getScreenLength(),_=W*this.lineHeight,T=this.$getLongestLine(),N=!P&&(this.$hScrollBarAlwaysVisible||R.scrollerWidth-T-2*this.$padding<0),V=this.$horizScroll!==N;V&&(this.$horizScroll=N,this.scrollBarH.setVisible(N));var K=this.$vScroll;this.$maxLines&&this.lineHeight>1&&this.$autosize();var I=R.scrollerHeight+this.lineHeight,q=!this.$maxLines&&this.$scrollPastEnd?(R.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;_+=q;var U=this.scrollMargin;this.session.setScrollTop(Math.max(-U.top,Math.min(this.scrollTop,_-R.scrollerHeight+U.bottom))),this.session.setScrollLeft(Math.max(-U.left,Math.min(this.scrollLeft,T+2*this.$padding-R.scrollerWidth+U.right)));var J=!P&&(this.$vScrollBarAlwaysVisible||R.scrollerHeight-_+q<0||this.scrollTop>U.top),Q=K!==J;Q&&(this.$vScroll=J,this.scrollBarV.setVisible(J));var ee=this.scrollTop%this.lineHeight,se=Math.ceil(I/this.lineHeight)-1,ue=Math.max(0,Math.round((this.scrollTop-ee)/this.lineHeight)),xe=ue+se,_e,Je,Be=this.lineHeight;ue=A.screenToDocumentRow(ue,0);var He=A.getFoldLine(ue);He&&(ue=He.start.row),_e=A.documentToScreenRow(ue,0),Je=A.getRowLength(ue)*Be,xe=Math.min(A.screenToDocumentRow(xe,0),A.getLength()-1),I=R.scrollerHeight+A.getRowLength(xe)*Be+Je,ee=this.scrollTop-_e*Be;var Xe=0;return(this.layerConfig.width!=T||V)&&(Xe=this.CHANGE_H_SCROLL),(V||Q)&&(Xe|=this.$updateCachedSize(!0,this.gutterWidth,R.width,R.height),this._signal("scrollbarVisibilityChanged"),Q&&(T=this.$getLongestLine())),this.layerConfig={width:T,padding:this.$padding,firstRow:ue,firstRowScreen:_e,lastRow:xe,lineHeight:Be,characterWidth:this.characterWidth,minHeight:I,maxHeight:_,offset:ee,gutterOffset:Be?Math.max(0,Math.ceil((ee+R.height-R.scrollerHeight)/Be)):0,height:this.$size.scrollerHeight},this.session.$bidiHandler&&this.session.$bidiHandler.setContentWidth(T-this.$padding),Xe},S.prototype.$updateLines=function(){if(this.$changedLines){var A=this.$changedLines.firstRow,R=this.$changedLines.lastRow;this.$changedLines=null;var P=this.layerConfig;if(!(A>P.lastRow+1)&&!(R<P.firstRow)){if(R===1/0){this.$showGutter&&this.$gutterLayer.update(P),this.$textLayer.update(P);return}return this.$textLayer.updateLines(P,A,R),!0}}},S.prototype.$getLongestLine=function(){var A=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(A+=1),this.$textLayer&&A>this.$textLayer.MAX_LINE_LENGTH&&(A=this.$textLayer.MAX_LINE_LENGTH+30),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(A*this.characterWidth))},S.prototype.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},S.prototype.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},S.prototype.addGutterDecoration=function(A,R){this.$gutterLayer.addGutterDecoration(A,R)},S.prototype.removeGutterDecoration=function(A,R){this.$gutterLayer.removeGutterDecoration(A,R)},S.prototype.updateBreakpoints=function(A){this._rows=A,this.$loop.schedule(this.CHANGE_GUTTER)},S.prototype.setAnnotations=function(A){this.$gutterLayer.setAnnotations(A),this.$loop.schedule(this.CHANGE_GUTTER)},S.prototype.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},S.prototype.hideCursor=function(){this.$cursorLayer.hideCursor()},S.prototype.showCursor=function(){this.$cursorLayer.showCursor()},S.prototype.scrollSelectionIntoView=function(A,R,P){this.scrollCursorIntoView(A,P),this.scrollCursorIntoView(R,P)},S.prototype.scrollCursorIntoView=function(A,R,P){if(this.$size.scrollerHeight!==0){var W=this.$cursorLayer.getPixelPosition(A),_=W.left,T=W.top,N=P&&P.top||0,V=P&&P.bottom||0;this.$scrollAnimation&&(this.$stopAnimation=!0);var K=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;K+N>T?(R&&K+N>T+this.lineHeight&&(T-=R*this.$size.scrollerHeight),T===0&&(T=-this.scrollMargin.top),this.session.setScrollTop(T)):K+this.$size.scrollerHeight-V<T+this.lineHeight&&(R&&K+this.$size.scrollerHeight-V<T-this.lineHeight&&(T+=R*this.$size.scrollerHeight),this.session.setScrollTop(T+this.lineHeight+V-this.$size.scrollerHeight));var I=this.scrollLeft,q=2*this.layerConfig.characterWidth;_-q<I?(_-=q,_<this.$padding+q&&(_=-this.scrollMargin.left),this.session.setScrollLeft(_)):(_+=q,I+this.$size.scrollerWidth<_+this.characterWidth?this.session.setScrollLeft(Math.round(_+this.characterWidth-this.$size.scrollerWidth)):I<=this.$padding&&_-I<this.characterWidth&&this.session.setScrollLeft(0))}},S.prototype.getScrollTop=function(){return this.session.getScrollTop()},S.prototype.getScrollLeft=function(){return this.session.getScrollLeft()},S.prototype.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},S.prototype.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},S.prototype.scrollToRow=function(A){this.session.setScrollTop(A*this.lineHeight)},S.prototype.alignCursor=function(A,R){typeof A=="number"&&(A={row:A,column:0});var P=this.$cursorLayer.getPixelPosition(A),W=this.$size.scrollerHeight-this.lineHeight,_=P.top-W*(R||0);return this.session.setScrollTop(_),_},S.prototype.$calcSteps=function(A,R){var P=0,W=this.STEPS,_=[],T=function(N,V,K){return K*(Math.pow(N-1,3)+1)+V};for(P=0;P<W;++P)_.push(T(P/this.STEPS,A,R-A));return _},S.prototype.scrollToLine=function(A,R,P,W){var _=this.$cursorLayer.getPixelPosition({row:A,column:0}),T=_.top;R&&(T-=this.$size.scrollerHeight/2);var N=this.scrollTop;this.session.setScrollTop(T),P!==!1&&this.animateScrolling(N,W)},S.prototype.animateScrolling=function(A,R){var P=this.scrollTop;if(!this.$animatedScroll)return;var W=this;if(A==P)return;if(this.$scrollAnimation){var _=this.$scrollAnimation.steps;if(_.length&&(A=_[0],A==P))return}var T=W.$calcSteps(A,P);this.$scrollAnimation={from:A,to:P,steps:T},clearInterval(this.$timer),W.session.setScrollTop(T.shift()),W.session.$scrollTop=P;function N(){W.$timer=clearInterval(W.$timer),W.$scrollAnimation=null,W.$stopAnimation=!1,R&&R()}this.$timer=setInterval(function(){if(W.$stopAnimation){N();return}if(!W.session)return clearInterval(W.$timer);T.length?(W.session.setScrollTop(T.shift()),W.session.$scrollTop=P):P!=null?(W.session.$scrollTop=-1,W.session.setScrollTop(P),P=null):N()},10)},S.prototype.scrollToY=function(A){this.scrollTop!==A&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=A)},S.prototype.scrollToX=function(A){this.scrollLeft!==A&&(this.scrollLeft=A),this.$loop.schedule(this.CHANGE_H_SCROLL)},S.prototype.scrollTo=function(A,R){this.session.setScrollTop(R),this.session.setScrollLeft(A)},S.prototype.scrollBy=function(A,R){R&&this.session.setScrollTop(this.session.getScrollTop()+R),A&&this.session.setScrollLeft(this.session.getScrollLeft()+A)},S.prototype.isScrollableBy=function(A,R){if(R<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||R>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||A<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||A>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right)return!0},S.prototype.pixelToScreenCoordinates=function(A,R){var P;if(this.$hasCssTransforms){P={top:0,left:0};var W=this.$fontMetrics.transformCoordinates([A,R]);A=W[1]-this.gutterWidth-this.margin.left,R=W[0]}else P=this.scroller.getBoundingClientRect();var _=A+this.scrollLeft-P.left-this.$padding,T=_/this.characterWidth,N=Math.floor((R+this.scrollTop-P.top)/this.lineHeight),V=this.$blockCursor?Math.floor(T):Math.round(T);return{row:N,column:V,side:T-V>0?1:-1,offsetX:_}},S.prototype.screenToTextCoordinates=function(A,R){var P;if(this.$hasCssTransforms){P={top:0,left:0};var W=this.$fontMetrics.transformCoordinates([A,R]);A=W[1]-this.gutterWidth-this.margin.left,R=W[0]}else P=this.scroller.getBoundingClientRect();var _=A+this.scrollLeft-P.left-this.$padding,T=_/this.characterWidth,N=this.$blockCursor?Math.floor(T):Math.round(T),V=Math.floor((R+this.scrollTop-P.top)/this.lineHeight);return this.session.screenToDocumentPosition(V,Math.max(N,0),_)},S.prototype.textToScreenCoordinates=function(A,R){var P=this.scroller.getBoundingClientRect(),W=this.session.documentToScreenPosition(A,R),_=this.$padding+(this.session.$bidiHandler.isBidiRow(W.row,A)?this.session.$bidiHandler.getPosLeft(W.column):Math.round(W.column*this.characterWidth)),T=W.row*this.lineHeight;return{pageX:P.left+_-this.scrollLeft,pageY:P.top+T-this.scrollTop}},S.prototype.visualizeFocus=function(){d.addCssClass(this.container,"ace_focus")},S.prototype.visualizeBlur=function(){d.removeCssClass(this.container,"ace_focus")},S.prototype.showComposition=function(A){this.$composition=A,A.cssText||(A.cssText=this.textarea.style.cssText),A.useTextareaForIME==null&&(A.useTextareaForIME=this.$useTextareaForIME),this.$useTextareaForIME?(d.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor(),this.$cursorLayer.element.style.display="none"):A.markerId=this.session.addMarker(A.markerRange,"ace_composition_marker","text")},S.prototype.setCompositionText=function(A){var R=this.session.selection.cursor;this.addToken(A,"composition_placeholder",R.row,R.column),this.$moveTextAreaToCursor()},S.prototype.hideComposition=function(){if(this.$composition){this.$composition.markerId&&this.session.removeMarker(this.$composition.markerId),d.removeCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText=this.$composition.cssText;var A=this.session.selection.cursor;this.removeExtraToken(A.row,A.column),this.$composition=null,this.$cursorLayer.element.style.display=""}},S.prototype.setGhostText=function(A,R){var P=this.session.selection.cursor,W=R||{row:P.row,column:P.column};this.removeGhostText();var _=this.$calculateWrappedTextChunks(A,W);if(this.addToken(_[0].text,"ghost_text",W.row,W.column),this.$ghostText={text:A,position:{row:W.row,column:W.column}},_.length>1){var T=_.slice(1).map(function(U){return"<div".concat(U.wrapped?' class="ghost_text_line_wrapped"':"",">").concat(U.text,"</div>")});this.$ghostTextWidget={html:T.join(""),row:W.row,column:W.column,className:"ace_ghost_text"},this.session.widgetManager.addLineWidget(this.$ghostTextWidget);var N=this.$cursorLayer.getPixelPosition(W,!0),V=this.container,K=V.getBoundingClientRect().height,I=_.length*this.lineHeight,q=I<K-N.top;if(q)return;I<K?this.scrollBy(0,(_.length-1)*this.lineHeight):this.scrollToRow(W.row)}},S.prototype.$calculateWrappedTextChunks=function(A,R){var P=this.$size.scrollerWidth-this.$padding*2,W=Math.floor(P/this.characterWidth)-2;W=W<=0?60:W;for(var _=A.split(/\r?\n/),T=[],N=0;N<_.length;N++){var V=this.session.$getDisplayTokens(_[N],R.column),K=this.session.$computeWrapSplits(V,W,this.session.$tabSize);if(K.length>0){var I=0;K.push(_[N].length);for(var q=0;q<K.length;q++){var U=_[N].slice(I,K[q]);T.push({text:U,wrapped:!0}),I=K[q]}}else T.push({text:_[N],wrapped:!1})}return T},S.prototype.removeGhostText=function(){if(this.$ghostText){var A=this.$ghostText.position;this.removeExtraToken(A.row,A.column),this.$ghostTextWidget&&(this.session.widgetManager.removeLineWidget(this.$ghostTextWidget),this.$ghostTextWidget=null),this.$ghostText=null}},S.prototype.addToken=function(A,R,P,W){var _=this.session;_.bgTokenizer.lines[P]=null;var T={type:R,value:A},N=_.getTokens(P);if(W==null||!N.length)N.push(T);else for(var V=0,K=0;K<N.length;K++){var I=N[K];if(V+=I.value.length,W<=V){var q=I.value.length-(V-W),U=I.value.slice(0,q),J=I.value.slice(q);N.splice(K,1,{type:I.type,value:U},T,{type:I.type,value:J});break}}this.updateLines(P,P)},S.prototype.removeExtraToken=function(A,R){this.session.bgTokenizer.lines[A]=null,this.updateLines(A,A)},S.prototype.setTheme=function(A,R){var P=this;if(this.$themeId=A,P._dispatchEvent("themeChange",{theme:A}),!A||typeof A=="string"){var W=A||this.$options.theme.initialValue;r.loadModule(["theme",W],_)}else _(A);function _(T){if(P.$themeId!=A)return R&&R();if(!T||!T.cssClass)throw new Error("couldn't load module "+A+" or it didn't call define");T.$id&&(P.$themeId=T.$id),d.importCssString(T.cssText,T.cssClass,P.container),P.theme&&d.removeCssClass(P.container,P.theme.cssClass);var N="padding"in T?T.padding:"padding"in(P.theme||{})?4:P.$padding;P.$padding&&N!=P.$padding&&P.setPadding(N),P.$theme=T.cssClass,P.theme=T,d.addCssClass(P.container,T.cssClass),d.setCssClass(P.container,"ace_dark",T.isDark),P.$size&&(P.$size.width=0,P.$updateSizeAsync()),P._dispatchEvent("themeLoaded",{theme:T}),R&&R()}},S.prototype.getTheme=function(){return this.$themeId},S.prototype.setStyle=function(A,R){d.setCssClass(this.container,A,R!==!1)},S.prototype.unsetStyle=function(A){d.removeCssClass(this.container,A)},S.prototype.setCursorStyle=function(A){d.setStyle(this.scroller.style,"cursor",A)},S.prototype.setMouseCursor=function(A){d.setStyle(this.scroller.style,"cursor",A)},S.prototype.attachToShadowRoot=function(){d.importCssString(f,"ace_editor.css",this.container)},S.prototype.destroy=function(){this.freeze(),this.$fontMetrics.destroy(),this.$cursorLayer.destroy(),this.removeAllListeners(),this.container.textContent="",this.setOption("useResizeObserver",!1)},S.prototype.$updateCustomScrollbar=function(A){var R=this;this.$horizScroll=this.$vScroll=null,this.scrollBarV.element.remove(),this.scrollBarH.element.remove(),this.$scrollDecorator&&delete this.$scrollDecorator,A===!0?(this.scrollBarV=new p(this.container,this),this.scrollBarH=new c(this.container,this),this.scrollBarV.setHeight(this.$size.scrollerHeight),this.scrollBarH.setWidth(this.$size.scrollerWidth),this.scrollBarV.addEventListener("scroll",function(P){R.$scrollAnimation||R.session.setScrollTop(P.data-R.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(P){R.$scrollAnimation||R.session.setScrollLeft(P.data-R.scrollMargin.left)}),this.$scrollDecorator=new C(this.scrollBarV,this),this.$scrollDecorator.$updateDecorators()):(this.scrollBarV=new o(this.container,this),this.scrollBarH=new n(this.container,this),this.scrollBarV.addEventListener("scroll",function(P){R.$scrollAnimation||R.session.setScrollTop(P.data-R.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(P){R.$scrollAnimation||R.session.setScrollLeft(P.data-R.scrollMargin.left)}))},S.prototype.$addResizeObserver=function(){if(!(!window.ResizeObserver||this.$resizeObserver)){var A=this;this.$resizeTimer=D.delayedCall(function(){A.destroyed||A.onResize()},50),this.$resizeObserver=new window.ResizeObserver(function(R){var P=R[0].contentRect.width,W=R[0].contentRect.height;Math.abs(A.$size.width-P)>1||Math.abs(A.$size.height-W)>1?A.$resizeTimer.delay():A.$resizeTimer.cancel()}),this.$resizeObserver.observe(this.container)}},S}();m.prototype.CHANGE_CURSOR=1,m.prototype.CHANGE_MARKER=2,m.prototype.CHANGE_GUTTER=4,m.prototype.CHANGE_SCROLL=8,m.prototype.CHANGE_LINES=16,m.prototype.CHANGE_TEXT=32,m.prototype.CHANGE_SIZE=64,m.prototype.CHANGE_MARKER_BACK=128,m.prototype.CHANGE_MARKER_FRONT=256,m.prototype.CHANGE_FULL=512,m.prototype.CHANGE_H_SCROLL=1024,m.prototype.$changes=0,m.prototype.$padding=null,m.prototype.$frozen=!1,m.prototype.STEPS=8,b.implement(m.prototype,k),r.defineOptions(m.prototype,"renderer",{useResizeObserver:{set:function(S){!S&&this.$resizeObserver?(this.$resizeObserver.disconnect(),this.$resizeTimer.cancel(),this.$resizeTimer=this.$resizeObserver=null):S&&!this.$resizeObserver&&this.$addResizeObserver()}},animatedScroll:{initialValue:!1},showInvisibles:{set:function(S){this.$textLayer.setShowInvisibles(S)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(S){typeof S=="number"&&(this.$printMarginColumn=S),this.$showPrintMargin=!!S,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(S){this.$gutter.style.display=S?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},useSvgGutterIcons:{set:function(S){this.$gutterLayer.$useSvgGutterIcons=S},initialValue:!1},showFoldedAnnotations:{set:function(S){this.$gutterLayer.$showFoldedAnnotations=S},initialValue:!1},fadeFoldWidgets:{set:function(S){d.setCssClass(this.$gutter,"ace_fade-fold-widgets",S)},initialValue:!1},showFoldWidgets:{set:function(S){this.$gutterLayer.setShowFoldWidgets(S),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(S){this.$textLayer.setDisplayIndentGuides(S)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightIndentGuides:{set:function(S){this.$textLayer.setHighlightIndentGuides(S)==!0?this.$textLayer.$highlightIndentGuide():this.$textLayer.$clearActiveIndentGuide(this.$textLayer.$lines.cells)},initialValue:!0},highlightGutterLine:{set:function(S){this.$gutterLayer.setHighlightGutterLine(S),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},hScrollBarAlwaysVisible:{set:function(S){(!this.$hScrollBarAlwaysVisible||!this.$horizScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(S){(!this.$vScrollBarAlwaysVisible||!this.$vScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(S){typeof S=="number"&&(S=S+"px"),this.container.style.fontSize=S,this.updateFontSize()},initialValue:12},fontFamily:{set:function(S){this.container.style.fontFamily=S,this.updateFontSize()}},maxLines:{set:function(S){this.updateFull()}},minLines:{set:function(S){this.$minLines<562949953421311||(this.$minLines=0),this.updateFull()}},maxPixelHeight:{set:function(S){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(S){S=+S||0,this.$scrollPastEnd!=S&&(this.$scrollPastEnd=S,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(S){this.$gutterLayer.$fixedWidth=!!S,this.$loop.schedule(this.CHANGE_GUTTER)}},customScrollbar:{set:function(S){this.$updateCustomScrollbar(S)},initialValue:!1},theme:{set:function(S){this.setTheme(S)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0},hasCssTransforms:{},useTextareaForIME:{initialValue:!g.isMobile&&!g.isIE}}),h.VirtualRenderer=m}),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],function(M,h,F){"use strict";var b=M("../lib/oop"),d=M("../lib/net"),D=M("../lib/event_emitter").EventEmitter,r=M("../config");function e(n){var o="importScripts('"+d.qualifyURL(n)+"');";try{return new Blob([o],{type:"application/javascript"})}catch(w){var c=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder,p=new c;return p.append(o),p.getBlob("application/javascript")}}function s(n){if(typeof Worker=="undefined")return{postMessage:function(){},terminate:function(){}};if(r.get("loadWorkerFromBlob")){var o=e(n),c=window.URL||window.webkitURL,p=c.createObjectURL(o);return new Worker(p)}return new Worker(n)}var t=function(n){n.postMessage||(n=this.$createWorkerFromOldConfig.apply(this,arguments)),this.$worker=n,this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){b.implement(this,D),this.$createWorkerFromOldConfig=function(n,o,c,p,w){if(M.nameToUrl&&!M.toUrl&&(M.toUrl=M.nameToUrl),r.get("packaged")||!M.toUrl)p=p||r.moduleUrl(o,"worker");else{var E=this.$normalizePath;p=p||E(M.toUrl("ace/worker/worker.js",null,"_"));var k={};n.forEach(function(f){k[f]=E(M.toUrl(f,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}return this.$worker=s(p),w&&this.send("importScripts",w),this.$worker.postMessage({init:!0,tlns:k,module:o,classname:c}),this.$worker},this.onMessage=function(n){var o=n.data;switch(o.type){case"event":this._signal(o.name,{data:o.data});break;case"call":var c=this.callbacks[o.id];c&&(c(o.data),delete this.callbacks[o.id]);break;case"error":this.reportError(o.data);break;case"log":window.console&&console.log&&console.log.apply(console,o.data);break}},this.reportError=function(n){window.console&&console.error&&console.error(n)},this.$normalizePath=function(n){return d.qualifyURL(n)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker.onerror=function(n){n.preventDefault()},this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(n,o){this.$worker.postMessage({command:n,args:o})},this.call=function(n,o,c){if(c){var p=this.callbackId++;this.callbacks[p]=c,o.push(p)}this.send(n,o)},this.emit=function(n,o){try{o.data&&o.data.err&&(o.data.err={message:o.data.err.message,stack:o.data.err.stack,code:o.data.err.code}),this.$worker&&this.$worker.postMessage({event:n,data:{data:o.data}})}catch(c){console.error(c.stack)}},this.attachToDocument=function(n){this.$doc&&this.terminate(),this.$doc=n,this.call("setValue",[n.getValue()]),n.on("change",this.changeListener,!0)},this.changeListener=function(n){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),n.action=="insert"?this.deltaQueue.push(n.start,n.lines):this.deltaQueue.push(n.start,n.end)},this.$sendDeltaQueue=function(){var n=this.deltaQueue;n&&(this.deltaQueue=null,n.length>50&&n.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:n}))}}).call(t.prototype);var i=function(n,o,c){var p=null,w=!1,E=Object.create(D),k=[],f=new t({messageBuffer:k,terminate:function(){},postMessage:function(g){k.push(g),p&&(w?setTimeout(C):C())}});f.setEmitSync=function(g){w=g};var C=function(){var g=k.shift();g.command?p[g.command].apply(p,g.args):g.event&&E._signal(g.event,g.data)};return E.postMessage=function(g){f.onMessage({data:g})},E.callback=function(g,m){this.postMessage({type:"call",id:m,data:g})},E.emit=function(g,m){this.postMessage({type:"event",name:g,data:m})},r.loadModule(["worker",o],function(g){for(p=new g[c](E);k.length;)C()}),f};h.UIWorkerClient=i,h.WorkerClient=t,h.createWorker=s}),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],function(M,h,F){"use strict";var b=M("./range").Range,d=M("./lib/event_emitter").EventEmitter,D=M("./lib/oop"),r=function(){function e(s,t,i,n,o,c){var p=this;this.length=t,this.session=s,this.doc=s.getDocument(),this.mainClass=o,this.othersClass=c,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate,!0),this.$others=n,this.$onCursorChange=function(){setTimeout(function(){p.onCursorChange()})},this.$pos=i;var w=s.getUndoManager().$undoStack||s.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=w.length,this.setup(),s.selection.on("changeCursor",this.$onCursorChange)}return e.prototype.setup=function(){var s=this,t=this.doc,i=this.session;this.selectionBefore=i.selection.toJSON(),i.selection.inMultiSelectMode&&i.selection.toSingleRange(),this.pos=t.createAnchor(this.$pos.row,this.$pos.column);var n=this.pos;n.$insertRight=!0,n.detach(),n.markerId=i.addMarker(new b(n.row,n.column,n.row,n.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach(function(o){var c=t.createAnchor(o.row,o.column);c.$insertRight=!0,c.detach(),s.others.push(c)}),i.setUndoSelect(!1)},e.prototype.showOtherMarkers=function(){if(!this.othersActive){var s=this.session,t=this;this.othersActive=!0,this.others.forEach(function(i){i.markerId=s.addMarker(new b(i.row,i.column,i.row,i.column+t.length),t.othersClass,null,!1)})}},e.prototype.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var s=0;s<this.others.length;s++)this.session.removeMarker(this.others[s].markerId)}},e.prototype.onUpdate=function(s){if(this.$updating)return this.updateAnchors(s);var t=s;if(t.start.row===t.end.row&&t.start.row===this.pos.row){this.$updating=!0;var i=s.action==="insert"?t.end.column-t.start.column:t.start.column-t.end.column,n=t.start.column>=this.pos.column&&t.start.column<=this.pos.column+this.length+1,o=t.start.column-this.pos.column;if(this.updateAnchors(s),n&&(this.length+=i),n&&!this.session.$fromUndo){if(s.action==="insert")for(var c=this.others.length-1;c>=0;c--){var p=this.others[c],w={row:p.row,column:p.column+o};this.doc.insertMergedLines(w,s.lines)}else if(s.action==="remove")for(var c=this.others.length-1;c>=0;c--){var p=this.others[c],w={row:p.row,column:p.column+o};this.doc.remove(new b(w.row,w.column,w.row,w.column-i))}}this.$updating=!1,this.updateMarkers()}},e.prototype.updateAnchors=function(s){this.pos.onChange(s);for(var t=this.others.length;t--;)this.others[t].onChange(s);this.updateMarkers()},e.prototype.updateMarkers=function(){if(!this.$updating){var s=this,t=this.session,i=function(o,c){t.removeMarker(o.markerId),o.markerId=t.addMarker(new b(o.row,o.column,o.row,o.column+s.length),c,null,!1)};i(this.pos,this.mainClass);for(var n=this.others.length;n--;)i(this.others[n],this.othersClass)}},e.prototype.onCursorChange=function(s){if(!(this.$updating||!this.session)){var t=this.session.selection.getCursor();t.row===this.pos.row&&t.column>=this.pos.column&&t.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",s)):(this.hideOtherMarkers(),this._emit("cursorLeave",s))}},e.prototype.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.off("change",this.$onUpdate),this.session.selection.off("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},e.prototype.cancel=function(){if(this.$undoStackDepth!==-1){for(var s=this.session.getUndoManager(),t=(s.$undoStack||s.$undostack).length-this.$undoStackDepth,i=0;i<t;i++)s.undo(this.session,!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}},e}();D.implement(r.prototype,d),h.PlaceHolder=r}),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(M,h,F){var b=M("../lib/event"),d=M("../lib/useragent");function D(e,s){return e.row==s.row&&e.column==s.column}function r(e){var s=e.domEvent,t=s.altKey,i=s.shiftKey,n=s.ctrlKey,o=e.getAccelKey(),c=e.getButton();if(n&&d.isMac&&(c=s.button),e.editor.inMultiSelectMode&&c==2){e.editor.textInput.onContextMenu(e.domEvent);return}if(!n&&!t&&!o){c===0&&e.editor.inMultiSelectMode&&e.editor.exitMultiSelectMode();return}if(c===0){var p=e.editor,w=p.selection,E=p.inMultiSelectMode,k=e.getDocumentPosition(),f=w.getCursor(),C=e.inSelection()||w.isEmpty()&&D(k,f),g=e.x,m=e.y,S=function(J){g=J.clientX,m=J.clientY},A=p.session,R=p.renderer.pixelToScreenCoordinates(g,m),P=R,W;if(p.$mouseHandler.$enableJumpToDef)n&&t||o&&t?W=i?"block":"add":t&&p.$blockSelectEnabled&&(W="block");else if(o&&!t){if(W="add",!E&&i)return}else t&&p.$blockSelectEnabled&&(W="block");if(W&&d.isMac&&s.ctrlKey&&p.$mouseHandler.cancelContextMenu(),W=="add"){if(!E&&C)return;if(!E){var _=w.toOrientedRange();p.addSelectionMarker(_)}var T=w.rangeList.rangeAtPoint(k);p.inVirtualSelectionMode=!0,i&&(T=null,_=w.ranges[0]||_,p.removeSelectionMarker(_)),p.once("mouseup",function(){var J=w.toOrientedRange();T&&J.isEmpty()&&D(T.cursor,J.cursor)?w.substractPoint(J.cursor):(i?w.substractPoint(_.cursor):_&&(p.removeSelectionMarker(_),w.addRange(_)),w.addRange(J)),p.inVirtualSelectionMode=!1})}else if(W=="block"){e.stop(),p.inVirtualSelectionMode=!0;var N,V=[],K=function(){var J=p.renderer.pixelToScreenCoordinates(g,m),Q=A.screenToDocumentPosition(J.row,J.column,J.offsetX);D(P,J)&&D(Q,w.lead)||(P=J,p.selection.moveToPosition(Q),p.renderer.scrollCursorIntoView(),p.removeSelectionMarkers(V),V=w.rectangularRangeBlock(P,R),p.$mouseHandler.$clickSelection&&V.length==1&&V[0].isEmpty()&&(V[0]=p.$mouseHandler.$clickSelection.clone()),V.forEach(p.addSelectionMarker,p),p.updateSelectionMarkers())};E&&!o?w.toSingleRange():!E&&o&&(N=w.toOrientedRange(),p.addSelectionMarker(N)),i?R=A.documentToScreenPosition(w.lead):w.moveToPosition(k),P={row:-1,column:-1};var I=function(J){K(),clearInterval(U),p.removeSelectionMarkers(V),V.length||(V=[w.toOrientedRange()]),N&&(p.removeSelectionMarker(N),w.toSingleRange(N));for(var Q=0;Q<V.length;Q++)w.addRange(V[Q]);p.inVirtualSelectionMode=!1,p.$mouseHandler.$clickSelection=null},q=K;b.capture(p.container,S,I);var U=setInterval(function(){q()},20);return e.preventDefault()}}}h.onMouseDown=r}),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(M,h,F){h.defaultCommands=[{name:"addCursorAbove",description:"Add cursor above",exec:function(d){d.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",description:"Add cursor below",exec:function(d){d.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",description:"Add cursor above (skip current)",exec:function(d){d.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",description:"Add cursor below (skip current)",exec:function(d){d.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",description:"Select more before",exec:function(d){d.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",description:"Select more after",exec:function(d){d.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",description:"Select next before",exec:function(d){d.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",description:"Select next after",exec:function(d){d.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"toggleSplitSelectionIntoLines",description:"Split selection into lines",exec:function(d){d.multiSelect.rangeCount>1?d.multiSelect.joinSelections():d.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"splitSelectionIntoLines",description:"Split into lines",exec:function(d){d.multiSelect.splitIntoLines()},readOnly:!0},{name:"alignCursors",description:"Align cursors",exec:function(d){d.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",description:"Find all",exec:function(d){d.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],h.multiSelectCommands=[{name:"singleSelection",description:"Single selection",bindKey:"esc",exec:function(d){d.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(d){return d&&d.inMultiSelectMode}}];var b=M("../keyboard/hash_handler").HashHandler;h.keyboardHandler=new b(h.multiSelectCommands)}),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],function(M,h,F){var b=M("./range_list").RangeList,d=M("./range").Range,D=M("./selection").Selection,r=M("./mouse/multi_select_handler").onMouseDown,e=M("./lib/event"),s=M("./lib/lang"),t=M("./commands/multi_select_commands");h.commands=t.defaultCommands.concat(t.multiSelectCommands);var i=M("./search").Search,n=new i;function o(f,C,g){return n.$options.wrap=!0,n.$options.needle=C,n.$options.backwards=g==-1,n.find(f)}var c=M("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(c.prototype),function(){this.ranges=null,this.rangeList=null,this.addRange=function(f,C){if(f){if(!this.inMultiSelectMode&&this.rangeCount===0){var g=this.toOrientedRange();if(this.rangeList.add(g),this.rangeList.add(f),this.rangeList.ranges.length!=2)return this.rangeList.removeAll(),C||this.fromOrientedRange(f);this.rangeList.removeAll(),this.rangeList.add(g),this.$onAddRange(g)}f.cursor||(f.cursor=f.end);var m=this.rangeList.add(f);return this.$onAddRange(f),m.length&&this.$onRemoveRange(m),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),C||this.fromOrientedRange(f)}},this.toSingleRange=function(f){f=f||this.ranges[0];var C=this.rangeList.removeAll();C.length&&this.$onRemoveRange(C),f&&this.fromOrientedRange(f)},this.substractPoint=function(f){var C=this.rangeList.substractPoint(f);if(C)return this.$onRemoveRange(C),C[0]},this.mergeOverlappingRanges=function(){var f=this.rangeList.merge();f.length&&this.$onRemoveRange(f)},this.$onAddRange=function(f){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(f),this._signal("addRange",{range:f})},this.$onRemoveRange=function(f){if(this.rangeCount=this.rangeList.ranges.length,this.rangeCount==1&&this.inMultiSelectMode){var C=this.rangeList.ranges.pop();f.push(C),this.rangeCount=0}for(var g=f.length;g--;){var m=this.ranges.indexOf(f[g]);this.ranges.splice(m,1)}this._signal("removeRange",{ranges:f}),this.rangeCount===0&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),C=C||this.ranges[0],C&&!C.isEqual(this.getRange())&&this.fromOrientedRange(C)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new b,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){for(var f=this.ranges.length?this.ranges:[this.getRange()],C=[],g=0;g<f.length;g++){var m=f[g],S=m.start.row,A=m.end.row;if(S===A)C.push(m.clone());else{for(C.push(new d(S,m.start.column,S,this.session.getLine(S).length));++S<A;)C.push(this.getLineRange(S,!0));C.push(new d(A,0,A,m.end.column))}g==0&&!this.isBackwards()&&(C=C.reverse())}this.toSingleRange();for(var g=C.length;g--;)this.addRange(C[g])},this.joinSelections=function(){var f=this.rangeList.ranges,C=f[f.length-1],g=d.fromPoints(f[0].start,C.end);this.toSingleRange(),this.setSelectionRange(g,C.cursor==C.start)},this.toggleBlockSelection=function(){if(this.rangeCount>1){var f=this.rangeList.ranges,C=f[f.length-1],g=d.fromPoints(f[0].start,C.end);this.toSingleRange(),this.setSelectionRange(g,C.cursor==C.start)}else{var m=this.session.documentToScreenPosition(this.cursor),S=this.session.documentToScreenPosition(this.anchor),A=this.rectangularRangeBlock(m,S);A.forEach(this.addRange,this)}},this.rectangularRangeBlock=function(f,C,g){var m=[],S=f.column<C.column;if(S)var A=f.column,R=C.column,P=f.offsetX,W=C.offsetX;else var A=C.column,R=f.column,P=C.offsetX,W=f.offsetX;var _=f.row<C.row;if(_)var T=f.row,N=C.row;else var T=C.row,N=f.row;A<0&&(A=0),T<0&&(T=0),T==N&&(g=!0);for(var V,K=T;K<=N;K++){var I=d.fromPoints(this.session.screenToDocumentPosition(K,A,P),this.session.screenToDocumentPosition(K,R,W));if(I.isEmpty()){if(V&&w(I.end,V))break;V=I.end}I.cursor=S?I.start:I.end,m.push(I)}if(_&&m.reverse(),!g){for(var q=m.length-1;m[q].isEmpty()&&q>0;)q--;if(q>0)for(var U=0;m[U].isEmpty();)U++;for(var J=q;J>=U;J--)m[J].isEmpty()&&m.splice(J,1)}return m}}.call(D.prototype);var p=M("./editor").Editor;(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(f){f.cursor||(f.cursor=f.end);var C=this.getSelectionStyle();return f.marker=this.session.addMarker(f,"ace_selection",C),this.session.$selectionMarkers.push(f),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,f},this.removeSelectionMarker=function(f){if(f.marker){this.session.removeMarker(f.marker);var C=this.session.$selectionMarkers.indexOf(f);C!=-1&&this.session.$selectionMarkers.splice(C,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(f){for(var C=this.session.$selectionMarkers,g=f.length;g--;){var m=f[g];if(m.marker){this.session.removeMarker(m.marker);var S=C.indexOf(m);S!=-1&&C.splice(S,1)}}this.session.selectionMarkerCount=C.length},this.$onAddRange=function(f){this.addSelectionMarker(f.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(f){this.removeSelectionMarkers(f.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(f){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(t.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(f){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(t.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(f){var C=f.command,g=f.editor;if(g.multiSelect){if(C.multiSelectAction)C.multiSelectAction=="forEach"?m=g.forEachSelection(C,f.args):C.multiSelectAction=="forEachLine"?m=g.forEachSelection(C,f.args,!0):C.multiSelectAction=="single"?(g.exitMultiSelectMode(),m=C.exec(g,f.args||{})):m=C.multiSelectAction(g,f.args||{});else{var m=C.exec(g,f.args||{});g.multiSelect.addRange(g.multiSelect.toOrientedRange()),g.multiSelect.mergeOverlappingRanges()}return m}},this.forEachSelection=function(f,C,g){if(!this.inVirtualSelectionMode){var m=g&&g.keepOrder,S=g==!0||g&&g.$byLines,A=this.session,R=this.selection,P=R.rangeList,W=(m?R:P).ranges,_;if(!W.length)return f.exec?f.exec(this,C||{}):f(this,C||{});var T=R._eventRegistry;R._eventRegistry={};var N=new D(A);this.inVirtualSelectionMode=!0;for(var V=W.length;V--;){if(S)for(;V>0&&W[V].start.row==W[V-1].end.row;)V--;N.fromOrientedRange(W[V]),N.index=V,this.selection=A.selection=N;var K=f.exec?f.exec(this,C||{}):f(this,C||{});!_&&K!==void 0&&(_=K),N.toOrientedRange(W[V])}N.detach(),this.selection=A.selection=R,this.inVirtualSelectionMode=!1,R._eventRegistry=T,R.mergeOverlappingRanges(),R.ranges[0]&&R.fromOrientedRange(R.ranges[0]);var I=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),I&&I.from==I.to&&this.renderer.animateScrolling(I.from),_}},this.exitMultiSelectMode=function(){!this.inMultiSelectMode||this.inVirtualSelectionMode||this.multiSelect.toSingleRange()},this.getSelectedText=function(){var f="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var C=this.multiSelect.rangeList.ranges,g=[],m=0;m<C.length;m++)g.push(this.session.getTextRange(C[m]));var S=this.session.getDocument().getNewLineCharacter();f=g.join(S),f.length==(g.length-1)*S.length&&(f="")}else this.selection.isEmpty()||(f=this.session.getTextRange(this.getSelectionRange()));return f},this.$checkMultiselectChange=function(f,C){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var g=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&C==this.multiSelect.anchor)return;var m=C==this.multiSelect.anchor?g.cursor==g.start?g.end:g.start:g.cursor;m.row!=C.row||this.session.$clipPositionToDocument(m.row,m.column).column!=C.column?this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange()):this.multiSelect.mergeOverlappingRanges()}},this.findAll=function(f,C,g){if(C=C||{},C.needle=f||C.needle,C.needle==null){var m=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();C.needle=this.session.getTextRange(m)}this.$search.set(C);var S=this.$search.findAll(this.session);if(!S.length)return 0;var A=this.multiSelect;g||A.toSingleRange(S[0]);for(var R=S.length;R--;)A.addRange(S[R],!0);return m&&A.rangeList.rangeAtPoint(m.start)&&A.addRange(m,!0),S.length},this.selectMoreLines=function(f,C){var g=this.selection.toOrientedRange(),m=g.cursor==g.end,S=this.session.documentToScreenPosition(g.cursor);this.selection.$desiredColumn&&(S.column=this.selection.$desiredColumn);var A=this.session.screenToDocumentPosition(S.row+f,S.column);if(g.isEmpty())var P=A;else var R=this.session.documentToScreenPosition(m?g.end:g.start),P=this.session.screenToDocumentPosition(R.row+f,R.column);if(m){var W=d.fromPoints(A,P);W.cursor=W.start}else{var W=d.fromPoints(P,A);W.cursor=W.end}if(W.desiredColumn=S.column,!this.selection.inMultiSelectMode)this.selection.addRange(g);else if(C)var _=g.cursor;this.selection.addRange(W),_&&this.selection.substractPoint(_)},this.transposeSelections=function(f){for(var C=this.session,g=C.multiSelect,m=g.ranges,S=m.length;S--;){var A=m[S];if(A.isEmpty()){var R=C.getWordRange(A.start.row,A.start.column);A.start.row=R.start.row,A.start.column=R.start.column,A.end.row=R.end.row,A.end.column=R.end.column}}g.mergeOverlappingRanges();for(var P=[],S=m.length;S--;){var A=m[S];P.unshift(C.getTextRange(A))}f<0?P.unshift(P.pop()):P.push(P.shift());for(var S=m.length;S--;){var A=m[S],W=A.clone();C.replace(A,P[S]),A.start.row=W.start.row,A.start.column=W.start.column}g.fromOrientedRange(g.ranges[0])},this.selectMore=function(f,C,g){var m=this.session,S=m.multiSelect,A=S.toOrientedRange();if(!(A.isEmpty()&&(A=m.getWordRange(A.start.row,A.start.column),A.cursor=f==-1?A.start:A.end,this.multiSelect.addRange(A),g))){var R=m.getTextRange(A),P=o(m,R,f);P&&(P.cursor=f==-1?P.start:P.end,this.session.unfold(P),this.multiSelect.addRange(P),this.renderer.scrollCursorIntoView(null,.5)),C&&this.multiSelect.substractPoint(A.cursor)}},this.alignCursors=function(){var f=this.session,C=f.multiSelect,g=C.ranges,m=-1,S=g.filter(function(q){if(q.cursor.row==m)return!0;m=q.cursor.row});if(!g.length||S.length==g.length-1){var A=this.selection.getRange(),R=A.start.row,P=A.end.row,W=R==P;if(W){var _=this.session.getLength(),T;do T=this.session.getLine(P);while(/[=:]/.test(T)&&++P<_);do T=this.session.getLine(R);while(/[=:]/.test(T)&&--R>0);R<0&&(R=0),P>=_&&(P=_-1)}var N=this.session.removeFullLines(R,P);N=this.$reAlignText(N,W),this.session.insert({row:R,column:0},N.join(`
`)+`
`),W||(A.start.column=0,A.end.column=N[N.length-1].length),this.selection.setRange(A)}else{S.forEach(function(q){C.substractPoint(q.cursor)});var V=0,K=1/0,I=g.map(function(q){var U=q.cursor,J=f.getLine(U.row),Q=J.substr(U.column).search(/\S/g);return Q==-1&&(Q=0),U.column>V&&(V=U.column),Q<K&&(K=Q),Q});g.forEach(function(q,U){var J=q.cursor,Q=V-J.column,ee=I[U]-K;Q>ee?f.insert(J,s.stringRepeat(" ",Q-ee)):f.remove(new d(J.row,J.column,J.row,J.column-Q+ee)),q.start.column=q.end.column=V,q.start.row=q.end.row=J.row,q.cursor=q.end}),C.fromOrientedRange(g[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}},this.$reAlignText=function(f,C){var g=!0,m=!0,S,A,R;return f.map(function(N){var V=N.match(/(\s*)(.*?)(\s*)([=:].*)/);return V?S==null?(S=V[1].length,A=V[2].length,R=V[3].length,V):(S+A+R!=V[1].length+V[2].length+V[3].length&&(m=!1),S!=V[1].length&&(g=!1),S>V[1].length&&(S=V[1].length),A<V[2].length&&(A=V[2].length),R>V[3].length&&(R=V[3].length),V):[N]}).map(C?W:g?m?_:W:T);function P(N){return s.stringRepeat(" ",N)}function W(N){return N[2]?P(S)+N[2]+P(A-N[2].length+R)+N[4].replace(/^([=:])\s+/,"$1 "):N[0]}function _(N){return N[2]?P(S+A-N[2].length)+N[2]+P(R)+N[4].replace(/^([=:])\s+/,"$1 "):N[0]}function T(N){return N[2]?P(S)+N[2]+P(R)+N[4].replace(/^([=:])\s+/,"$1 "):N[0]}}}).call(p.prototype);function w(f,C){return f.row==C.row&&f.column==C.column}h.onSessionChange=function(f){var C=f.session;C&&!C.multiSelect&&(C.$selectionMarkers=[],C.selection.$initRangeList(),C.multiSelect=C.selection),this.multiSelect=C&&C.multiSelect;var g=f.oldSession;g&&(g.multiSelect.off("addRange",this.$onAddRange),g.multiSelect.off("removeRange",this.$onRemoveRange),g.multiSelect.off("multiSelect",this.$onMultiSelect),g.multiSelect.off("singleSelect",this.$onSingleSelect),g.multiSelect.lead.off("change",this.$checkMultiselectChange),g.multiSelect.anchor.off("change",this.$checkMultiselectChange)),C&&(C.multiSelect.on("addRange",this.$onAddRange),C.multiSelect.on("removeRange",this.$onRemoveRange),C.multiSelect.on("multiSelect",this.$onMultiSelect),C.multiSelect.on("singleSelect",this.$onSingleSelect),C.multiSelect.lead.on("change",this.$checkMultiselectChange),C.multiSelect.anchor.on("change",this.$checkMultiselectChange)),C&&this.inMultiSelectMode!=C.selection.inMultiSelectMode&&(C.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())};function E(f){f.$multiselectOnSessionChange||(f.$onAddRange=f.$onAddRange.bind(f),f.$onRemoveRange=f.$onRemoveRange.bind(f),f.$onMultiSelect=f.$onMultiSelect.bind(f),f.$onSingleSelect=f.$onSingleSelect.bind(f),f.$multiselectOnSessionChange=h.onSessionChange.bind(f),f.$checkMultiselectChange=f.$checkMultiselectChange.bind(f),f.$multiselectOnSessionChange(f),f.on("changeSession",f.$multiselectOnSessionChange),f.on("mousedown",r),f.commands.addCommands(t.defaultCommands),k(f))}function k(f){if(!f.textInput)return;var C=f.textInput.getElement(),g=!1;e.addListener(C,"keydown",function(S){var A=S.keyCode==18&&!(S.ctrlKey||S.shiftKey||S.metaKey);f.$blockSelectEnabled&&A?g||(f.renderer.setMouseCursor("crosshair"),g=!0):g&&m()},f),e.addListener(C,"keyup",m,f),e.addListener(C,"blur",m,f);function m(S){g&&(f.renderer.setMouseCursor(""),g=!1)}}h.MultiSelect=E,M("./config").defineOptions(p.prototype,"editor",{enableMultiselect:{set:function(f){E(this),f?this.on("mousedown",r):this.off("mousedown",r)},value:!0},enableBlockSelect:{set:function(f){this.$blockSelectEnabled=f},value:!0}})}),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(M,h,F){"use strict";var b=M("../../range").Range,d=h.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(D,r,e){var s=D.getLine(e);return this.foldingStartMarker.test(s)?"start":r=="markbeginend"&&this.foldingStopMarker&&this.foldingStopMarker.test(s)?"end":""},this.getFoldWidgetRange=function(D,r,e){return null},this.indentationBlock=function(D,r,e){var s=/\S/,t=D.getLine(r),i=t.search(s);if(i!=-1){for(var n=e||t.length,o=D.getLength(),c=r,p=r;++r<o;){var w=D.getLine(r).search(s);if(w!=-1){if(w<=i){var E=D.getTokenAt(r,0);if(!E||E.type!=="string")break}p=r}}if(p>c){var k=D.getLine(p).length;return new b(c,n,p,k)}}},this.openingBracketBlock=function(D,r,e,s,t){var i={row:e,column:s+1},n=D.$findClosingBracket(r,i,t);if(n){var o=D.foldWidgets[n.row];return o==null&&(o=D.getFoldWidget(n.row)),o=="start"&&n.row>i.row&&(n.row--,n.column=D.getLine(n.row).length),b.fromPoints(i,n)}},this.closingBracketBlock=function(D,r,e,s,t){var i={row:e,column:s},n=D.$findOpeningBracket(r,i);if(n)return n.column++,i.column--,b.fromPoints(n,i)}}).call(d.prototype)}),ace.define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range","ace/config"],function(M,h,F){"use strict";var b=M("../line_widgets").LineWidgets,d=M("../lib/dom"),D=M("../range").Range,r=M("../config").nls;function e(t,i,n){for(var o=0,c=t.length-1;o<=c;){var p=o+c>>1,w=n(i,t[p]);if(w>0)o=p+1;else if(w<0)c=p-1;else return p}return-(o+1)}function s(t,i,n){var o=t.getAnnotations().sort(D.comparePoints);if(o.length){var c=e(o,{row:i,column:-1},D.comparePoints);c<0&&(c=-c-1),c>=o.length?c=n>0?0:o.length-1:c===0&&n<0&&(c=o.length-1);var p=o[c];if(!(!p||!n)){if(p.row===i){do p=o[c+=n];while(p&&p.row===i);if(!p)return o.slice()}var w=[];i=p.row;do w[n<0?"unshift":"push"](p),p=o[c+=n];while(p&&p.row==i);return w.length&&w}}}h.showErrorMarker=function(t,i){var n=t.session;n.widgetManager||(n.widgetManager=new b(n),n.widgetManager.attach(t));var o=t.getCursorPosition(),c=o.row,p=n.widgetManager.getWidgetsAtRow(c).filter(function(A){return A.type=="errorMarker"})[0];p?p.destroy():c-=i;var w=s(n,c,i),E;if(w){var k=w[0];o.column=(k.pos&&typeof k.column!="number"?k.pos.sc:k.column)||0,o.row=k.row,E=t.renderer.$gutterLayer.$annotations[o.row]}else{if(p)return;E={text:[r("error-marker.good-state","Looks good!")],className:"ace_ok"}}t.session.unfold(o.row),t.selection.moveToPosition(o);var f={row:o.row,fixedWidth:!0,coverGutter:!0,el:d.createElement("div"),type:"errorMarker"},C=f.el.appendChild(d.createElement("div")),g=f.el.appendChild(d.createElement("div"));g.className="error_widget_arrow "+E.className;var m=t.renderer.$cursorLayer.getPixelPosition(o).left;g.style.left=m+t.renderer.gutterWidth-5+"px",f.el.className="error_widget_wrapper",C.className="error_widget "+E.className,C.innerHTML=E.text.join("<br>"),C.appendChild(d.createElement("div"));var S=function(A,R,P){if(R===0&&(P==="esc"||P==="return"))return f.destroy(),{command:"null"}};f.destroy=function(){t.$mouseHandler.isMousePressed||(t.keyBinding.removeKeyboardHandler(S),n.widgetManager.removeLineWidget(f),t.off("changeSelection",f.destroy),t.off("changeSession",f.destroy),t.off("mouseup",f.destroy),t.off("change",f.destroy))},t.keyBinding.addKeyboardHandler(S),t.on("changeSelection",f.destroy),t.on("changeSession",f.destroy),t.on("mouseup",f.destroy),t.on("change",f.destroy),t.session.widgetManager.addLineWidget(f),f.el.onmousedown=t.focus.bind(t),t.renderer.scrollCursorIntoView(null,.5,{bottom:f.el.offsetHeight})},d.importCssString(`
    .error_widget_wrapper {
        background: inherit;
        color: inherit;
        border:none
    }
    .error_widget {
        border-top: solid 2px;
        border-bottom: solid 2px;
        margin: 5px 0;
        padding: 10px 40px;
        white-space: pre-wrap;
    }
    .error_widget.ace_error, .error_widget_arrow.ace_error{
        border-color: #ff5a5a
    }
    .error_widget.ace_warning, .error_widget_arrow.ace_warning{
        border-color: #F1D817
    }
    .error_widget.ace_info, .error_widget_arrow.ace_info{
        border-color: #5a5a5a
    }
    .error_widget.ace_ok, .error_widget_arrow.ace_ok{
        border-color: #5aaa5a
    }
    .error_widget_arrow {
        position: absolute;
        border: solid 5px;
        border-top-color: transparent!important;
        border-right-color: transparent!important;
        border-left-color: transparent!important;
        top: -5px;
    }
`,"error_marker.css",!1)}),ace.define("ace/ace",["require","exports","module","ace/lib/dom","ace/range","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config","ace/loader_build"],function(M,h,F){"use strict";M("./loader_build")(h);var b=M("./lib/dom"),d=M("./range").Range,D=M("./editor").Editor,r=M("./edit_session").EditSession,e=M("./undomanager").UndoManager,s=M("./virtual_renderer").VirtualRenderer;M("./worker/worker_client"),M("./keyboard/hash_handler"),M("./placeholder"),M("./multi_select"),M("./mode/folding/fold_mode"),M("./theme/textmate"),M("./ext/error_marker"),h.config=M("./config"),h.edit=function(t,i){if(typeof t=="string"){var n=t;if(t=document.getElementById(n),!t)throw new Error("ace.edit can't find div #"+n)}if(t&&t.env&&t.env.editor instanceof D)return t.env.editor;var o="";if(t&&/input|textarea/i.test(t.tagName)){var c=t;o=c.value,t=b.createElement("pre"),c.parentNode.replaceChild(t,c)}else t&&(o=t.textContent,t.innerHTML="");var p=h.createEditSession(o),w=new D(new s(t),p,i),E={document:p,editor:w,onResize:w.resize.bind(w,null)};return c&&(E.textarea=c),w.on("destroy",function(){E.editor.container.env=null}),w.container.env=w.env=E,w},h.createEditSession=function(t,i){var n=new r(t,i);return n.setUndoManager(new e),n},h.Range=d,h.Editor=D,h.EditSession=r,h.UndoManager=e,h.VirtualRenderer=s,h.version=h.config.version}),function(){ace.require(["ace/ace"],function(M){M&&(M.config.init(!0),M.define=ace.define);var h=function(){return this}();!h&&typeof window!="undefined"&&(h=window),!h&&typeof self!="undefined"&&(h=self),h.ace||(h.ace=M);for(var F in M)M.hasOwnProperty(F)&&(h.ace[F]=M[F]);h.ace.default=h.ace,X&&(X.exports=h.ace)})}()},93391:(X,j,L)=>{X=L.nmd(X),ace.define("ace/split",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/editor","ace/virtual_renderer","ace/edit_session"],function(M,h,F){"use strict";var b=M("./lib/oop"),d=M("./lib/lang"),D=M("./lib/event_emitter").EventEmitter,r=M("./editor").Editor,e=M("./virtual_renderer").VirtualRenderer,s=M("./edit_session").EditSession,t;t=function(i,n,o){this.BELOW=1,this.BESIDE=0,this.$container=i,this.$theme=n,this.$splits=0,this.$editorCSS="",this.$editors=[],this.$orientation=this.BESIDE,this.setSplits(o||1),this.$cEditor=this.$editors[0],this.on("focus",function(c){this.$cEditor=c}.bind(this))},function(){b.implement(this,D),this.$createEditor=function(){var i=document.createElement("div");i.className=this.$editorCSS,i.style.cssText="position: absolute; top:0px; bottom:0px",this.$container.appendChild(i);var n=new r(new e(i,this.$theme));return n.on("focus",function(){this._emit("focus",n)}.bind(this)),this.$editors.push(n),n.setFontSize(this.$fontSize),n},this.setSplits=function(i){var n;if(i<1)throw"The number of splits have to be > 0!";if(i!=this.$splits){if(i>this.$splits){for(;this.$splits<this.$editors.length&&this.$splits<i;)n=this.$editors[this.$splits],this.$container.appendChild(n.container),n.setFontSize(this.$fontSize),this.$splits++;for(;this.$splits<i;)this.$createEditor(),this.$splits++}else for(;this.$splits>i;)n=this.$editors[this.$splits-1],this.$container.removeChild(n.container),this.$splits--;this.resize()}},this.getSplits=function(){return this.$splits},this.getEditor=function(i){return this.$editors[i]},this.getCurrentEditor=function(){return this.$cEditor},this.focus=function(){this.$cEditor.focus()},this.blur=function(){this.$cEditor.blur()},this.setTheme=function(i){this.$editors.forEach(function(n){n.setTheme(i)})},this.setKeyboardHandler=function(i){this.$editors.forEach(function(n){n.setKeyboardHandler(i)})},this.forEach=function(i,n){this.$editors.forEach(i,n)},this.$fontSize="",this.setFontSize=function(i){this.$fontSize=i,this.forEach(function(n){n.setFontSize(i)})},this.$cloneSession=function(i){var n=new s(i.getDocument(),i.getMode()),o=i.getUndoManager();return n.setUndoManager(o),n.setTabSize(i.getTabSize()),n.setUseSoftTabs(i.getUseSoftTabs()),n.setOverwrite(i.getOverwrite()),n.setBreakpoints(i.getBreakpoints()),n.setUseWrapMode(i.getUseWrapMode()),n.setUseWorker(i.getUseWorker()),n.setWrapLimitRange(i.$wrapLimitRange.min,i.$wrapLimitRange.max),n.$foldData=i.$cloneFoldData(),n},this.setSession=function(i,n){var o;n==null?o=this.$cEditor:o=this.$editors[n];var c=this.$editors.some(function(p){return p.session===i});return c&&(i=this.$cloneSession(i)),o.setSession(i),i},this.getOrientation=function(){return this.$orientation},this.setOrientation=function(i){this.$orientation!=i&&(this.$orientation=i,this.resize())},this.resize=function(){var i=this.$container.clientWidth,n=this.$container.clientHeight,o;if(this.$orientation==this.BESIDE)for(var c=i/this.$splits,p=0;p<this.$splits;p++)o=this.$editors[p],o.container.style.width=c+"px",o.container.style.top="0px",o.container.style.left=p*c+"px",o.container.style.height=n+"px",o.resize();else for(var w=n/this.$splits,p=0;p<this.$splits;p++)o=this.$editors[p],o.container.style.width=i+"px",o.container.style.top=p*w+"px",o.container.style.left="0px",o.container.style.height=w+"px",o.resize()}}.call(t.prototype),h.Split=t}),ace.define("ace/ext/split",["require","exports","module","ace/split"],function(M,h,F){"use strict";F.exports=M("../split")}),function(){ace.require(["ace/ext/split"],function(M){X&&(X.exports=M)})}()},57051:function(X,j,L){(function(M,h){X.exports=j=h()})(this,function(){var M=M||function(h,F){var b;if(typeof window!="undefined"&&window.crypto&&(b=window.crypto),typeof self!="undefined"&&self.crypto&&(b=self.crypto),typeof globalThis!="undefined"&&globalThis.crypto&&(b=globalThis.crypto),!b&&typeof window!="undefined"&&window.msCrypto&&(b=window.msCrypto),!b&&typeof L.g!="undefined"&&L.g.crypto&&(b=L.g.crypto),!b)try{b=L(50477)}catch(k){}var d=function(){if(b){if(typeof b.getRandomValues=="function")try{return b.getRandomValues(new Uint32Array(1))[0]}catch(k){}if(typeof b.randomBytes=="function")try{return b.randomBytes(4).readInt32LE()}catch(k){}}throw new Error("Native crypto module could not be used to get secure random number.")},D=Object.create||function(){function k(){}return function(f){var C;return k.prototype=f,C=new k,k.prototype=null,C}}(),r={},e=r.lib={},s=e.Base=function(){return{extend:function(k){var f=D(this);return k&&f.mixIn(k),(!f.hasOwnProperty("init")||this.init===f.init)&&(f.init=function(){f.$super.init.apply(this,arguments)}),f.init.prototype=f,f.$super=this,f},create:function(){var k=this.extend();return k.init.apply(k,arguments),k},init:function(){},mixIn:function(k){for(var f in k)k.hasOwnProperty(f)&&(this[f]=k[f]);k.hasOwnProperty("toString")&&(this.toString=k.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),t=e.WordArray=s.extend({init:function(k,f){k=this.words=k||[],f!=F?this.sigBytes=f:this.sigBytes=k.length*4},toString:function(k){return(k||n).stringify(this)},concat:function(k){var f=this.words,C=k.words,g=this.sigBytes,m=k.sigBytes;if(this.clamp(),g%4)for(var S=0;S<m;S++){var A=C[S>>>2]>>>24-S%4*8&255;f[g+S>>>2]|=A<<24-(g+S)%4*8}else for(var R=0;R<m;R+=4)f[g+R>>>2]=C[R>>>2];return this.sigBytes+=m,this},clamp:function(){var k=this.words,f=this.sigBytes;k[f>>>2]&=4294967295<<32-f%4*8,k.length=h.ceil(f/4)},clone:function(){var k=s.clone.call(this);return k.words=this.words.slice(0),k},random:function(k){for(var f=[],C=0;C<k;C+=4)f.push(d());return new t.init(f,k)}}),i=r.enc={},n=i.Hex={stringify:function(k){for(var f=k.words,C=k.sigBytes,g=[],m=0;m<C;m++){var S=f[m>>>2]>>>24-m%4*8&255;g.push((S>>>4).toString(16)),g.push((S&15).toString(16))}return g.join("")},parse:function(k){for(var f=k.length,C=[],g=0;g<f;g+=2)C[g>>>3]|=parseInt(k.substr(g,2),16)<<24-g%8*4;return new t.init(C,f/2)}},o=i.Latin1={stringify:function(k){for(var f=k.words,C=k.sigBytes,g=[],m=0;m<C;m++){var S=f[m>>>2]>>>24-m%4*8&255;g.push(String.fromCharCode(S))}return g.join("")},parse:function(k){for(var f=k.length,C=[],g=0;g<f;g++)C[g>>>2]|=(k.charCodeAt(g)&255)<<24-g%4*8;return new t.init(C,f)}},c=i.Utf8={stringify:function(k){try{return decodeURIComponent(escape(o.stringify(k)))}catch(f){throw new Error("Malformed UTF-8 data")}},parse:function(k){return o.parse(unescape(encodeURIComponent(k)))}},p=e.BufferedBlockAlgorithm=s.extend({reset:function(){this._data=new t.init,this._nDataBytes=0},_append:function(k){typeof k=="string"&&(k=c.parse(k)),this._data.concat(k),this._nDataBytes+=k.sigBytes},_process:function(k){var f,C=this._data,g=C.words,m=C.sigBytes,S=this.blockSize,A=S*4,R=m/A;k?R=h.ceil(R):R=h.max((R|0)-this._minBufferSize,0);var P=R*S,W=h.min(P*4,m);if(P){for(var _=0;_<P;_+=S)this._doProcessBlock(g,_);f=g.splice(0,P),C.sigBytes-=W}return new t.init(f,W)},clone:function(){var k=s.clone.call(this);return k._data=this._data.clone(),k},_minBufferSize:0}),w=e.Hasher=p.extend({cfg:s.extend(),init:function(k){this.cfg=this.cfg.extend(k),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(k){return this._append(k),this._process(),this},finalize:function(k){k&&this._append(k);var f=this._doFinalize();return f},blockSize:512/32,_createHelper:function(k){return function(f,C){return new k.init(C).finalize(f)}},_createHmacHelper:function(k){return function(f,C){return new E.HMAC.init(k,C).finalize(f)}}}),E=r.algo={};return r}(Math);return M})},91778:function(X,j,L){(function(M,h){X.exports=j=h(L(57051))})(this,function(M){return function(h){var F=M,b=F.lib,d=b.WordArray,D=b.Hasher,r=F.algo,e=[];(function(){for(var c=0;c<64;c++)e[c]=h.abs(h.sin(c+1))*4294967296|0})();var s=r.MD5=D.extend({_doReset:function(){this._hash=new d.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(c,p){for(var w=0;w<16;w++){var E=p+w,k=c[E];c[E]=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360}var f=this._hash.words,C=c[p+0],g=c[p+1],m=c[p+2],S=c[p+3],A=c[p+4],R=c[p+5],P=c[p+6],W=c[p+7],_=c[p+8],T=c[p+9],N=c[p+10],V=c[p+11],K=c[p+12],I=c[p+13],q=c[p+14],U=c[p+15],J=f[0],Q=f[1],ee=f[2],se=f[3];J=t(J,Q,ee,se,C,7,e[0]),se=t(se,J,Q,ee,g,12,e[1]),ee=t(ee,se,J,Q,m,17,e[2]),Q=t(Q,ee,se,J,S,22,e[3]),J=t(J,Q,ee,se,A,7,e[4]),se=t(se,J,Q,ee,R,12,e[5]),ee=t(ee,se,J,Q,P,17,e[6]),Q=t(Q,ee,se,J,W,22,e[7]),J=t(J,Q,ee,se,_,7,e[8]),se=t(se,J,Q,ee,T,12,e[9]),ee=t(ee,se,J,Q,N,17,e[10]),Q=t(Q,ee,se,J,V,22,e[11]),J=t(J,Q,ee,se,K,7,e[12]),se=t(se,J,Q,ee,I,12,e[13]),ee=t(ee,se,J,Q,q,17,e[14]),Q=t(Q,ee,se,J,U,22,e[15]),J=i(J,Q,ee,se,g,5,e[16]),se=i(se,J,Q,ee,P,9,e[17]),ee=i(ee,se,J,Q,V,14,e[18]),Q=i(Q,ee,se,J,C,20,e[19]),J=i(J,Q,ee,se,R,5,e[20]),se=i(se,J,Q,ee,N,9,e[21]),ee=i(ee,se,J,Q,U,14,e[22]),Q=i(Q,ee,se,J,A,20,e[23]),J=i(J,Q,ee,se,T,5,e[24]),se=i(se,J,Q,ee,q,9,e[25]),ee=i(ee,se,J,Q,S,14,e[26]),Q=i(Q,ee,se,J,_,20,e[27]),J=i(J,Q,ee,se,I,5,e[28]),se=i(se,J,Q,ee,m,9,e[29]),ee=i(ee,se,J,Q,W,14,e[30]),Q=i(Q,ee,se,J,K,20,e[31]),J=n(J,Q,ee,se,R,4,e[32]),se=n(se,J,Q,ee,_,11,e[33]),ee=n(ee,se,J,Q,V,16,e[34]),Q=n(Q,ee,se,J,q,23,e[35]),J=n(J,Q,ee,se,g,4,e[36]),se=n(se,J,Q,ee,A,11,e[37]),ee=n(ee,se,J,Q,W,16,e[38]),Q=n(Q,ee,se,J,N,23,e[39]),J=n(J,Q,ee,se,I,4,e[40]),se=n(se,J,Q,ee,C,11,e[41]),ee=n(ee,se,J,Q,S,16,e[42]),Q=n(Q,ee,se,J,P,23,e[43]),J=n(J,Q,ee,se,T,4,e[44]),se=n(se,J,Q,ee,K,11,e[45]),ee=n(ee,se,J,Q,U,16,e[46]),Q=n(Q,ee,se,J,m,23,e[47]),J=o(J,Q,ee,se,C,6,e[48]),se=o(se,J,Q,ee,W,10,e[49]),ee=o(ee,se,J,Q,q,15,e[50]),Q=o(Q,ee,se,J,R,21,e[51]),J=o(J,Q,ee,se,K,6,e[52]),se=o(se,J,Q,ee,S,10,e[53]),ee=o(ee,se,J,Q,N,15,e[54]),Q=o(Q,ee,se,J,g,21,e[55]),J=o(J,Q,ee,se,_,6,e[56]),se=o(se,J,Q,ee,U,10,e[57]),ee=o(ee,se,J,Q,P,15,e[58]),Q=o(Q,ee,se,J,I,21,e[59]),J=o(J,Q,ee,se,A,6,e[60]),se=o(se,J,Q,ee,V,10,e[61]),ee=o(ee,se,J,Q,m,15,e[62]),Q=o(Q,ee,se,J,T,21,e[63]),f[0]=f[0]+J|0,f[1]=f[1]+Q|0,f[2]=f[2]+ee|0,f[3]=f[3]+se|0},_doFinalize:function(){var c=this._data,p=c.words,w=this._nDataBytes*8,E=c.sigBytes*8;p[E>>>5]|=128<<24-E%32;var k=h.floor(w/4294967296),f=w;p[(E+64>>>9<<4)+15]=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360,p[(E+64>>>9<<4)+14]=(f<<8|f>>>24)&16711935|(f<<24|f>>>8)&4278255360,c.sigBytes=(p.length+1)*4,this._process();for(var C=this._hash,g=C.words,m=0;m<4;m++){var S=g[m];g[m]=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360}return C},clone:function(){var c=D.clone.call(this);return c._hash=this._hash.clone(),c}});function t(c,p,w,E,k,f,C){var g=c+(p&w|~p&E)+k+C;return(g<<f|g>>>32-f)+p}function i(c,p,w,E,k,f,C){var g=c+(p&E|w&~E)+k+C;return(g<<f|g>>>32-f)+p}function n(c,p,w,E,k,f,C){var g=c+(p^w^E)+k+C;return(g<<f|g>>>32-f)+p}function o(c,p,w,E,k,f,C){var g=c+(w^(p|~E))+k+C;return(g<<f|g>>>32-f)+p}F.MD5=D._createHelper(s),F.HmacMD5=D._createHmacHelper(s)}(Math),M.MD5})},7855:X=>{var j=function(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32},L=-1,M=1,h=0;j.Diff=function(F,b){return[F,b]},j.prototype.diff_main=function(F,b,d,D){typeof D=="undefined"&&(this.Diff_Timeout<=0?D=Number.MAX_VALUE:D=new Date().getTime()+this.Diff_Timeout*1e3);var r=D;if(F==null||b==null)throw new Error("Null input. (diff_main)");if(F==b)return F?[new j.Diff(h,F)]:[];typeof d=="undefined"&&(d=!0);var e=d,s=this.diff_commonPrefix(F,b),t=F.substring(0,s);F=F.substring(s),b=b.substring(s),s=this.diff_commonSuffix(F,b);var i=F.substring(F.length-s);F=F.substring(0,F.length-s),b=b.substring(0,b.length-s);var n=this.diff_compute_(F,b,e,r);return t&&n.unshift(new j.Diff(h,t)),i&&n.push(new j.Diff(h,i)),this.diff_cleanupMerge(n),n},j.prototype.diff_compute_=function(F,b,d,D){var r;if(!F)return[new j.Diff(M,b)];if(!b)return[new j.Diff(L,F)];var e=F.length>b.length?F:b,s=F.length>b.length?b:F,t=e.indexOf(s);if(t!=-1)return r=[new j.Diff(M,e.substring(0,t)),new j.Diff(h,s),new j.Diff(M,e.substring(t+s.length))],F.length>b.length&&(r[0][0]=r[2][0]=L),r;if(s.length==1)return[new j.Diff(L,F),new j.Diff(M,b)];var i=this.diff_halfMatch_(F,b);if(i){var n=i[0],o=i[1],c=i[2],p=i[3],w=i[4],E=this.diff_main(n,c,d,D),k=this.diff_main(o,p,d,D);return E.concat([new j.Diff(h,w)],k)}return d&&F.length>100&&b.length>100?this.diff_lineMode_(F,b,D):this.diff_bisect_(F,b,D)},j.prototype.diff_lineMode_=function(F,b,d){var D=this.diff_linesToChars_(F,b);F=D.chars1,b=D.chars2;var r=D.lineArray,e=this.diff_main(F,b,!1,d);this.diff_charsToLines_(e,r),this.diff_cleanupSemantic(e),e.push(new j.Diff(h,""));for(var s=0,t=0,i=0,n="",o="";s<e.length;){switch(e[s][0]){case M:i++,o+=e[s][1];break;case L:t++,n+=e[s][1];break;case h:if(t>=1&&i>=1){e.splice(s-t-i,t+i),s=s-t-i;for(var c=this.diff_main(n,o,!1,d),p=c.length-1;p>=0;p--)e.splice(s,0,c[p]);s=s+c.length}i=0,t=0,n="",o="";break}s++}return e.pop(),e},j.prototype.diff_bisect_=function(F,b,d){for(var D=F.length,r=b.length,e=Math.ceil((D+r)/2),s=e,t=2*e,i=new Array(t),n=new Array(t),o=0;o<t;o++)i[o]=-1,n[o]=-1;i[s+1]=0,n[s+1]=0;for(var c=D-r,p=c%2!=0,w=0,E=0,k=0,f=0,C=0;C<e&&!(new Date().getTime()>d);C++){for(var g=-C+w;g<=C-E;g+=2){var m=s+g,S;g==-C||g!=C&&i[m-1]<i[m+1]?S=i[m+1]:S=i[m-1]+1;for(var A=S-g;S<D&&A<r&&F.charAt(S)==b.charAt(A);)S++,A++;if(i[m]=S,S>D)E+=2;else if(A>r)w+=2;else if(p){var R=s+c-g;if(R>=0&&R<t&&n[R]!=-1){var P=D-n[R];if(S>=P)return this.diff_bisectSplit_(F,b,S,A,d)}}}for(var W=-C+k;W<=C-f;W+=2){var R=s+W,P;W==-C||W!=C&&n[R-1]<n[R+1]?P=n[R+1]:P=n[R-1]+1;for(var _=P-W;P<D&&_<r&&F.charAt(D-P-1)==b.charAt(r-_-1);)P++,_++;if(n[R]=P,P>D)f+=2;else if(_>r)k+=2;else if(!p){var m=s+c-W;if(m>=0&&m<t&&i[m]!=-1){var S=i[m],A=s+S-m;if(P=D-P,S>=P)return this.diff_bisectSplit_(F,b,S,A,d)}}}}return[new j.Diff(L,F),new j.Diff(M,b)]},j.prototype.diff_bisectSplit_=function(F,b,d,D,r){var e=F.substring(0,d),s=b.substring(0,D),t=F.substring(d),i=b.substring(D),n=this.diff_main(e,s,!1,r),o=this.diff_main(t,i,!1,r);return n.concat(o)},j.prototype.diff_linesToChars_=function(F,b){var d=[],D={};d[0]="";function r(i){for(var n="",o=0,c=-1,p=d.length;c<i.length-1;){c=i.indexOf(`
`,o),c==-1&&(c=i.length-1);var w=i.substring(o,c+1);(D.hasOwnProperty?D.hasOwnProperty(w):D[w]!==void 0)?n+=String.fromCharCode(D[w]):(p==e&&(w=i.substring(o),c=i.length),n+=String.fromCharCode(p),D[w]=p,d[p++]=w),o=c+1}return n}var e=4e4,s=r(F);e=65535;var t=r(b);return{chars1:s,chars2:t,lineArray:d}},j.prototype.diff_charsToLines_=function(F,b){for(var d=0;d<F.length;d++){for(var D=F[d][1],r=[],e=0;e<D.length;e++)r[e]=b[D.charCodeAt(e)];F[d][1]=r.join("")}},j.prototype.diff_commonPrefix=function(F,b){if(!F||!b||F.charAt(0)!=b.charAt(0))return 0;for(var d=0,D=Math.min(F.length,b.length),r=D,e=0;d<r;)F.substring(e,r)==b.substring(e,r)?(d=r,e=d):D=r,r=Math.floor((D-d)/2+d);return r},j.prototype.diff_commonSuffix=function(F,b){if(!F||!b||F.charAt(F.length-1)!=b.charAt(b.length-1))return 0;for(var d=0,D=Math.min(F.length,b.length),r=D,e=0;d<r;)F.substring(F.length-r,F.length-e)==b.substring(b.length-r,b.length-e)?(d=r,e=d):D=r,r=Math.floor((D-d)/2+d);return r},j.prototype.diff_commonOverlap_=function(F,b){var d=F.length,D=b.length;if(d==0||D==0)return 0;d>D?F=F.substring(d-D):d<D&&(b=b.substring(0,d));var r=Math.min(d,D);if(F==b)return r;for(var e=0,s=1;;){var t=F.substring(r-s),i=b.indexOf(t);if(i==-1)return e;s+=i,(i==0||F.substring(r-s)==b.substring(0,s))&&(e=s,s++)}},j.prototype.diff_halfMatch_=function(F,b){if(this.Diff_Timeout<=0)return null;var d=F.length>b.length?F:b,D=F.length>b.length?b:F;if(d.length<4||D.length*2<d.length)return null;var r=this;function e(E,k,f){for(var C=E.substring(f,f+Math.floor(E.length/4)),g=-1,m="",S,A,R,P;(g=k.indexOf(C,g+1))!=-1;){var W=r.diff_commonPrefix(E.substring(f),k.substring(g)),_=r.diff_commonSuffix(E.substring(0,f),k.substring(0,g));m.length<_+W&&(m=k.substring(g-_,g)+k.substring(g,g+W),S=E.substring(0,f-_),A=E.substring(f+W),R=k.substring(0,g-_),P=k.substring(g+W))}return m.length*2>=E.length?[S,A,R,P,m]:null}var s=e(d,D,Math.ceil(d.length/4)),t=e(d,D,Math.ceil(d.length/2)),i;if(!s&&!t)return null;t?s?i=s[4].length>t[4].length?s:t:i=t:i=s;var n,o,c,p;F.length>b.length?(n=i[0],o=i[1],c=i[2],p=i[3]):(c=i[0],p=i[1],n=i[2],o=i[3]);var w=i[4];return[n,o,c,p,w]},j.prototype.diff_cleanupSemantic=function(F){for(var b=!1,d=[],D=0,r=null,e=0,s=0,t=0,i=0,n=0;e<F.length;)F[e][0]==h?(d[D++]=e,s=i,t=n,i=0,n=0,r=F[e][1]):(F[e][0]==M?i+=F[e][1].length:n+=F[e][1].length,r&&r.length<=Math.max(s,t)&&r.length<=Math.max(i,n)&&(F.splice(d[D-1],0,new j.Diff(L,r)),F[d[D-1]+1][0]=M,D--,D--,e=D>0?d[D-1]:-1,s=0,t=0,i=0,n=0,r=null,b=!0)),e++;for(b&&this.diff_cleanupMerge(F),this.diff_cleanupSemanticLossless(F),e=1;e<F.length;){if(F[e-1][0]==L&&F[e][0]==M){var o=F[e-1][1],c=F[e][1],p=this.diff_commonOverlap_(o,c),w=this.diff_commonOverlap_(c,o);p>=w?(p>=o.length/2||p>=c.length/2)&&(F.splice(e,0,new j.Diff(h,c.substring(0,p))),F[e-1][1]=o.substring(0,o.length-p),F[e+1][1]=c.substring(p),e++):(w>=o.length/2||w>=c.length/2)&&(F.splice(e,0,new j.Diff(h,o.substring(0,w))),F[e-1][0]=M,F[e-1][1]=c.substring(0,c.length-w),F[e+1][0]=L,F[e+1][1]=o.substring(w),e++),e++}e++}},j.prototype.diff_cleanupSemanticLossless=function(F){function b(w,E){if(!w||!E)return 6;var k=w.charAt(w.length-1),f=E.charAt(0),C=k.match(j.nonAlphaNumericRegex_),g=f.match(j.nonAlphaNumericRegex_),m=C&&k.match(j.whitespaceRegex_),S=g&&f.match(j.whitespaceRegex_),A=m&&k.match(j.linebreakRegex_),R=S&&f.match(j.linebreakRegex_),P=A&&w.match(j.blanklineEndRegex_),W=R&&E.match(j.blanklineStartRegex_);return P||W?5:A||R?4:C&&!m&&S?3:m||S?2:C||g?1:0}for(var d=1;d<F.length-1;){if(F[d-1][0]==h&&F[d+1][0]==h){var D=F[d-1][1],r=F[d][1],e=F[d+1][1],s=this.diff_commonSuffix(D,r);if(s){var t=r.substring(r.length-s);D=D.substring(0,D.length-s),r=t+r.substring(0,r.length-s),e=t+e}for(var i=D,n=r,o=e,c=b(D,r)+b(r,e);r.charAt(0)===e.charAt(0);){D+=r.charAt(0),r=r.substring(1)+e.charAt(0),e=e.substring(1);var p=b(D,r)+b(r,e);p>=c&&(c=p,i=D,n=r,o=e)}F[d-1][1]!=i&&(i?F[d-1][1]=i:(F.splice(d-1,1),d--),F[d][1]=n,o?F[d+1][1]=o:(F.splice(d+1,1),d--))}d++}},j.nonAlphaNumericRegex_=/[^a-zA-Z0-9]/,j.whitespaceRegex_=/\s/,j.linebreakRegex_=/[\r\n]/,j.blanklineEndRegex_=/\n\r?\n$/,j.blanklineStartRegex_=/^\r?\n\r?\n/,j.prototype.diff_cleanupEfficiency=function(F){for(var b=!1,d=[],D=0,r=null,e=0,s=!1,t=!1,i=!1,n=!1;e<F.length;)F[e][0]==h?(F[e][1].length<this.Diff_EditCost&&(i||n)?(d[D++]=e,s=i,t=n,r=F[e][1]):(D=0,r=null),i=n=!1):(F[e][0]==L?n=!0:i=!0,r&&(s&&t&&i&&n||r.length<this.Diff_EditCost/2&&s+t+i+n==3)&&(F.splice(d[D-1],0,new j.Diff(L,r)),F[d[D-1]+1][0]=M,D--,r=null,s&&t?(i=n=!0,D=0):(D--,e=D>0?d[D-1]:-1,i=n=!1),b=!0)),e++;b&&this.diff_cleanupMerge(F)},j.prototype.diff_cleanupMerge=function(F){F.push(new j.Diff(h,""));for(var b=0,d=0,D=0,r="",e="",s;b<F.length;)switch(F[b][0]){case M:D++,e+=F[b][1],b++;break;case L:d++,r+=F[b][1],b++;break;case h:d+D>1?(d!==0&&D!==0&&(s=this.diff_commonPrefix(e,r),s!==0&&(b-d-D>0&&F[b-d-D-1][0]==h?F[b-d-D-1][1]+=e.substring(0,s):(F.splice(0,0,new j.Diff(h,e.substring(0,s))),b++),e=e.substring(s),r=r.substring(s)),s=this.diff_commonSuffix(e,r),s!==0&&(F[b][1]=e.substring(e.length-s)+F[b][1],e=e.substring(0,e.length-s),r=r.substring(0,r.length-s))),b-=d+D,F.splice(b,d+D),r.length&&(F.splice(b,0,new j.Diff(L,r)),b++),e.length&&(F.splice(b,0,new j.Diff(M,e)),b++),b++):b!==0&&F[b-1][0]==h?(F[b-1][1]+=F[b][1],F.splice(b,1)):b++,D=0,d=0,r="",e="";break}F[F.length-1][1]===""&&F.pop();var t=!1;for(b=1;b<F.length-1;)F[b-1][0]==h&&F[b+1][0]==h&&(F[b][1].substring(F[b][1].length-F[b-1][1].length)==F[b-1][1]?(F[b][1]=F[b-1][1]+F[b][1].substring(0,F[b][1].length-F[b-1][1].length),F[b+1][1]=F[b-1][1]+F[b+1][1],F.splice(b-1,1),t=!0):F[b][1].substring(0,F[b+1][1].length)==F[b+1][1]&&(F[b-1][1]+=F[b+1][1],F[b][1]=F[b][1].substring(F[b+1][1].length)+F[b+1][1],F.splice(b+1,1),t=!0)),b++;t&&this.diff_cleanupMerge(F)},j.prototype.diff_xIndex=function(F,b){var d=0,D=0,r=0,e=0,s;for(s=0;s<F.length&&(F[s][0]!==M&&(d+=F[s][1].length),F[s][0]!==L&&(D+=F[s][1].length),!(d>b));s++)r=d,e=D;return F.length!=s&&F[s][0]===L?e:e+(b-r)},j.prototype.diff_prettyHtml=function(F){for(var b=[],d=/&/g,D=/</g,r=/>/g,e=/\n/g,s=0;s<F.length;s++){var t=F[s][0],i=F[s][1],n=i.replace(d,"&amp;").replace(D,"&lt;").replace(r,"&gt;").replace(e,"&para;<br>");switch(t){case M:b[s]='<ins style="background:#e6ffe6;">'+n+"</ins>";break;case L:b[s]='<del style="background:#ffe6e6;">'+n+"</del>";break;case h:b[s]="<span>"+n+"</span>";break}}return b.join("")},j.prototype.diff_text1=function(F){for(var b=[],d=0;d<F.length;d++)F[d][0]!==M&&(b[d]=F[d][1]);return b.join("")},j.prototype.diff_text2=function(F){for(var b=[],d=0;d<F.length;d++)F[d][0]!==L&&(b[d]=F[d][1]);return b.join("")},j.prototype.diff_levenshtein=function(F){for(var b=0,d=0,D=0,r=0;r<F.length;r++){var e=F[r][0],s=F[r][1];switch(e){case M:d+=s.length;break;case L:D+=s.length;break;case h:b+=Math.max(d,D),d=0,D=0;break}}return b+=Math.max(d,D),b},j.prototype.diff_toDelta=function(F){for(var b=[],d=0;d<F.length;d++)switch(F[d][0]){case M:b[d]="+"+encodeURI(F[d][1]);break;case L:b[d]="-"+F[d][1].length;break;case h:b[d]="="+F[d][1].length;break}return b.join("	").replace(/%20/g," ")},j.prototype.diff_fromDelta=function(F,b){for(var d=[],D=0,r=0,e=b.split(/\t/g),s=0;s<e.length;s++){var t=e[s].substring(1);switch(e[s].charAt(0)){case"+":try{d[D++]=new j.Diff(M,decodeURI(t))}catch(o){throw new Error("Illegal escape in diff_fromDelta: "+t)}break;case"-":case"=":var i=parseInt(t,10);if(isNaN(i)||i<0)throw new Error("Invalid number in diff_fromDelta: "+t);var n=F.substring(r,r+=i);e[s].charAt(0)=="="?d[D++]=new j.Diff(h,n):d[D++]=new j.Diff(L,n);break;default:if(e[s])throw new Error("Invalid diff operation in diff_fromDelta: "+e[s])}}if(r!=F.length)throw new Error("Delta length ("+r+") does not equal source text length ("+F.length+").");return d},j.prototype.match_main=function(F,b,d){if(F==null||b==null||d==null)throw new Error("Null input. (match_main)");return d=Math.max(0,Math.min(d,F.length)),F==b?0:F.length?F.substring(d,d+b.length)==b?d:this.match_bitap_(F,b,d):-1},j.prototype.match_bitap_=function(F,b,d){if(b.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var D=this.match_alphabet_(b),r=this;function e(S,A){var R=S/b.length,P=Math.abs(d-A);return r.Match_Distance?R+P/r.Match_Distance:P?1:R}var s=this.Match_Threshold,t=F.indexOf(b,d);t!=-1&&(s=Math.min(e(0,t),s),t=F.lastIndexOf(b,d+b.length),t!=-1&&(s=Math.min(e(0,t),s)));var i=1<<b.length-1;t=-1;for(var n,o,c=b.length+F.length,p,w=0;w<b.length;w++){for(n=0,o=c;n<o;)e(w,d+o)<=s?n=o:c=o,o=Math.floor((c-n)/2+n);c=o;var E=Math.max(1,d-o+1),k=Math.min(d+o,F.length)+b.length,f=Array(k+2);f[k+1]=(1<<w)-1;for(var C=k;C>=E;C--){var g=D[F.charAt(C-1)];if(w===0?f[C]=(f[C+1]<<1|1)&g:f[C]=(f[C+1]<<1|1)&g|((p[C+1]|p[C])<<1|1)|p[C+1],f[C]&i){var m=e(w,C-1);if(m<=s)if(s=m,t=C-1,t>d)E=Math.max(1,2*d-t);else break}}if(e(w+1,d)>s)break;p=f}return t},j.prototype.match_alphabet_=function(F){for(var b={},d=0;d<F.length;d++)b[F.charAt(d)]=0;for(var d=0;d<F.length;d++)b[F.charAt(d)]|=1<<F.length-d-1;return b},j.prototype.patch_addContext_=function(F,b){if(b.length!=0){if(F.start2===null)throw Error("patch not initialized");for(var d=b.substring(F.start2,F.start2+F.length1),D=0;b.indexOf(d)!=b.lastIndexOf(d)&&d.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)D+=this.Patch_Margin,d=b.substring(F.start2-D,F.start2+F.length1+D);D+=this.Patch_Margin;var r=b.substring(F.start2-D,F.start2);r&&F.diffs.unshift(new j.Diff(h,r));var e=b.substring(F.start2+F.length1,F.start2+F.length1+D);e&&F.diffs.push(new j.Diff(h,e)),F.start1-=r.length,F.start2-=r.length,F.length1+=r.length+e.length,F.length2+=r.length+e.length}},j.prototype.patch_make=function(F,b,d){var D,r;if(typeof F=="string"&&typeof b=="string"&&typeof d=="undefined")D=F,r=this.diff_main(D,b,!0),r.length>2&&(this.diff_cleanupSemantic(r),this.diff_cleanupEfficiency(r));else if(F&&typeof F=="object"&&typeof b=="undefined"&&typeof d=="undefined")r=F,D=this.diff_text1(r);else if(typeof F=="string"&&b&&typeof b=="object"&&typeof d=="undefined")D=F,r=b;else if(typeof F=="string"&&typeof b=="string"&&d&&typeof d=="object")D=F,r=d;else throw new Error("Unknown call format to patch_make.");if(r.length===0)return[];for(var e=[],s=new j.patch_obj,t=0,i=0,n=0,o=D,c=D,p=0;p<r.length;p++){var w=r[p][0],E=r[p][1];switch(!t&&w!==h&&(s.start1=i,s.start2=n),w){case M:s.diffs[t++]=r[p],s.length2+=E.length,c=c.substring(0,n)+E+c.substring(n);break;case L:s.length1+=E.length,s.diffs[t++]=r[p],c=c.substring(0,n)+c.substring(n+E.length);break;case h:E.length<=2*this.Patch_Margin&&t&&r.length!=p+1?(s.diffs[t++]=r[p],s.length1+=E.length,s.length2+=E.length):E.length>=2*this.Patch_Margin&&t&&(this.patch_addContext_(s,o),e.push(s),s=new j.patch_obj,t=0,o=c,i=n);break}w!==M&&(i+=E.length),w!==L&&(n+=E.length)}return t&&(this.patch_addContext_(s,o),e.push(s)),e},j.prototype.patch_deepCopy=function(F){for(var b=[],d=0;d<F.length;d++){var D=F[d],r=new j.patch_obj;r.diffs=[];for(var e=0;e<D.diffs.length;e++)r.diffs[e]=new j.Diff(D.diffs[e][0],D.diffs[e][1]);r.start1=D.start1,r.start2=D.start2,r.length1=D.length1,r.length2=D.length2,b[d]=r}return b},j.prototype.patch_apply=function(F,b){if(F.length==0)return[b,[]];F=this.patch_deepCopy(F);var d=this.patch_addPadding(F);b=d+b+d,this.patch_splitMax(F);for(var D=0,r=[],e=0;e<F.length;e++){var s=F[e].start2+D,t=this.diff_text1(F[e].diffs),i,n=-1;if(t.length>this.Match_MaxBits?(i=this.match_main(b,t.substring(0,this.Match_MaxBits),s),i!=-1&&(n=this.match_main(b,t.substring(t.length-this.Match_MaxBits),s+t.length-this.Match_MaxBits),(n==-1||i>=n)&&(i=-1))):i=this.match_main(b,t,s),i==-1)r[e]=!1,D-=F[e].length2-F[e].length1;else{r[e]=!0,D=i-s;var o;if(n==-1?o=b.substring(i,i+t.length):o=b.substring(i,n+this.Match_MaxBits),t==o)b=b.substring(0,i)+this.diff_text2(F[e].diffs)+b.substring(i+t.length);else{var c=this.diff_main(t,o,!1);if(t.length>this.Match_MaxBits&&this.diff_levenshtein(c)/t.length>this.Patch_DeleteThreshold)r[e]=!1;else{this.diff_cleanupSemanticLossless(c);for(var p=0,w,E=0;E<F[e].diffs.length;E++){var k=F[e].diffs[E];k[0]!==h&&(w=this.diff_xIndex(c,p)),k[0]===M?b=b.substring(0,i+w)+k[1]+b.substring(i+w):k[0]===L&&(b=b.substring(0,i+w)+b.substring(i+this.diff_xIndex(c,p+k[1].length))),k[0]!==L&&(p+=k[1].length)}}}}}return b=b.substring(d.length,b.length-d.length),[b,r]},j.prototype.patch_addPadding=function(F){for(var b=this.Patch_Margin,d="",D=1;D<=b;D++)d+=String.fromCharCode(D);for(var D=0;D<F.length;D++)F[D].start1+=b,F[D].start2+=b;var r=F[0],e=r.diffs;if(e.length==0||e[0][0]!=h)e.unshift(new j.Diff(h,d)),r.start1-=b,r.start2-=b,r.length1+=b,r.length2+=b;else if(b>e[0][1].length){var s=b-e[0][1].length;e[0][1]=d.substring(e[0][1].length)+e[0][1],r.start1-=s,r.start2-=s,r.length1+=s,r.length2+=s}if(r=F[F.length-1],e=r.diffs,e.length==0||e[e.length-1][0]!=h)e.push(new j.Diff(h,d)),r.length1+=b,r.length2+=b;else if(b>e[e.length-1][1].length){var s=b-e[e.length-1][1].length;e[e.length-1][1]+=d.substring(0,s),r.length1+=s,r.length2+=s}return d},j.prototype.patch_splitMax=function(F){for(var b=this.Match_MaxBits,d=0;d<F.length;d++)if(!(F[d].length1<=b)){var D=F[d];F.splice(d--,1);for(var r=D.start1,e=D.start2,s="";D.diffs.length!==0;){var t=new j.patch_obj,i=!0;for(t.start1=r-s.length,t.start2=e-s.length,s!==""&&(t.length1=t.length2=s.length,t.diffs.push(new j.Diff(h,s)));D.diffs.length!==0&&t.length1<b-this.Patch_Margin;){var n=D.diffs[0][0],o=D.diffs[0][1];n===M?(t.length2+=o.length,e+=o.length,t.diffs.push(D.diffs.shift()),i=!1):n===L&&t.diffs.length==1&&t.diffs[0][0]==h&&o.length>2*b?(t.length1+=o.length,r+=o.length,i=!1,t.diffs.push(new j.Diff(n,o)),D.diffs.shift()):(o=o.substring(0,b-t.length1-this.Patch_Margin),t.length1+=o.length,r+=o.length,n===h?(t.length2+=o.length,e+=o.length):i=!1,t.diffs.push(new j.Diff(n,o)),o==D.diffs[0][1]?D.diffs.shift():D.diffs[0][1]=D.diffs[0][1].substring(o.length))}s=this.diff_text2(t.diffs),s=s.substring(s.length-this.Patch_Margin);var c=this.diff_text1(D.diffs).substring(0,this.Patch_Margin);c!==""&&(t.length1+=c.length,t.length2+=c.length,t.diffs.length!==0&&t.diffs[t.diffs.length-1][0]===h?t.diffs[t.diffs.length-1][1]+=c:t.diffs.push(new j.Diff(h,c))),i||F.splice(++d,0,t)}}},j.prototype.patch_toText=function(F){for(var b=[],d=0;d<F.length;d++)b[d]=F[d];return b.join("")},j.prototype.patch_fromText=function(F){var b=[];if(!F)return b;for(var d=F.split(`
`),D=0,r=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;D<d.length;){var e=d[D].match(r);if(!e)throw new Error("Invalid patch string: "+d[D]);var s=new j.patch_obj;for(b.push(s),s.start1=parseInt(e[1],10),e[2]===""?(s.start1--,s.length1=1):e[2]=="0"?s.length1=0:(s.start1--,s.length1=parseInt(e[2],10)),s.start2=parseInt(e[3],10),e[4]===""?(s.start2--,s.length2=1):e[4]=="0"?s.length2=0:(s.start2--,s.length2=parseInt(e[4],10)),D++;D<d.length;){var t=d[D].charAt(0);try{var i=decodeURI(d[D].substring(1))}catch(n){throw new Error("Illegal escape in patch_fromText: "+i)}if(t=="-")s.diffs.push(new j.Diff(L,i));else if(t=="+")s.diffs.push(new j.Diff(M,i));else if(t==" ")s.diffs.push(new j.Diff(h,i));else{if(t=="@")break;if(t!=="")throw new Error('Invalid patch mode "'+t+'" in: '+i)}D++}}return b},j.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},j.patch_obj.prototype.toString=function(){var F,b;this.length1===0?F=this.start1+",0":this.length1==1?F=this.start1+1:F=this.start1+1+","+this.length1,this.length2===0?b=this.start2+",0":this.length2==1?b=this.start2+1:b=this.start2+1+","+this.length2;for(var d=["@@ -"+F+" +"+b+` @@
`],D,r=0;r<this.diffs.length;r++){switch(this.diffs[r][0]){case M:D="+";break;case L:D="-";break;case h:D=" ";break}d[r+1]=D+encodeURI(this.diffs[r][1])+`
`}return d.join("").replace(/%20/g," ")},X.exports=j,X.exports.diff_match_patch=j,X.exports.DIFF_DELETE=L,X.exports.DIFF_INSERT=M,X.exports.DIFF_EQUAL=h},85589:function(X){(function(j,L){X.exports=L()})(this,function(){"use strict";function j(ae,Ee){return Ee={exports:{}},ae(Ee,Ee.exports),Ee.exports}var L=j(function(ae){var Ee=ae.exports=typeof window!="undefined"&&window.Math==Math?window:typeof self!="undefined"&&self.Math==Math?self:Function("return this")();typeof __g=="number"&&(__g=Ee)}),M=j(function(ae){var Ee=ae.exports={version:"2.6.5"};typeof __e=="number"&&(__e=Ee)}),h=M.version,F=function(ae){return typeof ae=="object"?ae!==null:typeof ae=="function"},b=function(ae){if(!F(ae))throw TypeError(ae+" is not an object!");return ae},d=function(ae){try{return!!ae()}catch(Ee){return!0}},D=!d(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7}),r=L.document,e=F(r)&&F(r.createElement),s=function(ae){return e?r.createElement(ae):{}},t=!D&&!d(function(){return Object.defineProperty(s("div"),"a",{get:function(){return 7}}).a!=7}),i=function(ae,Ee){if(!F(ae))return ae;var fe,ke;if(Ee&&typeof(fe=ae.toString)=="function"&&!F(ke=fe.call(ae))||typeof(fe=ae.valueOf)=="function"&&!F(ke=fe.call(ae))||!Ee&&typeof(fe=ae.toString)=="function"&&!F(ke=fe.call(ae)))return ke;throw TypeError("Can't convert object to primitive value")},n=Object.defineProperty,o=D?Object.defineProperty:function(Ee,fe,ke){if(b(Ee),fe=i(fe,!0),b(ke),t)try{return n(Ee,fe,ke)}catch(we){}if("get"in ke||"set"in ke)throw TypeError("Accessors not supported!");return"value"in ke&&(Ee[fe]=ke.value),Ee},c={f:o},p=function(ae,Ee){return{enumerable:!(ae&1),configurable:!(ae&2),writable:!(ae&4),value:Ee}},w=D?function(ae,Ee,fe){return c.f(ae,Ee,p(1,fe))}:function(ae,Ee,fe){return ae[Ee]=fe,ae},E={}.hasOwnProperty,k=function(ae,Ee){return E.call(ae,Ee)},f=0,C=Math.random(),g=function(ae){return"Symbol(".concat(ae===void 0?"":ae,")_",(++f+C).toString(36))},m=!1,S=j(function(ae){var Ee="__core-js_shared__",fe=L[Ee]||(L[Ee]={});(ae.exports=function(ke,we){return fe[ke]||(fe[ke]=we!==void 0?we:{})})("versions",[]).push({version:M.version,mode:m?"pure":"global",copyright:"\xA9 2019 Denis Pushkarev (zloirock.ru)"})}),A=S("native-function-to-string",Function.toString),R=j(function(ae){var Ee=g("src"),fe="toString",ke=(""+A).split(fe);M.inspectSource=function(we){return A.call(we)},(ae.exports=function(we,Te,Se,et){var yt=typeof Se=="function";yt&&(k(Se,"name")||w(Se,"name",Te)),we[Te]!==Se&&(yt&&(k(Se,Ee)||w(Se,Ee,we[Te]?""+we[Te]:ke.join(String(Te)))),we===L?we[Te]=Se:et?we[Te]?we[Te]=Se:w(we,Te,Se):(delete we[Te],w(we,Te,Se)))})(Function.prototype,fe,function(){return typeof this=="function"&&this[Ee]||A.call(this)})}),P=function(ae){if(typeof ae!="function")throw TypeError(ae+" is not a function!");return ae},W=function(ae,Ee,fe){if(P(ae),Ee===void 0)return ae;switch(fe){case 1:return function(ke){return ae.call(Ee,ke)};case 2:return function(ke,we){return ae.call(Ee,ke,we)};case 3:return function(ke,we,Te){return ae.call(Ee,ke,we,Te)}}return function(){return ae.apply(Ee,arguments)}},_="prototype",T=function(ae,Ee,fe){var ke=ae&T.F,we=ae&T.G,Te=ae&T.S,Se=ae&T.P,et=ae&T.B,yt=we?L:Te?L[Ee]||(L[Ee]={}):(L[Ee]||{})[_],Vt=we?M:M[Ee]||(M[Ee]={}),Ut=Vt[_]||(Vt[_]={}),An,dn,mn,Vn;we&&(fe=Ee);for(An in fe)dn=!ke&&yt&&yt[An]!==void 0,mn=(dn?yt:fe)[An],Vn=et&&dn?W(mn,L):Se&&typeof mn=="function"?W(Function.call,mn):mn,yt&&R(yt,An,mn,ae&T.U),Vt[An]!=mn&&w(Vt,An,Vn),Se&&Ut[An]!=mn&&(Ut[An]=mn)};L.core=M,T.F=1,T.G=2,T.S=4,T.P=8,T.B=16,T.W=32,T.U=64,T.R=128;var N=T,V=Math.ceil,K=Math.floor,I=function(ae){return isNaN(ae=+ae)?0:(ae>0?K:V)(ae)},q=function(ae){if(ae==null)throw TypeError("Can't call method on  "+ae);return ae},U=function(ae){return function(Ee,fe){var ke=String(q(Ee)),we=I(fe),Te=ke.length,Se,et;return we<0||we>=Te?ae?"":void 0:(Se=ke.charCodeAt(we),Se<55296||Se>56319||we+1===Te||(et=ke.charCodeAt(we+1))<56320||et>57343?ae?ke.charAt(we):Se:ae?ke.slice(we,we+2):(Se-55296<<10)+(et-56320)+65536)}},J=U(!1);N(N.P,"String",{codePointAt:function(Ee){return J(this,Ee)}});var Q=M.String.codePointAt,ee=Math.max,se=Math.min,ue=function(ae,Ee){return ae=I(ae),ae<0?ee(ae+Ee,0):se(ae,Ee)},xe=String.fromCharCode,_e=String.fromCodePoint;N(N.S+N.F*(!!_e&&_e.length!=1),"String",{fromCodePoint:function(Ee){for(var fe=arguments,ke=[],we=arguments.length,Te=0,Se;we>Te;){if(Se=+fe[Te++],ue(Se,1114111)!==Se)throw RangeError(Se+" is not a valid code point");ke.push(Se<65536?xe(Se):xe(((Se-=65536)>>10)+55296,Se%1024+56320))}return ke.join("")}});var Je=M.String.fromCodePoint,Be=/[\u1680\u2000-\u200A\u202F\u205F\u3000]/,He=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]/,Xe=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09FC\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF9\u1D00-\u1DF9\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDE00-\uDE3E\uDE47\uDE50-\uDE83\uDE86-\uDE99\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4A\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/,Ue={Space_Separator:Be,ID_Start:He,ID_Continue:Xe},rt={isSpaceSeparator:function(Ee){return typeof Ee=="string"&&Ue.Space_Separator.test(Ee)},isIdStartChar:function(Ee){return typeof Ee=="string"&&(Ee>="a"&&Ee<="z"||Ee>="A"&&Ee<="Z"||Ee==="$"||Ee==="_"||Ue.ID_Start.test(Ee))},isIdContinueChar:function(Ee){return typeof Ee=="string"&&(Ee>="a"&&Ee<="z"||Ee>="A"&&Ee<="Z"||Ee>="0"&&Ee<="9"||Ee==="$"||Ee==="_"||Ee==="\u200C"||Ee==="\u200D"||Ue.ID_Continue.test(Ee))},isDigit:function(Ee){return typeof Ee=="string"&&/[0-9]/.test(Ee)},isHexDigit:function(Ee){return typeof Ee=="string"&&/[0-9A-Fa-f]/.test(Ee)}},St,kt,It,zt,Xt,on,Jt,tn,rn,Cn=function(Ee,fe){St=String(Ee),kt="start",It=[],zt=0,Xt=1,on=0,Jt=void 0,tn=void 0,rn=void 0;do Jt=Bt(),$[kt]();while(Jt.type!=="eof");return typeof fe=="function"?Tn({"":rn},"",fe):rn};function Tn(ae,Ee,fe){var ke=ae[Ee];if(ke!=null&&typeof ke=="object")if(Array.isArray(ke))for(var we=0;we<ke.length;we++){var Te=String(we),Se=Tn(ke,Te,fe);Se===void 0?delete ke[Te]:Object.defineProperty(ke,Te,{value:Se,writable:!0,enumerable:!0,configurable:!0})}else for(var et in ke){var yt=Tn(ke,et,fe);yt===void 0?delete ke[et]:Object.defineProperty(ke,et,{value:yt,writable:!0,enumerable:!0,configurable:!0})}return fe.call(ae,Ee,ke)}var Rt,Ae,pt,mt,lt;function Bt(){for(Rt="default",Ae="",pt=!1,mt=1;;){lt=Gt();var ae=nn[Rt]();if(ae)return ae}}function Gt(){if(St[zt])return String.fromCodePoint(St.codePointAt(zt))}function Oe(){var ae=Gt();return ae===`
`?(Xt++,on=0):ae?on+=ae.length:on++,ae&&(zt+=ae.length),ae}var nn={default:function(){switch(lt){case"	":case"\v":case"\f":case" ":case"\xA0":case"\uFEFF":case`
`:case"\r":case"\u2028":case"\u2029":Oe();return;case"/":Oe(),Rt="comment";return;case void 0:return Oe(),dt("eof")}if(rt.isSpaceSeparator(lt)){Oe();return}return nn[kt]()},comment:function(){switch(lt){case"*":Oe(),Rt="multiLineComment";return;case"/":Oe(),Rt="singleLineComment";return}throw Z(Oe())},multiLineComment:function(){switch(lt){case"*":Oe(),Rt="multiLineCommentAsterisk";return;case void 0:throw Z(Oe())}Oe()},multiLineCommentAsterisk:function(){switch(lt){case"*":Oe();return;case"/":Oe(),Rt="default";return;case void 0:throw Z(Oe())}Oe(),Rt="multiLineComment"},singleLineComment:function(){switch(lt){case`
`:case"\r":case"\u2028":case"\u2029":Oe(),Rt="default";return;case void 0:return Oe(),dt("eof")}Oe()},value:function(){switch(lt){case"{":case"[":return dt("punctuator",Oe());case"n":return Oe(),Wt("ull"),dt("null",null);case"t":return Oe(),Wt("rue"),dt("boolean",!0);case"f":return Oe(),Wt("alse"),dt("boolean",!1);case"-":case"+":Oe()==="-"&&(mt=-1),Rt="sign";return;case".":Ae=Oe(),Rt="decimalPointLeading";return;case"0":Ae=Oe(),Rt="zero";return;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":Ae=Oe(),Rt="decimalInteger";return;case"I":return Oe(),Wt("nfinity"),dt("numeric",1/0);case"N":return Oe(),Wt("aN"),dt("numeric",NaN);case'"':case"'":pt=Oe()==='"',Ae="",Rt="string";return}throw Z(Oe())},identifierNameStartEscape:function(){if(lt!=="u")throw Z(Oe());Oe();var Ee=pe();switch(Ee){case"$":case"_":break;default:if(!rt.isIdStartChar(Ee))throw le();break}Ae+=Ee,Rt="identifierName"},identifierName:function(){switch(lt){case"$":case"_":case"\u200C":case"\u200D":Ae+=Oe();return;case"\\":Oe(),Rt="identifierNameEscape";return}if(rt.isIdContinueChar(lt)){Ae+=Oe();return}return dt("identifier",Ae)},identifierNameEscape:function(){if(lt!=="u")throw Z(Oe());Oe();var Ee=pe();switch(Ee){case"$":case"_":case"\u200C":case"\u200D":break;default:if(!rt.isIdContinueChar(Ee))throw le();break}Ae+=Ee,Rt="identifierName"},sign:function(){switch(lt){case".":Ae=Oe(),Rt="decimalPointLeading";return;case"0":Ae=Oe(),Rt="zero";return;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":Ae=Oe(),Rt="decimalInteger";return;case"I":return Oe(),Wt("nfinity"),dt("numeric",mt*(1/0));case"N":return Oe(),Wt("aN"),dt("numeric",NaN)}throw Z(Oe())},zero:function(){switch(lt){case".":Ae+=Oe(),Rt="decimalPoint";return;case"e":case"E":Ae+=Oe(),Rt="decimalExponent";return;case"x":case"X":Ae+=Oe(),Rt="hexadecimal";return}return dt("numeric",mt*0)},decimalInteger:function(){switch(lt){case".":Ae+=Oe(),Rt="decimalPoint";return;case"e":case"E":Ae+=Oe(),Rt="decimalExponent";return}if(rt.isDigit(lt)){Ae+=Oe();return}return dt("numeric",mt*Number(Ae))},decimalPointLeading:function(){if(rt.isDigit(lt)){Ae+=Oe(),Rt="decimalFraction";return}throw Z(Oe())},decimalPoint:function(){switch(lt){case"e":case"E":Ae+=Oe(),Rt="decimalExponent";return}if(rt.isDigit(lt)){Ae+=Oe(),Rt="decimalFraction";return}return dt("numeric",mt*Number(Ae))},decimalFraction:function(){switch(lt){case"e":case"E":Ae+=Oe(),Rt="decimalExponent";return}if(rt.isDigit(lt)){Ae+=Oe();return}return dt("numeric",mt*Number(Ae))},decimalExponent:function(){switch(lt){case"+":case"-":Ae+=Oe(),Rt="decimalExponentSign";return}if(rt.isDigit(lt)){Ae+=Oe(),Rt="decimalExponentInteger";return}throw Z(Oe())},decimalExponentSign:function(){if(rt.isDigit(lt)){Ae+=Oe(),Rt="decimalExponentInteger";return}throw Z(Oe())},decimalExponentInteger:function(){if(rt.isDigit(lt)){Ae+=Oe();return}return dt("numeric",mt*Number(Ae))},hexadecimal:function(){if(rt.isHexDigit(lt)){Ae+=Oe(),Rt="hexadecimalInteger";return}throw Z(Oe())},hexadecimalInteger:function(){if(rt.isHexDigit(lt)){Ae+=Oe();return}return dt("numeric",mt*Number(Ae))},string:function(){switch(lt){case"\\":Oe(),Ae+=an();return;case'"':if(pt)return Oe(),dt("string",Ae);Ae+=Oe();return;case"'":if(!pt)return Oe(),dt("string",Ae);Ae+=Oe();return;case`
`:case"\r":throw Z(Oe());case"\u2028":case"\u2029":De(lt);break;case void 0:throw Z(Oe())}Ae+=Oe()},start:function(){switch(lt){case"{":case"[":return dt("punctuator",Oe())}Rt="value"},beforePropertyName:function(){switch(lt){case"$":case"_":Ae=Oe(),Rt="identifierName";return;case"\\":Oe(),Rt="identifierNameStartEscape";return;case"}":return dt("punctuator",Oe());case'"':case"'":pt=Oe()==='"',Rt="string";return}if(rt.isIdStartChar(lt)){Ae+=Oe(),Rt="identifierName";return}throw Z(Oe())},afterPropertyName:function(){if(lt===":")return dt("punctuator",Oe());throw Z(Oe())},beforePropertyValue:function(){Rt="value"},afterPropertyValue:function(){switch(lt){case",":case"}":return dt("punctuator",Oe())}throw Z(Oe())},beforeArrayValue:function(){if(lt==="]")return dt("punctuator",Oe());Rt="value"},afterArrayValue:function(){switch(lt){case",":case"]":return dt("punctuator",Oe())}throw Z(Oe())},end:function(){throw Z(Oe())}};function dt(ae,Ee){return{type:ae,value:Ee,line:Xt,column:on}}function Wt(ae){for(var Ee=0,fe=ae;Ee<fe.length;Ee+=1){var ke=fe[Ee],we=Gt();if(we!==ke)throw Z(Oe());Oe()}}function an(){var ae=Gt();switch(ae){case"b":return Oe(),"\b";case"f":return Oe(),"\f";case"n":return Oe(),`
`;case"r":return Oe(),"\r";case"t":return Oe(),"	";case"v":return Oe(),"\v";case"0":if(Oe(),rt.isDigit(Gt()))throw Z(Oe());return"\0";case"x":return Oe(),cn();case"u":return Oe(),pe();case`
`:case"\u2028":case"\u2029":return Oe(),"";case"\r":return Oe(),Gt()===`
`&&Oe(),"";case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":throw Z(Oe());case void 0:throw Z(Oe())}return Oe()}function cn(){var ae="",Ee=Gt();if(!rt.isHexDigit(Ee)||(ae+=Oe(),Ee=Gt(),!rt.isHexDigit(Ee)))throw Z(Oe());return ae+=Oe(),String.fromCodePoint(parseInt(ae,16))}function pe(){for(var ae="",Ee=4;Ee-- >0;){var fe=Gt();if(!rt.isHexDigit(fe))throw Z(Oe());ae+=Oe()}return String.fromCodePoint(parseInt(ae,16))}var $={start:function(){if(Jt.type==="eof")throw ne();H()},beforePropertyName:function(){switch(Jt.type){case"identifier":case"string":tn=Jt.value,kt="afterPropertyName";return;case"punctuator":G();return;case"eof":throw ne()}},afterPropertyName:function(){if(Jt.type==="eof")throw ne();kt="beforePropertyValue"},beforePropertyValue:function(){if(Jt.type==="eof")throw ne();H()},beforeArrayValue:function(){if(Jt.type==="eof")throw ne();if(Jt.type==="punctuator"&&Jt.value==="]"){G();return}H()},afterPropertyValue:function(){if(Jt.type==="eof")throw ne();switch(Jt.value){case",":kt="beforePropertyName";return;case"}":G()}},afterArrayValue:function(){if(Jt.type==="eof")throw ne();switch(Jt.value){case",":kt="beforeArrayValue";return;case"]":G()}},end:function(){}};function H(){var ae;switch(Jt.type){case"punctuator":switch(Jt.value){case"{":ae={};break;case"[":ae=[];break}break;case"null":case"boolean":case"numeric":case"string":ae=Jt.value;break}if(rn===void 0)rn=ae;else{var Ee=It[It.length-1];Array.isArray(Ee)?Ee.push(ae):Object.defineProperty(Ee,tn,{value:ae,writable:!0,enumerable:!0,configurable:!0})}if(ae!==null&&typeof ae=="object")It.push(ae),Array.isArray(ae)?kt="beforeArrayValue":kt="beforePropertyName";else{var fe=It[It.length-1];fe==null?kt="end":Array.isArray(fe)?kt="afterArrayValue":kt="afterPropertyValue"}}function G(){It.pop();var ae=It[It.length-1];ae==null?kt="end":Array.isArray(ae)?kt="afterArrayValue":kt="afterPropertyValue"}function Z(ae){return Le(ae===void 0?"JSON5: invalid end of input at "+Xt+":"+on:"JSON5: invalid character '"+me(ae)+"' at "+Xt+":"+on)}function ne(){return Le("JSON5: invalid end of input at "+Xt+":"+on)}function le(){return on-=5,Le("JSON5: invalid identifier character at "+Xt+":"+on)}function De(ae){console.warn("JSON5: '"+me(ae)+"' in strings is not valid ECMAScript; consider escaping")}function me(ae){var Ee={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"};if(Ee[ae])return Ee[ae];if(ae<" "){var fe=ae.charCodeAt(0).toString(16);return"\\x"+("00"+fe).substring(fe.length)}return ae}function Le(ae){var Ee=new SyntaxError(ae);return Ee.lineNumber=Xt,Ee.columnNumber=on,Ee}var Ne=function(Ee,fe,ke){var we=[],Te="",Se,et,yt="",Vt;if(fe!=null&&typeof fe=="object"&&!Array.isArray(fe)&&(ke=fe.space,Vt=fe.quote,fe=fe.replacer),typeof fe=="function")et=fe;else if(Array.isArray(fe)){Se=[];for(var Ut=0,An=fe;Ut<An.length;Ut+=1){var dn=An[Ut],mn=void 0;typeof dn=="string"?mn=dn:(typeof dn=="number"||dn instanceof String||dn instanceof Number)&&(mn=String(dn)),mn!==void 0&&Se.indexOf(mn)<0&&Se.push(mn)}}return ke instanceof Number?ke=Number(ke):ke instanceof String&&(ke=String(ke)),typeof ke=="number"?ke>0&&(ke=Math.min(10,Math.floor(ke)),yt="          ".substr(0,ke)):typeof ke=="string"&&(yt=ke.substr(0,10)),Vn("",{"":Ee});function Vn(Ht,xn){var jt=xn[Ht];switch(jt!=null&&(typeof jt.toJSON5=="function"?jt=jt.toJSON5(Ht):typeof jt.toJSON=="function"&&(jt=jt.toJSON(Ht))),et&&(jt=et.call(xn,Ht,jt)),jt instanceof Number?jt=Number(jt):jt instanceof String?jt=String(jt):jt instanceof Boolean&&(jt=jt.valueOf()),jt){case null:return"null";case!0:return"true";case!1:return"false"}if(typeof jt=="string")return jn(jt,!1);if(typeof jt=="number")return String(jt);if(typeof jt=="object")return Array.isArray(jt)?Qn(jt):un(jt)}function jn(Ht){for(var xn={"'":.1,'"':.2},jt={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"},fn="",Et=0;Et<Ht.length;Et++){var sn=Ht[Et];switch(sn){case"'":case'"':xn[sn]++,fn+=sn;continue;case"\0":if(rt.isDigit(Ht[Et+1])){fn+="\\x00";continue}}if(jt[sn]){fn+=jt[sn];continue}if(sn<" "){var Sn=sn.charCodeAt(0).toString(16);fn+="\\x"+("00"+Sn).substring(Sn.length);continue}fn+=sn}var Fn=Vt||Object.keys(xn).reduce(function(bn,Pn){return xn[bn]<xn[Pn]?bn:Pn});return fn=fn.replace(new RegExp(Fn,"g"),jt[Fn]),Fn+fn+Fn}function un(Ht){if(we.indexOf(Ht)>=0)throw TypeError("Converting circular structure to JSON5");we.push(Ht);var xn=Te;Te=Te+yt;for(var jt=Se||Object.keys(Ht),fn=[],Et=0,sn=jt;Et<sn.length;Et+=1){var Sn=sn[Et],Fn=Vn(Sn,Ht);if(Fn!==void 0){var bn=In(Sn)+":";yt!==""&&(bn+=" "),bn+=Fn,fn.push(bn)}}var Pn;if(fn.length===0)Pn="{}";else{var ni;if(yt==="")ni=fn.join(","),Pn="{"+ni+"}";else{var ki=`,
`+Te;ni=fn.join(ki),Pn=`{
`+Te+ni+`,
`+xn+"}"}}return we.pop(),Te=xn,Pn}function In(Ht){if(Ht.length===0)return jn(Ht,!0);var xn=String.fromCodePoint(Ht.codePointAt(0));if(!rt.isIdStartChar(xn))return jn(Ht,!0);for(var jt=xn.length;jt<Ht.length;jt++)if(!rt.isIdContinueChar(String.fromCodePoint(Ht.codePointAt(jt))))return jn(Ht,!0);return Ht}function Qn(Ht){if(we.indexOf(Ht)>=0)throw TypeError("Converting circular structure to JSON5");we.push(Ht);var xn=Te;Te=Te+yt;for(var jt=[],fn=0;fn<Ht.length;fn++){var Et=Vn(String(fn),Ht);jt.push(Et!==void 0?Et:"null")}var sn;if(jt.length===0)sn="[]";else if(yt===""){var Sn=jt.join(",");sn="["+Sn+"]"}else{var Fn=`,
`+Te,bn=jt.join(Fn);sn=`[
`+Te+bn+`,
`+xn+"]"}return we.pop(),Te=xn,sn}},Ye={parse:Cn,stringify:Ne},ft=Ye,at=ft;return at})},68188:(X,j,L)=>{var M="Expected a function",h="__lodash_hash_undefined__",F=1/0,b="[object Function]",d="[object GeneratorFunction]",D="[object Symbol]",r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,e=/^\w*$/,s=/^\./,t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/[\\^$.*+?()[\]{}|]/g,n=/\\(\\)?/g,o=/^\[object .+?Constructor\]$/,c=typeof L.g=="object"&&L.g&&L.g.Object===Object&&L.g,p=typeof self=="object"&&self&&self.Object===Object&&self,w=c||p||Function("return this")();function E($,H){return $==null?void 0:$[H]}function k($){var H=!1;if($!=null&&typeof $.toString!="function")try{H=!!($+"")}catch(G){}return H}var f=Array.prototype,C=Function.prototype,g=Object.prototype,m=w["__core-js_shared__"],S=function(){var $=/[^.]+$/.exec(m&&m.keys&&m.keys.IE_PROTO||"");return $?"Symbol(src)_1."+$:""}(),A=C.toString,R=g.hasOwnProperty,P=g.toString,W=RegExp("^"+A.call(R).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_=w.Symbol,T=f.splice,N=Cn(w,"Map"),V=Cn(Object,"create"),K=_?_.prototype:void 0,I=K?K.toString:void 0;function q($){var H=-1,G=$?$.length:0;for(this.clear();++H<G;){var Z=$[H];this.set(Z[0],Z[1])}}function U(){this.__data__=V?V(null):{}}function J($){return this.has($)&&delete this.__data__[$]}function Q($){var H=this.__data__;if(V){var G=H[$];return G===h?void 0:G}return R.call(H,$)?H[$]:void 0}function ee($){var H=this.__data__;return V?H[$]!==void 0:R.call(H,$)}function se($,H){var G=this.__data__;return G[$]=V&&H===void 0?h:H,this}q.prototype.clear=U,q.prototype.delete=J,q.prototype.get=Q,q.prototype.has=ee,q.prototype.set=se;function ue($){var H=-1,G=$?$.length:0;for(this.clear();++H<G;){var Z=$[H];this.set(Z[0],Z[1])}}function xe(){this.__data__=[]}function _e($){var H=this.__data__,G=zt(H,$);if(G<0)return!1;var Z=H.length-1;return G==Z?H.pop():T.call(H,G,1),!0}function Je($){var H=this.__data__,G=zt(H,$);return G<0?void 0:H[G][1]}function Be($){return zt(this.__data__,$)>-1}function He($,H){var G=this.__data__,Z=zt(G,$);return Z<0?G.push([$,H]):G[Z][1]=H,this}ue.prototype.clear=xe,ue.prototype.delete=_e,ue.prototype.get=Je,ue.prototype.has=Be,ue.prototype.set=He;function Xe($){var H=-1,G=$?$.length:0;for(this.clear();++H<G;){var Z=$[H];this.set(Z[0],Z[1])}}function Ue(){this.__data__={hash:new q,map:new(N||ue),string:new q}}function rt($){return rn(this,$).delete($)}function St($){return rn(this,$).get($)}function kt($){return rn(this,$).has($)}function It($,H){return rn(this,$).set($,H),this}Xe.prototype.clear=Ue,Xe.prototype.delete=rt,Xe.prototype.get=St,Xe.prototype.has=kt,Xe.prototype.set=It;function zt($,H){for(var G=$.length;G--;)if(Gt($[G][0],H))return G;return-1}function Xt($,H){H=Tn(H,$)?[H]:tn(H);for(var G=0,Z=H.length;$!=null&&G<Z;)$=$[mt(H[G++])];return G&&G==Z?$:void 0}function on($){if(!dt($)||Ae($))return!1;var H=nn($)||k($)?W:o;return H.test(lt($))}function Jt($){if(typeof $=="string")return $;if(an($))return I?I.call($):"";var H=$+"";return H=="0"&&1/$==-F?"-0":H}function tn($){return Oe($)?$:pt($)}function rn($,H){var G=$.__data__;return Rt(H)?G[typeof H=="string"?"string":"hash"]:G.map}function Cn($,H){var G=E($,H);return on(G)?G:void 0}function Tn($,H){if(Oe($))return!1;var G=typeof $;return G=="number"||G=="symbol"||G=="boolean"||$==null||an($)?!0:e.test($)||!r.test($)||H!=null&&$ in Object(H)}function Rt($){var H=typeof $;return H=="string"||H=="number"||H=="symbol"||H=="boolean"?$!=="__proto__":$===null}function Ae($){return!!S&&S in $}var pt=Bt(function($){$=cn($);var H=[];return s.test($)&&H.push(""),$.replace(t,function(G,Z,ne,le){H.push(ne?le.replace(n,"$1"):Z||G)}),H});function mt($){if(typeof $=="string"||an($))return $;var H=$+"";return H=="0"&&1/$==-F?"-0":H}function lt($){if($!=null){try{return A.call($)}catch(H){}try{return $+""}catch(H){}}return""}function Bt($,H){if(typeof $!="function"||H&&typeof H!="function")throw new TypeError(M);var G=function(){var Z=arguments,ne=H?H.apply(this,Z):Z[0],le=G.cache;if(le.has(ne))return le.get(ne);var De=$.apply(this,Z);return G.cache=le.set(ne,De),De};return G.cache=new(Bt.Cache||Xe),G}Bt.Cache=Xe;function Gt($,H){return $===H||$!==$&&H!==H}var Oe=Array.isArray;function nn($){var H=dt($)?P.call($):"";return H==b||H==d}function dt($){var H=typeof $;return!!$&&(H=="object"||H=="function")}function Wt($){return!!$&&typeof $=="object"}function an($){return typeof $=="symbol"||Wt($)&&P.call($)==D}function cn($){return $==null?"":Jt($)}function pe($,H,G){var Z=$==null?void 0:Xt($,H);return Z===void 0?G:Z}X.exports=pe},46216:(X,j,L)=>{X=L.nmd(X);var M=200,h="__lodash_hash_undefined__",F=1,b=2,d=9007199254740991,D="[object Arguments]",r="[object Array]",e="[object AsyncFunction]",s="[object Boolean]",t="[object Date]",i="[object Error]",n="[object Function]",o="[object GeneratorFunction]",c="[object Map]",p="[object Number]",w="[object Null]",E="[object Object]",k="[object Promise]",f="[object Proxy]",C="[object RegExp]",g="[object Set]",m="[object String]",S="[object Symbol]",A="[object Undefined]",R="[object WeakMap]",P="[object ArrayBuffer]",W="[object DataView]",_="[object Float32Array]",T="[object Float64Array]",N="[object Int8Array]",V="[object Int16Array]",K="[object Int32Array]",I="[object Uint8Array]",q="[object Uint8ClampedArray]",U="[object Uint16Array]",J="[object Uint32Array]",Q=/[\\^$.*+?()[\]{}|]/g,ee=/^\[object .+?Constructor\]$/,se=/^(?:0|[1-9]\d*)$/,ue={};ue[_]=ue[T]=ue[N]=ue[V]=ue[K]=ue[I]=ue[q]=ue[U]=ue[J]=!0,ue[D]=ue[r]=ue[P]=ue[s]=ue[W]=ue[t]=ue[i]=ue[n]=ue[c]=ue[p]=ue[E]=ue[C]=ue[g]=ue[m]=ue[R]=!1;var xe=typeof L.g=="object"&&L.g&&L.g.Object===Object&&L.g,_e=typeof self=="object"&&self&&self.Object===Object&&self,Je=xe||_e||Function("return this")(),Be=j&&!j.nodeType&&j,He=Be&&!0&&X&&!X.nodeType&&X,Xe=He&&He.exports===Be,Ue=Xe&&xe.process,rt=function(){try{return Ue&&Ue.binding&&Ue.binding("util")}catch(ie){}}(),St=rt&&rt.isTypedArray;function kt(ie,ge){for(var Re=-1,it=ie==null?0:ie.length,hn=0,Kt=[];++Re<it;){var En=ie[Re];ge(En,Re,ie)&&(Kt[hn++]=En)}return Kt}function It(ie,ge){for(var Re=-1,it=ge.length,hn=ie.length;++Re<it;)ie[hn+Re]=ge[Re];return ie}function zt(ie,ge){for(var Re=-1,it=ie==null?0:ie.length;++Re<it;)if(ge(ie[Re],Re,ie))return!0;return!1}function Xt(ie,ge){for(var Re=-1,it=Array(ie);++Re<ie;)it[Re]=ge(Re);return it}function on(ie){return function(ge){return ie(ge)}}function Jt(ie,ge){return ie.has(ge)}function tn(ie,ge){return ie==null?void 0:ie[ge]}function rn(ie){var ge=-1,Re=Array(ie.size);return ie.forEach(function(it,hn){Re[++ge]=[hn,it]}),Re}function Cn(ie,ge){return function(Re){return ie(ge(Re))}}function Tn(ie){var ge=-1,Re=Array(ie.size);return ie.forEach(function(it){Re[++ge]=it}),Re}var Rt=Array.prototype,Ae=Function.prototype,pt=Object.prototype,mt=Je["__core-js_shared__"],lt=Ae.toString,Bt=pt.hasOwnProperty,Gt=function(){var ie=/[^.]+$/.exec(mt&&mt.keys&&mt.keys.IE_PROTO||"");return ie?"Symbol(src)_1."+ie:""}(),Oe=pt.toString,nn=RegExp("^"+lt.call(Bt).replace(Q,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),dt=Xe?Je.Buffer:void 0,Wt=Je.Symbol,an=Je.Uint8Array,cn=pt.propertyIsEnumerable,pe=Rt.splice,$=Wt?Wt.toStringTag:void 0,H=Object.getOwnPropertySymbols,G=dt?dt.isBuffer:void 0,Z=Cn(Object.keys,Object),ne=ui(Je,"DataView"),le=ui(Je,"Map"),De=ui(Je,"Promise"),me=ui(Je,"Set"),Le=ui(Je,"WeakMap"),Ne=ui(Object,"create"),Ye=Ce(ne),ft=Ce(le),at=Ce(De),ae=Ce(me),Ee=Ce(Le),fe=Wt?Wt.prototype:void 0,ke=fe?fe.valueOf:void 0;function we(ie){var ge=-1,Re=ie==null?0:ie.length;for(this.clear();++ge<Re;){var it=ie[ge];this.set(it[0],it[1])}}function Te(){this.__data__=Ne?Ne(null):{},this.size=0}function Se(ie){var ge=this.has(ie)&&delete this.__data__[ie];return this.size-=ge?1:0,ge}function et(ie){var ge=this.__data__;if(Ne){var Re=ge[ie];return Re===h?void 0:Re}return Bt.call(ge,ie)?ge[ie]:void 0}function yt(ie){var ge=this.__data__;return Ne?ge[ie]!==void 0:Bt.call(ge,ie)}function Vt(ie,ge){var Re=this.__data__;return this.size+=this.has(ie)?0:1,Re[ie]=Ne&&ge===void 0?h:ge,this}we.prototype.clear=Te,we.prototype.delete=Se,we.prototype.get=et,we.prototype.has=yt,we.prototype.set=Vt;function Ut(ie){var ge=-1,Re=ie==null?0:ie.length;for(this.clear();++ge<Re;){var it=ie[ge];this.set(it[0],it[1])}}function An(){this.__data__=[],this.size=0}function dn(ie){var ge=this.__data__,Re=wi(ge,ie);if(Re<0)return!1;var it=ge.length-1;return Re==it?ge.pop():pe.call(ge,Re,1),--this.size,!0}function mn(ie){var ge=this.__data__,Re=wi(ge,ie);return Re<0?void 0:ge[Re][1]}function Vn(ie){return wi(this.__data__,ie)>-1}function jn(ie,ge){var Re=this.__data__,it=wi(Re,ie);return it<0?(++this.size,Re.push([ie,ge])):Re[it][1]=ge,this}Ut.prototype.clear=An,Ut.prototype.delete=dn,Ut.prototype.get=mn,Ut.prototype.has=Vn,Ut.prototype.set=jn;function un(ie){var ge=-1,Re=ie==null?0:ie.length;for(this.clear();++ge<Re;){var it=ie[ge];this.set(it[0],it[1])}}function In(){this.size=0,this.__data__={hash:new we,map:new(le||Ut),string:new we}}function Qn(ie){var ge=Ci(this,ie).delete(ie);return this.size-=ge?1:0,ge}function Ht(ie){return Ci(this,ie).get(ie)}function xn(ie){return Ci(this,ie).has(ie)}function jt(ie,ge){var Re=Ci(this,ie),it=Re.size;return Re.set(ie,ge),this.size+=Re.size==it?0:1,this}un.prototype.clear=In,un.prototype.delete=Qn,un.prototype.get=Ht,un.prototype.has=xn,un.prototype.set=jt;function fn(ie){var ge=-1,Re=ie==null?0:ie.length;for(this.__data__=new un;++ge<Re;)this.add(ie[ge])}function Et(ie){return this.__data__.set(ie,h),this}function sn(ie){return this.__data__.has(ie)}fn.prototype.add=fn.prototype.push=Et,fn.prototype.has=sn;function Sn(ie){var ge=this.__data__=new Ut(ie);this.size=ge.size}function Fn(){this.__data__=new Ut,this.size=0}function bn(ie){var ge=this.__data__,Re=ge.delete(ie);return this.size=ge.size,Re}function Pn(ie){return this.__data__.get(ie)}function ni(ie){return this.__data__.has(ie)}function ki(ie,ge){var Re=this.__data__;if(Re instanceof Ut){var it=Re.__data__;if(!le||it.length<M-1)return it.push([ie,ge]),this.size=++Re.size,this;Re=this.__data__=new un(it)}return Re.set(ie,ge),this.size=Re.size,this}Sn.prototype.clear=Fn,Sn.prototype.delete=bn,Sn.prototype.get=Pn,Sn.prototype.has=ni,Sn.prototype.set=ki;function ss(ie,ge){var Re=Si(ie),it=!Re&&zi(ie),hn=!Re&&!it&&Ti(ie),Kt=!Re&&!it&&!hn&&On(ie),En=Re||it||hn||Kt,$n=En?Xt(ie.length,String):[],Ln=$n.length;for(var wn in ie)(ge||Bt.call(ie,wn))&&!(En&&(wn=="length"||hn&&(wn=="offset"||wn=="parent")||Kt&&(wn=="buffer"||wn=="byteLength"||wn=="byteOffset")||Fs(wn,Ln)))&&$n.push(wn);return $n}function wi(ie,ge){for(var Re=ie.length;Re--;)if(us(ie[Re][0],ge))return Re;return-1}function ks(ie,ge,Re){var it=ge(ie);return Si(ie)?it:It(it,Re(ie))}function ci(ie){return ie==null?ie===void 0?A:w:$&&$ in Object(ie)?Ms(ie):cs(ie)}function Wi(ie){return qn(ie)&&ci(ie)==D}function ji(ie,ge,Re,it,hn){return ie===ge?!0:ie==null||ge==null||!qn(ie)&&!qn(ge)?ie!==ie&&ge!==ge:rs(ie,ge,Re,it,ji,hn)}function rs(ie,ge,Re,it,hn,Kt){var En=Si(ie),$n=Si(ge),Ln=En?r:Yn(ie),wn=$n?r:Yn(ge);Ln=Ln==D?E:Ln,wn=wn==D?E:wn;var Bn=Ln==E,Jn=wn==E,Rn=Ln==wn;if(Rn&&Ti(ie)){if(!Ti(ge))return!1;En=!0,Bn=!1}if(Rn&&!Bn)return Kt||(Kt=new Sn),En||On(ie)?os(ie,ge,Re,it,hn,Kt):cr(ie,ge,Ln,Re,it,hn,Kt);if(!(Re&F)){var Hn=Bn&&Bt.call(ie,"__wrapped__"),Un=Jn&&Bt.call(ge,"__wrapped__");if(Hn||Un){var ri=Hn?ie.value():ie,ei=Un?ge.value():ge;return Kt||(Kt=new Sn),hn(ri,ei,Re,it,Kt)}}return Rn?(Kt||(Kt=new Sn),as(ie,ge,Re,it,hn,Kt)):!1}function Ts(ie){if(!Zt(ie)||Ls(ie))return!1;var ge=Rs(ie)?nn:ee;return ge.test(Ce(ie))}function _s(ie){return qn(ie)&&ii(ie.length)&&!!ue[ci(ie)]}function $s(ie){if(!Nn(ie))return Z(ie);var ge=[];for(var Re in Object(ie))Bt.call(ie,Re)&&Re!="constructor"&&ge.push(Re);return ge}function os(ie,ge,Re,it,hn,Kt){var En=Re&F,$n=ie.length,Ln=ge.length;if($n!=Ln&&!(En&&Ln>$n))return!1;var wn=Kt.get(ie);if(wn&&Kt.get(ge))return wn==ge;var Bn=-1,Jn=!0,Rn=Re&b?new fn:void 0;for(Kt.set(ie,ge),Kt.set(ge,ie);++Bn<$n;){var Hn=ie[Bn],Un=ge[Bn];if(it)var ri=En?it(Un,Hn,Bn,ge,ie,Kt):it(Hn,Un,Bn,ie,ge,Kt);if(ri!==void 0){if(ri)continue;Jn=!1;break}if(Rn){if(!zt(ge,function(ei,hi){if(!Jt(Rn,hi)&&(Hn===ei||hn(Hn,ei,Re,it,Kt)))return Rn.push(hi)})){Jn=!1;break}}else if(!(Hn===Un||hn(Hn,Un,Re,it,Kt))){Jn=!1;break}}return Kt.delete(ie),Kt.delete(ge),Jn}function cr(ie,ge,Re,it,hn,Kt,En){switch(Re){case W:if(ie.byteLength!=ge.byteLength||ie.byteOffset!=ge.byteOffset)return!1;ie=ie.buffer,ge=ge.buffer;case P:return!(ie.byteLength!=ge.byteLength||!Kt(new an(ie),new an(ge)));case s:case t:case p:return us(+ie,+ge);case i:return ie.name==ge.name&&ie.message==ge.message;case C:case m:return ie==ge+"";case c:var $n=rn;case g:var Ln=it&F;if($n||($n=Tn),ie.size!=ge.size&&!Ln)return!1;var wn=En.get(ie);if(wn)return wn==ge;it|=b,En.set(ie,ge);var Bn=os($n(ie),$n(ge),it,hn,Kt,En);return En.delete(ie),Bn;case S:if(ke)return ke.call(ie)==ke.call(ge)}return!1}function as(ie,ge,Re,it,hn,Kt){var En=Re&F,$n=ls(ie),Ln=$n.length,wn=ls(ge),Bn=wn.length;if(Ln!=Bn&&!En)return!1;for(var Jn=Ln;Jn--;){var Rn=$n[Jn];if(!(En?Rn in ge:Bt.call(ge,Rn)))return!1}var Hn=Kt.get(ie);if(Hn&&Kt.get(ge))return Hn==ge;var Un=!0;Kt.set(ie,ge),Kt.set(ge,ie);for(var ri=En;++Jn<Ln;){Rn=$n[Jn];var ei=ie[Rn],hi=ge[Rn];if(it)var Vi=En?it(hi,ei,Rn,ge,ie,Kt):it(ei,hi,Rn,ie,ge,Kt);if(!(Vi===void 0?ei===hi||hn(ei,hi,Re,it,Kt):Vi)){Un=!1;break}ri||(ri=Rn=="constructor")}if(Un&&!ri){var pi=ie.constructor,Mn=ge.constructor;pi!=Mn&&"constructor"in ie&&"constructor"in ge&&!(typeof pi=="function"&&pi instanceof pi&&typeof Mn=="function"&&Mn instanceof Mn)&&(Un=!1)}return Kt.delete(ie),Kt.delete(ge),Un}function ls(ie){return ks(ie,di,Is)}function Ci(ie,ge){var Re=ie.__data__;return Os(ge)?Re[typeof ge=="string"?"string":"hash"]:Re.map}function ui(ie,ge){var Re=tn(ie,ge);return Ts(Re)?Re:void 0}function Ms(ie){var ge=Bt.call(ie,$),Re=ie[$];try{ie[$]=void 0;var it=!0}catch(Kt){}var hn=Oe.call(ie);return it&&(ge?ie[$]=Re:delete ie[$]),hn}var Is=H?function(ie){return ie==null?[]:(ie=Object(ie),kt(H(ie),function(ge){return cn.call(ie,ge)}))}:ln,Yn=ci;(ne&&Yn(new ne(new ArrayBuffer(1)))!=W||le&&Yn(new le)!=c||De&&Yn(De.resolve())!=k||me&&Yn(new me)!=g||Le&&Yn(new Le)!=R)&&(Yn=function(ie){var ge=ci(ie),Re=ge==E?ie.constructor:void 0,it=Re?Ce(Re):"";if(it)switch(it){case Ye:return W;case ft:return c;case at:return k;case ae:return g;case Ee:return R}return ge});function Fs(ie,ge){return ge=ge==null?d:ge,!!ge&&(typeof ie=="number"||se.test(ie))&&ie>-1&&ie%1==0&&ie<ge}function Os(ie){var ge=typeof ie;return ge=="string"||ge=="number"||ge=="symbol"||ge=="boolean"?ie!=="__proto__":ie===null}function Ls(ie){return!!Gt&&Gt in ie}function Nn(ie){var ge=ie&&ie.constructor,Re=typeof ge=="function"&&ge.prototype||pt;return ie===Re}function cs(ie){return Oe.call(ie)}function Ce(ie){if(ie!=null){try{return lt.call(ie)}catch(ge){}try{return ie+""}catch(ge){}}return""}function us(ie,ge){return ie===ge||ie!==ie&&ge!==ge}var zi=Wi(function(){return arguments}())?Wi:function(ie){return qn(ie)&&Bt.call(ie,"callee")&&!cn.call(ie,"callee")},Si=Array.isArray;function Ns(ie){return ie!=null&&ii(ie.length)&&!Rs(ie)}var Ti=G||si;function Ps(ie,ge){return ji(ie,ge)}function Rs(ie){if(!Zt(ie))return!1;var ge=ci(ie);return ge==n||ge==o||ge==e||ge==f}function ii(ie){return typeof ie=="number"&&ie>-1&&ie%1==0&&ie<=d}function Zt(ie){var ge=typeof ie;return ie!=null&&(ge=="object"||ge=="function")}function qn(ie){return ie!=null&&typeof ie=="object"}var On=St?on(St):_s;function di(ie){return Ns(ie)?ss(ie):$s(ie)}function ln(){return[]}function si(){return!1}X.exports=Ps},75055:function(X,j,L){"use strict";var M=this&&this.__extends||function(){var t=function(i,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var p in c)Object.prototype.hasOwnProperty.call(c,p)&&(o[p]=c[p])},t(i,n)};return function(i,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(i,n);function o(){this.constructor=i}i.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)}}(),h=this&&this.__assign||function(){return h=Object.assign||function(t){for(var i,n=1,o=arguments.length;n<o;n++){i=arguments[n];for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(t[c]=i[c])}return t},h.apply(this,arguments)};Object.defineProperty(j,"__esModule",{value:!0});var F=L(16990),b=L(95973),d=L(28437),D=L(46216),r=L(98113),e=(0,r.getAceInstance)(),s=function(t){M(i,t);function i(n){var o=t.call(this,n)||this;return r.editorEvents.forEach(function(c){o[c]=o[c].bind(o)}),o.debounce=r.debounce,o}return i.prototype.isInShadow=function(n){for(var o=n&&n.parentNode;o;){if(o.toString()==="[object ShadowRoot]")return!0;o=o.parentNode}return!1},i.prototype.componentDidMount=function(){var n=this,o=this.props,c=o.className,p=o.onBeforeLoad,w=o.onValidate,E=o.mode,k=o.focus,f=o.theme,C=o.fontSize,g=o.lineHeight,m=o.value,S=o.defaultValue,A=o.showGutter,R=o.wrapEnabled,P=o.showPrintMargin,W=o.scrollMargin,_=W===void 0?[0,0,0,0]:W,T=o.keyboardHandler,N=o.onLoad,V=o.commands,K=o.annotations,I=o.markers,q=o.placeholder;this.editor=e.edit(this.refEditor),p&&p(e);for(var U=Object.keys(this.props.editorProps),J=0;J<U.length;J++)this.editor[U[J]]=this.props.editorProps[U[J]];this.props.debounceChangePeriod&&(this.onChange=this.debounce(this.onChange,this.props.debounceChangePeriod)),this.editor.renderer.setScrollMargin(_[0],_[1],_[2],_[3]),this.isInShadow(this.refEditor)&&this.editor.renderer.attachToShadowRoot(),this.editor.getSession().setMode(typeof E=="string"?"ace/mode/".concat(E):E),f&&f!==""&&this.editor.setTheme("ace/theme/".concat(f)),this.editor.setFontSize(typeof C=="number"?"".concat(C,"px"):C),g&&(this.editor.container.style.lineHeight=typeof g=="number"?"".concat(g,"px"):"".concat(g),this.editor.renderer.updateFontSize()),this.editor.getSession().setValue(S||m||""),this.props.navigateToFileEnd&&this.editor.navigateFileEnd(),this.editor.renderer.setShowGutter(A),this.editor.getSession().setUseWrapMode(R),this.editor.setShowPrintMargin(P),this.editor.on("focus",this.onFocus),this.editor.on("blur",this.onBlur),this.editor.on("copy",this.onCopy),this.editor.on("paste",this.onPaste),this.editor.on("change",this.onChange),this.editor.on("input",this.onInput),q&&this.updatePlaceholder(),this.editor.getSession().selection.on("changeSelection",this.onSelectionChange),this.editor.getSession().selection.on("changeCursor",this.onCursorChange),w&&this.editor.getSession().on("changeAnnotation",function(){var ee=n.editor.getSession().getAnnotations();n.props.onValidate(ee)}),this.editor.session.on("changeScrollTop",this.onScroll),this.editor.getSession().setAnnotations(K||[]),I&&I.length>0&&this.handleMarkers(I);var Q=this.editor.$options;r.editorOptions.forEach(function(ee){Q.hasOwnProperty(ee)?n.editor.setOption(ee,n.props[ee]):n.props[ee]&&console.warn("ReactAce: editor option ".concat(ee," was activated but not found. Did you need to import a related tool or did you possibly mispell the option?"))}),this.handleOptions(this.props),Array.isArray(V)&&V.forEach(function(ee){typeof ee.exec=="string"?n.editor.commands.bindKey(ee.bindKey,ee.exec):n.editor.commands.addCommand(ee)}),T&&this.editor.setKeyboardHandler("ace/keyboard/"+T),c&&(this.refEditor.className+=" "+c),N&&N(this.editor),this.editor.resize(),k&&this.editor.focus()},i.prototype.componentDidUpdate=function(n){for(var o=n,c=this.props,p=0;p<r.editorOptions.length;p++){var w=r.editorOptions[p];c[w]!==o[w]&&this.editor.setOption(w,c[w])}if(c.className!==o.className){var E=this.refEditor.className,k=E.trim().split(" "),f=o.className.trim().split(" ");f.forEach(function(m){var S=k.indexOf(m);k.splice(S,1)}),this.refEditor.className=" "+c.className+" "+k.join(" ")}var C=this.editor&&c.value!=null&&this.editor.getValue()!==c.value;if(C){this.silent=!0;var g=this.editor.session.selection.toJSON();this.editor.setValue(c.value,c.cursorStart),this.editor.session.selection.fromJSON(g),this.silent=!1}c.placeholder!==o.placeholder&&this.updatePlaceholder(),c.mode!==o.mode&&this.editor.getSession().setMode(typeof c.mode=="string"?"ace/mode/".concat(c.mode):c.mode),c.theme!==o.theme&&this.editor.setTheme("ace/theme/"+c.theme),c.keyboardHandler!==o.keyboardHandler&&(c.keyboardHandler?this.editor.setKeyboardHandler("ace/keyboard/"+c.keyboardHandler):this.editor.setKeyboardHandler(null)),c.fontSize!==o.fontSize&&this.editor.setFontSize(typeof c.fontSize=="number"?"".concat(c.fontSize,"px"):c.fontSize),c.lineHeight!==o.lineHeight&&(this.editor.container.style.lineHeight=typeof c.lineHeight=="number"?"".concat(c.lineHeight,"px"):c.lineHeight,this.editor.renderer.updateFontSize()),c.wrapEnabled!==o.wrapEnabled&&this.editor.getSession().setUseWrapMode(c.wrapEnabled),c.showPrintMargin!==o.showPrintMargin&&this.editor.setShowPrintMargin(c.showPrintMargin),c.showGutter!==o.showGutter&&this.editor.renderer.setShowGutter(c.showGutter),D(c.setOptions,o.setOptions)||this.handleOptions(c),(C||!D(c.annotations,o.annotations))&&this.editor.getSession().setAnnotations(c.annotations||[]),!D(c.markers,o.markers)&&Array.isArray(c.markers)&&this.handleMarkers(c.markers),D(c.scrollMargin,o.scrollMargin)||this.handleScrollMargins(c.scrollMargin),(n.height!==this.props.height||n.width!==this.props.width)&&this.editor.resize(),this.props.focus&&!n.focus&&this.editor.focus()},i.prototype.handleScrollMargins=function(n){n===void 0&&(n=[0,0,0,0]),this.editor.renderer.setScrollMargin(n[0],n[1],n[2],n[3])},i.prototype.componentWillUnmount=function(){this.editor&&(this.editor.destroy(),this.editor=null)},i.prototype.onChange=function(n){if(this.props.onChange&&!this.silent){var o=this.editor.getValue();this.props.onChange(o,n)}},i.prototype.onSelectionChange=function(n){if(this.props.onSelectionChange){var o=this.editor.getSelection();this.props.onSelectionChange(o,n)}},i.prototype.onCursorChange=function(n){if(this.props.onCursorChange){var o=this.editor.getSelection();this.props.onCursorChange(o,n)}},i.prototype.onInput=function(n){this.props.onInput&&this.props.onInput(n),this.props.placeholder&&this.updatePlaceholder()},i.prototype.onFocus=function(n){this.props.onFocus&&this.props.onFocus(n,this.editor)},i.prototype.onBlur=function(n){this.props.onBlur&&this.props.onBlur(n,this.editor)},i.prototype.onCopy=function(n){var o=n.text;this.props.onCopy&&this.props.onCopy(o)},i.prototype.onPaste=function(n){var o=n.text;this.props.onPaste&&this.props.onPaste(o)},i.prototype.onScroll=function(){this.props.onScroll&&this.props.onScroll(this.editor)},i.prototype.handleOptions=function(n){for(var o=Object.keys(n.setOptions),c=0;c<o.length;c++)this.editor.setOption(o[c],n.setOptions[o[c]])},i.prototype.handleMarkers=function(n){var o=this,c=this.editor.getSession().getMarkers(!0);for(var p in c)c.hasOwnProperty(p)&&this.editor.getSession().removeMarker(c[p].id);c=this.editor.getSession().getMarkers(!1);for(var p in c)c.hasOwnProperty(p)&&c[p].clazz!=="ace_active-line"&&c[p].clazz!=="ace_selected-word"&&this.editor.getSession().removeMarker(c[p].id);n.forEach(function(w){var E=w.startRow,k=w.startCol,f=w.endRow,C=w.endCol,g=w.className,m=w.type,S=w.inFront,A=S===void 0?!1:S,R=new F.Range(E,k,f,C);o.editor.getSession().addMarker(R,g,m,A)})},i.prototype.updatePlaceholder=function(){var n=this.editor,o=this.props.placeholder,c=!n.session.getValue().length,p=n.renderer.placeholderNode;!c&&p?(n.renderer.scroller.removeChild(n.renderer.placeholderNode),n.renderer.placeholderNode=null):c&&!p?(p=n.renderer.placeholderNode=document.createElement("div"),p.textContent=o||"",p.className="ace_comment ace_placeholder",p.style.padding="0 9px",p.style.position="absolute",p.style.zIndex="3",n.renderer.scroller.appendChild(p)):c&&p&&(p.textContent=o)},i.prototype.updateRef=function(n){this.refEditor=n},i.prototype.render=function(){var n=this.props,o=n.name,c=n.width,p=n.height,w=n.style,E=h({width:c,height:p},w);return d.createElement("div",{ref:this.updateRef,id:o,style:E})},i.propTypes={mode:b.oneOfType([b.string,b.object]),focus:b.bool,theme:b.string,name:b.string,className:b.string,height:b.string,width:b.string,fontSize:b.oneOfType([b.number,b.string]),lineHeight:b.oneOfType([b.number,b.string]),showGutter:b.bool,onChange:b.func,onCopy:b.func,onPaste:b.func,onFocus:b.func,onInput:b.func,onBlur:b.func,onScroll:b.func,value:b.string,defaultValue:b.string,onLoad:b.func,onSelectionChange:b.func,onCursorChange:b.func,onBeforeLoad:b.func,onValidate:b.func,minLines:b.number,maxLines:b.number,readOnly:b.bool,highlightActiveLine:b.bool,tabSize:b.number,showPrintMargin:b.bool,cursorStart:b.number,debounceChangePeriod:b.number,editorProps:b.object,setOptions:b.object,style:b.object,scrollMargin:b.array,annotations:b.array,markers:b.array,keyboardHandler:b.string,wrapEnabled:b.bool,enableSnippets:b.bool,enableBasicAutocompletion:b.oneOfType([b.bool,b.array]),enableLiveAutocompletion:b.oneOfType([b.bool,b.array]),navigateToFileEnd:b.bool,commands:b.array,placeholder:b.string},i.defaultProps={name:"ace-editor",focus:!1,mode:"",theme:"",height:"500px",width:"500px",fontSize:12,enableSnippets:!1,showGutter:!0,onChange:null,onPaste:null,onLoad:null,onScroll:null,minLines:null,maxLines:null,readOnly:!1,highlightActiveLine:!0,showPrintMargin:!0,tabSize:4,cursorStart:1,editorProps:{},style:{},scrollMargin:[0,0,0,0],setOptions:{},wrapEnabled:!1,enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,placeholder:null,navigateToFileEnd:!0},i}(d.Component);j.default=s},85405:function(X,j,L){"use strict";var M=this&&this.__extends||function(){var r=function(e,s){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},r(e,s)};return function(e,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");r(e,s);function t(){this.constructor=e}e.prototype=s===null?Object.create(s):(t.prototype=s.prototype,new t)}}();Object.defineProperty(j,"__esModule",{value:!0});var h=L(95973),F=L(28437),b=L(55768),d=L(7855),D=function(r){M(e,r);function e(s){var t=r.call(this,s)||this;return t.state={value:t.props.value},t.onChange=t.onChange.bind(t),t.diff=t.diff.bind(t),t}return e.prototype.componentDidUpdate=function(){var s=this.props.value;s!==this.state.value&&this.setState({value:s})},e.prototype.onChange=function(s){this.setState({value:s}),this.props.onChange&&this.props.onChange(s)},e.prototype.diff=function(){var s=new d,t=this.state.value[0],i=this.state.value[1];if(t.length===0&&i.length===0)return[];var n=s.diff_main(t,i);s.diff_cleanupSemantic(n);var o=this.generateDiffedLines(n),c=this.setCodeMarkers(o);return c},e.prototype.generateDiffedLines=function(s){var t={DIFF_EQUAL:0,DIFF_DELETE:-1,DIFF_INSERT:1},i={left:[],right:[]},n={left:1,right:1};return s.forEach(function(o){var c=o[0],p=o[1],w=p.split(`
`).length-1;if(p.length!==0){var E=p[0],k=p[p.length-1],f=0;switch(c){case t.DIFF_EQUAL:n.left+=w,n.right+=w;break;case t.DIFF_DELETE:E===`
`&&(n.left++,w--),f=w,f===0&&i.right.push({startLine:n.right,endLine:n.right}),k===`
`&&(f-=1),i.left.push({startLine:n.left,endLine:n.left+f}),n.left+=w;break;case t.DIFF_INSERT:E===`
`&&(n.right++,w--),f=w,f===0&&i.left.push({startLine:n.left,endLine:n.left}),k===`
`&&(f-=1),i.right.push({startLine:n.right,endLine:n.right+f}),n.right+=w;break;default:throw new Error("Diff type was not defined.")}}}),i},e.prototype.setCodeMarkers=function(s){s===void 0&&(s={left:[],right:[]});for(var t=[],i={left:[],right:[]},n=0;n<s.left.length;n++){var o={startRow:s.left[n].startLine-1,endRow:s.left[n].endLine,type:"text",className:"codeMarker"};i.left.push(o)}for(var n=0;n<s.right.length;n++){var o={startRow:s.right[n].startLine-1,endRow:s.right[n].endLine,type:"text",className:"codeMarker"};i.right.push(o)}return t[0]=i.left,t[1]=i.right,t},e.prototype.render=function(){var s=this.diff();return F.createElement(b.default,{name:this.props.name,className:this.props.className,focus:this.props.focus,orientation:this.props.orientation,splits:this.props.splits,mode:this.props.mode,theme:this.props.theme,height:this.props.height,width:this.props.width,fontSize:this.props.fontSize,showGutter:this.props.showGutter,onChange:this.onChange,onPaste:this.props.onPaste,onLoad:this.props.onLoad,onScroll:this.props.onScroll,minLines:this.props.minLines,maxLines:this.props.maxLines,readOnly:this.props.readOnly,highlightActiveLine:this.props.highlightActiveLine,showPrintMargin:this.props.showPrintMargin,tabSize:this.props.tabSize,cursorStart:this.props.cursorStart,editorProps:this.props.editorProps,style:this.props.style,scrollMargin:this.props.scrollMargin,setOptions:this.props.setOptions,wrapEnabled:this.props.wrapEnabled,enableBasicAutocompletion:this.props.enableBasicAutocompletion,enableLiveAutocompletion:this.props.enableLiveAutocompletion,value:this.state.value,markers:s})},e.propTypes={cursorStart:h.number,editorProps:h.object,enableBasicAutocompletion:h.bool,enableLiveAutocompletion:h.bool,focus:h.bool,fontSize:h.number,height:h.string,highlightActiveLine:h.bool,maxLines:h.number,minLines:h.number,mode:h.string,name:h.string,className:h.string,onLoad:h.func,onPaste:h.func,onScroll:h.func,onChange:h.func,orientation:h.string,readOnly:h.bool,scrollMargin:h.array,setOptions:h.object,showGutter:h.bool,showPrintMargin:h.bool,splits:h.number,style:h.object,tabSize:h.number,theme:h.string,value:h.array,width:h.string,wrapEnabled:h.bool},e.defaultProps={cursorStart:1,editorProps:{},enableBasicAutocompletion:!1,enableLiveAutocompletion:!1,focus:!1,fontSize:12,height:"500px",highlightActiveLine:!0,maxLines:null,minLines:null,mode:"",name:"ace-editor",onLoad:null,onScroll:null,onPaste:null,onChange:null,orientation:"beside",readOnly:!1,scrollMargin:[0,0,0,0],setOptions:{},showGutter:!0,showPrintMargin:!0,splits:2,style:{},tabSize:4,theme:"github",value:["",""],width:"500px",wrapEnabled:!0},e}(F.Component);j.default=D},98113:(X,j,L)=>{"use strict";Object.defineProperty(j,"__esModule",{value:!0}),j.getAceInstance=j.debounce=j.editorEvents=j.editorOptions=void 0;var M=["minLines","maxLines","readOnly","highlightActiveLine","tabSize","enableBasicAutocompletion","enableLiveAutocompletion","enableSnippets"];j.editorOptions=M;var h=["onChange","onFocus","onInput","onBlur","onCopy","onPaste","onSelectionChange","onCursorChange","onScroll","handleOptions","updateRef"];j.editorEvents=h;var F=function(){var d;return typeof window=="undefined"?(L.g.window={},d=L(16990),delete L.g.window):window.ace?(d=window.ace,d.acequire=window.ace.require||window.ace.acequire):d=L(16990),d};j.getAceInstance=F;var b=function(d,D){var r=null;return function(){var e=this,s=arguments;clearTimeout(r),r=setTimeout(function(){d.apply(e,s)},D)}};j.debounce=b},76216:(X,j,L)=>{"use strict";var M;M={value:!0},M=M=void 0;var h=L(75055),F=L(85405);M=F.default;var b=L(55768);M=b.default,j.Ay=h.default},55768:function(X,j,L){"use strict";var M=this&&this.__extends||function(){var n=function(o,c){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,w){p.__proto__=w}||function(p,w){for(var E in w)Object.prototype.hasOwnProperty.call(w,E)&&(p[E]=w[E])},n(o,c)};return function(o,c){if(typeof c!="function"&&c!==null)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");n(o,c);function p(){this.constructor=o}o.prototype=c===null?Object.create(c):(p.prototype=c.prototype,new p)}}(),h=this&&this.__assign||function(){return h=Object.assign||function(n){for(var o,c=1,p=arguments.length;c<p;c++){o=arguments[c];for(var w in o)Object.prototype.hasOwnProperty.call(o,w)&&(n[w]=o[w])}return n},h.apply(this,arguments)};Object.defineProperty(j,"__esModule",{value:!0});var F=L(98113),b=(0,F.getAceInstance)(),d=L(16990),D=L(93391),r=L(95973),e=L(28437),s=L(46216),t=L(68188),i=function(n){M(o,n);function o(c){var p=n.call(this,c)||this;return F.editorEvents.forEach(function(w){p[w]=p[w].bind(p)}),p.debounce=F.debounce,p}return o.prototype.isInShadow=function(c){for(var p=c&&c.parentNode;p;){if(p.toString()==="[object ShadowRoot]")return!0;p=p.parentNode}return!1},o.prototype.componentDidMount=function(){var c=this,p=this.props,w=p.className,E=p.onBeforeLoad,k=p.mode,f=p.focus,C=p.theme,g=p.fontSize,m=p.value,S=p.defaultValue,A=p.cursorStart,R=p.showGutter,P=p.wrapEnabled,W=p.showPrintMargin,_=p.scrollMargin,T=_===void 0?[0,0,0,0]:_,N=p.keyboardHandler,V=p.onLoad,K=p.commands,I=p.annotations,q=p.markers,U=p.splits;this.editor=b.edit(this.refEditor),this.isInShadow(this.refEditor)&&this.editor.renderer.attachToShadowRoot(),this.editor.setTheme("ace/theme/".concat(C)),E&&E(b);var J=Object.keys(this.props.editorProps),Q=new D.Split(this.editor.container,"ace/theme/".concat(C),U);this.editor.env.split=Q,this.splitEditor=Q.getEditor(0),this.split=Q,this.editor.setShowPrintMargin(!1),this.editor.renderer.setShowGutter(!1);var ee=this.splitEditor.$options;this.props.debounceChangePeriod&&(this.onChange=this.debounce(this.onChange,this.props.debounceChangePeriod)),Q.forEach(function(ue,xe){for(var _e=0;_e<J.length;_e++)ue[J[_e]]=c.props.editorProps[J[_e]];var Je=t(S,xe),Be=t(m,xe,"");ue.session.setUndoManager(new b.UndoManager),ue.setTheme("ace/theme/".concat(C)),ue.renderer.setScrollMargin(T[0],T[1],T[2],T[3]),ue.getSession().setMode("ace/mode/".concat(k)),ue.setFontSize(g),ue.renderer.setShowGutter(R),ue.getSession().setUseWrapMode(P),ue.setShowPrintMargin(W),ue.on("focus",c.onFocus),ue.on("blur",c.onBlur),ue.on("input",c.onInput),ue.on("copy",c.onCopy),ue.on("paste",c.onPaste),ue.on("change",c.onChange),ue.getSession().selection.on("changeSelection",c.onSelectionChange),ue.getSession().selection.on("changeCursor",c.onCursorChange),ue.session.on("changeScrollTop",c.onScroll),ue.setValue(Je===void 0?Be:Je,A);var He=t(I,xe,[]),Xe=t(q,xe,[]);ue.getSession().setAnnotations(He),Xe&&Xe.length>0&&c.handleMarkers(Xe,ue);for(var _e=0;_e<F.editorOptions.length;_e++){var Ue=F.editorOptions[_e];ee.hasOwnProperty(Ue)?ue.setOption(Ue,c.props[Ue]):c.props[Ue]&&console.warn("ReaceAce: editor option ".concat(Ue," was activated but not found. Did you need to import a related tool or did you possibly mispell the option?"))}c.handleOptions(c.props,ue),Array.isArray(K)&&K.forEach(function(rt){typeof rt.exec=="string"?ue.commands.bindKey(rt.bindKey,rt.exec):ue.commands.addCommand(rt)}),N&&ue.setKeyboardHandler("ace/keyboard/"+N)}),w&&(this.refEditor.className+=" "+w),f&&this.splitEditor.focus();var se=this.editor.env.split;se.setOrientation(this.props.orientation==="below"?se.BELOW:se.BESIDE),se.resize(!0),V&&V(se)},o.prototype.componentDidUpdate=function(c){var p=this,w=c,E=this.props,k=this.editor.env.split;if(E.splits!==w.splits&&k.setSplits(E.splits),E.orientation!==w.orientation&&k.setOrientation(E.orientation==="below"?k.BELOW:k.BESIDE),k.forEach(function(m,S){E.mode!==w.mode&&m.getSession().setMode("ace/mode/"+E.mode),E.keyboardHandler!==w.keyboardHandler&&(E.keyboardHandler?m.setKeyboardHandler("ace/keyboard/"+E.keyboardHandler):m.setKeyboardHandler(null)),E.fontSize!==w.fontSize&&m.setFontSize(E.fontSize),E.wrapEnabled!==w.wrapEnabled&&m.getSession().setUseWrapMode(E.wrapEnabled),E.showPrintMargin!==w.showPrintMargin&&m.setShowPrintMargin(E.showPrintMargin),E.showGutter!==w.showGutter&&m.renderer.setShowGutter(E.showGutter);for(var A=0;A<F.editorOptions.length;A++){var R=F.editorOptions[A];E[R]!==w[R]&&m.setOption(R,E[R])}s(E.setOptions,w.setOptions)||p.handleOptions(E,m);var P=t(E.value,S,"");if(m.getValue()!==P){p.silent=!0;var W=m.session.selection.toJSON();m.setValue(P,E.cursorStart),m.session.selection.fromJSON(W),p.silent=!1}var _=t(E.annotations,S,[]),T=t(w.annotations,S,[]);s(_,T)||m.getSession().setAnnotations(_);var N=t(E.markers,S,[]),V=t(w.markers,S,[]);!s(N,V)&&Array.isArray(N)&&p.handleMarkers(N,m)}),E.className!==w.className){var f=this.refEditor.className,C=f.trim().split(" "),g=w.className.trim().split(" ");g.forEach(function(m){var S=C.indexOf(m);C.splice(S,1)}),this.refEditor.className=" "+E.className+" "+C.join(" ")}E.theme!==w.theme&&k.setTheme("ace/theme/"+E.theme),E.focus&&!w.focus&&this.splitEditor.focus(),(E.height!==this.props.height||E.width!==this.props.width)&&this.editor.resize()},o.prototype.componentWillUnmount=function(){this.editor.destroy(),this.editor=null},o.prototype.onChange=function(c){if(this.props.onChange&&!this.silent){var p=[];this.editor.env.split.forEach(function(w){p.push(w.getValue())}),this.props.onChange(p,c)}},o.prototype.onSelectionChange=function(c){if(this.props.onSelectionChange){var p=[];this.editor.env.split.forEach(function(w){p.push(w.getSelection())}),this.props.onSelectionChange(p,c)}},o.prototype.onCursorChange=function(c){if(this.props.onCursorChange){var p=[];this.editor.env.split.forEach(function(w){p.push(w.getSelection())}),this.props.onCursorChange(p,c)}},o.prototype.onFocus=function(c){this.props.onFocus&&this.props.onFocus(c)},o.prototype.onInput=function(c){this.props.onInput&&this.props.onInput(c)},o.prototype.onBlur=function(c){this.props.onBlur&&this.props.onBlur(c)},o.prototype.onCopy=function(c){this.props.onCopy&&this.props.onCopy(c)},o.prototype.onPaste=function(c){this.props.onPaste&&this.props.onPaste(c)},o.prototype.onScroll=function(){this.props.onScroll&&this.props.onScroll(this.editor)},o.prototype.handleOptions=function(c,p){for(var w=Object.keys(c.setOptions),E=0;E<w.length;E++)p.setOption(w[E],c.setOptions[w[E]])},o.prototype.handleMarkers=function(c,p){var w=p.getSession().getMarkers(!0);for(var E in w)w.hasOwnProperty(E)&&p.getSession().removeMarker(w[E].id);w=p.getSession().getMarkers(!1);for(var E in w)w.hasOwnProperty(E)&&p.getSession().removeMarker(w[E].id);c.forEach(function(k){var f=k.startRow,C=k.startCol,g=k.endRow,m=k.endCol,S=k.className,A=k.type,R=k.inFront,P=R===void 0?!1:R,W=new d.Range(f,C,g,m);p.getSession().addMarker(W,S,A,P)})},o.prototype.updateRef=function(c){this.refEditor=c},o.prototype.render=function(){var c=this.props,p=c.name,w=c.width,E=c.height,k=c.style,f=h({width:w,height:E},k);return e.createElement("div",{ref:this.updateRef,id:p,style:f})},o.propTypes={className:r.string,debounceChangePeriod:r.number,defaultValue:r.arrayOf(r.string),focus:r.bool,fontSize:r.oneOfType([r.number,r.string]),height:r.string,mode:r.string,name:r.string,onBlur:r.func,onChange:r.func,onCopy:r.func,onFocus:r.func,onInput:r.func,onLoad:r.func,onPaste:r.func,onScroll:r.func,orientation:r.string,showGutter:r.bool,splits:r.number,theme:r.string,value:r.arrayOf(r.string),width:r.string,onSelectionChange:r.func,onCursorChange:r.func,onBeforeLoad:r.func,minLines:r.number,maxLines:r.number,readOnly:r.bool,highlightActiveLine:r.bool,tabSize:r.number,showPrintMargin:r.bool,cursorStart:r.number,editorProps:r.object,setOptions:r.object,style:r.object,scrollMargin:r.array,annotations:r.array,markers:r.array,keyboardHandler:r.string,wrapEnabled:r.bool,enableBasicAutocompletion:r.oneOfType([r.bool,r.array]),enableLiveAutocompletion:r.oneOfType([r.bool,r.array]),commands:r.array},o.defaultProps={name:"ace-editor",focus:!1,orientation:"beside",splits:2,mode:"",theme:"",height:"500px",width:"500px",value:[],fontSize:12,showGutter:!0,onChange:null,onPaste:null,onLoad:null,onScroll:null,minLines:null,maxLines:null,readOnly:!1,highlightActiveLine:!0,showPrintMargin:!0,tabSize:4,cursorStart:1,editorProps:{},style:{},scrollMargin:[0,0,0,0],setOptions:{},wrapEnabled:!1,enableBasicAutocompletion:!1,enableLiveAutocompletion:!1},o}(e.Component);j.default=i},99593:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Alarm Systems.857ab9a8f90827777b88.svg"},65537:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Amplifier.6f5d18048328386033f8.svg"},7757:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Awnings.78480df8796f09859b6a.svg"},64087:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Battery Status.5951e2078ae1e573510e.svg"},12776:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Ceiling Spotlights.485822441b5df3b3384a.svg"},85901:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Chandelier.8b9fbdbc73bc2e955ef7.svg"},22097:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Climate.b7e9896e7f103360bb5a.svg"},81403:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Coffee Makers.9fb4d82f957a06f30dae.svg"},83087:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Cold Water.937aad5fa21b0c20a856.svg"},7119:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Computer.9558f6ee3941dba4e3c5.svg"},7041:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Consumption.fecd7a10a13fe4e5f69b.svg"},71133:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Curtains.955e213206d2073eef99.svg"},1367:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Dishwashers.3709566b7214596236b7.svg"},50495:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Doors.d59bf859f582d3488a04.svg"},17154:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Doorstep.10630b759b4867a10776.svg"},91826:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Dryer.5ea89bd6dc20a00fb442.svg"},89555:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Fan.8a29f85d6ca99c584603.svg"},12699:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Floor Lamps.471e0bcf308d94963504.svg"},48792:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Garage Doors.0c2a1cfca7ad1ea59625.svg"},42760:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Gates.5a8baf2c3d4832ca57e8.svg"},31398:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Hairdryer.5960b514dac1f04f3c4d.svg"},94046:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Handle.3de1d1320fc3ce2f9712.svg"},8549:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Hanging Lamps.0bd452fc843edd645c30.svg"},24195:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Heater.b53bccc334bbb9238a36.svg"},15761:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Hoods.c177ddfec9fa9a6335db.svg"},34336:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Hot Water.5c0a9e01741562e1fbab.svg"},38507:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Humidity.6d58f69cf268dd8a8ac1.svg"},82862:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Iron.b8a65a48503b6f3e0dc8.svg"},73156:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Irrigation.da57e9df479035d5d7f0.svg"},29769:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Led Strip.5cf2de461e29ffbaa5f0.svg"},79504:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Light.21f1a5dfcc93f8ba1214.svg"},7179:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Lightings.658080eb8c0e347cd152.svg"},27521:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Lock.2cbfe17ea8923e0f4e9e.svg"},44997:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Louvre.75b84cd3d39d68107807.svg"},73098:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Mowing Machine.9ead5b039f36cdc800e6.svg"},59077:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Music.67bc6063cb601642fd74.svg"},196:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Outdoor Blinds.37b85a9c060a4af48da9.svg"},46301:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/People.12a7e9127e72f3259186.svg"},78702:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Pool.9452c0f84f53c7836f3d.svg"},51142:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Power Consumption.4faab614c3c788f2d338.svg"},38888:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Printer.146d983be964b95745d2.svg"},28250:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Pump.a6035507cddbe7db5f6a.svg"},49347:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Receiver.26b5ae166395a6dcb83f.svg"},60932:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Sconces.9bf4c2f7a209085207aa.svg"},12422:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Security.1ec78971bd34efa950f8.svg"},74018:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Shading.0577383dc227cd043b3d.svg"},9290:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Shutters.db7d7b0d498f40779210.svg"},74781:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/SmokeDetector.8222f77cb07030a409ee.svg"},41766:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Sockets.8320e1a99be9de004629.svg"},62263:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Speaker.db548379676317470c4f.svg"},42939:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Stove.d0f68b3e138c5831d252.svg"},31761:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Table Lamps.bd92de33bf86b6cbaec9.svg"},2863:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Temperature Sensors.75d805988a6b77b231d8.svg"},36150:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Tv.4e9745a548e57bfac0c7.svg"},93483:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Vacuum Cleaner.9c8d50e436e6cea06dfa.svg"},65645:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Ventilation.c31761d86d67e245ac92.svg"},68711:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Washing Machines.577f3acdb3cef002b523.svg"},76384:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Water Consumption.68891649591cc2434c5b.svg"},96132:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Water Heater.7e4bb4d99a5213f24d08.svg"},50697:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Water.f50411984c5c24fa574d.svg"},90368:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Weather.e91dae647698d48365e3.svg"},32944:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Window.421664f57c35e5109aa2.svg"},79662:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/names.e7efb5283d98000c74ac.txt"},26442:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Anteroom.93a742135f2c060ad619.svg"},37956:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Attic.bb5d690a160bb1d4edb2.svg"},96573:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Balcony.2f76ef0877aaa3bd2ff7.svg"},70052:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Barn.5d839e84c80918ce2ef0.svg"},7940:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Basement.fe636968eec9556bfd1f.svg"},41305:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Bathroom.27a777c66183f9f613db.svg"},67485:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Bedroom.2a16d8d98fafe965fd1b.svg"},75681:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Boiler Room.548e785e2f92b45f72b3.svg"},63126:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Carport.8337662544b9e95f4b27.svg"},52318:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Cellar.7ec1b1803a2437c8b78c.svg"},63907:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Chamber.71daaa4d14262dae029b.svg"},59213:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Corridor.93a742135f2c060ad619.svg"},21427:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Dining Area.14dfc38cbb4fe041e9da.svg"},86913:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Dining Room.14dfc38cbb4fe041e9da.svg"},53920:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Dining.14dfc38cbb4fe041e9da.svg"},38929:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Dressing Room.5e6f8f64b0e8f91c473e.svg"},73458:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Driveway.fbd31101c5a80a8bb37a.svg"},2793:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Entrance.4c1404056847caf959b6.svg"},61150:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Equipment Room.db92bdca64f653c844f8.svg"},8368:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Front Yard.af9ce2d89aa4d7a9363e.svg"},95343:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Gallery.4e7f9433fae8b24fdfca.svg"},83364:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Garage.f7fc0a9b326d582afee6.svg"},21084:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Garden.51c2e94f62a74e20775d.svg"},82988:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Ground Floor.2b7c5c91db7f070935a2.svg"},67389:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Guest Bathroom.d07a9f1cf32a82d03267.svg"},84570:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Guest Room.41c7cfa38806f5009f82.svg"},37032:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Gym.7a0d22127ea3f557228a.svg"},83862:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Hall.9c2fa95419cb84ecda68.svg"},30441:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Home Theater.1e5f19a0b2a013f153f5.svg"},37765:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Kitchen.deb7f976c1f43f9039a2.svg"},51955:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Laundry Room.58da550dff0173676e02.svg"},29283:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Living Area.1c29b81e75b75e3310db.svg"},53201:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Living Room.3c380ab767be35f904e1.svg"},38064:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Locker Room.1e381bdf34bfce551d73.svg"},8905:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Nursery.9cecc0544bdb5c28500c.svg"},24675:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Office.7e6a38218390b655e270.svg"},12340:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Outdoors.da42e64a4b6ec2dd1e1c.svg"},60476:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Playroom.e64c9de43030c28d2f96.svg"},68393:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Pool.9452c0f84f53c7836f3d.svg"},49523:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Rear Wall.38843c33f1ea1f575500.svg"},84161:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Second Floor.a2d5ed32df336591c06b.svg"},45717:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Shed.491a2ad372036118002c.svg"},14795:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Sleeping Area.828017602bfcc2dd7dce.svg"},78303:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Stairway.9b007e08605296110003.svg"},8374:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Stairwell.0914feea948153a8637a.svg"},53127:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Storeroom.7de4e6f3364554459b8a.svg"},71320:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Summer House.541a9fec69f01105e244.svg"},59562:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Swimming Pool.190b378cb0707edb9461.svg"},13511:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Terrace.d71d07d9290674f2ca20.svg"},28720:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Toilet.83604dd2daafb67067dd.svg"},70418:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Upstairs.441813e54e0daca0882d.svg"},21191:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Wardrobe.e8019970a2b51412cfdc.svg"},12503:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Washroom.bfb54196f381f36de9d6.svg"},52373:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Wc.83604dd2daafb67067dd.svg"},64657:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Windscreen.6058448bf63f72dd5036.svg"},98820:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Workshop.7856e59fe4f164c90609.svg"},51610:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/Workspace.97d73e419d966bfb6428.svg"},1395:(X,j,L)=>{"use strict";X.exports=L.p+"static/media/names.3a7dae0bd6b8b03b280f.txt"},27723:X=>{"use strict";X.exports=JSON.parse(`[{"_id":"hood","name":{"en":"Hood","ru":"\u0412\u044B\u0442\u044F\u0436\u043A\u0430","de":"Abzugshaube","fr":"Capot","it":"Cappe","nl":"Hood","pl":"Okapy","pt":"Hood","es":"Campana","zh-cn":"\u62BD\u6CB9\u70DF\u673A"},"icon":"Hoods.svg"},{"_id":"alarm_system","name":{"en":"Alarm System","ru":"\u0421\u0438\u0433\u043D\u0430\u043B\u0438\u0437\u0430\u0446\u0438\u044F","de":"Alarmanlage","fr":"Syst\xE8mes D'Alarme","it":"Sistemi Di Allarme","nl":"Alarm Systems","pl":"Systemy Alarmowe","pt":"Sistemas De Alarme","es":"Sistemas De Alarma","zh-cn":"\u62A5\u8B66\u7CFB\u7EDF"},"icon":"Alarm Systems.svg"},{"_id":"battery_status","name":{"en":"Battery Status","ru":"\u0417\u0430\u0440\u044F\u0434 \u0431\u0430\u0442\u0430\u0440\u0435\u0438","de":"Batteriestatus","fr":"\xC9tat De La Batterie","it":"Stato Della Batteria","nl":"Batterij Status","pl":"Stan Baterii","pt":"Estado Da Bateria","es":"Estado De La Bater\xEDa","zh-cn":"\u7535\u6C60\u72B6\u6001"},"icon":"Battery Status.svg"},{"_id":"lighting","name":{"en":"Lighting","ru":"\u0421\u0432\u0435\u0442\u0438\u043B\u044C\u043D\u0438\u043A","de":"Beleuchtung","fr":"\xC9clairages","it":"Illuminazione","nl":"Verlichting","pl":"Oprawy O\u015Bwietleniowe","pt":"Ilumina\xE7\xF5es","es":"Iluminaciones","zh-cn":"\u7167\u660E"},"icon":"Lightings.svg"},{"_id":"shading","name":{"en":"Shading","ru":"\u0417\u0430\u0442\u0435\u043D\u0435\u043D\u0438\u0435","de":"Beschattungen","fr":"Ombres","it":"Ombreggiatura","nl":"Shading","pl":"Zacienienie","pt":"Shading","es":"Sombreado","zh-cn":"\u5E95\u7EB9"},"icon":"Shading.svg"},{"_id":"irrigation","name":{"en":"Irrigation","ru":"\u041E\u0440\u043E\u0448\u0435\u043D\u0438\u0435","de":"Bew\xE4sserung","fr":"Irrigation","it":"Irrigazione","nl":"Irrigatie","pl":"Nawadnianie","pt":"Irriga\xE7\xE3o","es":"Irrigaci\xF3n","zh-cn":"\u704C\u6E89"},"icon":"Irrigation.svg"},{"_id":"iron","name":{"en":"Iron","ru":"\u0423\u0442\u044E\u0433","de":"B\xFCgeleisen","fr":"Le Fer","it":"Ferro","nl":"Ijzer","pl":"\u017Belazo","pt":"Ferro","es":"Hierro","zh-cn":"\u94C1"},"icon":"Iron.svg"},{"_id":"computer","name":{"en":"Computer","ru":"\u041A\u043E\u043C\u043F\u044C\u044E\u0442\u0435\u0440","de":"Rechner","fr":"L'Ordinateur","it":"Computer","nl":"Computer","pl":"Komputer","pt":"Computador","es":"Ordenador","zh-cn":"\u7535\u8111"},"icon":"Computer.svg"},{"_id":"ceiling_spotlight","name":{"en":"Ceiling Spotlight","ru":"\u041F\u043E\u0442\u043E\u043B\u043E\u0447\u043D\u044B\u0439 \u043F\u0440\u043E\u0436\u0435\u043A\u0442\u043E\u0440","de":"Deckenspot","fr":"Plafond Spotlight","it":"Faretti A Soffitto","nl":"Plafond Spotlight","pl":"Reflektory Sufitowe","pt":"Tecto Foco","es":"Focos De Techo","zh-cn":"\u5929\u82B1\u5C04\u706F"},"icon":"Ceiling Spotlights.svg"},{"_id":"printer","name":{"en":"Printer","de":"Drucker","ru":"\u041F\u0440\u0438\u043D\u0442\u0435\u0440","pt":"Impressora","nl":"Printer","fr":"Imprimante","it":"Stampante","es":"Impresora","pl":"Drukarka","zh-cn":"\u6253\u5370\u673A"},"icon":"Printer.svg"},{"_id":"power_consumption","name":{"en":"Power Consumption","ru":"\u041F\u043E\u0442\u0440\u0435\u0431\u043B\u044F\u0435\u043C\u0430\u044F \u043C\u043E\u0449\u043D\u043E\u0441\u0442\u044C","de":"Stromverbrauch","fr":"Consommation D'\xC9nergie","it":"Consumo Di Energia","nl":"Energieverbruik","pl":"Pob\xF3r Energii","pt":"Consumo De Energia","es":"El Consumo De Energ\xEDa","zh-cn":"\u80FD\u91CF\u6D88\u8017"},"icon":"Power Consumption.svg"},{"_id":"window","name":{"en":"Window","ru":"\u041E\u043A\u043D\u043E","de":"Fenster","fr":"La Fen\xEAtre","it":"Finestra","nl":"Venster","pl":"Okno","pt":"Janela","es":"Ventana","zh-cn":"\u7A97\u6237"},"icon":"Window.svg"},{"_id":"garage_door","name":{"en":"Garage Door","ru":"\u0413\u0430\u0440\u0430\u0436\u043D\u044B\u0435 \u0412\u043E\u0440\u043E\u0442\u0430","de":"Garagentor","fr":"Portes De Garage","it":"Garage Door","nl":"Garage Door","pl":"Bramy Gara\u017Cowe","pt":"Portas De Garagem","es":"Las Puertas De Garaje","zh-cn":"\u8F66\u5E93\u95E8"},"icon":"Garage Doors.svg"},{"_id":"hairdryer","name":{"en":"Hairdryer","ru":"\u0424\u0435\u043D","de":"Haartrockner","fr":"S\xE8che-Cheveux","it":"Asciugacapelli","nl":"Haardroger","pl":"Suszarka Do W\u0142os\xF3w","pt":"Secador De Cabelo","es":"Secador De Pelo","zh-cn":"\u7535\u5439\u98CE"},"icon":"Hairdryer.svg"},{"_id":"hanging_lamp","name":{"en":"Hanging Lamp","ru":"\u041F\u043E\u0434\u0432\u0435\u0441\u043D\u043E\u0439 \u0441\u0432\u0435\u0442\u0438\u043B\u044C\u043D\u0438\u043A","de":"H\xE4ngelampe","fr":"Lampes Suspendues","it":"Lampade A Sospensione","nl":"Opknoping Lampen","pl":"Lampy Wisz\u0105ce","pt":"L\xE2mpadas De Suspens\xE3o","es":"L\xE1mparas Colgantes","zh-cn":"\u6302\u706F"},"icon":"Hanging Lamps.svg"},{"_id":"doorstep","name":{"en":"Enterance","ru":"\u0412\u0445\u043E\u0434\u043D\u0430\u044F \u0434\u0432\u0435\u0440\u044C","de":"Haust\xFCr","fr":"Seuil De Porte","it":"Gradino Della Porta","nl":"Drempel","pl":"Pr\xF3g","pt":"Porta","es":"Pelda\xF1o","zh-cn":"\u95E8\u9636"},"icon":"Doorstep.svg"},{"_id":"hot_water","name":{"en":"Hot Water","ru":"\u0413\u043E\u0440\u044F\u0447\u0430\u044F \u0432\u043E\u0434\u0430","de":"Hei\xDFwasser","fr":"Eau Chaude","it":"Acqua Calda","nl":"Heet Water","pl":"Gor\u0105ca Woda","pt":"\xC1gua Quente","es":"Agua Caliente","zh-cn":"\u70ED\u6C34"},"icon":"Hot Water.svg"},{"_id":"heating","name":{"en":"Heating","ru":"\u041E\u0442\u043E\u043F\u043B\u0435\u043D\u0438\u0435","de":"Heizung","fr":"Chauffe-Eau","it":"Riscaldatore","nl":"Verwarmer","pl":"Podgrzewacz","pt":"Aquecedor","es":"Calentador","zh-cn":"\u52A0\u70ED\u5668"},"icon":"Heater.svg"},{"_id":"stove","name":{"en":"Stove","ru":"\u041F\u0435\u0447\u044C","de":"Herd","fr":"Le Fourneau","it":"Stufa","nl":"Fornuis","pl":"Kuchenka","pt":"Forno","es":"Cocina","zh-cn":"\u706B\u7089"},"icon":"Stove.svg"},{"_id":"louvre","name":{"en":"Louvre","ru":"\u0416\u0430\u043B\u044E\u0437\u0438","de":"Jalousie","fr":"Persienne","it":"Persiana Di Ventilazione","nl":"Louvre","pl":"\u017Baluzja","pt":"Trapeira","es":"Lumbrera","zh-cn":"\u5362\u6D6E\u5BAB"},"icon":"Louvre.svg"},{"_id":"coffee_maker","name":{"en":"Coffee Maker","ru":"\u041A\u043E\u0444\u0435\u0432\u0430\u0440\u043A\u0430","de":"Kaffemaschine","fr":"Cafeti\xE8re","it":"Macchine Da Caff\xE8","nl":"Koffie Maker","pl":"Ekspresy Do Kawy","pt":"Cafeteira","es":"Cafetera","zh-cn":"\u5496\u5561\u58F6"},"icon":"Coffee Makers.svg"},{"_id":"cold_water","name":{"en":"Cold Water","ru":"\u0425\u043E\u043B\u043E\u0434\u043D\u0430\u044F \u0432\u043E\u0434\u0430","de":"Kaltwasser","fr":"Eau Froide","it":"Acqua Fredda","nl":"Koud Water","pl":"Zimna Woda","pt":"\xC1gua Fria","es":"Agua Fr\xEDa","zh-cn":"\u51B7\u6C34"},"icon":"Cold Water.svg"},{"_id":"climate","name":{"en":"Climate","ru":"\u041A\u043B\u0438\u043C\u0430\u0442","de":"Klima","fr":"Climat","it":"Clima","nl":"Klimaat","pl":"Klimat","pt":"Clima","es":"Clima","zh-cn":"\u6C14\u5019"},"icon":"Climate.svg"},{"_id":"speaker","name":{"en":"Speaker","ru":"\u0417\u0432\u0443\u043A\u043E\u0432\u0430\u044F \u0441\u0438\u0441\u0442\u0435\u043C\u0430","de":"Lautsprecher","fr":"Orateur","it":"Altoparlante","nl":"Spreker","pl":"G\u0142o\u015Bnik","pt":"Palestrante","es":"Altavoz","zh-cn":"\u626C\u58F0\u5668"},"icon":"Speaker.svg"},{"_id":"led_strip","name":{"en":"Led Strip","ru":"\u0421\u0432\u0435\u0442\u043E\u0434\u0438\u043E\u0434\u043D\u0430\u044F \u043B\u0435\u043D\u0442\u0430","de":"LED Leiste","fr":"Led Strip","it":"Led Strip","nl":"Loden Strip","pl":"Pasek Ledowy","pt":"Led Faixa","es":"Tira Llevada","zh-cn":"\u706F\u5E26"},"icon":"Led Strip.svg"},{"_id":"light","name":{"en":"Light","ru":"\u0421\u0432\u0435\u0442","de":"Licht","fr":"Lumi\xE8re","it":"Leggero","nl":"Licht","pl":"Lekki","pt":"Luz","es":"Luz","zh-cn":"\u5149"},"icon":"Light.svg"},{"_id":"fan","name":{"en":"Fan","ru":"\u0412\u0435\u043D\u0442\u0438\u043B\u044F\u0442\u043E\u0440","de":"L\xFCfter","fr":"Ventilateur","it":"Fan","nl":"Ventilator","pl":"Wentylator","pt":"Ventilador","es":"Ventilador","zh-cn":"\u6247\u5B50"},"icon":"Fan.svg"},{"_id":"humidity","name":{"en":"Humidity","ru":"\u0412\u043B\u0430\u0436\u043D\u043E\u0441\u0442\u044C","de":"Luftfeuchtigkeit","fr":"Humidit\xE9","it":"Umidit\xE0","nl":"Vochtigheid","pl":"Wilgotno\u015B\u0107","pt":"Umidade","es":"Humedad","zh-cn":"\u6E7F\u5EA6"},"icon":"Humidity.svg"},{"_id":"ventilation","name":{"en":"Ventilation","ru":"\u0412\u0435\u043D\u0442\u0438\u043B\u044F\u0446\u0438\u044F","de":"L\xFCftung","fr":"Ventilation","it":"Ventilazione","nl":"Ventilatie","pl":"Wentylacja","pt":"Ventila\xE7\xE3o","es":"Ventilaci\xF3n","zh-cn":"\u901A\u98CE"},"icon":"Ventilation.svg"},{"_id":"chandelier","name":{"en":"Chandelier","ru":"\u041B\u044E\u0441\u0442\u0440\u0430","de":"Kronleuchter","fr":"Lustre","it":"Lampadario","nl":"Kroonluchter","pl":"\u017Byrandol","pt":"Lustre","es":"Candelabro","zh-cn":"\u679D\u5F62\u540A\u706F"},"icon":"Chandelier.svg"},{"_id":"awning","name":{"en":"Awning","ru":"\u041C\u0430\u0440\u043A\u0438\u0437\u0430","de":"Markise","fr":"Auvents","it":"Tende","nl":"Luifels","pl":"Okrycia","pt":"Toldos","es":"Toldos","zh-cn":"\u906E\u9633\u7BF7"},"icon":"Awnings.svg"},{"_id":"music","name":{"en":"Music","ru":"\u041C\u0443\u0437\u044B\u043A\u0430","de":"Musik","fr":"Musique","it":"Musica","nl":"Muziek","pl":"Muzyka","pt":"M\xFAsica","es":"M\xFAsica","zh-cn":"\u97F3\u4E50"},"icon":"Music.svg"},{"_id":"people","name":{"en":"People","ru":"\u041B\u044E\u0434\u0438","de":"Personen","fr":"Gens","it":"Persone","nl":"Mensen","pl":"Ludzie","pt":"Pessoas","es":"Personas","zh-cn":"\u4EBA\u4EEC"},"icon":"People.svg"},{"_id":"pool","name":{"en":"Pool","ru":"\u0411\u0430\u0441\u0441\u0435\u0439\u043D","de":"Pool","fr":"Piscine","it":"Piscina","nl":"Zwembad","pl":"Basen","pt":"Piscina","es":"Piscina","zh-cn":"\u6C34\u6C60"},"icon":"Pool.svg"},{"_id":"pump","name":{"en":"Pump","ru":"\u041D\u0430\u0441\u043E\u0441","de":"Pumpe","fr":"Pompe","it":"Pompa","nl":"Pomp","pl":"Pompa","pt":"Bombear","es":"Bomba","zh-cn":"\u6CF5"},"icon":"Pump.svg"},{"_id":"outdoor_blinds","name":{"en":"Outdoor Blinds","ru":"\u0412\u043D\u0435\u0449\u0433\u0442\u0435 \u0436\u0430\u043B\u044E\u0437\u0438","de":"Raffstore","fr":"Volets","it":"Tende Da Esterni","nl":"Outdoor Blinds","pl":"Rolety Zewn\u0119trzne","pt":"Estores Exteriores","es":"Persianas Exteriores","zh-cn":"\u5BA4\u5916\u767E\u53F6\u7A97"},"icon":"Outdoor Blinds.svg"},{"_id":"mowing_machine","name":{"en":"Mowing Machine","ru":"\u0413\u0430\u0437\u043E\u043D\u043E\u043A\u043E\u0441\u0438\u043B\u043A\u0430","de":"Rasenm\xE4her","fr":"Machine De Fauchage","it":"Macchina Di Falciatura","nl":"Maaimachine","pl":"Kosiarka","pt":"Ro\xE7ada M\xE1quina","es":"Segadora","zh-cn":"\u5272\u8349\u673A"},"icon":"Mowing Machine.svg"},{"_id":"receiver","name":{"en":"Receiver","ru":"\u041F\u0440\u0438\u0441\u0442\u0430\u0432\u043A\u0430","de":"Receiver","fr":"Destinataire","it":"Ricevitore","nl":"Ontvanger","pl":"Odbiorca","pt":"Recebedor","es":"Receptor","zh-cn":"\u63A5\u6536\u8005"},"icon":"Receiver.svg"},{"_id":"shutters","name":{"en":"Shutters","ru":"\u0421\u0442\u0430\u0432\u043D\u0438","de":"Rollladen","fr":"Volets","it":"Persiane","nl":"Shutters","pl":"\u017Baluzje","pt":"Persianas","es":"Persianas","zh-cn":"\u767E\u53F6\u7A97"},"icon":"Shutters.svg"},{"_id":"smoke_detector","name":{"en":"Smoke detector","de":"Rauchmelder","ru":"\u0414\u0435\u0442\u0435\u043A\u0442\u043E\u0440 \u0434\u044B\u043C\u0430","pt":"Detector de fuma\xE7a","nl":"Rookdetector","fr":"D\xE9tecteur de fum\xE9e","it":"Rilevatore di fumo","es":"Detector de humo","pl":"Wykrywacz dymu","zh-cn":"\u70DF\u96FE\u63A2\u6D4B\u5668"},"icon":"SmokeDetector.svg"},{"_id":"lock","name":{"en":"Lock","ru":"\u0417\u0430\u043C\u043E\u043A","de":"Schlo\xDF","fr":"Fermer \xC0 Cl\xE9","it":"Serratura","nl":"Slot","pl":"Zamek","pt":"Trancar","es":"Cerrar Con Llave","zh-cn":"\u9501"},"icon":"Lock.svg"},{"_id":"security","name":{"en":"Security","ru":"\u0411\u0435\u0437\u043E\u043F\u0430\u0441\u043D\u043E\u0441\u0442\u044C","de":"Sicherheit","fr":"S\xE9curit\xE9","it":"Sicurezza","nl":"Veiligheid","pl":"Bezpiecze\u0144stwo","pt":"Seguran\xE7a","es":"Seguridad","zh-cn":"\u5B89\u5168"},"icon":"Security.svg"},{"_id":"dishwasher","name":{"en":"Dishwasher","ru":"\u041F\u043E\u0441\u0443\u0434\u043E\u043C\u043E\u0435\u0447\u043D\u0430\u044F \u043C\u0430\u0448\u0438\u043D\u0430","de":"Sp\xFClmaschine","fr":"Lave-Vaisselles","it":"Lavastoviglie","nl":"Vaatwassers","pl":"Zmywarki","pt":"M\xE1quinas De Lavar Lou\xE7a","es":"Lavaplatos","zh-cn":"\u6D17\u7897\u673A"},"icon":"Dishwashers.svg"},{"_id":"vacuum_cleaner","name":{"en":"Vacuum Cleaner","ru":"\u041F\u044B\u043B\u0435\u0441\u043E\u0441","de":"Staubsauger","fr":"Aspirateur","it":"Aspirapolvere","nl":"Stofzuiger","pl":"Odkurzacz","pt":"Aspirador De P\xF3","es":"Aspiradora","zh-cn":"\u5438\u5C18\u5668"},"icon":"Vacuum Cleaner.svg"},{"_id":"socket","name":{"en":"Socket","ru":"\u0420\u043E\u0437\u0435\u0442\u043A\u0430","de":"Steckdose","fr":"Prise","it":"Socket","nl":"Socket","pl":"Gniazdka","pt":"Tomada","es":"Z\xF3calo","zh-cn":"\u5957\u63A5\u5B57"},"icon":"Sockets.svg"},{"_id":"floor_lamp","name":{"en":"Floor Lamp","ru":"\u0422\u043E\u0440\u0448\u0435\u0440","de":"Stehlampe","fr":"Lampes Pour Plancher","it":"Lampade A Stelo","nl":"Vloerlampen","pl":"Lampy Pod\u0142ogowe","pt":"L\xE2mpadas Ch\xE3o","es":"L\xE1mparas De Pie","zh-cn":"\u843D\u5730\u706F"},"icon":"Floor Lamps.svg"},{"_id":"power_consumption","name":{"en":"Power Consumption","ru":"\u041F\u043E\u0442\u0440\u0435\u0431\u043B\u044F\u0435\u043C\u0430\u044F \u043C\u043E\u0449\u043D\u043E\u0441\u0442\u044C","de":"Stromverbrauch","fr":"Consommation D'\xC9nergie","it":"Consumo Di Energia","nl":"Energieverbruik","pl":"Pob\xF3r Energii","pt":"Consumo De Energia","es":"El Consumo De Energ\xEDa","zh-cn":"\u80FD\u91CF\u6D88\u8017"},"icon":"Power Consumption.svg"},{"_id":"temperature_sensor","name":{"en":"Temperature Sensor","ru":"\u0422\u0435\u043C\u043F\u0435\u0440\u0430\u0442\u0443\u0440\u043D\u044B\u0439 \u0434\u0430\u0442\u0447\u0438\u043A","de":"Temperatur-Sensor","fr":"Capteur De Temp\xE9rature","it":"Sensori Di Temperatura","nl":"Temperatuursensor","pl":"Czujniki Temperatury","pt":"Sensores De Temperatura","es":"Sensores De Temperatura","zh-cn":"\u6E29\u5EA6\u4F20\u611F\u5668"},"icon":"Temperature Sensors.svg"},{"_id":"table_lamp","name":{"en":"Table Lamp","ru":"\u041D\u0430\u0441\u0442\u043E\u043B\u044C\u043D\u0430\u044F \u043B\u0430\u043C\u043F\u0430","de":"Tischlampe","fr":"Lampe De Chevet","it":"Lampade Da Tavolo","nl":"Tafellampen","pl":"Lampy Sto\u0142owe","pt":"L\xE2mpadas De Mesa","es":"L\xE1mparas De Mesa","zh-cn":"\u53F0\u706F"},"icon":"Table Lamps.svg"},{"_id":"gate","name":{"en":"Gate","ru":"\u0412\u043E\u0440\u043E\u0442\u0430","de":"Tor","fr":"Porte","it":"Gate","nl":"Gate","pl":"Bramy","pt":"Port\xF5es","es":"Puertas","zh-cn":"\u76D6\u8328"},"icon":"Gates.svg"},{"_id":"dryer","name":{"en":"Dryer","ru":"\u0421\u0443\u0448\u0438\u043B\u043A\u0430","de":"Trockner","fr":"S\xE9choir","it":"Asciugatrice","nl":"Droger","pl":"Suszarka","pt":"Secador","es":"Secadora","zh-cn":"\u70D8\u5E72\u673A"},"icon":"Dryer.svg"},{"_id":"door","name":{"en":"Door","ru":"\u0414\u0432\u0435\u0440\u044C","de":"T\xFCr","fr":"Des Portes","it":"Porte","nl":"Deuren","pl":"Drzwi","pt":"Portas","es":"Puertas","zh-cn":"\u95E8"},"icon":"Doors.svg"},{"_id":"tv","name":{"en":"Tv","ru":"\u0422\u0435\u043B\u0435\u0432\u0438\u0437\u043E\u0440","de":"TV","fr":"La T\xE9l\xE9","it":"Tv","nl":"Tv","pl":"Telewizja","pt":"Televis\xE3o","es":"Televisor","zh-cn":"\u7535\u89C6"},"icon":"Tv.svg"},{"_id":"consumption","name":{"en":"Consumption","ru":"\u041F\u043E\u0442\u0440\u0435\u0431\u043B\u0435\u043D\u0438\u0435","de":"Verbrauch","fr":"Consommation","it":"Consumo","nl":"Consumptie","pl":"Konsumpcja","pt":"Consumo","es":"Consumo","zh-cn":"\u6D88\u8D39"},"icon":"Consumption.svg"},{"_id":"amplifier","name":{"en":"Amplifier","ru":"\u0423\u0441\u0438\u043B\u0438\u0442\u0435\u043B\u044C \u0437\u0432\u0443\u043A\u0430","de":"Verst\xE4rker","fr":"Amplificateur","it":"Amplificatore","nl":"Versterker","pl":"Wzmacniacz","pt":"Amplificador","es":"Amplificador","zh-cn":"\u653E\u5927\u5668"},"icon":"Amplifier.svg"},{"_id":"curtains","name":{"en":"Curtains","ru":"\u0428\u0442\u043E\u0440\u044B","de":"Vorh\xE4nge","fr":"Des Rideaux","it":"Le Tende","nl":"Gordijnen","pl":"Zas\u0142ony","pt":"Cortinas","es":"Cortinas","zh-cn":"\u7A97\u5E18"},"icon":"Curtains.svg"},{"_id":"sconce","name":{"en":"Sconce","ru":"\u041D\u0430\u0441\u0442\u0435\u043D\u043D\u044B\u0439 \u0441\u0432\u0435\u0442\u0438\u043B\u044C\u043D\u0438\u043A","de":"Wandlampe","fr":"Sconce","it":"Sconce","nl":"Sconce","pl":"Kinkiety","pt":"Arandelas","es":"Los Apliques","zh-cn":"\u58C1\u706F"},"icon":"Sconces.svg"},{"_id":"washing_machine","name":{"en":"Washing Machine","ru":"\u0421\u0442\u0438\u0440\u0430\u043B\u044C\u043D\u0430\u044F \u043C\u0430\u0448\u0438\u043D\u0430","de":"Waschmaschine","fr":"Machines \xC0 Laver","it":"Lavatrici","nl":"Wasmachines","pl":"Pralki","pt":"M\xE1quinas De Lavar Roupas","es":"Lavadoras","zh-cn":"\u6D17\u8863\u673A"},"icon":"Washing Machines.svg"},{"_id":"water","name":{"en":"Water","ru":"\u0412\u043E\u0434\u0430","de":"Wasser","fr":"L'Eau","it":"Acqua","nl":"Water","pl":"Woda","pt":"\xC1gua","es":"Agua","zh-cn":"\u6C34"},"icon":"Water.svg"},{"_id":"water_heater","name":{"en":"Water Heater","ru":"\u041D\u0430\u0433\u0440\u0435\u0432\u0430\u0442\u0435\u043B\u044C \u0432\u043E\u0434\u044B","de":"Wasserkocher","fr":"Chauffe-Eau","it":"Scaldabagno","nl":"Waterkoker","pl":"Podgrzewacz Wody","pt":"Aquecedor De \xC1gua","es":"Calentador De Agua","zh-cn":"\u70ED\u6C34\u5668"},"icon":"Water Heater.svg"},{"_id":"water_consumption","name":{"en":"Water Consumption","ru":"\u041F\u043E\u0442\u0440\u0435\u0431\u043B\u0435\u043D\u0438\u0435 \u0432\u043E\u0434\u044B","de":"Wasserverbrauch","fr":"Consommation D'Eau","it":"Consumo D'Acqua","nl":"Waterverbruik","pl":"Konsumpcja Wody","pt":"Consumo De \xC1gua","es":"Consumo De Agua","zh-cn":"\u8017\u6C34\u91CF"},"icon":"Water Consumption.svg"},{"_id":"weather","name":{"en":"Weather","ru":"\u041F\u043E\u0433\u043E\u0434\u0430","de":"Wetter","fr":"La M\xE9t\xE9o","it":"Tempo Metereologico","nl":"Weer","pl":"Pogoda","pt":"Clima","es":"Tiempo","zh-cn":"\u5929\u6C14"},"icon":"Weather.svg"}]`)},21558:X=>{"use strict";X.exports=JSON.parse(`[{"_id":"storeroom","name":{"en":"Storeroom","ru":"\u041A\u043B\u0430\u0434\u043E\u0432\u0430\u044F","de":"Abstellraum","fr":"D\xE9barras","it":"Dispensa","nl":"Bergplaats","pl":"Magazyn","pt":"Despensa","es":"Trastero","zh-cn":"\u5E93\u623F"},"icon":"Storeroom.svg"},{"_id":"second_floor","name":{"en":"Second floor","ru":"\u0412\u0442\u043E\u0440\u043E\u0439 \u044D\u0442\u0430\u0436","de":"Erster OG","pt":"Primeiro andar","nl":"Eerste verdieping","fr":"Premier \xE9tage","it":"Primo piano","es":"Primer piso","pl":"Pierwsze pi\u0119tro","zh-cn":"\u7B2C\u4E00\u5C42"},"icon":"Second Floor.svg"},{"_id":"dressing_room","name":{"en":"Dressing Room","ru":"\u0413\u0430\u0440\u0434\u0435\u0440\u043E\u0431\u043D\u0430\u044F","de":"Ankleide","fr":"Vestiaire","it":"Camerino","nl":"Kleedkamer","pl":"Przebieralnia","pt":"Provador","es":"Vestidor","zh-cn":"\u66F4\u8863\u5BA4"},"icon":"Dressing Room.svg"},{"_id":"workspace","name":{"en":"Workspace","ru":"\u0420\u0430\u0431\u043E\u0447\u0430\u044F \u0421\u0440\u0435\u0434\u0430","de":"Arbeitszimmer","fr":"Espace De Travail","it":"Area Di Lavoro","nl":"Workspace","pl":"Workspace","pt":"\xC1rea De Trabalho","es":"Espacio De Trabajo","zh-cn":"\u5DE5\u4F5C\u533A"},"icon":"Workspace.svg"},{"_id":"driveway","name":{"en":"Driveway","ru":"\u0414\u043E\u0440\u043E\u0433\u0430","de":"Auffahrt","fr":"All\xE9e","it":"Viale","nl":"Pad","pl":"Podjazd","pt":"Entrada Da Garagem","es":"Entrada De Coches","zh-cn":"\u8F66\u9053"},"icon":"Driveway.svg"},{"_id":"outdoors","name":{"en":"Outdoors","ru":"\u041D\u0430 \u0423\u043B\u0438\u0446\u0435","de":"Au\xDFenbereich","fr":"En Plein Air","it":"All'Aperto","nl":"Buitenshuis","pl":"Na Dworze","pt":"Ao Ar Livre","es":"Al Aire Libre","zh-cn":"\u6237\u5916"},"icon":"Outdoors.svg"},{"_id":"bathroom","name":{"en":"Bathroom","ru":"\u0412\u0430\u043D\u043D\u0430\u044F \u041A\u043E\u043C\u043D\u0430\u0442\u0430","de":"Badezimmer","fr":"Salle De Bains","it":"Bagno","nl":"Badkamer","pl":"\u0141azienka","pt":"Banheiro","es":"Ba\xF1o","zh-cn":"\u6D74\u5BA4"},"icon":"Bathroom.svg"},{"_id":"balcony","name":{"en":"Balcony","ru":"\u0411\u0430\u043B\u043A\u043E\u043D","de":"Balkon","fr":"Balcon","it":"Balcone","nl":"Balkon","pl":"Balkon","pt":"Sacada","es":"Balc\xF3n","zh-cn":"\u9633\u53F0"},"icon":"Balcony.svg"},{"_id":"office","name":{"en":"Office","ru":"\u041E\u0444\u0438\u0441","de":"Office","fr":"Bureau","it":"Ufficio","nl":"Kantoor","pl":"Gabinet","pt":"Escrit\xF3rio","es":"Oficina","zh-cn":"\u529E\u516C\u5BA4"},"icon":"Office.svg"},{"_id":"carport","name":{"en":"Carport","ru":"\u041D\u0430\u0432\u0435\u0441","de":"Carport","fr":"Carport","it":"Posto Auto Coperto","nl":"Carport","pl":"Wiata","pt":"Telheiro","es":"Cochera","zh-cn":"\u8F66\u68DA"},"icon":"Carport.svg"},{"_id":"attic","name":{"en":"Attic","ru":"\u0427\u0435\u0440\u0434\u0430\u043A","de":"Dachgeschoss","fr":"Grenier","it":"Attico","nl":"Zolder","pl":"Poddasze","pt":"S\xF3t\xE3o","es":"\xC1tico","zh-cn":"\u9601\u697C"},"icon":"Attic.svg"},{"_id":"hall","name":{"en":"Hall","ru":"\u0417\u0430\u043B","de":"Diele","fr":"Salle","it":"Sala","nl":"Hal","pl":"Sala","pt":"Corredor","es":"Sala","zh-cn":"\u5927\u5385"},"icon":"Hall.svg"},{"_id":"entrance","name":{"en":"Entrance","ru":"\u0412\u0445\u043E\u0434","de":"Eingang","fr":"Entr\xE9e","it":"Ingresso","nl":"Ingang","pl":"Wej\u015Bcie","pt":"Entrada","es":"Entrada","zh-cn":"\u5165\u53E3"},"icon":"Entrance.svg"},{"_id":"ground_floor","name":{"en":"Ground Floor","ru":"\u041F\u0435\u0440\u0432\u044B\u0439 \u042D\u0442\u0430\u0436","de":"Erdgeschoss","fr":"Rez-De-Chauss\xE9e","it":"Piano Terra","nl":"Begane Grond","pl":"Parter","pt":"T\xE9rreo","es":"Planta Baja","zh-cn":"\u4E00\u697C"},"icon":"Ground Floor.svg"},{"_id":"dining_area","name":{"en":"Dining Area","ru":"\u0421\u0442\u043E\u043B\u043E\u0432\u0430\u044F","de":"Essbereich","fr":"Salle \xC0 Manger","it":"Zona Pranzo","nl":"Eethoek","pl":"Jadalnia","pt":"\xC1rea De Refei\xE7\xF5es","es":"Comedor","zh-cn":"\u7528\u9910\u533A"},"icon":"Dining Area.svg"},{"_id":"dining_room","name":{"en":"Dining Room","ru":"\u0421\u0442\u043E\u043B\u043E\u0432\u0430\u044F","de":"Esszimmer","fr":"Salle \xC0 Manger","it":"Sala Da Pranzo","nl":"Eetkamer","pl":"Jadalnia","pt":"Sala De Jantar","es":"Comedor","zh-cn":"\u996D\u5385"},"icon":"Dining Room.svg"},{"_id":"gym","name":{"en":"Gym","ru":"\u0421\u043F\u043E\u0440\u0442\u0437\u0430\u043B","de":"Fitnessraum","fr":"Gym","it":"Palestra","nl":"Sportschool","pl":"Si\u0142ownia","pt":"Gin\xE1sio","es":"Gimnasio","zh-cn":"\u5065\u8EAB\u623F"},"icon":"Gym.svg"},{"_id":"gallery","name":{"en":"Gallery","ru":"\u0413\u0430\u043B\u0435\u0440\u0435\u044F","de":"Galerie","fr":"Galerie","it":"Galleria","nl":"Galerij","pl":"Galeria","pt":"Galeria","es":"Galer\xEDa","zh-cn":"\u753B\u5ECA"},"icon":"Gallery.svg"},{"_id":"garage","name":{"en":"Garage","ru":"\u0413\u0430\u0440\u0430\u0436","de":"Garage","fr":"Garage","it":"Box Auto","nl":"Garage","pl":"Gara\u017C","pt":"Garagem","es":"Garaje","zh-cn":"\u8F66\u5E93"},"icon":"Garage.svg"},{"_id":"wardrobe","name":{"en":"Wardrobe","ru":"\u0413\u0430\u0440\u0434\u0435\u0440\u043E\u0431","de":"Garderobe","fr":"Penderie","it":"Armadio","nl":"Garderobe","pl":"Szafa","pt":"Guarda Roupa","es":"Armario","zh-cn":"\u8863\u67DC"},"icon":"Wardrobe.svg"},{"_id":"garden","name":{"en":"Garden","ru":"\u0421\u0430\u0434","de":"Garten","fr":"Jardin","it":"Giardino","nl":"Tuin","pl":"Ogr\xF3d","pt":"Jardim","es":"Jard\xEDn","zh-cn":"\u82B1\u56ED"},"icon":"Garden.svg"},{"_id":"summer_house","name":{"en":"Summer House","ru":"\u0414\u0430\u0447\u0430","de":"Gartenhaus","fr":"Maison D'\xC9t\xE9","it":"Casa Estiva","nl":"Zomerhuis","pl":"Domek Letniskowy","pt":"Summer House","es":"Casa De Verano","zh-cn":"\u51C9\u4EAD"},"icon":"Summer House.svg"},{"_id":"guest_bathroom","name":{"en":"Guest Bathroom","ru":"\u0413\u043E\u0441\u0442\u0435\u0432\u0430\u044F \u041A\u043E\u043C\u043D\u0430\u0442\u0430","de":"G\xE4ste-WC","fr":"Salle De Bains Invit\xE9","it":"Guest Bathroom","nl":"Gastenbadkamer","pl":"\u0141azienka Go\u015Bcinna","pt":"Banheiro De H\xF3spedes","es":"Ba\xF1o De Visitas","zh-cn":"\u5BA2\u7528\u6D74\u5BA4"},"icon":"Guest Bathroom.svg"},{"_id":"guest_room","name":{"en":"Guest Room","ru":"\u0413\u043E\u0441\u0442\u0435\u0432\u0430\u044F \u041A\u043E\u043C\u043D\u0430\u0442\u0430","de":"G\xE4stezimmer","fr":"Chambre D'Amis","it":"Stanza Degli Ospiti","nl":"Guest Room","pl":"Pok\xF3j Go\u015Bcinny","pt":"Quarto De H\xF3spedes","es":"Habitaci\xF3n De Hu\xE9spedes","zh-cn":"\u5BA2\u623F"},"icon":"Guest Room.svg"},{"_id":"laundry_room","name":{"en":"Laundry Room","ru":"\u041F\u0440\u0430\u0447\u0435\u0447\u043D\u0430\u044F","de":"Hauswirtschaftsraum","fr":"Buanderie","it":"Lavanderia","nl":"Wasruimte","pl":"Pralnia","pt":"Lavandaria","es":"Cuarto De Lavado","zh-cn":"\u6D17\u8863\u623F"},"icon":"Laundry Room.svg"},{"_id":"home_theater","name":{"en":"Home Theater","ru":"\u0414\u043E\u043C\u0430\u0448\u043D\u0438\u0439 \u0422\u0435\u0430\u0442\u0440","de":"Heimkino","fr":"Cin\xE9ma Maison","it":"Home Theater","nl":"Thuisbioscoop","pl":"Kino Domowe","pt":"Cinema Em Casa","es":"Cine En Casa","zh-cn":"\u5BB6\u5EAD\u7535\u5F71\u9662"},"icon":"Home Theater.svg"},{"_id":"boiler_room","name":{"en":"Boiler Room","ru":"\u0411\u043E\u0439\u043B\u0435\u0440\u043D\u0430\u044F","de":"Heizungsraum","fr":"Chaufferie","it":"Locale Caldaia","nl":"Boiler Room","pl":"Kot\u0142ownia","pt":"Sala Da Caldeira","es":"Sala De Calderas","zh-cn":"\u9505\u7089\u623F"},"icon":"Boiler Room.svg"},{"_id":"chamber","name":{"en":"Chamber","ru":"\u041A\u0430\u043C\u0435\u0440\u0430","de":"Kammer","fr":"Chambre","it":"Camera","nl":"Kamer","pl":"Izba","pt":"C\xE2mara","es":"C\xE1mara","zh-cn":"\u5546\u4F1A"},"icon":"Chamber.svg"},{"_id":"basement,_cellar","name":{"en":"Basement, Cellar","ru":"\u041F\u043E\u0434\u0432\u0430\u043B, \u041F\u043E\u0433\u0440\u0435\u0431","de":"Keller","fr":"Sous-Sol, Cave","it":"Taverna, Cantina","nl":"Kelder, Kelder","pl":"Piwnica, Piwnica","pt":"Por\xE3o, Adega","es":"S\xF3tano, Bodega","zh-cn":"\u5730\u4E0B\u5BA4\uFF0C\u5730\u7A96"},"icon":"Basement.svg"},{"_id":"nursery","name":{"en":"Nursery","ru":"\u041F\u0438\u0442\u043E\u043C\u043D\u0438\u043A","de":"Kinderzimmer","fr":"Garderie","it":"Asilo","nl":"Kinderkamer","pl":"\u017B\u0142obek","pt":"Ber\xE7\xE1rio","es":"Guarder\xEDa","zh-cn":"\u82D7\u5703"},"icon":"Nursery.svg"},{"_id":"corridor","name":{"en":"Corridor","ru":"\u041A\u043E\u0440\u0438\u0434\u043E\u0440","de":"Korridor","fr":"Couloir","it":"Corridoio","nl":"Gang","pl":"Korytarz","pt":"Corredor","es":"Corredor","zh-cn":"\u8D70\u5ECA"},"icon":"Corridor.svg"},{"_id":"kitchen","name":{"en":"Kitchen","ru":"\u041A\u0443\u0445\u043D\u044F","de":"K\xFCche","fr":"Cuisine","it":"Cucina","nl":"Keuken","pl":"Kuchnia","pt":"Cozinha","es":"Cocina","zh-cn":"\u53A8\u623F"},"icon":"Kitchen.svg"},{"_id":"upstairs","name":{"en":"Upstairs","ru":"\u0412\u0432\u0435\u0440\u0445 \u041F\u043E \u041B\u0435\u0441\u0442\u043D\u0438\u0446\u0435","de":"Obergeschoss","fr":"En Haut","it":"Di Sopra","nl":"Boven","pl":"Na G\xF3r\u0119","pt":"Andar De Cima","es":"Piso Superior","zh-cn":"\u697C\u4E0A"},"icon":"Upstairs.svg"},{"_id":"office","name":{"en":"Office","ru":"\u041E\u0444\u0438\u0441","de":"Office","fr":"Bureau","it":"Ufficio","nl":"Kantoor","pl":"Gabinet","pt":"Escrit\xF3rio","es":"Oficina","zh-cn":"\u529E\u516C\u5BA4"},"icon":"Office.svg"},{"_id":"pool","name":{"en":"Pool","ru":"\u0411\u0430\u0441\u0441\u0435\u0439\u043D","de":"Pool","fr":"Piscine","it":"Piscina","nl":"Zwembad","pl":"Basen","pt":"Piscina","es":"Piscina","zh-cn":"\u6C34\u6C60"},"icon":"Pool.svg"},{"_id":"rear_wall","name":{"en":"Rear Wall","ru":"\u0417\u0430\u0434\u043D\u044F\u044F \u0421\u0442\u0435\u043D\u043A\u0430","de":"R\xFCckwand","fr":"Paroi Arri\xE8re","it":"Parete Posteriore","nl":"Achterwand","pl":"Tylna \u015Aciana","pt":"Parede Traseira","es":"Pared Posterior","zh-cn":"\u540E\u5899"},"icon":"Rear Wall.svg"},{"_id":"barn","name":{"en":"Barn","ru":"\u0410\u043C\u0431\u0430\u0440","de":"Scheune","fr":"Grange","it":"Fienile","nl":"Schuur","pl":"Stodo\u0142a","pt":"Celeiro","es":"Granero","zh-cn":"\u8C37\u4ED3"},"icon":"Barn.svg"},{"_id":"sleeping_area","name":{"en":"Sleeping Area","ru":"\u0421\u043F\u0430\u043B\u044C\u043D\u043E\u0435 \u041C\u0435\u0441\u0442\u043E","de":"Schlafbereich","fr":"Coin Montagne","it":"Area Sleeping","nl":"Sleeping Area","pl":"Powierzchnia Spania","pt":"Sleeping Area","es":"\xC1rea De Dormir","zh-cn":"\u7761\u7720\u533A"},"icon":"Sleeping Area.svg"},{"_id":"bedroom","name":{"en":"Bedroom","ru":"\u0421\u043F\u0430\u043B\u044C\u043D\u0430\u044F \u041A\u043E\u043C\u043D\u0430\u0442\u0430","de":"Schlafzimmer","fr":"Chambre","it":"Camera Da Letto","nl":"Slaapkamer","pl":"Sypialnia","pt":"Quarto","es":"Cuarto","zh-cn":"\u5367\u5BA4"},"icon":"Bedroom.svg"},{"_id":"shed","name":{"en":"Shed","ru":"\u0421\u0431\u0440\u0430\u0441\u044B\u0432\u0430\u0442\u044C","de":"Schuppen","fr":"Hangar","it":"Capannone","nl":"Schuur","pl":"Budka","pt":"Cabana","es":"Cobertizo","zh-cn":"\u68DA"},"icon":"Shed.svg"},{"_id":"swimming_pool","name":{"en":"Swimming Pool","ru":"\u041F\u043B\u0430\u0432\u0430\u0442\u0435\u043B\u044C\u043D\u044B\u0439 \u0411\u0430\u0441\u0441\u0435\u0439\u043D","de":"Schwimmbad","fr":"Piscine","it":"Piscina","nl":"Zwembad","pl":"Basen","pt":"Piscina","es":"Piscina","zh-cn":"\u6E38\u6CF3\u6C60"},"icon":"Swimming Pool.svg"},{"_id":"dining","name":{"en":"Dining","ru":"\u041E\u0431\u0435\u0434\u0435\u043D\u043D\u044B\u0439","de":"Speis","fr":"\xC0 Manger","it":"Cenare","nl":"Dining","pl":"Jadalnia","pt":"Jantar","es":"Comida","zh-cn":"\u7528\u9910"},"icon":"Dining.svg"},{"_id":"playroom","name":{"en":"Playroom","ru":"\u0418\u0433\u0440\u043E\u0432\u0430\u044F \u041A\u043E\u043C\u043D\u0430\u0442\u0430","de":"Spielzimmer","fr":"Salle De Jeux","it":"Stanza Dei Giochi","nl":"Speelkamer","pl":"Pok\xF3j Zabaw","pt":"Sala De Jogos","es":"Cuarto De Jugar","zh-cn":"\u6E38\u620F\u5BA4"},"icon":"Playroom.svg"},{"_id":"stairway","name":{"en":"Stairway","ru":"\u041B\u0435\u0441\u0442\u043D\u0438\u0446\u0430","de":"Treppe","fr":"Escalier","it":"Scala","nl":"Trap","pl":"Klatka Schodowa","pt":"Escada","es":"Escalera","zh-cn":"\u697C\u68AF"},"icon":"Stairway.svg"},{"_id":"equipment_room","name":{"en":"Equipment Room","ru":"\u041E\u0431\u043E\u0440\u0443\u0434\u043E\u0432\u0430\u043D\u0438\u0435 \u041D\u043E\u043C\u0435\u0440\u0430","de":"Technikraum","fr":"Salle D'\xC9quipement","it":"Stanza Degli Attrezzi","nl":"Technische Ruimte","pl":"Wyposa\u017Cenie Pokoi","pt":"Sala De Equipamentos","es":"Cuarto De Equipos","zh-cn":"\u673A\u623F"},"icon":"Equipment Room.svg"},{"_id":"terrace","name":{"en":"Terrace","ru":"\u0422\u0435\u0440\u0440\u0430\u0441\u0430","de":"Terrasse","fr":"Terrasse","it":"Terrazza","nl":"Terras","pl":"Taras","pt":"Terra\xE7o","es":"Terraza","zh-cn":"\u9633\u53F0"},"icon":"Terrace.svg"},{"_id":"toilet","name":{"en":"Toilet","ru":"\u0422\u0443\u0430\u043B\u0435\u0442","de":"Toilette","fr":"Toilette","it":"Gabinetto","nl":"Toilet","pl":"Toaleta","pt":"Banheiro","es":"Inodoro","zh-cn":"\u6D17\u624B\u95F4"},"icon":"Toilet.svg"},{"_id":"stairwell","name":{"en":"Stairwell","ru":"\u041B\u0435\u0441\u0442\u043D\u0438\u0447\u043D\u0430\u044F \u043A\u043B\u0435\u0442\u043A\u0430","de":"Treppenhaus","fr":"Cage D'Escalier","it":"Tromba Delle Scale","nl":"Trappenhuis","pl":"Klatka Schodowa","pt":"Caixa De Escada","es":"Hueco De Escalera","zh-cn":"\u697C\u68AF\u95F4"},"icon":"Stairwell.svg"},{"_id":"locker_room","name":{"en":"Locker Room","ru":"\u041A\u0430\u043C\u0435\u0440\u0430 \u0425\u0440\u0430\u043D\u0435\u043D\u0438\u044F","de":"Umkleideraum","fr":"Vestiaire","it":"Spogliatoio","nl":"Kleedkamer","pl":"Szatnia","pt":"Vesti\xE1rio","es":"Vestuario","zh-cn":"\u66F4\u8863\u5BA4"},"icon":"Locker Room.svg"},{"_id":"basement","name":{"en":"Basement","ru":"\u041F\u043E\u0434\u0432\u0430\u043B","de":"Untergeschoss","fr":"Sous-Sol","it":"Seminterrato","nl":"Kelder","pl":"Piwnica","pt":"Por\xE3o","es":"S\xF3tano","zh-cn":"\u5730\u4E0B\u5BA4"},"icon":"Basement.svg"},{"_id":"front_yard","name":{"en":"Front Yard","ru":"\u041F\u0435\u0440\u0435\u0434\u043D\u0438\u0439 \u0414\u0432\u043E\u0440","de":"Vorgarten","fr":"Front Yard","it":"Cortile","nl":"Voortuin","pl":"Podw\xF3rko","pt":"Jardim Da Frente","es":"Patio Delantero","zh-cn":"\u524D\u9662"},"icon":"Front Yard.svg"},{"_id":"anteroom","name":{"en":"Anteroom","ru":"\u041F\u0435\u0440\u0435\u0434\u043D\u044F\u044F","de":"Vorraum","fr":"Antichambre","it":"Anticamera","nl":"Voorkamer","pl":"Przedpok\xF3j","pt":"Ante-Sala","es":"Antesala","zh-cn":"\u63A5\u5F85\u5BA4"},"icon":"Anteroom.svg"},{"_id":"washroom","name":{"en":"Washroom","ru":"\u0423\u0431\u043E\u0440\u043D\u0430\u044F","de":"Waschraum","fr":"Toilettes","it":"Bagno","nl":"Waskamer","pl":"Umywalnia","pt":"Banheiro","es":"Ba\xF1o","zh-cn":"\u536B\u751F\u95F4"},"icon":"Washroom.svg"},{"_id":"wc","name":{"en":"Wc","ru":"\u0422\u0443\u0430\u043B\u0435\u0442","de":"WC","fr":"Toilettes","it":"Bagno","nl":"Wc","pl":"Toaleta","pt":"Banheiro","es":"Wc","zh-cn":"\u5395\u6240"},"icon":"Wc.svg"},{"_id":"workshop","name":{"en":"Workshop","ru":"\u041C\u0430\u0441\u0442\u0435\u0440\u0441\u043A\u0430\u044F","de":"Werkstatt","fr":"Atelier","it":"Laboratorio","nl":"Werkplaats","pl":"Warsztat","pt":"Oficina","es":"Taller","zh-cn":"\u4F5C\u574A"},"icon":"Workshop.svg"},{"_id":"windscreen","name":{"en":"Windscreen","ru":"\u0412\u0435\u0442\u0440\u043E\u0432\u043E\u0435 \u0421\u0442\u0435\u043A\u043B\u043E","de":"Windfang","fr":"Pare-Brise","it":"Parabrezza","nl":"Voorruit","pl":"Szyba Przednia","pt":"P\xE1ra-Brisas","es":"Parabrisas","zh-cn":"\u98CE\u6863"},"icon":"Windscreen.svg"},{"_id":"living_area","name":{"en":"Living Area","ru":"\u0416\u0438\u043B\u0430\u044F \u041F\u043B\u043E\u0449\u0430\u0434\u044C","de":"Wohnbereich","fr":"Salon","it":"Zona Giorno","nl":"Living Area","pl":"Powierzchnia Mieszkalna","pt":"Sala-De-Estar","es":"Sala De Estar","zh-cn":"\u751F\u6D3B\u533A\u57DF"},"icon":"Living Area.svg"},{"_id":"living_room","name":{"en":"Living Room","ru":"\u0413\u043E\u0441\u0442\u0438\u043D\u043D\u0430\u044F","de":"Wohnzimmer","fr":"Le Salon","it":"Soggiorno","nl":"Woonkamer","pl":"Salon","pt":"Sala De Estar","es":"Sala De Estar","zh-cn":"\u5BA2\u5385"},"icon":"Living Room.svg"},{"_id":"living_room","name":{"en":"Living Room","ru":"\u0413\u043E\u0441\u0442\u0438\u043D\u043D\u0430\u044F","de":"Wohnzimmer","fr":"Le Salon","it":"Soggiorno","nl":"Woonkamer","pl":"Salon","pt":"Sala De Estar","es":"Sala De Estar","zh-cn":"\u5BA2\u5385"},"icon":"Living Room.svg"}]`)}}]);

//# sourceMappingURL=vendors-node_modules_iobroker_adapter-react-v5_assets_devices_parseNames_d_ts-node_modules_io-1d9f06.208c9ed1.chunk.js.map